From 87cf62604548a431dc1a3a8a16a48d219e458238 Mon Sep 17 00:00:00 2001
From: Your Name <sdsad>
Date: Tue, 10 Jun 2025 17:31:09 +0800
Subject: [PATCH] add loong64 support

Signed-off-by: Your Name <sdsad>
---
 .../0001-add-loong64-support-online.patch     |    15 +
 .../0001-add-loong64-support.patch            | 22077 ++++++++++++++++
 .../0001-add-loong64-support.patch-old        | 22075 +++++++++++++++
 docker/from-source/Debian-Loongarch64         |    45 +
 docker/from-source/build.sh                   |    63 +-
 docker/from-source/docker-build.sh            |    40 +
 docker/from-source/zlib.cpython-3.8.so        |   Bin 0 -> 166568 bytes
 7 files changed, 44278 insertions(+), 37 deletions(-)
 create mode 100644 docker/from-source/0001-add-loong64-support-online.patch
 create mode 100644 docker/from-source/0001-add-loong64-support.patch
 create mode 100644 docker/from-source/0001-add-loong64-support.patch-old
 create mode 100644 docker/from-source/Debian-Loongarch64
 create mode 100644 docker/from-source/docker-build.sh
 create mode 100755 docker/from-source/zlib.cpython-3.8.so

diff --git a/docker/from-source/0001-add-loong64-support-online.patch b/docker/from-source/0001-add-loong64-support-online.patch
new file mode 100644
index 0000000..b0e92a0
--- /dev/null
+++ b/docker/from-source/0001-add-loong64-support-online.patch
@@ -0,0 +1,15 @@
+diff --git a/common/Seccomp.cpp b/common/Seccomp.cpp
+index 3b704da..e44f1d1 100644
+--- a/common/Seccomp.cpp
++++ b/common/Seccomp.cpp
+@@ -57,6 +57,10 @@
+ #  define AUDIT_ARCH_NR AUDIT_ARCH_PPC64
+ #  define SECCOMP_REG(_ctx, _reg) ((_ctx)->uc_mcontext.regs->gpr[_reg])
+ #  define SECCOMP_SYSCALL(_ctx)   SECCOMP_REG(_ctx, 0)
++#elif defined(__loongarch__)
++#  define AUDIT_ARCH_NR AUDIT_ARCH_LOONGARCH64
++#  define SECCOMP_REG(_ctx, _reg) ((_ctx)->uc_mcontext.__gregs[_reg])
++#  define SECCOMP_SYSCALL(_ctx)   SECCOMP_REG(_ctx, 4)
+ #else
+ #  error "Platform does not support seccomp filtering yet - unsafe."
+ #endif
diff --git a/docker/from-source/0001-add-loong64-support.patch b/docker/from-source/0001-add-loong64-support.patch
new file mode 100644
index 0000000..d715261
--- /dev/null
+++ b/docker/from-source/0001-add-loong64-support.patch
@@ -0,0 +1,22077 @@
+From de531adb15de7526ca97a0ec79419a60f7f63dab Mon Sep 17 00:00:00 2001
+From: Your Name <sdsad>
+Date: Tue, 10 Jun 2025 10:34:35 +0800
+Subject: [PATCH] add loong64
+
+Signed-off-by: Your Name <sdsad>
+Change-Id: Ieec1173cf76f26368ba0a95cd414d2cb2594ac09
+---
+ Makefile.fetch                                |    8 +-
+ bin/oss-fuzz-setup.sh                         |    2 +-
+ bridges/Library_cpp_uno.mk                    |    9 +
+ .../cpp_uno/gcc3_linux_loongarch64/call.hxx   |   33 +
+ .../cpp_uno/gcc3_linux_loongarch64/call.s     |  125 +
+ .../gcc3_linux_loongarch64/cpp2uno.cxx        |  559 ++
+ .../cpp_uno/gcc3_linux_loongarch64/except.cxx |  251 +
+ .../cpp_uno/gcc3_linux_loongarch64/share.hxx  |   85 +
+ .../gcc3_linux_loongarch64/uno2cpp.cxx        |  546 ++
+ config.guess                                  | 1274 ++--
+ config.sub                                    |  993 ++-
+ configure.ac                                  |    7 +-
+ download.lst                                  |   12 +-
+ external/config.guess                         | 1815 +++++
+ external/config.sub                           | 2354 +++++++
+ external/libcmis/0003-update-config.patch     | 5818 +++++++++++++++++
+ external/libcmis/UnpackedTarball_libcmis.mk   |    1 +
+ external/nss/ExternalProject_nss.mk           |    1 +
+ external/python3/ExternalPackage_python3.mk   |   12 +-
+ external/python3/README                       |    6 +-
+ external/python3/UnpackedTarball_python3.mk   |    8 -
+ ...zlib.patch.0 => internal-zlib.patch.0-old} |    0
+ ...atch.1 => python-3.3.0-darwin.patch.1-old} |    0
+ ...=> python-3.5.tweak.strip.soabi.patch-old} |    0
+ fontconfig-update-config.patch                | 4507 +++++++++++++
+ include/LibreOfficeKit/LibreOfficeKit.h       |   86 +-
+ include/LibreOfficeKit/LibreOfficeKit.h-old   |  545 ++
+ include/LibreOfficeKit/LibreOfficeKit.hxx     |  213 +-
+ include/LibreOfficeKit/LibreOfficeKit.hxx-old | 1196 ++++
+ include/LibreOfficeKit/LibreOfficeKitTypes.h  |    4 +
+ jvmfwk/inc/vendorbase.hxx                     |    6 +-
+ .../gbuild/platform/LINUX_LOONGARCH64_GCC.mk  |   12 +
+ 32 files changed, 19594 insertions(+), 894 deletions(-)
+ create mode 100644 bridges/source/cpp_uno/gcc3_linux_loongarch64/call.hxx
+ create mode 100644 bridges/source/cpp_uno/gcc3_linux_loongarch64/call.s
+ create mode 100644 bridges/source/cpp_uno/gcc3_linux_loongarch64/cpp2uno.cxx
+ create mode 100644 bridges/source/cpp_uno/gcc3_linux_loongarch64/except.cxx
+ create mode 100644 bridges/source/cpp_uno/gcc3_linux_loongarch64/share.hxx
+ create mode 100644 bridges/source/cpp_uno/gcc3_linux_loongarch64/uno2cpp.cxx
+ create mode 100644 external/config.guess
+ create mode 100644 external/config.sub
+ create mode 100644 external/libcmis/0003-update-config.patch
+ rename external/python3/{internal-zlib.patch.0 => internal-zlib.patch.0-old} (100%)
+ rename external/python3/{python-3.3.0-darwin.patch.1 => python-3.3.0-darwin.patch.1-old} (100%)
+ rename external/python3/{python-3.5.tweak.strip.soabi.patch => python-3.5.tweak.strip.soabi.patch-old} (100%)
+ create mode 100644 fontconfig-update-config.patch
+ create mode 100644 include/LibreOfficeKit/LibreOfficeKit.h-old
+ create mode 100644 include/LibreOfficeKit/LibreOfficeKit.hxx-old
+ create mode 100644 solenv/gbuild/platform/LINUX_LOONGARCH64_GCC.mk
+
+diff --git a/Makefile.fetch b/Makefile.fetch
+index 3dd9f4b79..b1f777e74 100644
+--- a/Makefile.fetch
++++ b/Makefile.fetch
+@@ -108,7 +108,6 @@ $(WORKDIR)/download: $(BUILDDIR)/config_$(gb_Side).mk $(SRCDIR)/download.lst $(S
+ 		$(call fetch_Optional,BREAKPAD,BREAKPAD_TARBALL) \
+ 		$(call fetch_Optional,BSH,BSH_TARBALL) \
+ 		$(call fetch_Optional,BZIP2,BZIP2_TARBALL) \
+-		$(call fetch_Optional,CAIRO,CAIRO_TARBALL) \
+ 		$(call fetch_Optional,CAIRO,PIXMAN_TARBALL) \
+ 		$(call fetch_Optional,CDR,CDR_TARBALL) \
+ 		$(call fetch_Optional,CLUCENE,CLUCENE_TARBALL) \
+@@ -124,7 +123,6 @@ $(WORKDIR)/download: $(BUILDDIR)/config_$(gb_Side).mk $(SRCDIR)/download.lst $(S
+ 		$(call fetch_Optional,ETONYEK,ETONYEK_TARBALL) \
+ 		$(call fetch_Optional,EXPAT,EXPAT_TARBALL) \
+ 		$(call fetch_Optional,FIREBIRD,FIREBIRD_TARBALL) \
+-		$(call fetch_Optional,FONTCONFIG,FONTCONFIG_TARBALL) \
+ 		$(call fetch_Optional,FREEHAND,FREEHAND_TARBALL) \
+ 		$(call fetch_Optional,FREETYPE,FREETYPE_TARBALL) \
+ 		$(call fetch_Optional,EPOXY,EPOXY_TARBALL) \
+@@ -209,7 +207,6 @@ $(WORKDIR)/download: $(BUILDDIR)/config_$(gb_Side).mk $(SRCDIR)/download.lst $(S
+ 		$(call fetch_Optional,POPPLER,POPPLER_TARBALL) \
+ 		$(call fetch_Optional,POPPLER,POPPLER_DATA_TARBALL) \
+ 		$(call fetch_Optional,POSTGRESQL,POSTGRESQL_TARBALL) \
+-		$(call fetch_Optional,PYTHON,PYTHON_TARBALL) \
+ 		$(call fetch_Optional,QXP,QXP_TARBALL) \
+ 		$(call fetch_Optional,REDLAND,RAPTOR_TARBALL) \
+ 		$(call fetch_Optional,REDLAND,RASQAL_TARBALL) \
+@@ -230,6 +227,11 @@ $(WORKDIR)/download: $(BUILDDIR)/config_$(gb_Side).mk $(SRCDIR)/download.lst $(S
+ 		$(call fetch_Optional,ZLIB,ZLIB_TARBALL) \
+ 		$(call fetch_Optional,ZMF,ZMF_TARBALL) \
+ 	,$(call fetch_Download_item,https://dev-www.libreoffice.org/src,$(item)))
++	$(foreach item, \
++        $(call fetch_Optional,FONTCONFIG,FONTCONFIG_TARBALL) \
++		$(call fetch_Optional,PYTHON,PYTHON_TARBALL) \
++        $(call fetch_Optional,CAIRO,CAIRO_TARBALL) \
++    ,$(call fetch_Download_item,https://gitee.com/zeweiy/libtool/releases/download/2.4.6,$(item)))
+ 	$(foreach item, \
+ 		$(call fetch_Optional,OPENSYMBOL,OPENSYMBOL_TTF) \
+ 		$(call fetch_Optional,ODFVALIDATOR,ODFVALIDATOR_JAR) \
+diff --git a/bin/oss-fuzz-setup.sh b/bin/oss-fuzz-setup.sh
+index b2b0be8a0..16b177945 100755
+--- a/bin/oss-fuzz-setup.sh
++++ b/bin/oss-fuzz-setup.sh
+@@ -64,7 +64,7 @@ curl --no-progress-meter -S \
+     -C - -O https://dev-www.libreoffice.org/src/$LIBXSLT_TARBALL \
+     -C - -O https://dev-www.libreoffice.org/src/$HUNSPELL_TARBALL \
+     -C - -O https://dev-www.libreoffice.org/src/$FREETYPE_TARBALL \
+-    -C - -O https://dev-www.libreoffice.org/src/$FONTCONFIG_TARBALL \
++    -C - -O https://gitee.com/zeweiy/libtool/releases/download/2.4.6/$FONTCONFIG_TARBALL \
+     -C - -O https://dev-www.libreoffice.org/src/$EPOXY_TARBALL \
+     -C - -O https://dev-www.libreoffice.org/src/$EPUBGEN_TARBALL \
+     -C - -O https://dev-www.libreoffice.org/src/$LIBNUMBERTEXT_TARBALL \
+diff --git a/bridges/Library_cpp_uno.mk b/bridges/Library_cpp_uno.mk
+index 3a31bf69f..a76d2b855 100644
+--- a/bridges/Library_cpp_uno.mk
++++ b/bridges/Library_cpp_uno.mk
+@@ -111,6 +111,15 @@ bridge_noopt_objects := cpp2uno uno2cpp
+ bridge_exception_objects := except
+ endif
+ 
++else ifeq ($(CPUNAME),LOONGARCH64)
++
++ifneq ($(filter LINUX,$(OS)),)
++bridges_SELECTED_BRIDGE := gcc3_linux_loongarch64
++bridge_asm_objects := call
++bridge_noopt_objects := cpp2uno uno2cpp
++bridge_exception_objects := except
++endif
++
+ else ifeq ($(CPUNAME),POWERPC)
+ 
+ ifneq ($(filter DRAGONFLY FREEBSD LINUX NETBSD OPENBSD,$(OS)),)
+diff --git a/bridges/source/cpp_uno/gcc3_linux_loongarch64/call.hxx b/bridges/source/cpp_uno/gcc3_linux_loongarch64/call.hxx
+new file mode 100644
+index 000000000..51b9772c0
+--- /dev/null
++++ b/bridges/source/cpp_uno/gcc3_linux_loongarch64/call.hxx
+@@ -0,0 +1,33 @@
++/* -*- Mode: C++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4; fill-column: 100 -*- */
++/*
++ * This file is part of the LibreOffice project.
++ *
++ * This Source Code Form is subject to the terms of the Mozilla Public
++ * License, v. 2.0. If a copy of the MPL was not distributed with this
++ * file, You can obtain one at http://mozilla.org/MPL/2.0/.
++ *
++ * This file incorporates work covered by the following license notice:
++ *
++ *   Licensed to the Apache Software Foundation (ASF) under one or more
++ *   contributor license agreements. See the NOTICE file distributed
++ *   with this work for additional information regarding copyright
++ *   ownership. The ASF licenses this file to you under the Apache
++ *   License, Version 2.0 (the "License"); you may not use this file
++ *   except in compliance with the License. You may obtain a copy of
++ *   the License at http://www.apache.org/licenses/LICENSE-2.0 .
++ */
++
++#pragma once
++
++#include <sal/config.h>
++
++#include <sal/types.h>
++
++namespace
++{
++extern "C" typelib_TypeClass
++cpp_vtable_call(sal_Int32 nFunctionIndex, sal_Int32 nVtableOffset, void** gpreg, void** fpreg,
++                void** ovrflw, sal_uInt64* pRegisterReturn /* space for register return */);
++}
++
++/* vim:set shiftwidth=4 softtabstop=4 expandtab cinoptions=b1,g0,N-s cinkeys+=0=break: */
+diff --git a/bridges/source/cpp_uno/gcc3_linux_loongarch64/call.s b/bridges/source/cpp_uno/gcc3_linux_loongarch64/call.s
+new file mode 100644
+index 000000000..b8388508e
+--- /dev/null
++++ b/bridges/source/cpp_uno/gcc3_linux_loongarch64/call.s
+@@ -0,0 +1,125 @@
++/* -*- tab-width: 4; indent-tabs-mode: nil; fill-column: 100 -*- */
++/*
++ * This file is part of the LibreOffice project.
++ *
++ * This Source Code Form is subject to the terms of the Mozilla Public
++ * License, v. 2.0. If a copy of the MPL was not distributed with this
++ * file, You can obtain one at http://mozilla.org/MPL/2.0/.
++ *
++ * This file incorporates work covered by the following license notice:
++ *
++ *   Licensed to the Apache Software Foundation (ASF) under one or more
++ *   contributor license agreements. See the NOTICE file distributed
++ *   with this work for additional information regarding copyright
++ *   ownership. The ASF licenses this file to you under the Apache
++ *   License, Version 2.0 (the "License"); you may not use this file
++ *   except in compliance with the License. You may obtain a copy of
++ *   the License at http://www.apache.org/licenses/LICENSE-2.0 .
++ */
++
++        .text
++        .globl	privateSnippetExecutor
++.LFB0 = .
++        .cfi_startproc
++        .cfi_personality 0x80,DW.ref.__gxx_personality_v0
++        .cfi_lsda 0,.LLSDA0
++        .type	privateSnippetExecutor, @function
++privateSnippetExecutor:
++        addi.d	$sp,$sp,-160
++        .cfi_def_cfa_offset 160
++        st.d	$ra,$sp,152
++        .cfi_offset 1, -8
++.LEHB0 = .
++        // Save the float point registers
++        fst.d	$f0,$sp,80
++        fst.d	$f1,$sp,88
++        fst.d	$f2,$sp,96
++        fst.d	$f3,$sp,104
++        fst.d	$f4,$sp,112
++        fst.d	$f5,$sp,120
++        fst.d	$f6,$sp,128
++        fst.d	$f7,$sp,136
++        // Save the general purpose registers
++        st.d	$a0,$sp,16
++        st.d	$a1,$sp,24
++        st.d	$a2,$sp,32
++        st.d	$a3,$sp,40
++        st.d	$a4,$sp,48
++        st.d	$a5,$sp,56
++        st.d	$a6,$sp,64
++        st.d	$a7,$sp,72
++        // Load arguments
++        // a0=index
++        move	$a0,$t6
++        // a1=offset
++        move	$a1,$t7
++        // a2=gpregptr
++        addi.d	$a2,$sp,16
++        // a3=fpregptr
++        addi.d	$a3,$sp,80
++        // a4=ovrflw
++        addi.d	$a4,$sp,160
++        // a5=retregptr
++        move	$a5,$sp
++
++        // Call cpp_vtable_call
++        jirl	$ra,$t5,0
++
++.LEHE0 = .
++        // Perform return value
++        fld.d	$f0,$sp,0
++        fld.d	$f1,$sp,8
++        ld.d	$a0,$sp,0
++        ld.d	$a1,$sp,8
++
++        ld.d	$ra,$sp,152
++        .cfi_restore 1
++        addi.d	$sp,$sp,160
++        .cfi_def_cfa_offset 0
++        jr	$ra
++        .cfi_endproc
++
++.LFE0:
++        .globl	__gxx_personality_v0
++        .section	.gcc_except_table,"aw",@progbits
++        .align	3
++.LLSDA0:
++        .byte	0xff
++        .byte	0x80
++        .uleb128 .LLSDATT0-.LLSDATTD0
++.LLSDATTD0:
++        .byte	0x1
++        .uleb128 .LLSDACSE0-.LLSDACSB0
++.LLSDACSB0:
++        .uleb128 .LEHB0-.LFB0
++        .uleb128 .LEHE0-.LEHB0
++        .uleb128 0
++        .uleb128 0
++.LLSDACSE0:
++        .byte	0x7f
++        .byte	0
++        .align	3
++        .8byte	DW.ref._ZTIi
++.LLSDATT0:
++        .byte	0x1
++        .byte	0
++        .text
++        .size	privateSnippetExecutor, .-privateSnippetExecutor
++        .hidden	DW.ref._ZTIi
++        .weak	DW.ref._ZTIi
++        .section	.data.DW.ref._ZTIi,"awG",@progbits,DW.ref._ZTIi,comdat
++        .align	3
++        .type	DW.ref._ZTIi, @object
++        .size	DW.ref._ZTIi, 8
++DW.ref._ZTIi:
++        .dword	_ZTIi
++        .hidden	DW.ref.__gxx_personality_v0
++        .weak	DW.ref.__gxx_personality_v0
++        .section	.data.DW.ref.__gxx_personality_v0,"awG",@progbits,DW.ref.__gxx_personality_v0,comdat
++        .align	3
++        .type	DW.ref.__gxx_personality_v0, @object
++        .size	DW.ref.__gxx_personality_v0, 8
++DW.ref.__gxx_personality_v0:
++        .dword	__gxx_personality_v0
++
++/* vim:set shiftwidth=4 softtabstop=4 expandtab cinoptions=b1,g0,N-s cinkeys+=0=break: */
+diff --git a/bridges/source/cpp_uno/gcc3_linux_loongarch64/cpp2uno.cxx b/bridges/source/cpp_uno/gcc3_linux_loongarch64/cpp2uno.cxx
+new file mode 100644
+index 000000000..0273b39da
+--- /dev/null
++++ b/bridges/source/cpp_uno/gcc3_linux_loongarch64/cpp2uno.cxx
+@@ -0,0 +1,559 @@
++/* -*- Mode: C++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4; fill-column: 100 -*- */
++/*
++ * This file is part of the LibreOffice project.
++ *
++ * This Source Code Form is subject to the terms of the Mozilla Public
++ * License, v. 2.0. If a copy of the MPL was not distributed with this
++ * file, You can obtain one at http://mozilla.org/MPL/2.0/.
++ *
++ * This file incorporates work covered by the following license notice:
++ *
++ *   Licensed to the Apache Software Foundation (ASF) under one or more
++ *   contributor license agreements. See the NOTICE file distributed
++ *   with this work for additional information regarding copyright
++ *   ownership. The ASF licenses this file to you under the Apache
++ *   License, Version 2.0 (the "License"); you may not use this file
++ *   except in compliance with the License. You may obtain a copy of
++ *   the License at http://www.apache.org/licenses/LICENSE-2.0 .
++ */
++
++#include <com/sun/star/uno/genfunc.hxx>
++#include <sal/log.hxx>
++#include <typelib/typedescription.hxx>
++#include <uno/data.h>
++#include <osl/endian.h>
++#include "bridge.hxx"
++#include "cppinterfaceproxy.hxx"
++#include "types.hxx"
++#include "vtablefactory.hxx"
++#include "call.hxx"
++#include "share.hxx"
++
++#include <stdio.h>
++#include <string.h>
++
++using namespace com::sun::star::uno;
++
++namespace CPPU_CURRENT_NAMESPACE
++{
++bool is_complex_struct(const typelib_TypeDescription* type)
++{
++    const typelib_CompoundTypeDescription* p
++        = reinterpret_cast<const typelib_CompoundTypeDescription*>(type);
++    for (sal_Int32 i = 0; i < p->nMembers; ++i)
++    {
++        if (p->ppTypeRefs[i]->eTypeClass == typelib_TypeClass_STRUCT
++            || p->ppTypeRefs[i]->eTypeClass == typelib_TypeClass_EXCEPTION)
++        {
++            typelib_TypeDescription* t = 0;
++            TYPELIB_DANGER_GET(&t, p->ppTypeRefs[i]);
++            bool b = is_complex_struct(t);
++            TYPELIB_DANGER_RELEASE(t);
++            if (b)
++            {
++                return true;
++            }
++        }
++        else if (!bridges::cpp_uno::shared::isSimpleType(p->ppTypeRefs[i]->eTypeClass))
++            return true;
++    }
++    if (p->pBaseTypeDescription != 0)
++        return is_complex_struct(&p->pBaseTypeDescription->aBase);
++    return false;
++}
++
++bool return_in_hidden_param(typelib_TypeDescriptionReference* pTypeRef)
++{
++    if (bridges::cpp_uno::shared::isSimpleType(pTypeRef))
++        return false;
++    else if (pTypeRef->eTypeClass == typelib_TypeClass_STRUCT
++             || pTypeRef->eTypeClass == typelib_TypeClass_EXCEPTION)
++    {
++        typelib_TypeDescription* pTypeDescr = 0;
++        TYPELIB_DANGER_GET(&pTypeDescr, pTypeRef);
++
++        //A Composite Type not larger than 16 bytes is returned in up to two GPRs
++        bool bRet = pTypeDescr->nSize > 16 || is_complex_struct(pTypeDescr);
++
++        TYPELIB_DANGER_RELEASE(pTypeDescr);
++        return bRet;
++    }
++    return true;
++}
++}
++
++namespace
++{
++static typelib_TypeClass
++cpp2uno_call(bridges::cpp_uno::shared::CppInterfaceProxy* pThis,
++             const typelib_TypeDescription* pMemberTypeDescr,
++             typelib_TypeDescriptionReference* pReturnTypeRef, // 0 indicates void return
++             sal_Int32 nParams, typelib_MethodParameter* pParams, void** gpreg, void** fpreg,
++             void** ovrflw, sal_uInt64* pRegisterReturn /* space for register return */)
++{
++    unsigned int nREG = 0;
++
++    // return
++    typelib_TypeDescription* pReturnTypeDescr = 0;
++    if (pReturnTypeRef)
++        TYPELIB_DANGER_GET(&pReturnTypeDescr, pReturnTypeRef);
++
++    void* pUnoReturn = 0;
++    void* pCppReturn = 0; // complex return ptr: if != 0 && != pUnoReturn, reconversion need
++
++    if (pReturnTypeDescr)
++    {
++        if (CPPU_CURRENT_NAMESPACE::return_in_hidden_param(pReturnTypeRef))
++        {
++            pCppReturn = gpreg[nREG]; // complex return via ptr (pCppReturn)
++            nREG++;
++
++            pUnoReturn = (bridges::cpp_uno::shared::relatesToInterfaceType(pReturnTypeDescr)
++                              ? alloca(pReturnTypeDescr->nSize)
++                              : pCppReturn); // direct way
++        }
++        else
++        {
++            pUnoReturn = pRegisterReturn; // direct way for simple types
++        }
++    }
++
++    // pop this
++    nREG++;
++
++    // stack space
++    static_assert(sizeof(void*) == sizeof(sal_Int64), "### unexpected size!");
++    // parameters
++    void** pUnoArgs = (void**)alloca(4 * sizeof(void*) * nParams);
++    void** pCppArgs = pUnoArgs + nParams;
++    // indices of values this have to be converted (interface conversion cpp<=>uno)
++    sal_Int32* pTempIndices = (sal_Int32*)(pUnoArgs + (2 * nParams));
++    // type descriptions for reconversions
++    typelib_TypeDescription** ppTempParamTypeDescr
++        = (typelib_TypeDescription**)(pUnoArgs + (3 * nParams));
++
++    sal_Int32 nTempIndices = 0;
++
++    for (sal_Int32 nPos = 0; nPos < nParams; ++nPos)
++    {
++        const typelib_MethodParameter& rParam = pParams[nPos];
++
++        typelib_TypeDescription* pParamTypeDescr = 0;
++        TYPELIB_DANGER_GET(&pParamTypeDescr, rParam.pTypeRef);
++
++        if (!rParam.bOut && bridges::cpp_uno::shared::isSimpleType(pParamTypeDescr)) // value
++        {
++            switch (pParamTypeDescr->eTypeClass)
++            {
++                case typelib_TypeClass_FLOAT:
++                case typelib_TypeClass_DOUBLE:
++                    if (nREG < MAX_FP_REGS)
++                    {
++                        pCppArgs[nPos] = &(fpreg[nREG]);
++                        pUnoArgs[nPos] = &(fpreg[nREG]);
++                    }
++                    else
++                    {
++                        pCppArgs[nPos] = &(ovrflw[nREG - MAX_FP_REGS]);
++                        pUnoArgs[nPos] = &(ovrflw[nREG - MAX_FP_REGS]);
++                    }
++                    nREG++;
++                    break;
++
++                default:
++                    if (nREG < MAX_GP_REGS)
++                    {
++                        pCppArgs[nPos] = &(gpreg[nREG]);
++                        pUnoArgs[nPos] = &(gpreg[nREG]);
++                    }
++                    else
++                    {
++                        pCppArgs[nPos] = &(ovrflw[nREG - MAX_GP_REGS]);
++                        pUnoArgs[nPos] = &(ovrflw[nREG - MAX_GP_REGS]);
++                    }
++                    nREG++;
++                    break;
++            }
++            // no longer needed
++            TYPELIB_DANGER_RELEASE(pParamTypeDescr);
++        }
++        else // ptr to complex value | ref
++        {
++            void* pCppStack;
++            if (nREG < MAX_GP_REGS)
++            {
++                pCppArgs[nPos] = pCppStack = gpreg[nREG];
++            }
++            else
++            {
++                pCppArgs[nPos] = pCppStack = ovrflw[nREG - MAX_GP_REGS];
++            }
++            nREG++;
++
++            if (!rParam.bIn) // is pure out
++            {
++                // uno out is unconstructed mem!
++                pUnoArgs[nPos] = alloca(pParamTypeDescr->nSize);
++                pTempIndices[nTempIndices] = nPos;
++                // will be released at reconversion
++                ppTempParamTypeDescr[nTempIndices++] = pParamTypeDescr;
++            }
++            // is in/inout
++            else if (bridges::cpp_uno::shared::relatesToInterfaceType(pParamTypeDescr))
++            {
++                uno_copyAndConvertData(pUnoArgs[nPos] = alloca(pParamTypeDescr->nSize), pCppStack,
++                                       pParamTypeDescr, pThis->getBridge()->getCpp2Uno());
++                pTempIndices[nTempIndices] = nPos; // has to be reconverted
++                // will be released at reconversion
++                ppTempParamTypeDescr[nTempIndices++] = pParamTypeDescr;
++            }
++            else // direct way
++            {
++                pUnoArgs[nPos] = pCppStack;
++                // no longer needed
++                TYPELIB_DANGER_RELEASE(pParamTypeDescr);
++            }
++        }
++    }
++    // ExceptionHolder
++    uno_Any aUnoExc; // Any will be constructed by callee
++    uno_Any* pUnoExc = &aUnoExc;
++
++    // invoke uno dispatch call
++    (*pThis->getUnoI()->pDispatcher)(pThis->getUnoI(), pMemberTypeDescr, pUnoReturn, pUnoArgs,
++                                     &pUnoExc);
++    // in case an exception occurred...
++    if (pUnoExc)
++    {
++        // destruct temporary in/inout params
++        for (; nTempIndices--;)
++        {
++            sal_Int32 nIndex = pTempIndices[nTempIndices];
++
++            if (pParams[nIndex].bIn) // is in/inout => was constructed
++                uno_destructData(pUnoArgs[nIndex], ppTempParamTypeDescr[nTempIndices], 0);
++            TYPELIB_DANGER_RELEASE(ppTempParamTypeDescr[nTempIndices]);
++        }
++        if (pReturnTypeDescr)
++            TYPELIB_DANGER_RELEASE(pReturnTypeDescr);
++
++        CPPU_CURRENT_NAMESPACE::raiseException(&aUnoExc, pThis->getBridge()->getUno2Cpp());
++        // has to destruct the any
++        // is here for dummy
++        return typelib_TypeClass_VOID;
++    }
++    else // else no exception occurred...
++    {
++        // temporary params
++        for (; nTempIndices--;)
++        {
++            sal_Int32 nIndex = pTempIndices[nTempIndices];
++            typelib_TypeDescription* pParamTypeDescr = ppTempParamTypeDescr[nTempIndices];
++
++            if (pParams[nIndex].bOut) // inout/out
++            {
++                // convert and assign
++                uno_destructData(pCppArgs[nIndex], pParamTypeDescr, cpp_release);
++                uno_copyAndConvertData(pCppArgs[nIndex], pUnoArgs[nIndex], pParamTypeDescr,
++                                       pThis->getBridge()->getUno2Cpp());
++            }
++            // destroy temp uno param
++            uno_destructData(pUnoArgs[nIndex], pParamTypeDescr, 0);
++
++            TYPELIB_DANGER_RELEASE(pParamTypeDescr);
++        }
++        // return
++        if (pCppReturn) // has complex return
++        {
++            if (pUnoReturn != pCppReturn) // needs reconversion
++            {
++                uno_copyAndConvertData(pCppReturn, pUnoReturn, pReturnTypeDescr,
++                                       pThis->getBridge()->getUno2Cpp());
++                // destroy temp uno return
++                uno_destructData(pUnoReturn, pReturnTypeDescr, 0);
++            }
++            // complex return ptr is set to return reg
++            *(void**)pRegisterReturn = pCppReturn;
++        }
++        if (pReturnTypeDescr)
++        {
++            typelib_TypeClass eRet = (typelib_TypeClass)pReturnTypeDescr->eTypeClass;
++            TYPELIB_DANGER_RELEASE(pReturnTypeDescr);
++            return eRet;
++        }
++        else
++            return typelib_TypeClass_VOID;
++    }
++}
++
++/**
++   * is called on incoming vtable calls
++   * (called by asm snippets)
++   */
++typelib_TypeClass cpp_vtable_call(sal_Int32 nFunctionIndex, sal_Int32 nVtableOffset, void** gpreg,
++                                  void** fpreg, void** ovrflw,
++                                  sal_uInt64* pRegisterReturn /* space for register return */)
++{
++    static_assert(sizeof(sal_Int64) == sizeof(void*), "### unexpected!");
++
++    // gpreg:  [ret *], this, [other gpr params]
++    // fpreg:  [fpr params]
++    // ovrflw: [gpr or fpr params (properly aligned)]
++    void* pThis;
++    if (nFunctionIndex & 0x80000000)
++    {
++        nFunctionIndex &= 0x7fffffff;
++        pThis = gpreg[1];
++    }
++    else
++    {
++        pThis = gpreg[0];
++    }
++    pThis = static_cast<char*>(pThis) - nVtableOffset;
++    bridges::cpp_uno::shared::CppInterfaceProxy* pCppI
++        = bridges::cpp_uno::shared::CppInterfaceProxy::castInterfaceToProxy(pThis);
++    typelib_InterfaceTypeDescription* pTypeDescr = pCppI->getTypeDescr();
++
++    if (nFunctionIndex >= pTypeDescr->nMapFunctionIndexToMemberIndex)
++    {
++        SAL_WARN("bridges", "illegal " << OUString::unacquired(&pTypeDescr->aBase.pTypeName)
++                                       << " vtable index " << nFunctionIndex << "/"
++                                       << pTypeDescr->nMapFunctionIndexToMemberIndex);
++        throw RuntimeException(("illegal " + OUString::unacquired(&pTypeDescr->aBase.pTypeName)
++                                + " vtable index " + OUString::number(nFunctionIndex) + "/"
++                                + OUString::number(pTypeDescr->nMapFunctionIndexToMemberIndex)),
++                               (XInterface*)pThis);
++    }
++
++    // determine called method
++    sal_Int32 nMemberPos = pTypeDescr->pMapFunctionIndexToMemberIndex[nFunctionIndex];
++    assert(nMemberPos < pTypeDescr->nAllMembers);
++
++    TypeDescription aMemberDescr(pTypeDescr->ppAllMembers[nMemberPos]);
++
++    typelib_TypeClass eRet;
++    switch (aMemberDescr.get()->eTypeClass)
++    {
++        case typelib_TypeClass_INTERFACE_ATTRIBUTE:
++        {
++            typelib_TypeDescriptionReference* pAttrTypeRef
++                = reinterpret_cast<typelib_InterfaceAttributeTypeDescription*>(aMemberDescr.get())
++                      ->pAttributeTypeRef;
++
++            if (pTypeDescr->pMapMemberIndexToFunctionIndex[nMemberPos] == nFunctionIndex)
++            {
++                // is GET method
++                eRet = cpp2uno_call(pCppI, aMemberDescr.get(), pAttrTypeRef, 0, 0, // no params
++                                    gpreg, fpreg, ovrflw, pRegisterReturn);
++            }
++            else
++            {
++                // is SET method
++                typelib_MethodParameter aParam;
++                aParam.pTypeRef = pAttrTypeRef;
++                aParam.bIn = sal_True;
++                aParam.bOut = sal_False;
++
++                eRet = cpp2uno_call(pCppI, aMemberDescr.get(),
++                                    0, // indicates void return
++                                    1, &aParam, gpreg, fpreg, ovrflw, pRegisterReturn);
++            }
++            break;
++        }
++        case typelib_TypeClass_INTERFACE_METHOD:
++        {
++            // is METHOD
++            switch (nFunctionIndex)
++            {
++                case 1: // acquire()
++                    pCppI->acquireProxy(); // non virtual call!
++                    eRet = typelib_TypeClass_VOID;
++                    break;
++                case 2: // release()
++                    pCppI->releaseProxy(); // non virtual call!
++                    eRet = typelib_TypeClass_VOID;
++                    break;
++                case 0: // queryInterface() opt
++                {
++                    typelib_TypeDescription* pTD = 0;
++                    TYPELIB_DANGER_GET(&pTD, reinterpret_cast<Type*>(gpreg[2])->getTypeLibType());
++                    if (pTD)
++                    {
++                        XInterface* pInterface = 0;
++                        (*pCppI->getBridge()->getCppEnv()->getRegisteredInterface)(
++                            pCppI->getBridge()->getCppEnv(), (void**)&pInterface,
++                            pCppI->getOid().pData,
++                            reinterpret_cast<typelib_InterfaceTypeDescription*>(pTD));
++
++                        if (pInterface)
++                        {
++                            ::uno_any_construct(reinterpret_cast<uno_Any*>(gpreg[0]), &pInterface,
++                                                pTD, cpp_acquire);
++
++                            pInterface->release();
++                            TYPELIB_DANGER_RELEASE(pTD);
++
++                            reinterpret_cast<void**>(pRegisterReturn)[0] = gpreg[0];
++                            eRet = typelib_TypeClass_ANY;
++                            break;
++                        }
++                        TYPELIB_DANGER_RELEASE(pTD);
++                    }
++                } // else perform queryInterface()
++                default:
++                    typelib_InterfaceMethodTypeDescription* pMethodTD
++                        = reinterpret_cast<typelib_InterfaceMethodTypeDescription*>(
++                            aMemberDescr.get());
++
++                    eRet = cpp2uno_call(pCppI, aMemberDescr.get(), pMethodTD->pReturnTypeRef,
++                                        pMethodTD->nParams, pMethodTD->pParams, gpreg, fpreg,
++                                        ovrflw, pRegisterReturn);
++            }
++            break;
++        }
++        default:
++        {
++            throw RuntimeException("no member description found!", (XInterface*)pThis);
++        }
++    }
++
++    return eRet;
++}
++
++extern "C" void privateSnippetExecutor(...);
++
++int const codeSnippetSize = 0x34;
++
++unsigned char* codeSnippet(unsigned char* code, sal_Int32 functionIndex, sal_Int32 vtableOffset,
++                           bool bHasHiddenParam)
++{
++    if (bHasHiddenParam)
++        functionIndex |= 0x80000000;
++
++    unsigned int* p = (unsigned int*)code;
++
++    assert((((unsigned long)code) & 0x3) == 0); //aligned to 4 otherwise a mistake
++
++    /* generate this code */
++    /*
++       # index
++        0:   14000012        lu12i.w $t6,0x0
++        4:   34420000        ori     $t6,$t6,0x0
++       # privateSnippetExecutor
++        8:   14000014        lu12i.w $t8,0x0
++        c:   03800294        ori     $t8,$t8,0x0
++       10:   16000014        lu32i.d $t8,0x0
++       14:   03000294        lu52i.d $t8,$t8,0x0
++       # cpp_vtable_call
++       18:   14000011        lu12i.w $t5,0x0
++       1c:   03800231        ori     $t5,$t5,0x0
++       20:   16000011        lu32i.d $t5,0x0
++       24:   03000231        lu52i.d $t5,$t5,0x0
++       # offset
++       28:   14000013        lu12i.w $t7,0x0
++       2c:   03800273        ori     $t7,$t7,0x0
++       30:   4c000280        jr      $t8
++     */
++
++    *p++ = 0x14000012 | (((functionIndex >> 12) & 0x000fffff) << 5);
++    *p++ = 0x03800252 | ((functionIndex & 0x00000fff) << 10);
++    *p++ = 0x14000014 | (((((unsigned long)privateSnippetExecutor) >> 12) & 0x000fffff) << 5);
++    *p++ = 0x03800294 | ((((unsigned long)privateSnippetExecutor) & 0x00000fff) << 10);
++    *p++ = 0x16000014 | (((((unsigned long)privateSnippetExecutor) >> 32) & 0x000fffff) << 5);
++    *p++ = 0x03000294 | (((((unsigned long)privateSnippetExecutor) >> 52) & 0x00000fff) << 10);
++    *p++ = 0x14000011 | (((((unsigned long)cpp_vtable_call) >> 12) & 0x000fffff) << 5);
++    *p++ = 0x03800231 | ((((unsigned long)cpp_vtable_call) & 0x00000fff) << 10);
++    *p++ = 0x16000011 | (((((unsigned long)cpp_vtable_call) >> 32) & 0x000fffff) << 5);
++    *p++ = 0x03000231 | (((((unsigned long)cpp_vtable_call) >> 52) & 0x00000fff) << 10);
++    *p++ = 0x14000013 | (((vtableOffset >> 12) & 0x000fffff) << 5);
++    *p++ = 0x03800273 | ((vtableOffset & 0x00000fff) << 10);
++    *p++ = 0x4c000280;
++    return (code + codeSnippetSize);
++}
++}
++
++void bridges::cpp_uno::shared::VtableFactory::flushCode(unsigned char const* bptr,
++                                                        unsigned char const* eptr)
++{
++    asm volatile("ibar 0" :::);
++}
++
++struct bridges::cpp_uno::shared::VtableFactory::Slot
++{
++    void* fn;
++};
++
++bridges::cpp_uno::shared::VtableFactory::Slot*
++bridges::cpp_uno::shared::VtableFactory::mapBlockToVtable(void* block)
++{
++    return static_cast<Slot*>(block) + 2;
++}
++
++std::size_t bridges::cpp_uno::shared::VtableFactory::getBlockSize(sal_Int32 slotCount)
++{
++    return (slotCount + 2) * sizeof(Slot) + slotCount * codeSnippetSize;
++}
++
++bridges::cpp_uno::shared::VtableFactory::Slot*
++bridges::cpp_uno::shared::VtableFactory::initializeBlock(void* block, sal_Int32 slotCount,
++                                                         sal_Int32,
++                                                         typelib_InterfaceTypeDescription*)
++{
++    Slot* slots = mapBlockToVtable(block);
++    slots[-2].fn = 0; //null
++    slots[-1].fn = 0; //destructor
++    return slots + slotCount;
++}
++
++unsigned char* bridges::cpp_uno::shared::VtableFactory::addLocalFunctions(
++    Slot** slots, unsigned char* code, sal_PtrDiff writetoexecdiff,
++    typelib_InterfaceTypeDescription const* type, sal_Int32 functionOffset, sal_Int32 functionCount,
++    sal_Int32 vtableOffset)
++{
++    (*slots) -= functionCount;
++    Slot* s = *slots;
++
++    for (sal_Int32 i = 0; i < type->nMembers; ++i)
++    {
++        typelib_TypeDescription* member = 0;
++        TYPELIB_DANGER_GET(&member, type->ppMembers[i]);
++        assert(member != 0);
++        switch (member->eTypeClass)
++        {
++            case typelib_TypeClass_INTERFACE_ATTRIBUTE:
++                // Getter:
++                (s++)->fn = code + writetoexecdiff;
++                code = codeSnippet(
++                    code, functionOffset++, vtableOffset,
++                    CPPU_CURRENT_NAMESPACE::return_in_hidden_param(
++                        reinterpret_cast<typelib_InterfaceAttributeTypeDescription*>(member)
++                            ->pAttributeTypeRef));
++
++                // Setter:
++                if (!reinterpret_cast<typelib_InterfaceAttributeTypeDescription*>(member)
++                         ->bReadOnly)
++                {
++                    (s++)->fn = code + writetoexecdiff;
++                    code = codeSnippet(code, functionOffset++, vtableOffset, false);
++                }
++                break;
++
++            case typelib_TypeClass_INTERFACE_METHOD:
++                (s++)->fn = code + writetoexecdiff;
++                code = codeSnippet(
++                    code, functionOffset++, vtableOffset,
++                    CPPU_CURRENT_NAMESPACE::return_in_hidden_param(
++                        reinterpret_cast<typelib_InterfaceMethodTypeDescription*>(member)
++                            ->pReturnTypeRef));
++                break;
++
++            default:
++                assert(false);
++                break;
++        }
++        TYPELIB_DANGER_RELEASE(member);
++    }
++    return code;
++}
++
++/* vim:set shiftwidth=4 softtabstop=4 expandtab cinoptions=b1,g0,N-s cinkeys+=0=break: */
+diff --git a/bridges/source/cpp_uno/gcc3_linux_loongarch64/except.cxx b/bridges/source/cpp_uno/gcc3_linux_loongarch64/except.cxx
+new file mode 100644
+index 000000000..b69c52b1f
+--- /dev/null
++++ b/bridges/source/cpp_uno/gcc3_linux_loongarch64/except.cxx
+@@ -0,0 +1,251 @@
++/* -*- Mode: C++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4; fill-column: 100 -*- */
++/*
++ * This file is part of the LibreOffice project.
++ *
++ * This Source Code Form is subject to the terms of the Mozilla Public
++ * License, v. 2.0. If a copy of the MPL was not distributed with this
++ * file, You can obtain one at http://mozilla.org/MPL/2.0/.
++ *
++ * This file incorporates work covered by the following license notice:
++ *
++ *   Licensed to the Apache Software Foundation (ASF) under one or more
++ *   contributor license agreements. See the NOTICE file distributed
++ *   with this work for additional information regarding copyright
++ *   ownership. The ASF licenses this file to you under the Apache
++ *   License, Version 2.0 (the "License"); you may not use this file
++ *   except in compliance with the License. You may obtain a copy of
++ *   the License at http://www.apache.org/licenses/LICENSE-2.0 .
++ */
++#include <stdio.h>
++#include <string.h>
++#include <dlfcn.h>
++#include <cxxabi.h>
++#include <rtl/strbuf.hxx>
++#include <rtl/ustrbuf.hxx>
++#include <sal/log.hxx>
++#include <osl/mutex.hxx>
++
++#include <com/sun/star/uno/genfunc.hxx>
++#include <typelib/typedescription.hxx>
++#include <uno/any2.h>
++
++#include <unordered_map>
++#include "share.hxx"
++
++using namespace ::std;
++using namespace ::osl;
++using namespace ::com::sun::star::uno;
++using namespace ::__cxxabiv1;
++
++namespace CPPU_CURRENT_NAMESPACE
++{
++void dummy_can_throw_anything(char const*) {}
++
++static OUString toUNOname(char const* p)
++{
++    // example: N3com3sun4star4lang24IllegalArgumentExceptionE
++
++    OUStringBuffer buf(64);
++    assert('N' == *p);
++    ++p; // skip N
++
++    while ('E' != *p)
++    {
++        // read chars count
++        long n = (*p++ - '0');
++        while ('0' <= *p && '9' >= *p)
++        {
++            n *= 10;
++            n += (*p++ - '0');
++        }
++        buf.appendAscii(p, n);
++        p += n;
++        if ('E' != *p)
++            buf.append('.');
++    }
++
++    return buf.makeStringAndClear();
++}
++
++class RTTI
++{
++    typedef std::unordered_map<OUString, type_info*> t_rtti_map;
++
++    Mutex m_mutex;
++    t_rtti_map m_rttis;
++    t_rtti_map m_generatedRttis;
++
++    void* m_hApp;
++
++public:
++    RTTI();
++    ~RTTI();
++
++    type_info* getRTTI(typelib_CompoundTypeDescription*);
++};
++
++RTTI::RTTI()
++    : m_hApp(dlopen(0, RTLD_LAZY))
++{
++}
++
++RTTI::~RTTI() { dlclose(m_hApp); }
++
++type_info* RTTI::getRTTI(typelib_CompoundTypeDescription* pTypeDescr)
++{
++    type_info* rtti;
++
++    OUString const& unoName = *(OUString const*)&pTypeDescr->aBase.pTypeName;
++
++    MutexGuard guard(m_mutex);
++    t_rtti_map::const_iterator iRttiFind(m_rttis.find(unoName));
++    if (iRttiFind == m_rttis.end())
++    {
++        // RTTI symbol
++        OStringBuffer buf(64);
++        buf.append("_ZTIN");
++        sal_Int32 index = 0;
++        do
++        {
++            OUString token(unoName.getToken(0, '.', index));
++            buf.append(token.getLength());
++            OString c_token(OUStringToOString(token, RTL_TEXTENCODING_ASCII_US));
++            buf.append(c_token);
++        } while (index >= 0);
++        buf.append('E');
++
++        OString symName(buf.makeStringAndClear());
++        rtti = (type_info*)dlsym(m_hApp, symName.getStr());
++
++        if (rtti)
++        {
++            pair<t_rtti_map::iterator, bool> insertion(
++                m_rttis.insert(t_rtti_map::value_type(unoName, rtti)));
++            assert(insertion.second && "### inserting new rtti failed?!");
++        }
++        else
++        {
++            // try to lookup the symbol in the generated rtti map
++            t_rtti_map::const_iterator iFind(m_generatedRttis.find(unoName));
++            if (iFind == m_generatedRttis.end())
++            {
++                // we must generate it !
++                // symbol and rtti-name is nearly identical,
++                // the symbol is prefixed with _ZTI
++                char const* rttiName = symName.getStr() + 4;
++                if (pTypeDescr->pBaseTypeDescription)
++                {
++                    // ensure availability of base
++                    type_info* base_rtti = getRTTI(
++                        (typelib_CompoundTypeDescription*)pTypeDescr->pBaseTypeDescription);
++                    rtti
++                        = new __si_class_type_info(strdup(rttiName), (__class_type_info*)base_rtti);
++                }
++                else
++                {
++                    // this class has no base class
++                    rtti = new __class_type_info(strdup(rttiName));
++                }
++
++                pair<t_rtti_map::iterator, bool> insertion(
++                    m_generatedRttis.insert(t_rtti_map::value_type(unoName, rtti)));
++                assert(insertion.second && "### inserting new generated rtti failed?!");
++            }
++            else // taking already generated rtti
++            {
++                rtti = iFind->second;
++            }
++        }
++    }
++    else
++    {
++        rtti = iRttiFind->second;
++    }
++
++    return rtti;
++}
++
++static void deleteException(void* pExc)
++{
++    __cxa_exception const* header = ((__cxa_exception const*)pExc - 1);
++    typelib_TypeDescription* pTD = 0;
++    OUString unoName(toUNOname(header->exceptionType->name()));
++    ::typelib_typedescription_getByName(&pTD, unoName.pData);
++    assert(pTD && "### unknown exception type! leaving out destruction => leaking!!!");
++    if (pTD)
++    {
++        ::uno_destructData(pExc, pTD, cpp_release);
++        ::typelib_typedescription_release(pTD);
++    }
++}
++
++void raiseException(uno_Any* pUnoExc, uno_Mapping* pUno2Cpp)
++{
++    void* pCppExc;
++    type_info* rtti;
++
++    {
++        // construct cpp exception object
++        typelib_TypeDescription* pTypeDescr = 0;
++        TYPELIB_DANGER_GET(&pTypeDescr, pUnoExc->pType);
++        assert(pTypeDescr);
++        if (!pTypeDescr)
++        {
++            throw RuntimeException(OUString("cannot get typedescription for type ")
++                                   + OUString::unacquired(&pUnoExc->pType->pTypeName));
++        }
++
++        pCppExc = __cxa_allocate_exception(pTypeDescr->nSize);
++        ::uno_copyAndConvertData(pCppExc, pUnoExc->pData, pTypeDescr, pUno2Cpp);
++
++        // destruct uno exception
++        ::uno_any_destruct(pUnoExc, 0);
++        // avoiding locked counts
++        static RTTI rtti_data;
++        rtti = (type_info*)rtti_data.getRTTI((typelib_CompoundTypeDescription*)pTypeDescr);
++        TYPELIB_DANGER_RELEASE(pTypeDescr);
++        assert(rtti && "### no rtti for throwing exception!");
++        if (!rtti)
++        {
++            throw RuntimeException(OUString("no rtti for type ")
++                                   + OUString::unacquired(&pUnoExc->pType->pTypeName));
++        }
++    }
++
++    __cxa_throw(pCppExc, rtti, deleteException);
++}
++
++void fillUnoException(uno_Any* pUnoExc, uno_Mapping* pCpp2Uno)
++{
++    __cxa_exception* header = __cxa_get_globals()->caughtExceptions;
++    if (!header)
++    {
++        RuntimeException aRE("no exception header!");
++        Type const& rType = cppu::UnoType<decltype(aRE)>::get();
++        uno_type_any_constructAndConvert(pUnoExc, &aRE, rType.getTypeLibType(), pCpp2Uno);
++        SAL_WARN("bridges", aRE.Message);
++        return;
++    }
++
++    std::type_info* exceptionType = __cxa_current_exception_type();
++
++    typelib_TypeDescription* pExcTypeDescr = 0;
++    OUString unoName(toUNOname(exceptionType->name()));
++    typelib_typedescription_getByName(&pExcTypeDescr, unoName.pData);
++    if (0 == pExcTypeDescr)
++    {
++        RuntimeException aRE(OUString("exception type not found: ") + unoName);
++        Type const& rType = cppu::UnoType<decltype(aRE)>::get();
++        uno_type_any_constructAndConvert(pUnoExc, &aRE, rType.getTypeLibType(), pCpp2Uno);
++        SAL_WARN("bridges", aRE.Message);
++    }
++    else
++    {
++        // construct uno exception any
++        uno_any_constructAndConvert(pUnoExc, header->adjustedPtr, pExcTypeDescr, pCpp2Uno);
++        typelib_typedescription_release(pExcTypeDescr);
++    }
++}
++}
++
++/* vim:set shiftwidth=4 softtabstop=4 expandtab cinoptions=b1,g0,N-s cinkeys+=0=break: */
+diff --git a/bridges/source/cpp_uno/gcc3_linux_loongarch64/share.hxx b/bridges/source/cpp_uno/gcc3_linux_loongarch64/share.hxx
+new file mode 100644
+index 000000000..331ed789e
+--- /dev/null
++++ b/bridges/source/cpp_uno/gcc3_linux_loongarch64/share.hxx
+@@ -0,0 +1,85 @@
++/* -*- Mode: C++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4; fill-column: 100 -*- */
++/*
++ * This file is part of the LibreOffice project.
++ *
++ * This Source Code Form is subject to the terms of the Mozilla Public
++ * License, v. 2.0. If a copy of the MPL was not distributed with this
++ * file, You can obtain one at http://mozilla.org/MPL/2.0/.
++ *
++ * This file incorporates work covered by the following license notice:
++ *
++ *   Licensed to the Apache Software Foundation (ASF) under one or more
++ *   contributor license agreements. See the NOTICE file distributed
++ *   with this work for additional information regarding copyright
++ *   ownership. The ASF licenses this file to you under the Apache
++ *   License, Version 2.0 (the "License"); you may not use this file
++ *   except in compliance with the License. You may obtain a copy of
++ *   the License at http://www.apache.org/licenses/LICENSE-2.0 .
++ */
++#pragma once
++
++#include "uno/mapping.h"
++
++#include <typeinfo>
++#include <exception>
++#include <cstddef>
++
++#define MAX_GP_REGS (8)
++#define MAX_FP_REGS (8)
++
++namespace CPPU_CURRENT_NAMESPACE
++{
++void dummy_can_throw_anything(char const*);
++
++// ----- following decl from libstdc++-v3/libsupc++/unwind-cxx.h and unwind.h
++
++struct _Unwind_Exception
++{
++    unsigned exception_class __attribute__((__mode__(__DI__)));
++    void* exception_cleanup;
++    unsigned private_1 __attribute__((__mode__(__word__)));
++    unsigned private_2 __attribute__((__mode__(__word__)));
++} __attribute__((__aligned__));
++
++struct __cxa_exception
++{
++    std::type_info* exceptionType;
++    void (*exceptionDestructor)(void*);
++
++    void (*unexpectedHandler)(); // std::unexpected_handler dropped from C++17
++    std::terminate_handler terminateHandler;
++
++    __cxa_exception* nextException;
++
++    int handlerCount;
++
++    int handlerSwitchValue;
++    const unsigned char* actionRecord;
++    const unsigned char* languageSpecificData;
++    void* catchTemp;
++    void* adjustedPtr;
++
++    _Unwind_Exception unwindHeader;
++};
++
++extern "C" void* __cxa_allocate_exception(std::size_t thrown_size) throw();
++extern "C" void __cxa_throw(void* thrown_exception, std::type_info* tinfo, void (*dest)(void*))
++    __attribute__((noreturn));
++
++struct __cxa_eh_globals
++{
++    __cxa_exception* caughtExceptions;
++    unsigned int uncaughtExceptions;
++};
++
++extern "C" __cxa_eh_globals* __cxa_get_globals() throw();
++extern "C" std::type_info* __cxa_current_exception_type() throw();
++
++void raiseException(uno_Any* pUnoExc, uno_Mapping* pUno2Cpp);
++
++void fillUnoException(uno_Any*, uno_Mapping* pCpp2Uno);
++
++bool return_in_hidden_param(typelib_TypeDescriptionReference* pTypeRef);
++}
++
++/* vim:set shiftwidth=4 softtabstop=4 expandtab cinoptions=b1,g0,N-s cinkeys+=0=break: */
+diff --git a/bridges/source/cpp_uno/gcc3_linux_loongarch64/uno2cpp.cxx b/bridges/source/cpp_uno/gcc3_linux_loongarch64/uno2cpp.cxx
+new file mode 100644
+index 000000000..0004794ce
+--- /dev/null
++++ b/bridges/source/cpp_uno/gcc3_linux_loongarch64/uno2cpp.cxx
+@@ -0,0 +1,546 @@
++/* -*- Mode: C++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4; fill-column: 100 -*- */
++/*
++ * This file is part of the LibreOffice project.
++ *
++ * This Source Code Form is subject to the terms of the Mozilla Public
++ * License, v. 2.0. If a copy of the MPL was not distributed with this
++ * file, You can obtain one at http://mozilla.org/MPL/2.0/.
++ *
++ * This file incorporates work covered by the following license notice:
++ *
++ *   Licensed to the Apache Software Foundation (ASF) under one or more
++ *   contributor license agreements. See the NOTICE file distributed
++ *   with this work for additional information regarding copyright
++ *   ownership. The ASF licenses this file to you under the Apache
++ *   License, Version 2.0 (the "License"); you may not use this file
++ *   except in compliance with the License. You may obtain a copy of
++ *   the License at http://www.apache.org/licenses/LICENSE-2.0 .
++ */
++
++#include <sal/config.h>
++
++#include <exception>
++#include <malloc.h>
++#include <cstring>
++#include <typeinfo>
++
++#include <com/sun/star/uno/Exception.hpp>
++#include <com/sun/star/uno/RuntimeException.hpp>
++#include <com/sun/star/uno/genfunc.hxx>
++#include <o3tl/runtimetooustring.hxx>
++#include <uno/data.h>
++
++#include "bridge.hxx"
++#include "types.hxx"
++#include "unointerfaceproxy.hxx"
++#include "vtables.hxx"
++
++#include "share.hxx"
++
++#define INSERT_FLOAT_DOUBLE(pSV, nr, pFPR, pDS)                                                    \
++    if (nr < MAX_FP_REGS)                                                                          \
++        pFPR[nr++] = *reinterpret_cast<double*>(pSV);                                              \
++    else                                                                                           \
++        *pDS++ = *reinterpret_cast<sal_uInt64*>(pSV); // verbatim!
++
++#define INSERT_INT64(pSV, nr, pGPR, pDS)                                                           \
++    if (nr < MAX_GP_REGS)                                                                          \
++        pGPR[nr++] = *reinterpret_cast<sal_Int64*>(pSV);                                           \
++    else                                                                                           \
++        *pDS++ = *reinterpret_cast<sal_Int64*>(pSV);
++
++#define INSERT_INT32(pSV, nr, pGPR, pDS)                                                           \
++    if (nr < MAX_GP_REGS)                                                                          \
++        pGPR[nr++] = *reinterpret_cast<sal_Int32*>(pSV);                                           \
++    else                                                                                           \
++        *pDS++ = *reinterpret_cast<sal_Int32*>(pSV);
++
++#define INSERT_INT16(pSV, nr, pGPR, pDS)                                                           \
++    if (nr < MAX_GP_REGS)                                                                          \
++        pGPR[nr++] = *reinterpret_cast<sal_Int16*>(pSV);                                           \
++    else                                                                                           \
++        *pDS++ = *reinterpret_cast<sal_Int16*>(pSV);
++
++#define INSERT_UINT16(pSV, nr, pGPR, pDS)                                                          \
++    if (nr < MAX_GP_REGS)                                                                          \
++        pGPR[nr++] = *reinterpret_cast<sal_uInt16*>(pSV);                                          \
++    else                                                                                           \
++        *pDS++ = *reinterpret_cast<sal_uInt16*>(pSV);
++
++#define INSERT_INT8(pSV, nr, pGPR, pDS)                                                            \
++    if (nr < MAX_GP_REGS)                                                                          \
++        pGPR[nr++] = *reinterpret_cast<sal_Int8*>(pSV);                                            \
++    else                                                                                           \
++        *pDS++ = *reinterpret_cast<sal_Int8*>(pSV);
++
++using namespace ::com::sun::star::uno;
++
++namespace
++{
++bool isReturnInFPR(const typelib_TypeDescription* pTypeDescr, sal_uInt32& nSize)
++{
++    const typelib_CompoundTypeDescription* p
++        = reinterpret_cast<const typelib_CompoundTypeDescription*>(pTypeDescr);
++
++    for (sal_Int32 i = 0; i < p->nMembers; ++i)
++    {
++        typelib_TypeDescriptionReference* pTypeInStruct = p->ppTypeRefs[i];
++
++        switch (pTypeInStruct->eTypeClass)
++        {
++            case typelib_TypeClass_STRUCT:
++            case typelib_TypeClass_EXCEPTION:
++            {
++                typelib_TypeDescription* t = 0;
++                TYPELIB_DANGER_GET(&t, pTypeInStruct);
++                bool isFPR = isReturnInFPR(t, nSize);
++                TYPELIB_DANGER_RELEASE(t);
++                if (!isFPR)
++                    return false;
++            }
++            break;
++            case typelib_TypeClass_FLOAT:
++            case typelib_TypeClass_DOUBLE:
++                if (nSize >= 16)
++                    return false;
++                nSize += 8;
++                break;
++            default:
++                return false;
++        }
++    }
++    return true;
++}
++
++void fillReturn(const typelib_TypeDescription* pTypeDescr, sal_Int64* gret, double* fret,
++                void* pRegisterReturn)
++{
++    sal_uInt32 nSize = 0;
++    if (isReturnInFPR(pTypeDescr, nSize))
++    {
++        reinterpret_cast<double*>(pRegisterReturn)[0] = fret[0];
++        reinterpret_cast<double*>(pRegisterReturn)[1] = fret[1];
++    }
++    else
++    {
++        reinterpret_cast<sal_Int64*>(pRegisterReturn)[0] = gret[0];
++        reinterpret_cast<sal_Int64*>(pRegisterReturn)[1] = gret[1];
++    }
++}
++
++static void callVirtualMethod(void* pAdjustedThisPtr, sal_Int32 nVtableIndex, void* pRegisterReturn,
++                              typelib_TypeDescriptionReference* pReturnTypeRef, bool bSimpleReturn,
++                              sal_uInt64* pStack, sal_uInt32 nStack, sal_uInt64* pGPR, double* pFPR,
++                              sal_uInt32 nREG)
++{
++    // Should not happen, but...
++    static_assert(MAX_GP_REGS == MAX_FP_REGS, "must be the same size");
++    if (nREG > MAX_GP_REGS)
++        nREG = MAX_GP_REGS;
++
++    // Get pointer to method
++    sal_uInt64 pMethod = *((sal_uInt64*)pAdjustedThisPtr);
++    pMethod += 8 * nVtableIndex;
++    void* mfunc = (void*)*((sal_uInt64*)pMethod);
++    // Load parameters to stack, if necessary
++    sal_uInt64* pCallStack = NULL;
++    if (nStack)
++    {
++        // 16-bytes aligned
++        sal_uInt32 nStackBytes = ((nStack + 1) >> 1) * 16;
++        pCallStack = (sal_uInt64*)__builtin_alloca(nStackBytes);
++        std::memcpy(pCallStack, pStack, nStackBytes);
++    }
++
++    sal_Int64 gret[2];
++    double fret[2];
++    asm volatile(
++        // Fill the general purpose registers
++        "ld.d $r4,%[gpr],0 \n\t"
++        "ld.d $r5,%[gpr],8 \n\t"
++        "ld.d $r6,%[gpr],16 \n\t"
++        "ld.d $r7,%[gpr],24 \n\t"
++        "ld.d $r8,%[gpr],32 \n\t"
++        "ld.d $r9,%[gpr],40 \n\t"
++        "ld.d $r10,%[gpr],48 \n\t"
++        "ld.d $r11,%[gpr],56 \n\t"
++        // Fill the floating pointer registers
++        "fld.d $f0,%[fpr],0 \n\t"
++        "fld.d $f1,%[fpr],8 \n\t"
++        "fld.d $f2,%[fpr],16 \n\t"
++        "fld.d $f3,%[fpr],24 \n\t"
++        "fld.d $f4,%[fpr],32 \n\t"
++        "fld.d $f5,%[fpr],40 \n\t"
++        "fld.d $f6,%[fpr],48 \n\t"
++        "fld.d $f7,%[fpr],56 \n\t"
++        // Perform the call
++        "jirl $ra,%[mfunc],0 \n\t"
++        // Fill the return values
++        "move %[gret1], $a0 \n\t"
++        "move %[gret2], $a1 \n\t"
++        "fmov.d %[fret1], $f0 \n\t"
++        "fmov.d %[fret2], $f1 \n\t"
++        : [gret1] "=r"(gret[0]), [gret2] "=r"(gret[1]), [fret1] "=f"(fret[0]), [fret2] "=f"(fret[1])
++        : [gpr] "r"(pGPR), [fpr] "r"(pFPR), [mfunc] "r"(mfunc),
++          [stack] "m"(
++              pCallStack) // dummy input to prevent the compiler from optimizing the alloca out
++        : "$r4", "$r5", "$r6", "$r7", "$r8", "$r9", "$r10", "$r11", "$r1", "$f0", "$f1", "$f2",
++          "$f3", "$f4", "$f5", "$f6", "$f7", "memory");
++
++    switch (pReturnTypeRef->eTypeClass)
++    {
++        case typelib_TypeClass_HYPER:
++        case typelib_TypeClass_UNSIGNED_HYPER:
++        case typelib_TypeClass_LONG:
++        case typelib_TypeClass_UNSIGNED_LONG:
++        case typelib_TypeClass_ENUM:
++        case typelib_TypeClass_CHAR:
++        case typelib_TypeClass_SHORT:
++        case typelib_TypeClass_UNSIGNED_SHORT:
++        case typelib_TypeClass_BOOLEAN:
++        case typelib_TypeClass_BYTE:
++            *reinterpret_cast<sal_Int64*>(pRegisterReturn) = gret[0];
++            break;
++        case typelib_TypeClass_FLOAT:
++        case typelib_TypeClass_DOUBLE:
++            *reinterpret_cast<double*>(pRegisterReturn) = fret[0];
++            break;
++        case typelib_TypeClass_STRUCT:
++        case typelib_TypeClass_EXCEPTION:
++        {
++            sal_Int32 const nRetSize = pReturnTypeRef->pType->nSize;
++            if (bSimpleReturn && nRetSize <= 16 && nRetSize > 0)
++            {
++                typelib_TypeDescription* pTypeDescr = 0;
++                TYPELIB_DANGER_GET(&pTypeDescr, pReturnTypeRef);
++                fillReturn(pTypeDescr, gret, fret, pRegisterReturn);
++                TYPELIB_DANGER_RELEASE(pTypeDescr);
++            }
++            break;
++        }
++        default:
++            break;
++    }
++}
++
++static void cpp_call(bridges::cpp_uno::shared::UnoInterfaceProxy* pThis,
++                     bridges::cpp_uno::shared::VtableSlot aVtableSlot,
++                     typelib_TypeDescriptionReference* pReturnTypeRef, sal_Int32 nParams,
++                     typelib_MethodParameter* pParams, void* pUnoReturn, void* pUnoArgs[],
++                     uno_Any** ppUnoExc)
++{
++    // max space for: [complex ret ptr], values|ptr ...
++    sal_uInt64* pStack = (sal_uInt64*)__builtin_alloca(((nParams + 3) * sizeof(sal_Int64)));
++    sal_uInt64* pStackStart = pStack;
++
++    sal_uInt64 pGPR[MAX_GP_REGS];
++    double pFPR[MAX_FP_REGS];
++    sal_uInt32 nREG = 0;
++
++    // return
++    typelib_TypeDescription* pReturnTypeDescr = 0;
++    TYPELIB_DANGER_GET(&pReturnTypeDescr, pReturnTypeRef);
++    assert(pReturnTypeDescr);
++
++    void* pCppReturn = 0; // if != 0 && != pUnoReturn, needs reconversion
++
++    bool bSimpleReturn = true;
++    if (pReturnTypeDescr)
++    {
++        if (CPPU_CURRENT_NAMESPACE::return_in_hidden_param(pReturnTypeRef))
++        {
++            bSimpleReturn = false;
++            // complex return via ptr
++            pCppReturn = bridges::cpp_uno::shared::relatesToInterfaceType(pReturnTypeDescr)
++                             ? __builtin_alloca(pReturnTypeDescr->nSize)
++                             : pUnoReturn;
++            INSERT_INT64(&pCppReturn, nREG, pGPR, pStack);
++        }
++        else
++        {
++            pCppReturn = pUnoReturn; // direct way for simple types
++        }
++    }
++
++    // push this
++    void* pAdjustedThisPtr = reinterpret_cast<void**>(pThis->getCppI()) + aVtableSlot.offset;
++    INSERT_INT64(&pAdjustedThisPtr, nREG, pGPR, pStack);
++
++    // args
++    void** pCppArgs = (void**)alloca(3 * sizeof(void*) * nParams);
++    // indices of values this have to be converted (interface conversion cpp<=>uno)
++    sal_Int32* pTempIndices = (sal_Int32*)(pCppArgs + nParams);
++    // type descriptions for reconversions
++    typelib_TypeDescription** ppTempParamTypeDescr
++        = (typelib_TypeDescription**)(pCppArgs + (2 * nParams));
++
++    sal_Int32 nTempIndices = 0;
++
++    for (sal_Int32 nPos = 0; nPos < nParams; ++nPos)
++    {
++        const typelib_MethodParameter& rParam = pParams[nPos];
++        typelib_TypeDescription* pParamTypeDescr = 0;
++        TYPELIB_DANGER_GET(&pParamTypeDescr, rParam.pTypeRef);
++
++        if (!rParam.bOut && bridges::cpp_uno::shared::isSimpleType(pParamTypeDescr))
++        {
++            uno_copyAndConvertData(pCppArgs[nPos] = alloca(8), pUnoArgs[nPos], pParamTypeDescr,
++                                   pThis->getBridge()->getUno2Cpp());
++
++            switch (pParamTypeDescr->eTypeClass)
++            {
++                case typelib_TypeClass_LONG:
++                case typelib_TypeClass_UNSIGNED_LONG:
++                    INSERT_INT64(pCppArgs[nPos], nREG, pGPR, pStack);
++                    break;
++                case typelib_TypeClass_ENUM:
++                    INSERT_INT32(pCppArgs[nPos], nREG, pGPR, pStack);
++                    break;
++                case typelib_TypeClass_CHAR:
++                case typelib_TypeClass_SHORT:
++                    INSERT_INT16(pCppArgs[nPos], nREG, pGPR, pStack);
++                    break;
++                case typelib_TypeClass_UNSIGNED_SHORT:
++                    INSERT_UINT16(pCppArgs[nPos], nREG, pGPR, pStack);
++                    break;
++                case typelib_TypeClass_BOOLEAN:
++                case typelib_TypeClass_BYTE:
++                    INSERT_INT8(pCppArgs[nPos], nREG, pGPR, pStack);
++                    break;
++                case typelib_TypeClass_FLOAT:
++                case typelib_TypeClass_DOUBLE:
++                    INSERT_FLOAT_DOUBLE(pCppArgs[nPos], nREG, pFPR, pStack);
++                    break;
++                case typelib_TypeClass_HYPER:
++                case typelib_TypeClass_UNSIGNED_HYPER:
++                    INSERT_INT64(pCppArgs[nPos], nREG, pGPR, pStack);
++                    break;
++                default:
++                    break;
++            }
++
++            // no longer needed
++            TYPELIB_DANGER_RELEASE(pParamTypeDescr);
++        }
++        else // ptr to complex value | ref
++        {
++            if (!rParam.bIn) // is pure out
++            {
++                // cpp out is constructed mem, uno out is not!
++                uno_constructData(pCppArgs[nPos] = alloca(pParamTypeDescr->nSize), pParamTypeDescr);
++                pTempIndices[nTempIndices] = nPos; // default constructed for cpp call
++                // will be released at reconversion
++                ppTempParamTypeDescr[nTempIndices++] = pParamTypeDescr;
++            }
++            // is in/inout
++            else if (bridges::cpp_uno::shared::relatesToInterfaceType(pParamTypeDescr))
++            {
++                uno_copyAndConvertData(pCppArgs[nPos] = alloca(pParamTypeDescr->nSize),
++                                       pUnoArgs[nPos], pParamTypeDescr,
++                                       pThis->getBridge()->getUno2Cpp());
++
++                pTempIndices[nTempIndices] = nPos; // has to be reconverted
++                // will be released at reconversion
++                ppTempParamTypeDescr[nTempIndices++] = pParamTypeDescr;
++            }
++            else // direct way
++            {
++                pCppArgs[nPos] = pUnoArgs[nPos];
++                // no longer needed
++                TYPELIB_DANGER_RELEASE(pParamTypeDescr);
++            }
++            INSERT_INT64(&(pCppArgs[nPos]), nREG, pGPR, pStack);
++        }
++    }
++
++    try
++    {
++        try
++        {
++            callVirtualMethod(pAdjustedThisPtr, aVtableSlot.index, pCppReturn, pReturnTypeRef,
++                              bSimpleReturn, pStackStart, (pStack - pStackStart), pGPR, pFPR, nREG);
++        }
++        catch (css::uno::Exception&)
++        {
++            throw;
++        }
++        catch (std::exception& e)
++        {
++            throw css::uno::RuntimeException("C++ code threw "
++                                             + o3tl::runtimeToOUString(typeid(e).name()) + ": "
++                                             + o3tl::runtimeToOUString(e.what()));
++        }
++        catch (...)
++        {
++            throw css::uno::RuntimeException("C++ code threw unknown exception");
++        }
++        // NO exception occurred...
++        *ppUnoExc = 0;
++
++        // reconvert temporary params
++        for (; nTempIndices--;)
++        {
++            sal_Int32 nIndex = pTempIndices[nTempIndices];
++            typelib_TypeDescription* pParamTypeDescr = ppTempParamTypeDescr[nTempIndices];
++
++            if (pParams[nIndex].bIn)
++            {
++                if (pParams[nIndex].bOut) // inout
++                {
++                    uno_destructData(pUnoArgs[nIndex], pParamTypeDescr, 0); // destroy uno value
++                    uno_copyAndConvertData(pUnoArgs[nIndex], pCppArgs[nIndex], pParamTypeDescr,
++                                           pThis->getBridge()->getCpp2Uno());
++                }
++            }
++            else // pure out
++            {
++                uno_copyAndConvertData(pUnoArgs[nIndex], pCppArgs[nIndex], pParamTypeDescr,
++                                       pThis->getBridge()->getCpp2Uno());
++            }
++            // destroy temp cpp param => cpp: every param was constructed
++            uno_destructData(pCppArgs[nIndex], pParamTypeDescr, cpp_release);
++
++            TYPELIB_DANGER_RELEASE(pParamTypeDescr);
++        }
++        // return value
++        if (pCppReturn && pUnoReturn != pCppReturn)
++        {
++            uno_copyAndConvertData(pUnoReturn, pCppReturn, pReturnTypeDescr,
++                                   pThis->getBridge()->getCpp2Uno());
++            uno_destructData(pCppReturn, pReturnTypeDescr, cpp_release);
++        }
++    }
++    catch (...)
++    {
++        // fill uno exception
++        CPPU_CURRENT_NAMESPACE::fillUnoException(*ppUnoExc, pThis->getBridge()->getCpp2Uno());
++
++        // temporary params
++        for (; nTempIndices--;)
++        {
++            sal_Int32 nIndex = pTempIndices[nTempIndices];
++            // destroy temp cpp param => cpp: every param was constructed
++            uno_destructData(pCppArgs[nIndex], ppTempParamTypeDescr[nTempIndices], cpp_release);
++            TYPELIB_DANGER_RELEASE(ppTempParamTypeDescr[nTempIndices]);
++        }
++        // return type
++        if (pReturnTypeDescr)
++            TYPELIB_DANGER_RELEASE(pReturnTypeDescr);
++    }
++}
++}
++
++namespace bridges::cpp_uno::shared
++{
++void unoInterfaceProxyDispatch(uno_Interface* pUnoI, const typelib_TypeDescription* pMemberDescr,
++                               void* pReturn, void* pArgs[], uno_Any** ppException)
++{
++    // is my surrogate
++    bridges::cpp_uno::shared::UnoInterfaceProxy* pThis
++        = static_cast<bridges::cpp_uno::shared::UnoInterfaceProxy*>(pUnoI);
++    //typelib_InterfaceTypeDescription * pTypeDescr = pThis->pTypeDescr;
++
++    switch (pMemberDescr->eTypeClass)
++    {
++        case typelib_TypeClass_INTERFACE_ATTRIBUTE:
++        {
++            VtableSlot aVtableSlot(getVtableSlot(
++                reinterpret_cast<typelib_InterfaceAttributeTypeDescription const*>(pMemberDescr)));
++
++            if (pReturn)
++            {
++                // dependent dispatch
++                cpp_call(
++                    pThis, aVtableSlot,
++                    ((typelib_InterfaceAttributeTypeDescription*)pMemberDescr)->pAttributeTypeRef,
++                    0, 0, // no params
++                    pReturn, pArgs, ppException);
++            }
++            else
++            {
++                // is SET
++                typelib_MethodParameter aParam;
++                aParam.pTypeRef
++                    = ((typelib_InterfaceAttributeTypeDescription*)pMemberDescr)->pAttributeTypeRef;
++                aParam.bIn = sal_True;
++                aParam.bOut = sal_False;
++
++                typelib_TypeDescriptionReference* pReturnTypeRef = 0;
++                OUString aVoidName("void");
++                typelib_typedescriptionreference_new(&pReturnTypeRef, typelib_TypeClass_VOID,
++                                                     aVoidName.pData);
++
++                // dependent dispatch
++                aVtableSlot.index += 1; //get then set method
++                cpp_call(pThis, aVtableSlot, pReturnTypeRef, 1, &aParam, pReturn, pArgs,
++                         ppException);
++
++                typelib_typedescriptionreference_release(pReturnTypeRef);
++            }
++
++            break;
++        }
++        case typelib_TypeClass_INTERFACE_METHOD:
++        {
++            VtableSlot aVtableSlot(getVtableSlot(
++                reinterpret_cast<typelib_InterfaceMethodTypeDescription const*>(pMemberDescr)));
++            switch (aVtableSlot.index)
++            {
++                // standard calls
++                case 1: // acquire uno interface
++                    (*pUnoI->acquire)(pUnoI);
++                    *ppException = 0;
++                    break;
++                case 2: // release uno interface
++                    (*pUnoI->release)(pUnoI);
++                    *ppException = 0;
++                    break;
++                case 0: // queryInterface() opt
++                {
++                    typelib_TypeDescription* pTD = 0;
++                    TYPELIB_DANGER_GET(&pTD, reinterpret_cast<Type*>(pArgs[0])->getTypeLibType());
++                    if (pTD)
++                    {
++                        uno_Interface* pInterface = 0;
++                        (*pThis->pBridge->getUnoEnv()->getRegisteredInterface)(
++                            pThis->pBridge->getUnoEnv(), (void**)&pInterface, pThis->oid.pData,
++                            (typelib_InterfaceTypeDescription*)pTD);
++
++                        if (pInterface)
++                        {
++                            ::uno_any_construct(reinterpret_cast<uno_Any*>(pReturn), &pInterface,
++                                                pTD, 0);
++                            (*pInterface->release)(pInterface);
++                            TYPELIB_DANGER_RELEASE(pTD);
++                            *ppException = 0;
++                            break;
++                        }
++                        TYPELIB_DANGER_RELEASE(pTD);
++                    }
++                } // else perform queryInterface()
++                default:
++                    // dependent dispatch
++                    cpp_call(
++                        pThis, aVtableSlot,
++                        ((typelib_InterfaceMethodTypeDescription*)pMemberDescr)->pReturnTypeRef,
++                        ((typelib_InterfaceMethodTypeDescription*)pMemberDescr)->nParams,
++                        ((typelib_InterfaceMethodTypeDescription*)pMemberDescr)->pParams, pReturn,
++                        pArgs, ppException);
++            }
++            break;
++        }
++        default:
++        {
++            ::com::sun::star::uno::RuntimeException aExc(
++                "illegal member type description!",
++                ::com::sun::star::uno::Reference<::com::sun::star::uno::XInterface>());
++
++            Type const& rExcType = cppu::UnoType<decltype(aExc)>::get();
++            // binary identical null reference
++            ::uno_type_any_construct(*ppException, &aExc, rExcType.getTypeLibType(), 0);
++        }
++    }
++}
++}
++
++/* vim:set shiftwidth=4 softtabstop=4 expandtab cinoptions=b1,g0,N-s cinkeys+=0=break: */
+diff --git a/config.guess b/config.guess
+index 76b022d3d..48a684601 100644
+--- a/config.guess
++++ b/config.guess
+@@ -1,12 +1,14 @@
+ #! /bin/sh
+ # Attempt to guess a canonical system name.
+-#   Copyright 1992-2020 Free Software Foundation, Inc.
++#   Copyright 1992-2024 Free Software Foundation, Inc.
+ 
+-timestamp='2020-08-06'
++# shellcheck disable=SC2006,SC2268 # see below for rationale
++
++timestamp='2024-07-27'
+ 
+ # This file is free software; you can redistribute it and/or modify it
+ # under the terms of the GNU General Public License as published by
+-# the Free Software Foundation; either version 3 of the License, or
++# the Free Software Foundation, either version 3 of the License, or
+ # (at your option) any later version.
+ #
+ # This program is distributed in the hope that it will be useful, but
+@@ -27,17 +29,25 @@ timestamp='2020-08-06'
+ # Originally written by Per Bothner; maintained since 2000 by Ben Elliston.
+ #
+ # You can get the latest version of this script from:
+-# https://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.guess
++# https://git.savannah.gnu.org/cgit/config.git/plain/config.guess
+ #
+ # Please send patches to <config-patches@gnu.org>.
+ 
+ 
++# The "shellcheck disable" line above the timestamp inhibits complaints
++# about features and limitations of the classic Bourne shell that were
++# superseded or lifted in POSIX.  However, this script identifies a wide
++# variety of pre-POSIX systems that do not have POSIX shells at all, and
++# even some reasonably current systems (Solaris 10 as case-in-point) still
++# have a pre-POSIX /bin/sh.
++
++
+ me=`echo "$0" | sed -e 's,.*/,,'`
+ 
+ usage="\
+ Usage: $0 [OPTION]
+ 
+-Output the configuration name of the system \`$me' is run on.
++Output the configuration name of the system '$me' is run on.
+ 
+ Options:
+   -h, --help         print this help, then exit
+@@ -50,13 +60,13 @@ version="\
+ GNU config.guess ($timestamp)
+ 
+ Originally written by Per Bothner.
+-Copyright 1992-2020 Free Software Foundation, Inc.
++Copyright 1992-2024 Free Software Foundation, Inc.
+ 
+ This is free software; see the source for copying conditions.  There is NO
+ warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."
+ 
+ help="
+-Try \`$me --help' for more information."
++Try '$me --help' for more information."
+ 
+ # Parse command line
+ while test $# -gt 0 ; do
+@@ -84,13 +94,16 @@ if test $# != 0; then
+   exit 1
+ fi
+ 
++# Just in case it came from the environment.
++GUESS=
++
+ # CC_FOR_BUILD -- compiler used by this script. Note that the use of a
+ # compiler to aid in system detection is discouraged as it requires
+ # temporary files to be created and, as you can see below, it is a
+ # headache to deal with in a portable fashion.
+ 
+-# Historically, `CC_FOR_BUILD' used to be named `HOST_CC'. We still
+-# use `HOST_CC' if defined, but it is deprecated.
++# Historically, 'CC_FOR_BUILD' used to be named 'HOST_CC'. We still
++# use 'HOST_CC' if defined, but it is deprecated.
+ 
+ # Portable tmp directory creation inspired by the Autoconf team.
+ 
+@@ -102,7 +115,7 @@ set_cc_for_build() {
+     # prevent multiple calls if $tmp is already set
+     test "$tmp" && return 0
+     : "${TMPDIR=/tmp}"
+-    # shellcheck disable=SC2039
++    # shellcheck disable=SC2039,SC3028
+     { tmp=`(umask 077 && mktemp -d "$TMPDIR/cgXXXXXX") 2>/dev/null` && test -n "$tmp" && test -d "$tmp" ; } ||
+ 	{ test -n "$RANDOM" && tmp=$TMPDIR/cg$$-$RANDOM && (umask 077 && mkdir "$tmp" 2>/dev/null) ; } ||
+ 	{ tmp=$TMPDIR/cg-$$ && (umask 077 && mkdir "$tmp" 2>/dev/null) && echo "Warning: creating insecure temp directory" >&2 ; } ||
+@@ -110,9 +123,9 @@ set_cc_for_build() {
+     dummy=$tmp/dummy
+     case ${CC_FOR_BUILD-},${HOST_CC-},${CC-} in
+ 	,,)    echo "int x;" > "$dummy.c"
+-	       for driver in cc gcc c89 c99 ; do
++	       for driver in cc gcc c17 c99 c89 ; do
+ 		   if ($driver -c -o "$dummy.o" "$dummy.c") >/dev/null 2>&1 ; then
+-		       CC_FOR_BUILD="$driver"
++		       CC_FOR_BUILD=$driver
+ 		       break
+ 		   fi
+ 	       done
+@@ -133,40 +146,57 @@ fi
+ 
+ UNAME_MACHINE=`(uname -m) 2>/dev/null` || UNAME_MACHINE=unknown
+ UNAME_RELEASE=`(uname -r) 2>/dev/null` || UNAME_RELEASE=unknown
+-UNAME_SYSTEM=`(uname -s) 2>/dev/null`  || UNAME_SYSTEM=unknown
++UNAME_SYSTEM=`(uname -s) 2>/dev/null` || UNAME_SYSTEM=unknown
+ UNAME_VERSION=`(uname -v) 2>/dev/null` || UNAME_VERSION=unknown
+ 
+-case "$UNAME_SYSTEM" in
++case $UNAME_SYSTEM in
+ Linux|GNU|GNU/*)
+-	# If the system lacks a compiler, then just pick glibc.
+-	# We could probably try harder.
+-	LIBC=gnu
++	LIBC=unknown
+ 
+ 	set_cc_for_build
+ 	cat <<-EOF > "$dummy.c"
++	#if defined(__ANDROID__)
++	LIBC=android
++	#else
+ 	#include <features.h>
+ 	#if defined(__UCLIBC__)
+ 	LIBC=uclibc
+ 	#elif defined(__dietlibc__)
+ 	LIBC=dietlibc
+-	#else
++	#elif defined(__GLIBC__)
+ 	LIBC=gnu
++	#elif defined(__LLVM_LIBC__)
++	LIBC=llvm
++	#else
++	#include <stdarg.h>
++	/* First heuristic to detect musl libc.  */
++	#ifdef __DEFINED_va_list
++	LIBC=musl
++	#endif
++	#endif
+ 	#endif
+ 	EOF
+-	eval "`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^LIBC' | sed 's, ,,g'`"
++	cc_set_libc=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^LIBC' | sed 's, ,,g'`
++	eval "$cc_set_libc"
+ 
+-	# If ldd exists, use it to detect musl libc.
+-	if command -v ldd >/dev/null && \
+-		ldd --version 2>&1 | grep -q ^musl
+-	then
+-	    LIBC=musl
++	# Second heuristic to detect musl libc.
++	if [ "$LIBC" = unknown ] &&
++	   command -v ldd >/dev/null &&
++	   ldd --version 2>&1 | grep -q ^musl; then
++		LIBC=musl
++	fi
++
++	# If the system lacks a compiler, then just pick glibc.
++	# We could probably try harder.
++	if [ "$LIBC" = unknown ]; then
++		LIBC=gnu
+ 	fi
+ 	;;
+ esac
+ 
+ # Note: order is significant - the case branches are not exclusive.
+ 
+-case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++case $UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION in
+     *:NetBSD:*:*)
+ 	# NetBSD (nbsd) targets should (where applicable) match one or
+ 	# more of the tuples: *-*-netbsdelf*, *-*-netbsdaout*,
+@@ -178,12 +208,12 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
+ 	#
+ 	# Note: NetBSD doesn't particularly care about the vendor
+ 	# portion of the name.  We always set it to "unknown".
+-	sysctl="sysctl -n hw.machine_arch"
+ 	UNAME_MACHINE_ARCH=`(uname -p 2>/dev/null || \
+-	    "/sbin/$sysctl" 2>/dev/null || \
+-	    "/usr/sbin/$sysctl" 2>/dev/null || \
++	    /sbin/sysctl -n hw.machine_arch 2>/dev/null || \
++	    /usr/sbin/sysctl -n hw.machine_arch 2>/dev/null || \
+ 	    echo unknown)`
+-	case "$UNAME_MACHINE_ARCH" in
++	case $UNAME_MACHINE_ARCH in
++	    aarch64eb) machine=aarch64_be-unknown ;;
+ 	    armeb) machine=armeb-unknown ;;
+ 	    arm*) machine=arm-unknown ;;
+ 	    sh3el) machine=shl-unknown ;;
+@@ -192,13 +222,13 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
+ 	    earmv*)
+ 		arch=`echo "$UNAME_MACHINE_ARCH" | sed -e 's,^e\(armv[0-9]\).*$,\1,'`
+ 		endian=`echo "$UNAME_MACHINE_ARCH" | sed -ne 's,^.*\(eb\)$,\1,p'`
+-		machine="${arch}${endian}"-unknown
++		machine=${arch}${endian}-unknown
+ 		;;
+-	    *) machine="$UNAME_MACHINE_ARCH"-unknown ;;
++	    *) machine=$UNAME_MACHINE_ARCH-unknown ;;
+ 	esac
+ 	# The Operating System including object format, if it has switched
+ 	# to ELF recently (or will in the future) and ABI.
+-	case "$UNAME_MACHINE_ARCH" in
++	case $UNAME_MACHINE_ARCH in
+ 	    earm*)
+ 		os=netbsdelf
+ 		;;
+@@ -219,7 +249,7 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
+ 		;;
+ 	esac
+ 	# Determine ABI tags.
+-	case "$UNAME_MACHINE_ARCH" in
++	case $UNAME_MACHINE_ARCH in
+ 	    earm*)
+ 		expr='s/^earmv[0-9]/-eabi/;s/eb$//'
+ 		abi=`echo "$UNAME_MACHINE_ARCH" | sed -e "$expr"`
+@@ -230,7 +260,7 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
+ 	# thus, need a distinct triplet. However, they do not need
+ 	# kernel version information, so it can be replaced with a
+ 	# suitable tag, in the style of linux-gnu.
+-	case "$UNAME_VERSION" in
++	case $UNAME_VERSION in
+ 	    Debian*)
+ 		release='-gnu'
+ 		;;
+@@ -241,51 +271,57 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
+ 	# Since CPU_TYPE-MANUFACTURER-KERNEL-OPERATING_SYSTEM:
+ 	# contains redundant information, the shorter form:
+ 	# CPU_TYPE-MANUFACTURER-OPERATING_SYSTEM is used.
+-	echo "$machine-${os}${release}${abi-}"
+-	exit ;;
++	GUESS=$machine-${os}${release}${abi-}
++	;;
+     *:Bitrig:*:*)
+ 	UNAME_MACHINE_ARCH=`arch | sed 's/Bitrig.//'`
+-	echo "$UNAME_MACHINE_ARCH"-unknown-bitrig"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=$UNAME_MACHINE_ARCH-unknown-bitrig$UNAME_RELEASE
++	;;
+     *:OpenBSD:*:*)
+ 	UNAME_MACHINE_ARCH=`arch | sed 's/OpenBSD.//'`
+-	echo "$UNAME_MACHINE_ARCH"-unknown-openbsd"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=$UNAME_MACHINE_ARCH-unknown-openbsd$UNAME_RELEASE
++	;;
++    *:SecBSD:*:*)
++	UNAME_MACHINE_ARCH=`arch | sed 's/SecBSD.//'`
++	GUESS=$UNAME_MACHINE_ARCH-unknown-secbsd$UNAME_RELEASE
++	;;
+     *:LibertyBSD:*:*)
+ 	UNAME_MACHINE_ARCH=`arch | sed 's/^.*BSD\.//'`
+-	echo "$UNAME_MACHINE_ARCH"-unknown-libertybsd"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=$UNAME_MACHINE_ARCH-unknown-libertybsd$UNAME_RELEASE
++	;;
+     *:MidnightBSD:*:*)
+-	echo "$UNAME_MACHINE"-unknown-midnightbsd"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-midnightbsd$UNAME_RELEASE
++	;;
+     *:ekkoBSD:*:*)
+-	echo "$UNAME_MACHINE"-unknown-ekkobsd"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-ekkobsd$UNAME_RELEASE
++	;;
+     *:SolidBSD:*:*)
+-	echo "$UNAME_MACHINE"-unknown-solidbsd"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-solidbsd$UNAME_RELEASE
++	;;
+     *:OS108:*:*)
+-	echo "$UNAME_MACHINE"-unknown-os108_"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-os108_$UNAME_RELEASE
++	;;
+     macppc:MirBSD:*:*)
+-	echo powerpc-unknown-mirbsd"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=powerpc-unknown-mirbsd$UNAME_RELEASE
++	;;
+     *:MirBSD:*:*)
+-	echo "$UNAME_MACHINE"-unknown-mirbsd"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-mirbsd$UNAME_RELEASE
++	;;
+     *:Sortix:*:*)
+-	echo "$UNAME_MACHINE"-unknown-sortix
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-sortix
++	;;
+     *:Twizzler:*:*)
+-	echo "$UNAME_MACHINE"-unknown-twizzler
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-twizzler
++	;;
+     *:Redox:*:*)
+-	echo "$UNAME_MACHINE"-unknown-redox
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-redox
++	;;
+     mips:OSF1:*.*)
+-	echo mips-dec-osf1
+-	exit ;;
++	GUESS=mips-dec-osf1
++	;;
+     alpha:OSF1:*:*)
++	# Reset EXIT trap before exiting to avoid spurious non-zero exit code.
++	trap '' 0
+ 	case $UNAME_RELEASE in
+ 	*4.0)
+ 		UNAME_RELEASE=`/usr/sbin/sizer -v | awk '{print $3}'`
+@@ -299,7 +335,7 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
+ 	# covers most systems running today.  This code pipes the CPU
+ 	# types through head -n 1, so we only detect the type of CPU 0.
+ 	ALPHA_CPU_TYPE=`/usr/sbin/psrinfo -v | sed -n -e 's/^  The alpha \(.*\) processor.*$/\1/p' | head -n 1`
+-	case "$ALPHA_CPU_TYPE" in
++	case $ALPHA_CPU_TYPE in
+ 	    "EV4 (21064)")
+ 		UNAME_MACHINE=alpha ;;
+ 	    "EV4.5 (21064)")
+@@ -336,117 +372,121 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
+ 	# A Tn.n version is a released field test version.
+ 	# A Xn.n version is an unreleased experimental baselevel.
+ 	# 1.2 uses "1.2" for uname -r.
+-	echo "$UNAME_MACHINE"-dec-osf"`echo "$UNAME_RELEASE" | sed -e 's/^[PVTX]//' | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz`"
+-	# Reset EXIT trap before exiting to avoid spurious non-zero exit code.
+-	exitcode=$?
+-	trap '' 0
+-	exit $exitcode ;;
++	OSF_REL=`echo "$UNAME_RELEASE" | sed -e 's/^[PVTX]//' | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz`
++	GUESS=$UNAME_MACHINE-dec-osf$OSF_REL
++	;;
+     Amiga*:UNIX_System_V:4.0:*)
+-	echo m68k-unknown-sysv4
+-	exit ;;
++	GUESS=m68k-unknown-sysv4
++	;;
+     *:[Aa]miga[Oo][Ss]:*:*)
+-	echo "$UNAME_MACHINE"-unknown-amigaos
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-amigaos
++	;;
+     *:[Mm]orph[Oo][Ss]:*:*)
+-	echo "$UNAME_MACHINE"-unknown-morphos
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-morphos
++	;;
+     *:OS/390:*:*)
+-	echo i370-ibm-openedition
+-	exit ;;
++	GUESS=i370-ibm-openedition
++	;;
+     *:z/VM:*:*)
+-	echo s390-ibm-zvmoe
+-	exit ;;
++	GUESS=s390-ibm-zvmoe
++	;;
+     *:OS400:*:*)
+-	echo powerpc-ibm-os400
+-	exit ;;
++	GUESS=powerpc-ibm-os400
++	;;
+     arm:RISC*:1.[012]*:*|arm:riscix:1.[012]*:*)
+-	echo arm-acorn-riscix"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=arm-acorn-riscix$UNAME_RELEASE
++	;;
+     arm*:riscos:*:*|arm*:RISCOS:*:*)
+-	echo arm-unknown-riscos
+-	exit ;;
++	GUESS=arm-unknown-riscos
++	;;
+     SR2?01:HI-UX/MPP:*:* | SR8000:HI-UX/MPP:*:*)
+-	echo hppa1.1-hitachi-hiuxmpp
+-	exit ;;
++	GUESS=hppa1.1-hitachi-hiuxmpp
++	;;
+     Pyramid*:OSx*:*:* | MIS*:OSx*:*:* | MIS*:SMP_DC-OSx*:*:*)
+ 	# akee@wpdis03.wpafb.af.mil (Earle F. Ake) contributed MIS and NILE.
+-	if test "`(/bin/universe) 2>/dev/null`" = att ; then
+-		echo pyramid-pyramid-sysv3
+-	else
+-		echo pyramid-pyramid-bsd
+-	fi
+-	exit ;;
++	case `(/bin/universe) 2>/dev/null` in
++	    att) GUESS=pyramid-pyramid-sysv3 ;;
++	    *)   GUESS=pyramid-pyramid-bsd   ;;
++	esac
++	;;
+     NILE*:*:*:dcosx)
+-	echo pyramid-pyramid-svr4
+-	exit ;;
++	GUESS=pyramid-pyramid-svr4
++	;;
+     DRS?6000:unix:4.0:6*)
+-	echo sparc-icl-nx6
+-	exit ;;
++	GUESS=sparc-icl-nx6
++	;;
+     DRS?6000:UNIX_SV:4.2*:7* | DRS?6000:isis:4.2*:7*)
+ 	case `/usr/bin/uname -p` in
+-	    sparc) echo sparc-icl-nx7; exit ;;
+-	esac ;;
++	    sparc) GUESS=sparc-icl-nx7 ;;
++	esac
++	;;
+     s390x:SunOS:*:*)
+-	echo "$UNAME_MACHINE"-ibm-solaris2"`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`"
+-	exit ;;
++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
++	GUESS=$UNAME_MACHINE-ibm-solaris2$SUN_REL
++	;;
+     sun4H:SunOS:5.*:*)
+-	echo sparc-hal-solaris2"`echo "$UNAME_RELEASE"|sed -e 's/[^.]*//'`"
+-	exit ;;
++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
++	GUESS=sparc-hal-solaris2$SUN_REL
++	;;
+     sun4*:SunOS:5.*:* | tadpole*:SunOS:5.*:*)
+-	echo sparc-sun-solaris2"`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`"
+-	exit ;;
++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
++	GUESS=sparc-sun-solaris2$SUN_REL
++	;;
+     i86pc:AuroraUX:5.*:* | i86xen:AuroraUX:5.*:*)
+-	echo i386-pc-auroraux"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=i386-pc-auroraux$UNAME_RELEASE
++	;;
+     i86pc:SunOS:5.*:* | i86xen:SunOS:5.*:*)
+ 	set_cc_for_build
+ 	SUN_ARCH=i386
+ 	# If there is a compiler, see if it is configured for 64-bit objects.
+ 	# Note that the Sun cc does not turn __LP64__ into 1 like gcc does.
+ 	# This test works for both compilers.
+-	if [ "$CC_FOR_BUILD" != no_compiler_found ]; then
++	if test "$CC_FOR_BUILD" != no_compiler_found; then
+ 	    if (echo '#ifdef __amd64'; echo IS_64BIT_ARCH; echo '#endif') | \
+-		(CCOPTS="" $CC_FOR_BUILD -E - 2>/dev/null) | \
++		(CCOPTS="" $CC_FOR_BUILD -m64 -E - 2>/dev/null) | \
+ 		grep IS_64BIT_ARCH >/dev/null
+ 	    then
+ 		SUN_ARCH=x86_64
+ 	    fi
+ 	fi
+-	echo "$SUN_ARCH"-pc-solaris2"`echo "$UNAME_RELEASE"|sed -e 's/[^.]*//'`"
+-	exit ;;
++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
++	GUESS=$SUN_ARCH-pc-solaris2$SUN_REL
++	;;
+     sun4*:SunOS:6*:*)
+ 	# According to config.sub, this is the proper way to canonicalize
+ 	# SunOS6.  Hard to guess exactly what SunOS6 will be like, but
+ 	# it's likely to be more like Solaris than SunOS4.
+-	echo sparc-sun-solaris3"`echo "$UNAME_RELEASE"|sed -e 's/[^.]*//'`"
+-	exit ;;
++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
++	GUESS=sparc-sun-solaris3$SUN_REL
++	;;
+     sun4*:SunOS:*:*)
+-	case "`/usr/bin/arch -k`" in
++	case `/usr/bin/arch -k` in
+ 	    Series*|S4*)
+ 		UNAME_RELEASE=`uname -v`
+ 		;;
+ 	esac
+-	# Japanese Language versions have a version number like `4.1.3-JL'.
+-	echo sparc-sun-sunos"`echo "$UNAME_RELEASE"|sed -e 's/-/_/'`"
+-	exit ;;
++	# Japanese Language versions have a version number like '4.1.3-JL'.
++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/-/_/'`
++	GUESS=sparc-sun-sunos$SUN_REL
++	;;
+     sun3*:SunOS:*:*)
+-	echo m68k-sun-sunos"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=m68k-sun-sunos$UNAME_RELEASE
++	;;
+     sun*:*:4.2BSD:*)
+ 	UNAME_RELEASE=`(sed 1q /etc/motd | awk '{print substr($5,1,3)}') 2>/dev/null`
+ 	test "x$UNAME_RELEASE" = x && UNAME_RELEASE=3
+-	case "`/bin/arch`" in
++	case `/bin/arch` in
+ 	    sun3)
+-		echo m68k-sun-sunos"$UNAME_RELEASE"
++		GUESS=m68k-sun-sunos$UNAME_RELEASE
+ 		;;
+ 	    sun4)
+-		echo sparc-sun-sunos"$UNAME_RELEASE"
++		GUESS=sparc-sun-sunos$UNAME_RELEASE
+ 		;;
+ 	esac
+-	exit ;;
++	;;
+     aushp:SunOS:*:*)
+-	echo sparc-auspex-sunos"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=sparc-auspex-sunos$UNAME_RELEASE
++	;;
+     # The situation for MiNT is a little confusing.  The machine name
+     # can be virtually everything (everything which is not
+     # "atarist" or "atariste" at least should have a processor
+@@ -456,41 +496,41 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
+     # MiNT.  But MiNT is downward compatible to TOS, so this should
+     # be no problem.
+     atarist[e]:*MiNT:*:* | atarist[e]:*mint:*:* | atarist[e]:*TOS:*:*)
+-	echo m68k-atari-mint"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=m68k-atari-mint$UNAME_RELEASE
++	;;
+     atari*:*MiNT:*:* | atari*:*mint:*:* | atarist[e]:*TOS:*:*)
+-	echo m68k-atari-mint"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=m68k-atari-mint$UNAME_RELEASE
++	;;
+     *falcon*:*MiNT:*:* | *falcon*:*mint:*:* | *falcon*:*TOS:*:*)
+-	echo m68k-atari-mint"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=m68k-atari-mint$UNAME_RELEASE
++	;;
+     milan*:*MiNT:*:* | milan*:*mint:*:* | *milan*:*TOS:*:*)
+-	echo m68k-milan-mint"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=m68k-milan-mint$UNAME_RELEASE
++	;;
+     hades*:*MiNT:*:* | hades*:*mint:*:* | *hades*:*TOS:*:*)
+-	echo m68k-hades-mint"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=m68k-hades-mint$UNAME_RELEASE
++	;;
+     *:*MiNT:*:* | *:*mint:*:* | *:*TOS:*:*)
+-	echo m68k-unknown-mint"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=m68k-unknown-mint$UNAME_RELEASE
++	;;
+     m68k:machten:*:*)
+-	echo m68k-apple-machten"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=m68k-apple-machten$UNAME_RELEASE
++	;;
+     powerpc:machten:*:*)
+-	echo powerpc-apple-machten"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=powerpc-apple-machten$UNAME_RELEASE
++	;;
+     RISC*:Mach:*:*)
+-	echo mips-dec-mach_bsd4.3
+-	exit ;;
++	GUESS=mips-dec-mach_bsd4.3
++	;;
+     RISC*:ULTRIX:*:*)
+-	echo mips-dec-ultrix"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=mips-dec-ultrix$UNAME_RELEASE
++	;;
+     VAX*:ULTRIX*:*:*)
+-	echo vax-dec-ultrix"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=vax-dec-ultrix$UNAME_RELEASE
++	;;
+     2020:CLIX:*:* | 2430:CLIX:*:*)
+-	echo clipper-intergraph-clix"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=clipper-intergraph-clix$UNAME_RELEASE
++	;;
+     mips:*:*:UMIPS | mips:*:*:RISCos)
+ 	set_cc_for_build
+ 	sed 's/^	//' << EOF > "$dummy.c"
+@@ -518,82 +558,84 @@ EOF
+ 	  dummyarg=`echo "$UNAME_RELEASE" | sed -n 's/\([0-9]*\).*/\1/p'` &&
+ 	  SYSTEM_NAME=`"$dummy" "$dummyarg"` &&
+ 	    { echo "$SYSTEM_NAME"; exit; }
+-	echo mips-mips-riscos"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=mips-mips-riscos$UNAME_RELEASE
++	;;
+     Motorola:PowerMAX_OS:*:*)
+-	echo powerpc-motorola-powermax
+-	exit ;;
++	GUESS=powerpc-motorola-powermax
++	;;
+     Motorola:*:4.3:PL8-*)
+-	echo powerpc-harris-powermax
+-	exit ;;
++	GUESS=powerpc-harris-powermax
++	;;
+     Night_Hawk:*:*:PowerMAX_OS | Synergy:PowerMAX_OS:*:*)
+-	echo powerpc-harris-powermax
+-	exit ;;
++	GUESS=powerpc-harris-powermax
++	;;
+     Night_Hawk:Power_UNIX:*:*)
+-	echo powerpc-harris-powerunix
+-	exit ;;
++	GUESS=powerpc-harris-powerunix
++	;;
+     m88k:CX/UX:7*:*)
+-	echo m88k-harris-cxux7
+-	exit ;;
++	GUESS=m88k-harris-cxux7
++	;;
+     m88k:*:4*:R4*)
+-	echo m88k-motorola-sysv4
+-	exit ;;
++	GUESS=m88k-motorola-sysv4
++	;;
+     m88k:*:3*:R3*)
+-	echo m88k-motorola-sysv3
+-	exit ;;
++	GUESS=m88k-motorola-sysv3
++	;;
+     AViiON:dgux:*:*)
+ 	# DG/UX returns AViiON for all architectures
+ 	UNAME_PROCESSOR=`/usr/bin/uname -p`
+-	if [ "$UNAME_PROCESSOR" = mc88100 ] || [ "$UNAME_PROCESSOR" = mc88110 ]
++	if test "$UNAME_PROCESSOR" = mc88100 || test "$UNAME_PROCESSOR" = mc88110
+ 	then
+-	    if [ "$TARGET_BINARY_INTERFACE"x = m88kdguxelfx ] || \
+-	       [ "$TARGET_BINARY_INTERFACE"x = x ]
++	    if test "$TARGET_BINARY_INTERFACE"x = m88kdguxelfx || \
++	       test "$TARGET_BINARY_INTERFACE"x = x
+ 	    then
+-		echo m88k-dg-dgux"$UNAME_RELEASE"
++		GUESS=m88k-dg-dgux$UNAME_RELEASE
+ 	    else
+-		echo m88k-dg-dguxbcs"$UNAME_RELEASE"
++		GUESS=m88k-dg-dguxbcs$UNAME_RELEASE
+ 	    fi
+ 	else
+-	    echo i586-dg-dgux"$UNAME_RELEASE"
++	    GUESS=i586-dg-dgux$UNAME_RELEASE
+ 	fi
+-	exit ;;
++	;;
+     M88*:DolphinOS:*:*)	# DolphinOS (SVR3)
+-	echo m88k-dolphin-sysv3
+-	exit ;;
++	GUESS=m88k-dolphin-sysv3
++	;;
+     M88*:*:R3*:*)
+ 	# Delta 88k system running SVR3
+-	echo m88k-motorola-sysv3
+-	exit ;;
++	GUESS=m88k-motorola-sysv3
++	;;
+     XD88*:*:*:*) # Tektronix XD88 system running UTekV (SVR3)
+-	echo m88k-tektronix-sysv3
+-	exit ;;
++	GUESS=m88k-tektronix-sysv3
++	;;
+     Tek43[0-9][0-9]:UTek:*:*) # Tektronix 4300 system running UTek (BSD)
+-	echo m68k-tektronix-bsd
+-	exit ;;
++	GUESS=m68k-tektronix-bsd
++	;;
+     *:IRIX*:*:*)
+-	echo mips-sgi-irix"`echo "$UNAME_RELEASE"|sed -e 's/-/_/g'`"
+-	exit ;;
++	IRIX_REL=`echo "$UNAME_RELEASE" | sed -e 's/-/_/g'`
++	GUESS=mips-sgi-irix$IRIX_REL
++	;;
+     ????????:AIX?:[12].1:2)   # AIX 2.2.1 or AIX 2.1.1 is RT/PC AIX.
+-	echo romp-ibm-aix     # uname -m gives an 8 hex-code CPU id
+-	exit ;;               # Note that: echo "'`uname -s`'" gives 'AIX '
++	GUESS=romp-ibm-aix    # uname -m gives an 8 hex-code CPU id
++	;;                    # Note that: echo "'`uname -s`'" gives 'AIX '
+     i*86:AIX:*:*)
+-	echo i386-ibm-aix
+-	exit ;;
++	GUESS=i386-ibm-aix
++	;;
+     ia64:AIX:*:*)
+-	if [ -x /usr/bin/oslevel ] ; then
++	if test -x /usr/bin/oslevel ; then
+ 		IBM_REV=`/usr/bin/oslevel`
+ 	else
+-		IBM_REV="$UNAME_VERSION.$UNAME_RELEASE"
++		IBM_REV=$UNAME_VERSION.$UNAME_RELEASE
+ 	fi
+-	echo "$UNAME_MACHINE"-ibm-aix"$IBM_REV"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-ibm-aix$IBM_REV
++	;;
+     *:AIX:2:3)
+ 	if grep bos325 /usr/include/stdio.h >/dev/null 2>&1; then
+ 		set_cc_for_build
+ 		sed 's/^		//' << EOF > "$dummy.c"
+ 		#include <sys/systemcfg.h>
+ 
+-		main()
++		int
++		main ()
+ 			{
+ 			if (!__power_pc())
+ 				exit(1);
+@@ -603,16 +645,16 @@ EOF
+ EOF
+ 		if $CC_FOR_BUILD -o "$dummy" "$dummy.c" && SYSTEM_NAME=`"$dummy"`
+ 		then
+-			echo "$SYSTEM_NAME"
++			GUESS=$SYSTEM_NAME
+ 		else
+-			echo rs6000-ibm-aix3.2.5
++			GUESS=rs6000-ibm-aix3.2.5
+ 		fi
+ 	elif grep bos324 /usr/include/stdio.h >/dev/null 2>&1; then
+-		echo rs6000-ibm-aix3.2.4
++		GUESS=rs6000-ibm-aix3.2.4
+ 	else
+-		echo rs6000-ibm-aix3.2
++		GUESS=rs6000-ibm-aix3.2
+ 	fi
+-	exit ;;
++	;;
+     *:AIX:*:[4567])
+ 	IBM_CPU_ID=`/usr/sbin/lsdev -C -c processor -S available | sed 1q | awk '{ print $1 }'`
+ 	if /usr/sbin/lsattr -El "$IBM_CPU_ID" | grep ' POWER' >/dev/null 2>&1; then
+@@ -620,56 +662,56 @@ EOF
+ 	else
+ 		IBM_ARCH=powerpc
+ 	fi
+-	if [ -x /usr/bin/lslpp ] ; then
+-		IBM_REV=`/usr/bin/lslpp -Lqc bos.rte.libc |
++	if test -x /usr/bin/lslpp ; then
++		IBM_REV=`/usr/bin/lslpp -Lqc bos.rte.libc | \
+ 			   awk -F: '{ print $3 }' | sed s/[0-9]*$/0/`
+ 	else
+-		IBM_REV="$UNAME_VERSION.$UNAME_RELEASE"
++		IBM_REV=$UNAME_VERSION.$UNAME_RELEASE
+ 	fi
+-	echo "$IBM_ARCH"-ibm-aix"$IBM_REV"
+-	exit ;;
++	GUESS=$IBM_ARCH-ibm-aix$IBM_REV
++	;;
+     *:AIX:*:*)
+-	echo rs6000-ibm-aix
+-	exit ;;
++	GUESS=rs6000-ibm-aix
++	;;
+     ibmrt:4.4BSD:*|romp-ibm:4.4BSD:*)
+-	echo romp-ibm-bsd4.4
+-	exit ;;
++	GUESS=romp-ibm-bsd4.4
++	;;
+     ibmrt:*BSD:*|romp-ibm:BSD:*)            # covers RT/PC BSD and
+-	echo romp-ibm-bsd"$UNAME_RELEASE"   # 4.3 with uname added to
+-	exit ;;                             # report: romp-ibm BSD 4.3
++	GUESS=romp-ibm-bsd$UNAME_RELEASE    # 4.3 with uname added to
++	;;                                  # report: romp-ibm BSD 4.3
+     *:BOSX:*:*)
+-	echo rs6000-bull-bosx
+-	exit ;;
++	GUESS=rs6000-bull-bosx
++	;;
+     DPX/2?00:B.O.S.:*:*)
+-	echo m68k-bull-sysv3
+-	exit ;;
++	GUESS=m68k-bull-sysv3
++	;;
+     9000/[34]??:4.3bsd:1.*:*)
+-	echo m68k-hp-bsd
+-	exit ;;
++	GUESS=m68k-hp-bsd
++	;;
+     hp300:4.4BSD:*:* | 9000/[34]??:4.3bsd:2.*:*)
+-	echo m68k-hp-bsd4.4
+-	exit ;;
++	GUESS=m68k-hp-bsd4.4
++	;;
+     9000/[34678]??:HP-UX:*:*)
+-	HPUX_REV=`echo "$UNAME_RELEASE"|sed -e 's/[^.]*.[0B]*//'`
+-	case "$UNAME_MACHINE" in
++	HPUX_REV=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*.[0B]*//'`
++	case $UNAME_MACHINE in
+ 	    9000/31?)            HP_ARCH=m68000 ;;
+ 	    9000/[34]??)         HP_ARCH=m68k ;;
+ 	    9000/[678][0-9][0-9])
+-		if [ -x /usr/bin/getconf ]; then
++		if test -x /usr/bin/getconf; then
+ 		    sc_cpu_version=`/usr/bin/getconf SC_CPU_VERSION 2>/dev/null`
+ 		    sc_kernel_bits=`/usr/bin/getconf SC_KERNEL_BITS 2>/dev/null`
+-		    case "$sc_cpu_version" in
++		    case $sc_cpu_version in
+ 		      523) HP_ARCH=hppa1.0 ;; # CPU_PA_RISC1_0
+ 		      528) HP_ARCH=hppa1.1 ;; # CPU_PA_RISC1_1
+ 		      532)                      # CPU_PA_RISC2_0
+-			case "$sc_kernel_bits" in
++			case $sc_kernel_bits in
+ 			  32) HP_ARCH=hppa2.0n ;;
+ 			  64) HP_ARCH=hppa2.0w ;;
+ 			  '') HP_ARCH=hppa2.0 ;;   # HP-UX 10.20
+ 			esac ;;
+ 		    esac
+ 		fi
+-		if [ "$HP_ARCH" = "" ]; then
++		if test "$HP_ARCH" = ""; then
+ 		    set_cc_for_build
+ 		    sed 's/^		//' << EOF > "$dummy.c"
+ 
+@@ -677,7 +719,8 @@ EOF
+ 		#include <stdlib.h>
+ 		#include <unistd.h>
+ 
+-		int main ()
++		int
++		main ()
+ 		{
+ 		#if defined(_SC_KERNEL_BITS)
+ 		    long bits = sysconf(_SC_KERNEL_BITS);
+@@ -708,7 +751,7 @@ EOF
+ 		    test -z "$HP_ARCH" && HP_ARCH=hppa
+ 		fi ;;
+ 	esac
+-	if [ "$HP_ARCH" = hppa2.0w ]
++	if test "$HP_ARCH" = hppa2.0w
+ 	then
+ 	    set_cc_for_build
+ 
+@@ -729,12 +772,12 @@ EOF
+ 		HP_ARCH=hppa64
+ 	    fi
+ 	fi
+-	echo "$HP_ARCH"-hp-hpux"$HPUX_REV"
+-	exit ;;
++	GUESS=$HP_ARCH-hp-hpux$HPUX_REV
++	;;
+     ia64:HP-UX:*:*)
+-	HPUX_REV=`echo "$UNAME_RELEASE"|sed -e 's/[^.]*.[0B]*//'`
+-	echo ia64-hp-hpux"$HPUX_REV"
+-	exit ;;
++	HPUX_REV=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*.[0B]*//'`
++	GUESS=ia64-hp-hpux$HPUX_REV
++	;;
+     3050*:HI-UX:*:*)
+ 	set_cc_for_build
+ 	sed 's/^	//' << EOF > "$dummy.c"
+@@ -764,36 +807,36 @@ EOF
+ EOF
+ 	$CC_FOR_BUILD -o "$dummy" "$dummy.c" && SYSTEM_NAME=`"$dummy"` &&
+ 		{ echo "$SYSTEM_NAME"; exit; }
+-	echo unknown-hitachi-hiuxwe2
+-	exit ;;
++	GUESS=unknown-hitachi-hiuxwe2
++	;;
+     9000/7??:4.3bsd:*:* | 9000/8?[79]:4.3bsd:*:*)
+-	echo hppa1.1-hp-bsd
+-	exit ;;
++	GUESS=hppa1.1-hp-bsd
++	;;
+     9000/8??:4.3bsd:*:*)
+-	echo hppa1.0-hp-bsd
+-	exit ;;
++	GUESS=hppa1.0-hp-bsd
++	;;
+     *9??*:MPE/iX:*:* | *3000*:MPE/iX:*:*)
+-	echo hppa1.0-hp-mpeix
+-	exit ;;
++	GUESS=hppa1.0-hp-mpeix
++	;;
+     hp7??:OSF1:*:* | hp8?[79]:OSF1:*:*)
+-	echo hppa1.1-hp-osf
+-	exit ;;
++	GUESS=hppa1.1-hp-osf
++	;;
+     hp8??:OSF1:*:*)
+-	echo hppa1.0-hp-osf
+-	exit ;;
++	GUESS=hppa1.0-hp-osf
++	;;
+     i*86:OSF1:*:*)
+-	if [ -x /usr/sbin/sysversion ] ; then
+-	    echo "$UNAME_MACHINE"-unknown-osf1mk
++	if test -x /usr/sbin/sysversion ; then
++	    GUESS=$UNAME_MACHINE-unknown-osf1mk
+ 	else
+-	    echo "$UNAME_MACHINE"-unknown-osf1
++	    GUESS=$UNAME_MACHINE-unknown-osf1
+ 	fi
+-	exit ;;
++	;;
+     parisc*:Lites*:*:*)
+-	echo hppa1.1-hp-lites
+-	exit ;;
++	GUESS=hppa1.1-hp-lites
++	;;
+     C1*:ConvexOS:*:* | convex:ConvexOS:C1*:*)
+-	echo c1-convex-bsd
+-	exit ;;
++	GUESS=c1-convex-bsd
++	;;
+     C2*:ConvexOS:*:* | convex:ConvexOS:C2*:*)
+ 	if getsysinfo -f scalar_acc
+ 	then echo c32-convex-bsd
+@@ -801,17 +844,18 @@ EOF
+ 	fi
+ 	exit ;;
+     C34*:ConvexOS:*:* | convex:ConvexOS:C34*:*)
+-	echo c34-convex-bsd
+-	exit ;;
++	GUESS=c34-convex-bsd
++	;;
+     C38*:ConvexOS:*:* | convex:ConvexOS:C38*:*)
+-	echo c38-convex-bsd
+-	exit ;;
++	GUESS=c38-convex-bsd
++	;;
+     C4*:ConvexOS:*:* | convex:ConvexOS:C4*:*)
+-	echo c4-convex-bsd
+-	exit ;;
++	GUESS=c4-convex-bsd
++	;;
+     CRAY*Y-MP:*:*:*)
+-	echo ymp-cray-unicos"$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'
+-	exit ;;
++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
++	GUESS=ymp-cray-unicos$CRAY_REL
++	;;
+     CRAY*[A-Z]90:*:*:*)
+ 	echo "$UNAME_MACHINE"-cray-unicos"$UNAME_RELEASE" \
+ 	| sed -e 's/CRAY.*\([A-Z]90\)/\1/' \
+@@ -819,112 +863,153 @@ EOF
+ 	      -e 's/\.[^.]*$/.X/'
+ 	exit ;;
+     CRAY*TS:*:*:*)
+-	echo t90-cray-unicos"$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'
+-	exit ;;
++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
++	GUESS=t90-cray-unicos$CRAY_REL
++	;;
+     CRAY*T3E:*:*:*)
+-	echo alphaev5-cray-unicosmk"$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'
+-	exit ;;
++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
++	GUESS=alphaev5-cray-unicosmk$CRAY_REL
++	;;
+     CRAY*SV1:*:*:*)
+-	echo sv1-cray-unicos"$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'
+-	exit ;;
++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
++	GUESS=sv1-cray-unicos$CRAY_REL
++	;;
+     *:UNICOS/mp:*:*)
+-	echo craynv-cray-unicosmp"$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'
+-	exit ;;
++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
++	GUESS=craynv-cray-unicosmp$CRAY_REL
++	;;
+     F30[01]:UNIX_System_V:*:* | F700:UNIX_System_V:*:*)
+ 	FUJITSU_PROC=`uname -m | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz`
+ 	FUJITSU_SYS=`uname -p | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz | sed -e 's/\///'`
+ 	FUJITSU_REL=`echo "$UNAME_RELEASE" | sed -e 's/ /_/'`
+-	echo "${FUJITSU_PROC}-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}"
+-	exit ;;
++	GUESS=${FUJITSU_PROC}-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}
++	;;
+     5000:UNIX_System_V:4.*:*)
+ 	FUJITSU_SYS=`uname -p | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz | sed -e 's/\///'`
+ 	FUJITSU_REL=`echo "$UNAME_RELEASE" | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz | sed -e 's/ /_/'`
+-	echo "sparc-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}"
+-	exit ;;
++	GUESS=sparc-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}
++	;;
+     i*86:BSD/386:*:* | i*86:BSD/OS:*:* | *:Ascend\ Embedded/OS:*:*)
+-	echo "$UNAME_MACHINE"-pc-bsdi"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-pc-bsdi$UNAME_RELEASE
++	;;
+     sparc*:BSD/OS:*:*)
+-	echo sparc-unknown-bsdi"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=sparc-unknown-bsdi$UNAME_RELEASE
++	;;
+     *:BSD/OS:*:*)
+-	echo "$UNAME_MACHINE"-unknown-bsdi"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-bsdi$UNAME_RELEASE
++	;;
+     arm:FreeBSD:*:*)
+ 	UNAME_PROCESSOR=`uname -p`
+ 	set_cc_for_build
+ 	if echo __ARM_PCS_VFP | $CC_FOR_BUILD -E - 2>/dev/null \
+ 	    | grep -q __ARM_PCS_VFP
+ 	then
+-	    echo "${UNAME_PROCESSOR}"-unknown-freebsd"`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'`"-gnueabi
++	    FREEBSD_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
++	    GUESS=$UNAME_PROCESSOR-unknown-freebsd$FREEBSD_REL-gnueabi
+ 	else
+-	    echo "${UNAME_PROCESSOR}"-unknown-freebsd"`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'`"-gnueabihf
++	    FREEBSD_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
++	    GUESS=$UNAME_PROCESSOR-unknown-freebsd$FREEBSD_REL-gnueabihf
+ 	fi
+-	exit ;;
++	;;
+     *:FreeBSD:*:*)
+-	UNAME_PROCESSOR=`/usr/bin/uname -p`
+-	case "$UNAME_PROCESSOR" in
++	UNAME_PROCESSOR=`uname -p`
++	case $UNAME_PROCESSOR in
+ 	    amd64)
+ 		UNAME_PROCESSOR=x86_64 ;;
+ 	    i386)
+ 		UNAME_PROCESSOR=i586 ;;
+ 	esac
+-	echo "$UNAME_PROCESSOR"-unknown-freebsd"`echo "$UNAME_RELEASE"|sed -e 's/[-(].*//'`"
+-	exit ;;
++	FREEBSD_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
++	GUESS=$UNAME_PROCESSOR-unknown-freebsd$FREEBSD_REL
++	;;
+     i*:CYGWIN*:*)
+-	echo "$UNAME_MACHINE"-pc-cygwin
+-	exit ;;
++	GUESS=$UNAME_MACHINE-pc-cygwin
++	;;
+     *:MINGW64*:*)
+-	echo "$UNAME_MACHINE"-pc-mingw64
+-	exit ;;
++	GUESS=$UNAME_MACHINE-pc-mingw64
++	;;
+     *:MINGW*:*)
+-	echo "$UNAME_MACHINE"-pc-mingw32
+-	exit ;;
++	GUESS=$UNAME_MACHINE-pc-mingw32
++	;;
+     *:MSYS*:*)
+-	echo "$UNAME_MACHINE"-pc-msys
+-	exit ;;
++	GUESS=$UNAME_MACHINE-pc-msys
++	;;
+     i*:PW*:*)
+-	echo "$UNAME_MACHINE"-pc-pw32
+-	exit ;;
++	GUESS=$UNAME_MACHINE-pc-pw32
++	;;
++    *:SerenityOS:*:*)
++        GUESS=$UNAME_MACHINE-pc-serenity
++        ;;
+     *:Interix*:*)
+-	case "$UNAME_MACHINE" in
++	case $UNAME_MACHINE in
+ 	    x86)
+-		echo i586-pc-interix"$UNAME_RELEASE"
+-		exit ;;
++		GUESS=i586-pc-interix$UNAME_RELEASE
++		;;
+ 	    authenticamd | genuineintel | EM64T)
+-		echo x86_64-unknown-interix"$UNAME_RELEASE"
+-		exit ;;
++		GUESS=x86_64-unknown-interix$UNAME_RELEASE
++		;;
+ 	    IA64)
+-		echo ia64-unknown-interix"$UNAME_RELEASE"
+-		exit ;;
++		GUESS=ia64-unknown-interix$UNAME_RELEASE
++		;;
+ 	esac ;;
+     i*:UWIN*:*)
+-	echo "$UNAME_MACHINE"-pc-uwin
+-	exit ;;
++	GUESS=$UNAME_MACHINE-pc-uwin
++	;;
+     amd64:CYGWIN*:*:* | x86_64:CYGWIN*:*:*)
+-	echo x86_64-pc-cygwin
+-	exit ;;
++	GUESS=x86_64-pc-cygwin
++	;;
+     prep*:SunOS:5.*:*)
+-	echo powerpcle-unknown-solaris2"`echo "$UNAME_RELEASE"|sed -e 's/[^.]*//'`"
+-	exit ;;
++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
++	GUESS=powerpcle-unknown-solaris2$SUN_REL
++	;;
+     *:GNU:*:*)
+ 	# the GNU system
+-	echo "`echo "$UNAME_MACHINE"|sed -e 's,[-/].*$,,'`-unknown-$LIBC`echo "$UNAME_RELEASE"|sed -e 's,/.*$,,'`"
+-	exit ;;
++	GNU_ARCH=`echo "$UNAME_MACHINE" | sed -e 's,[-/].*$,,'`
++	GNU_REL=`echo "$UNAME_RELEASE" | sed -e 's,/.*$,,'`
++	GUESS=$GNU_ARCH-unknown-$LIBC$GNU_REL
++	;;
+     *:GNU/*:*:*)
+ 	# other systems with GNU libc and userland
+-	echo "$UNAME_MACHINE-unknown-`echo "$UNAME_SYSTEM" | sed 's,^[^/]*/,,' | tr "[:upper:]" "[:lower:]"``echo "$UNAME_RELEASE"|sed -e 's/[-(].*//'`-$LIBC"
+-	exit ;;
++	GNU_SYS=`echo "$UNAME_SYSTEM" | sed 's,^[^/]*/,,' | tr "[:upper:]" "[:lower:]"`
++	GNU_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
++	GUESS=$UNAME_MACHINE-unknown-$GNU_SYS$GNU_REL-$LIBC
++	;;
++    x86_64:[Mm]anagarm:*:*|i?86:[Mm]anagarm:*:*)
++	GUESS="$UNAME_MACHINE-pc-managarm-mlibc"
++	;;
++    *:[Mm]anagarm:*:*)
++	GUESS="$UNAME_MACHINE-unknown-managarm-mlibc"
++	;;
+     *:Minix:*:*)
+-	echo "$UNAME_MACHINE"-unknown-minix
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-minix
++	;;
+     aarch64:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	set_cc_for_build
++	CPU=$UNAME_MACHINE
++	LIBCABI=$LIBC
++	if test "$CC_FOR_BUILD" != no_compiler_found; then
++	    ABI=64
++	    sed 's/^	    //' << EOF > "$dummy.c"
++	    #ifdef __ARM_EABI__
++	    #ifdef __ARM_PCS_VFP
++	    ABI=eabihf
++	    #else
++	    ABI=eabi
++	    #endif
++	    #endif
++EOF
++	    cc_set_abi=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^ABI' | sed 's, ,,g'`
++	    eval "$cc_set_abi"
++	    case $ABI in
++		eabi | eabihf) CPU=armv8l; LIBCABI=$LIBC$ABI ;;
++	    esac
++	fi
++	GUESS=$CPU-unknown-linux-$LIBCABI
++	;;
+     aarch64_be:Linux:*:*)
+ 	UNAME_MACHINE=aarch64_be
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     alpha:Linux:*:*)
+ 	case `sed -n '/^cpu model/s/^.*: \(.*\)/\1/p' /proc/cpuinfo 2>/dev/null` in
+ 	  EV5)   UNAME_MACHINE=alphaev5 ;;
+@@ -937,60 +1022,72 @@ EOF
+ 	esac
+ 	objdump --private-headers /bin/sh | grep -q ld.so.1
+ 	if test "$?" = 0 ; then LIBC=gnulibc1 ; fi
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
+-    arc:Linux:*:* | arceb:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    arc:Linux:*:* | arceb:Linux:*:* | arc32:Linux:*:* | arc64:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     arm*:Linux:*:*)
+ 	set_cc_for_build
+ 	if echo __ARM_EABI__ | $CC_FOR_BUILD -E - 2>/dev/null \
+ 	    | grep -q __ARM_EABI__
+ 	then
+-	    echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++	    GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+ 	else
+ 	    if echo __ARM_PCS_VFP | $CC_FOR_BUILD -E - 2>/dev/null \
+ 		| grep -q __ARM_PCS_VFP
+ 	    then
+-		echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"eabi
++		GUESS=$UNAME_MACHINE-unknown-linux-${LIBC}eabi
+ 	    else
+-		echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"eabihf
++		GUESS=$UNAME_MACHINE-unknown-linux-${LIBC}eabihf
+ 	    fi
+ 	fi
+-	exit ;;
++	;;
+     avr32*:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     cris:Linux:*:*)
+-	echo "$UNAME_MACHINE"-axis-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-axis-linux-$LIBC
++	;;
+     crisv32:Linux:*:*)
+-	echo "$UNAME_MACHINE"-axis-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-axis-linux-$LIBC
++	;;
+     e2k:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     frv:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     hexagon:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     i*86:Linux:*:*)
+-	echo "$UNAME_MACHINE"-pc-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-pc-linux-$LIBC
++	;;
+     ia64:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     k1om:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    kvx:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    kvx:cos:*:*)
++	GUESS=$UNAME_MACHINE-unknown-cos
++	;;
++    kvx:mbr:*:*)
++	GUESS=$UNAME_MACHINE-unknown-mbr
++	;;
++    loongarch32:Linux:*:* | loongarch64:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     m32r*:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     m68*:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     mips:Linux:*:* | mips64:Linux:*:*)
+ 	set_cc_for_build
+ 	IS_GLIBC=0
+@@ -1035,123 +1132,135 @@ EOF
+ 	#endif
+ 	#endif
+ EOF
+-	eval "`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^CPU\|^MIPS_ENDIAN\|^LIBCABI'`"
++	cc_set_vars=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^CPU\|^MIPS_ENDIAN\|^LIBCABI'`
++	eval "$cc_set_vars"
+ 	test "x$CPU" != x && { echo "$CPU${MIPS_ENDIAN}-unknown-linux-$LIBCABI"; exit; }
+ 	;;
+     mips64el:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     openrisc*:Linux:*:*)
+-	echo or1k-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=or1k-unknown-linux-$LIBC
++	;;
+     or32:Linux:*:* | or1k*:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     padre:Linux:*:*)
+-	echo sparc-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=sparc-unknown-linux-$LIBC
++	;;
+     parisc64:Linux:*:* | hppa64:Linux:*:*)
+-	echo hppa64-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=hppa64-unknown-linux-$LIBC
++	;;
+     parisc:Linux:*:* | hppa:Linux:*:*)
+ 	# Look for CPU level
+ 	case `grep '^cpu[^a-z]*:' /proc/cpuinfo 2>/dev/null | cut -d' ' -f2` in
+-	  PA7*) echo hppa1.1-unknown-linux-"$LIBC" ;;
+-	  PA8*) echo hppa2.0-unknown-linux-"$LIBC" ;;
+-	  *)    echo hppa-unknown-linux-"$LIBC" ;;
++	  PA7*) GUESS=hppa1.1-unknown-linux-$LIBC ;;
++	  PA8*) GUESS=hppa2.0-unknown-linux-$LIBC ;;
++	  *)    GUESS=hppa-unknown-linux-$LIBC ;;
+ 	esac
+-	exit ;;
++	;;
+     ppc64:Linux:*:*)
+-	echo powerpc64-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=powerpc64-unknown-linux-$LIBC
++	;;
+     ppc:Linux:*:*)
+-	echo powerpc-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=powerpc-unknown-linux-$LIBC
++	;;
+     ppc64le:Linux:*:*)
+-	echo powerpc64le-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=powerpc64le-unknown-linux-$LIBC
++	;;
+     ppcle:Linux:*:*)
+-	echo powerpcle-unknown-linux-"$LIBC"
+-	exit ;;
+-    riscv32:Linux:*:* | riscv64:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=powerpcle-unknown-linux-$LIBC
++	;;
++    riscv32:Linux:*:* | riscv32be:Linux:*:* | riscv64:Linux:*:* | riscv64be:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     s390:Linux:*:* | s390x:Linux:*:*)
+-	echo "$UNAME_MACHINE"-ibm-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-ibm-linux-$LIBC
++	;;
+     sh64*:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     sh*:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     sparc:Linux:*:* | sparc64:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     tile*:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     vax:Linux:*:*)
+-	echo "$UNAME_MACHINE"-dec-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-dec-linux-$LIBC
++	;;
+     x86_64:Linux:*:*)
+ 	set_cc_for_build
++	CPU=$UNAME_MACHINE
+ 	LIBCABI=$LIBC
+-	if [ "$CC_FOR_BUILD" != no_compiler_found ]; then
+-	    if (echo '#ifdef __ILP32__'; echo IS_X32; echo '#endif') | \
+-		(CCOPTS="" $CC_FOR_BUILD -E - 2>/dev/null) | \
+-		grep IS_X32 >/dev/null
+-	    then
+-		LIBCABI="$LIBC"x32
+-	    fi
++	if test "$CC_FOR_BUILD" != no_compiler_found; then
++	    ABI=64
++	    sed 's/^	    //' << EOF > "$dummy.c"
++	    #ifdef __i386__
++	    ABI=x86
++	    #else
++	    #ifdef __ILP32__
++	    ABI=x32
++	    #endif
++	    #endif
++EOF
++	    cc_set_abi=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^ABI' | sed 's, ,,g'`
++	    eval "$cc_set_abi"
++	    case $ABI in
++		x86) CPU=i686 ;;
++		x32) LIBCABI=${LIBC}x32 ;;
++	    esac
+ 	fi
+-	echo "$UNAME_MACHINE"-pc-linux-"$LIBCABI"
+-	exit ;;
++	GUESS=$CPU-pc-linux-$LIBCABI
++	;;
+     xtensa*:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     i*86:DYNIX/ptx:4*:*)
+ 	# ptx 4.0 does uname -s correctly, with DYNIX/ptx in there.
+ 	# earlier versions are messed up and put the nodename in both
+ 	# sysname and nodename.
+-	echo i386-sequent-sysv4
+-	exit ;;
++	GUESS=i386-sequent-sysv4
++	;;
+     i*86:UNIX_SV:4.2MP:2.*)
+ 	# Unixware is an offshoot of SVR4, but it has its own version
+ 	# number series starting with 2...
+ 	# I am not positive that other SVR4 systems won't match this,
+ 	# I just have to hope.  -- rms.
+ 	# Use sysv4.2uw... so that sysv4* matches it.
+-	echo "$UNAME_MACHINE"-pc-sysv4.2uw"$UNAME_VERSION"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-pc-sysv4.2uw$UNAME_VERSION
++	;;
+     i*86:OS/2:*:*)
+-	# If we were able to find `uname', then EMX Unix compatibility
++	# If we were able to find 'uname', then EMX Unix compatibility
+ 	# is probably installed.
+-	echo "$UNAME_MACHINE"-pc-os2-emx
+-	exit ;;
++	GUESS=$UNAME_MACHINE-pc-os2-emx
++	;;
+     i*86:XTS-300:*:STOP)
+-	echo "$UNAME_MACHINE"-unknown-stop
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-stop
++	;;
+     i*86:atheos:*:*)
+-	echo "$UNAME_MACHINE"-unknown-atheos
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-atheos
++	;;
+     i*86:syllable:*:*)
+-	echo "$UNAME_MACHINE"-pc-syllable
+-	exit ;;
++	GUESS=$UNAME_MACHINE-pc-syllable
++	;;
+     i*86:LynxOS:2.*:* | i*86:LynxOS:3.[01]*:* | i*86:LynxOS:4.[02]*:*)
+-	echo i386-unknown-lynxos"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=i386-unknown-lynxos$UNAME_RELEASE
++	;;
+     i*86:*DOS:*:*)
+-	echo "$UNAME_MACHINE"-pc-msdosdjgpp
+-	exit ;;
++	GUESS=$UNAME_MACHINE-pc-msdosdjgpp
++	;;
+     i*86:*:4.*:*)
+ 	UNAME_REL=`echo "$UNAME_RELEASE" | sed 's/\/MP$//'`
+ 	if grep Novell /usr/include/link.h >/dev/null 2>/dev/null; then
+-		echo "$UNAME_MACHINE"-univel-sysv"$UNAME_REL"
++		GUESS=$UNAME_MACHINE-univel-sysv$UNAME_REL
+ 	else
+-		echo "$UNAME_MACHINE"-pc-sysv"$UNAME_REL"
++		GUESS=$UNAME_MACHINE-pc-sysv$UNAME_REL
+ 	fi
+-	exit ;;
++	;;
+     i*86:*:5:[678]*)
+ 	# UnixWare 7.x, OpenUNIX and OpenServer 6.
+ 	case `/bin/uname -X | grep "^Machine"` in
+@@ -1159,12 +1268,12 @@ EOF
+ 	    *Pentium)	     UNAME_MACHINE=i586 ;;
+ 	    *Pent*|*Celeron) UNAME_MACHINE=i686 ;;
+ 	esac
+-	echo "$UNAME_MACHINE-unknown-sysv${UNAME_RELEASE}${UNAME_SYSTEM}${UNAME_VERSION}"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-sysv${UNAME_RELEASE}${UNAME_SYSTEM}${UNAME_VERSION}
++	;;
+     i*86:*:3.2:*)
+ 	if test -f /usr/options/cb.name; then
+ 		UNAME_REL=`sed -n 's/.*Version //p' </usr/options/cb.name`
+-		echo "$UNAME_MACHINE"-pc-isc"$UNAME_REL"
++		GUESS=$UNAME_MACHINE-pc-isc$UNAME_REL
+ 	elif /bin/uname -X 2>/dev/null >/dev/null ; then
+ 		UNAME_REL=`(/bin/uname -X|grep Release|sed -e 's/.*= //')`
+ 		(/bin/uname -X|grep i80486 >/dev/null) && UNAME_MACHINE=i486
+@@ -1174,11 +1283,11 @@ EOF
+ 			&& UNAME_MACHINE=i686
+ 		(/bin/uname -X|grep '^Machine.*Pentium Pro' >/dev/null) \
+ 			&& UNAME_MACHINE=i686
+-		echo "$UNAME_MACHINE"-pc-sco"$UNAME_REL"
++		GUESS=$UNAME_MACHINE-pc-sco$UNAME_REL
+ 	else
+-		echo "$UNAME_MACHINE"-pc-sysv32
++		GUESS=$UNAME_MACHINE-pc-sysv32
+ 	fi
+-	exit ;;
++	;;
+     pc:*:*:*)
+ 	# Left here for compatibility:
+ 	# uname -m prints for DJGPP always 'pc', but it prints nothing about
+@@ -1186,31 +1295,31 @@ EOF
+ 	# Note: whatever this is, it MUST be the same as what config.sub
+ 	# prints for the "djgpp" host, or else GDB configure will decide that
+ 	# this is a cross-build.
+-	echo i586-pc-msdosdjgpp
+-	exit ;;
++	GUESS=i586-pc-msdosdjgpp
++	;;
+     Intel:Mach:3*:*)
+-	echo i386-pc-mach3
+-	exit ;;
++	GUESS=i386-pc-mach3
++	;;
+     paragon:*:*:*)
+-	echo i860-intel-osf1
+-	exit ;;
++	GUESS=i860-intel-osf1
++	;;
+     i860:*:4.*:*) # i860-SVR4
+ 	if grep Stardent /usr/include/sys/uadmin.h >/dev/null 2>&1 ; then
+-	  echo i860-stardent-sysv"$UNAME_RELEASE" # Stardent Vistra i860-SVR4
++	  GUESS=i860-stardent-sysv$UNAME_RELEASE    # Stardent Vistra i860-SVR4
+ 	else # Add other i860-SVR4 vendors below as they are discovered.
+-	  echo i860-unknown-sysv"$UNAME_RELEASE"  # Unknown i860-SVR4
++	  GUESS=i860-unknown-sysv$UNAME_RELEASE     # Unknown i860-SVR4
+ 	fi
+-	exit ;;
++	;;
+     mini*:CTIX:SYS*5:*)
+ 	# "miniframe"
+-	echo m68010-convergent-sysv
+-	exit ;;
++	GUESS=m68010-convergent-sysv
++	;;
+     mc68k:UNIX:SYSTEM5:3.51m)
+-	echo m68k-convergent-sysv
+-	exit ;;
++	GUESS=m68k-convergent-sysv
++	;;
+     M680?0:D-NIX:5.3:*)
+-	echo m68k-diab-dnix
+-	exit ;;
++	GUESS=m68k-diab-dnix
++	;;
+     M68*:*:R3V[5678]*:*)
+ 	test -r /sysV68 && { echo 'm68k-motorola-sysv'; exit; } ;;
+     3[345]??:*:4.0:3.0 | 3[34]??A:*:4.0:3.0 | 3[34]??,*:*:4.0:3.0 | 3[34]??/*:*:4.0:3.0 | 4400:*:4.0:3.0 | 4850:*:4.0:3.0 | SKA40:*:4.0:3.0 | SDS2:*:4.0:3.0 | SHG2:*:4.0:3.0 | S7501*:*:4.0:3.0)
+@@ -1235,116 +1344,119 @@ EOF
+ 	/bin/uname -p 2>/dev/null | /bin/grep pteron >/dev/null \
+ 	    && { echo i586-ncr-sysv4.3"$OS_REL"; exit; } ;;
+     m68*:LynxOS:2.*:* | m68*:LynxOS:3.0*:*)
+-	echo m68k-unknown-lynxos"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=m68k-unknown-lynxos$UNAME_RELEASE
++	;;
+     mc68030:UNIX_System_V:4.*:*)
+-	echo m68k-atari-sysv4
+-	exit ;;
++	GUESS=m68k-atari-sysv4
++	;;
+     TSUNAMI:LynxOS:2.*:*)
+-	echo sparc-unknown-lynxos"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=sparc-unknown-lynxos$UNAME_RELEASE
++	;;
+     rs6000:LynxOS:2.*:*)
+-	echo rs6000-unknown-lynxos"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=rs6000-unknown-lynxos$UNAME_RELEASE
++	;;
+     PowerPC:LynxOS:2.*:* | PowerPC:LynxOS:3.[01]*:* | PowerPC:LynxOS:4.[02]*:*)
+-	echo powerpc-unknown-lynxos"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=powerpc-unknown-lynxos$UNAME_RELEASE
++	;;
+     SM[BE]S:UNIX_SV:*:*)
+-	echo mips-dde-sysv"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=mips-dde-sysv$UNAME_RELEASE
++	;;
+     RM*:ReliantUNIX-*:*:*)
+-	echo mips-sni-sysv4
+-	exit ;;
++	GUESS=mips-sni-sysv4
++	;;
+     RM*:SINIX-*:*:*)
+-	echo mips-sni-sysv4
+-	exit ;;
++	GUESS=mips-sni-sysv4
++	;;
+     *:SINIX-*:*:*)
+ 	if uname -p 2>/dev/null >/dev/null ; then
+ 		UNAME_MACHINE=`(uname -p) 2>/dev/null`
+-		echo "$UNAME_MACHINE"-sni-sysv4
++		GUESS=$UNAME_MACHINE-sni-sysv4
+ 	else
+-		echo ns32k-sni-sysv
++		GUESS=ns32k-sni-sysv
+ 	fi
+-	exit ;;
+-    PENTIUM:*:4.0*:*)	# Unisys `ClearPath HMP IX 4000' SVR4/MP effort
++	;;
++    PENTIUM:*:4.0*:*)	# Unisys 'ClearPath HMP IX 4000' SVR4/MP effort
+ 			# says <Richard.M.Bartel@ccMail.Census.GOV>
+-	echo i586-unisys-sysv4
+-	exit ;;
++	GUESS=i586-unisys-sysv4
++	;;
+     *:UNIX_System_V:4*:FTX*)
+ 	# From Gerald Hewes <hewes@openmarket.com>.
+ 	# How about differentiating between stratus architectures? -djm
+-	echo hppa1.1-stratus-sysv4
+-	exit ;;
++	GUESS=hppa1.1-stratus-sysv4
++	;;
+     *:*:*:FTX*)
+ 	# From seanf@swdc.stratus.com.
+-	echo i860-stratus-sysv4
+-	exit ;;
++	GUESS=i860-stratus-sysv4
++	;;
+     i*86:VOS:*:*)
+ 	# From Paul.Green@stratus.com.
+-	echo "$UNAME_MACHINE"-stratus-vos
+-	exit ;;
++	GUESS=$UNAME_MACHINE-stratus-vos
++	;;
+     *:VOS:*:*)
+ 	# From Paul.Green@stratus.com.
+-	echo hppa1.1-stratus-vos
+-	exit ;;
++	GUESS=hppa1.1-stratus-vos
++	;;
+     mc68*:A/UX:*:*)
+-	echo m68k-apple-aux"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=m68k-apple-aux$UNAME_RELEASE
++	;;
+     news*:NEWS-OS:6*:*)
+-	echo mips-sony-newsos6
+-	exit ;;
++	GUESS=mips-sony-newsos6
++	;;
+     R[34]000:*System_V*:*:* | R4000:UNIX_SYSV:*:* | R*000:UNIX_SV:*:*)
+-	if [ -d /usr/nec ]; then
+-		echo mips-nec-sysv"$UNAME_RELEASE"
++	if test -d /usr/nec; then
++		GUESS=mips-nec-sysv$UNAME_RELEASE
+ 	else
+-		echo mips-unknown-sysv"$UNAME_RELEASE"
++		GUESS=mips-unknown-sysv$UNAME_RELEASE
+ 	fi
+-	exit ;;
++	;;
+     BeBox:BeOS:*:*)	# BeOS running on hardware made by Be, PPC only.
+-	echo powerpc-be-beos
+-	exit ;;
++	GUESS=powerpc-be-beos
++	;;
+     BeMac:BeOS:*:*)	# BeOS running on Mac or Mac clone, PPC only.
+-	echo powerpc-apple-beos
+-	exit ;;
++	GUESS=powerpc-apple-beos
++	;;
+     BePC:BeOS:*:*)	# BeOS running on Intel PC compatible.
+-	echo i586-pc-beos
+-	exit ;;
++	GUESS=i586-pc-beos
++	;;
+     BePC:Haiku:*:*)	# Haiku running on Intel PC compatible.
+-	echo i586-pc-haiku
+-	exit ;;
+-    x86_64:Haiku:*:*)
+-	echo x86_64-unknown-haiku
+-	exit ;;
++	GUESS=i586-pc-haiku
++	;;
++    ppc:Haiku:*:*)	# Haiku running on Apple PowerPC
++	GUESS=powerpc-apple-haiku
++	;;
++    *:Haiku:*:*)	# Haiku modern gcc (not bound by BeOS compat)
++	GUESS=$UNAME_MACHINE-unknown-haiku
++	;;
+     SX-4:SUPER-UX:*:*)
+-	echo sx4-nec-superux"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=sx4-nec-superux$UNAME_RELEASE
++	;;
+     SX-5:SUPER-UX:*:*)
+-	echo sx5-nec-superux"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=sx5-nec-superux$UNAME_RELEASE
++	;;
+     SX-6:SUPER-UX:*:*)
+-	echo sx6-nec-superux"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=sx6-nec-superux$UNAME_RELEASE
++	;;
+     SX-7:SUPER-UX:*:*)
+-	echo sx7-nec-superux"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=sx7-nec-superux$UNAME_RELEASE
++	;;
+     SX-8:SUPER-UX:*:*)
+-	echo sx8-nec-superux"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=sx8-nec-superux$UNAME_RELEASE
++	;;
+     SX-8R:SUPER-UX:*:*)
+-	echo sx8r-nec-superux"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=sx8r-nec-superux$UNAME_RELEASE
++	;;
+     SX-ACE:SUPER-UX:*:*)
+-	echo sxace-nec-superux"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=sxace-nec-superux$UNAME_RELEASE
++	;;
+     Power*:Rhapsody:*:*)
+-	echo powerpc-apple-rhapsody"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=powerpc-apple-rhapsody$UNAME_RELEASE
++	;;
+     *:Rhapsody:*:*)
+-	echo "$UNAME_MACHINE"-apple-rhapsody"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-apple-rhapsody$UNAME_RELEASE
++	;;
+     arm64:Darwin:*:*)
+-	echo aarch64-apple-darwin"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=aarch64-apple-darwin$UNAME_RELEASE
++	;;
+     *:Darwin:*:*)
+ 	UNAME_PROCESSOR=`uname -p`
+ 	case $UNAME_PROCESSOR in
+@@ -1359,7 +1471,7 @@ EOF
+ 	else
+ 	    set_cc_for_build
+ 	fi
+-	if [ "$CC_FOR_BUILD" != no_compiler_found ]; then
++	if test "$CC_FOR_BUILD" != no_compiler_found; then
+ 	    if (echo '#ifdef __LP64__'; echo IS_64BIT_ARCH; echo '#endif') | \
+ 		   (CCOPTS="" $CC_FOR_BUILD -E - 2>/dev/null) | \
+ 		   grep IS_64BIT_ARCH >/dev/null
+@@ -1380,109 +1492,122 @@ EOF
+ 	    # uname -m returns i386 or x86_64
+ 	    UNAME_PROCESSOR=$UNAME_MACHINE
+ 	fi
+-	echo "$UNAME_PROCESSOR"-apple-darwin"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=$UNAME_PROCESSOR-apple-darwin$UNAME_RELEASE
++	;;
+     *:procnto*:*:* | *:QNX:[0123456789]*:*)
+ 	UNAME_PROCESSOR=`uname -p`
+ 	if test "$UNAME_PROCESSOR" = x86; then
+ 		UNAME_PROCESSOR=i386
+ 		UNAME_MACHINE=pc
+ 	fi
+-	echo "$UNAME_PROCESSOR"-"$UNAME_MACHINE"-nto-qnx"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=$UNAME_PROCESSOR-$UNAME_MACHINE-nto-qnx$UNAME_RELEASE
++	;;
+     *:QNX:*:4*)
+-	echo i386-pc-qnx
+-	exit ;;
++	GUESS=i386-pc-qnx
++	;;
+     NEO-*:NONSTOP_KERNEL:*:*)
+-	echo neo-tandem-nsk"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=neo-tandem-nsk$UNAME_RELEASE
++	;;
+     NSE-*:NONSTOP_KERNEL:*:*)
+-	echo nse-tandem-nsk"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=nse-tandem-nsk$UNAME_RELEASE
++	;;
+     NSR-*:NONSTOP_KERNEL:*:*)
+-	echo nsr-tandem-nsk"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=nsr-tandem-nsk$UNAME_RELEASE
++	;;
+     NSV-*:NONSTOP_KERNEL:*:*)
+-	echo nsv-tandem-nsk"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=nsv-tandem-nsk$UNAME_RELEASE
++	;;
+     NSX-*:NONSTOP_KERNEL:*:*)
+-	echo nsx-tandem-nsk"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=nsx-tandem-nsk$UNAME_RELEASE
++	;;
+     *:NonStop-UX:*:*)
+-	echo mips-compaq-nonstopux
+-	exit ;;
++	GUESS=mips-compaq-nonstopux
++	;;
+     BS2000:POSIX*:*:*)
+-	echo bs2000-siemens-sysv
+-	exit ;;
++	GUESS=bs2000-siemens-sysv
++	;;
+     DS/*:UNIX_System_V:*:*)
+-	echo "$UNAME_MACHINE"-"$UNAME_SYSTEM"-"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-$UNAME_SYSTEM-$UNAME_RELEASE
++	;;
+     *:Plan9:*:*)
+ 	# "uname -m" is not consistent, so use $cputype instead. 386
+ 	# is converted to i386 for consistency with other x86
+ 	# operating systems.
+-	# shellcheck disable=SC2154
+-	if test "$cputype" = 386; then
++	if test "${cputype-}" = 386; then
+ 	    UNAME_MACHINE=i386
+-	else
+-	    UNAME_MACHINE="$cputype"
++	elif test "x${cputype-}" != x; then
++	    UNAME_MACHINE=$cputype
+ 	fi
+-	echo "$UNAME_MACHINE"-unknown-plan9
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-plan9
++	;;
+     *:TOPS-10:*:*)
+-	echo pdp10-unknown-tops10
+-	exit ;;
++	GUESS=pdp10-unknown-tops10
++	;;
+     *:TENEX:*:*)
+-	echo pdp10-unknown-tenex
+-	exit ;;
++	GUESS=pdp10-unknown-tenex
++	;;
+     KS10:TOPS-20:*:* | KL10:TOPS-20:*:* | TYPE4:TOPS-20:*:*)
+-	echo pdp10-dec-tops20
+-	exit ;;
++	GUESS=pdp10-dec-tops20
++	;;
+     XKL-1:TOPS-20:*:* | TYPE5:TOPS-20:*:*)
+-	echo pdp10-xkl-tops20
+-	exit ;;
++	GUESS=pdp10-xkl-tops20
++	;;
+     *:TOPS-20:*:*)
+-	echo pdp10-unknown-tops20
+-	exit ;;
++	GUESS=pdp10-unknown-tops20
++	;;
+     *:ITS:*:*)
+-	echo pdp10-unknown-its
+-	exit ;;
++	GUESS=pdp10-unknown-its
++	;;
+     SEI:*:*:SEIUX)
+-	echo mips-sei-seiux"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=mips-sei-seiux$UNAME_RELEASE
++	;;
+     *:DragonFly:*:*)
+-	echo "$UNAME_MACHINE"-unknown-dragonfly"`echo "$UNAME_RELEASE"|sed -e 's/[-(].*//'`"
+-	exit ;;
++	DRAGONFLY_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
++	GUESS=$UNAME_MACHINE-unknown-dragonfly$DRAGONFLY_REL
++	;;
+     *:*VMS:*:*)
+ 	UNAME_MACHINE=`(uname -p) 2>/dev/null`
+-	case "$UNAME_MACHINE" in
+-	    A*) echo alpha-dec-vms ; exit ;;
+-	    I*) echo ia64-dec-vms ; exit ;;
+-	    V*) echo vax-dec-vms ; exit ;;
++	case $UNAME_MACHINE in
++	    A*) GUESS=alpha-dec-vms ;;
++	    I*) GUESS=ia64-dec-vms ;;
++	    V*) GUESS=vax-dec-vms ;;
+ 	esac ;;
+     *:XENIX:*:SysV)
+-	echo i386-pc-xenix
+-	exit ;;
++	GUESS=i386-pc-xenix
++	;;
+     i*86:skyos:*:*)
+-	echo "$UNAME_MACHINE"-pc-skyos"`echo "$UNAME_RELEASE" | sed -e 's/ .*$//'`"
+-	exit ;;
++	SKYOS_REL=`echo "$UNAME_RELEASE" | sed -e 's/ .*$//'`
++	GUESS=$UNAME_MACHINE-pc-skyos$SKYOS_REL
++	;;
+     i*86:rdos:*:*)
+-	echo "$UNAME_MACHINE"-pc-rdos
+-	exit ;;
+-    i*86:AROS:*:*)
+-	echo "$UNAME_MACHINE"-pc-aros
+-	exit ;;
++	GUESS=$UNAME_MACHINE-pc-rdos
++	;;
++    i*86:Fiwix:*:*)
++	GUESS=$UNAME_MACHINE-pc-fiwix
++	;;
++    *:AROS:*:*)
++	GUESS=$UNAME_MACHINE-unknown-aros
++	;;
+     x86_64:VMkernel:*:*)
+-	echo "$UNAME_MACHINE"-unknown-esx
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-esx
++	;;
+     amd64:Isilon\ OneFS:*:*)
+-	echo x86_64-unknown-onefs
+-	exit ;;
++	GUESS=x86_64-unknown-onefs
++	;;
+     *:Unleashed:*:*)
+-	echo "$UNAME_MACHINE"-unknown-unleashed"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-unleashed$UNAME_RELEASE
++	;;
++    *:Ironclad:*:*)
++	GUESS=$UNAME_MACHINE-unknown-ironclad
++	;;
+ esac
+ 
++# Do we have a guess based on uname results?
++if test "x$GUESS" != x; then
++    echo "$GUESS"
++    exit
++fi
++
+ # No uname command or uname output not recognized.
+ set_cc_for_build
+ cat > "$dummy.c" <<EOF
+@@ -1498,6 +1623,7 @@ cat > "$dummy.c" <<EOF
+ #endif
+ #endif
+ #endif
++int
+ main ()
+ {
+ #if defined (sony)
+@@ -1614,7 +1740,7 @@ main ()
+ }
+ EOF
+ 
+-$CC_FOR_BUILD -o "$dummy" "$dummy.c" 2>/dev/null && SYSTEM_NAME=`$dummy` &&
++$CC_FOR_BUILD -o "$dummy" "$dummy.c" 2>/dev/null && SYSTEM_NAME=`"$dummy"` &&
+ 	{ echo "$SYSTEM_NAME"; exit; }
+ 
+ # Apollos put the system type in the environment.
+@@ -1622,7 +1748,7 @@ test -d /usr/apollo && { echo "$ISP-apollo-$SYSTYPE"; exit; }
+ 
+ echo "$0: unable to guess system type" >&2
+ 
+-case "$UNAME_MACHINE:$UNAME_SYSTEM" in
++case $UNAME_MACHINE:$UNAME_SYSTEM in
+     mips:Linux | mips64:Linux)
+ 	# If we got here on MIPS GNU/Linux, output extra information.
+ 	cat >&2 <<EOF
+@@ -1639,14 +1765,16 @@ This script (version $timestamp), has failed to recognize the
+ operating system you are using. If your script is old, overwrite *all*
+ copies of config.guess and config.sub with the latest versions from:
+ 
+-  https://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.guess
++  https://git.savannah.gnu.org/cgit/config.git/plain/config.guess
+ and
+-  https://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.sub
++  https://git.savannah.gnu.org/cgit/config.git/plain/config.sub
+ EOF
+ 
+-year=`echo $timestamp | sed 's,-.*,,'`
++our_year=`echo $timestamp | sed 's,-.*,,'`
++thisyear=`date +%Y`
+ # shellcheck disable=SC2003
+-if test "`expr "\`date +%Y\`" - "$year"`" -lt 3 ; then
++script_age=`expr "$thisyear" - "$our_year"`
++if test "$script_age" -lt 3 ; then
+    cat >&2 <<EOF
+ 
+ If $0 has already been updated, send the following data and any
+diff --git a/config.sub b/config.sub
+index acbba51cc..4aaae46f6 100644
+--- a/config.sub
++++ b/config.sub
+@@ -1,12 +1,14 @@
+ #! /bin/sh
+ # Configuration validation subroutine script.
+-#   Copyright 1992-2020 Free Software Foundation, Inc.
++#   Copyright 1992-2024 Free Software Foundation, Inc.
+ 
+-timestamp='2020-08-06'
++# shellcheck disable=SC2006,SC2268,SC2162 # see below for rationale
++
++timestamp='2024-05-27'
+ 
+ # This file is free software; you can redistribute it and/or modify it
+ # under the terms of the GNU General Public License as published by
+-# the Free Software Foundation; either version 3 of the License, or
++# the Free Software Foundation, either version 3 of the License, or
+ # (at your option) any later version.
+ #
+ # This program is distributed in the hope that it will be useful, but
+@@ -33,7 +35,7 @@ timestamp='2020-08-06'
+ # Otherwise, we print the canonical config type on stdout and succeed.
+ 
+ # You can get the latest version of this script from:
+-# https://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.sub
++# https://git.savannah.gnu.org/cgit/config.git/plain/config.sub
+ 
+ # This file is supposed to be the same for all GNU packages
+ # and recognize all the CPU types, system types and aliases
+@@ -50,6 +52,13 @@ timestamp='2020-08-06'
+ #	CPU_TYPE-MANUFACTURER-KERNEL-OPERATING_SYSTEM
+ # It is wrong to echo any other type of specification.
+ 
++# The "shellcheck disable" line above the timestamp inhibits complaints
++# about features and limitations of the classic Bourne shell that were
++# superseded or lifted in POSIX.  However, this script identifies a wide
++# variety of pre-POSIX systems that do not have POSIX shells at all, and
++# even some reasonably current systems (Solaris 10 as case-in-point) still
++# have a pre-POSIX /bin/sh.
++
+ me=`echo "$0" | sed -e 's,.*/,,'`
+ 
+ usage="\
+@@ -67,13 +76,13 @@ Report bugs and patches to <config-patches@gnu.org>."
+ version="\
+ GNU config.sub ($timestamp)
+ 
+-Copyright 1992-2020 Free Software Foundation, Inc.
++Copyright 1992-2024 Free Software Foundation, Inc.
+ 
+ This is free software; see the source for copying conditions.  There is NO
+ warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."
+ 
+ help="
+-Try \`$me --help' for more information."
++Try '$me --help' for more information."
+ 
+ # Parse command line
+ while test $# -gt 0 ; do
+@@ -111,15 +120,16 @@ case $# in
+ esac
+ 
+ # Split fields of configuration type
+-# shellcheck disable=SC2162
++saved_IFS=$IFS
+ IFS="-" read field1 field2 field3 field4 <<EOF
+ $1
+ EOF
++IFS=$saved_IFS
+ 
+ # Separate into logical components for further validation
+ case $1 in
+ 	*-*-*-*-*)
+-		echo Invalid configuration \`"$1"\': more than four components >&2
++		echo "Invalid configuration '$1': more than four components" >&2
+ 		exit 1
+ 		;;
+ 	*-*-*-*)
+@@ -131,10 +141,21 @@ case $1 in
+ 		# parts
+ 		maybe_os=$field2-$field3
+ 		case $maybe_os in
+-			nto-qnx* | linux-* | uclinux-uclibc* \
+-			| uclinux-gnu* | kfreebsd*-gnu* | knetbsd*-gnu* | netbsd*-gnu* \
+-			| netbsd*-eabi* | kopensolaris*-gnu* | cloudabi*-eabi* \
+-			| storm-chaos* | os2-emx* | rtmk-nova*)
++			  cloudabi*-eabi* \
++			| kfreebsd*-gnu* \
++			| knetbsd*-gnu* \
++			| kopensolaris*-gnu* \
++			| linux-* \
++			| managarm-* \
++			| netbsd*-eabi* \
++			| netbsd*-gnu* \
++			| nto-qnx* \
++			| os2-emx* \
++			| rtmk-nova* \
++			| storm-chaos* \
++			| uclinux-gnu* \
++			| uclinux-uclibc* \
++			| windows-* )
+ 				basic_machine=$field1
+ 				basic_os=$maybe_os
+ 				;;
+@@ -149,8 +170,12 @@ case $1 in
+ 		esac
+ 		;;
+ 	*-*)
+-		# A lone config we happen to match not fitting any pattern
+ 		case $field1-$field2 in
++			# Shorthands that happen to contain a single dash
++			convex-c[12] | convex-c3[248])
++				basic_machine=$field2-convex
++				basic_os=
++				;;
+ 			decstation-3100)
+ 				basic_machine=mips-dec
+ 				basic_os=
+@@ -158,24 +183,88 @@ case $1 in
+ 			*-*)
+ 				# Second component is usually, but not always the OS
+ 				case $field2 in
+-					# Prevent following clause from handling this valid os
++					# Do not treat sunos as a manufacturer
+ 					sun*os*)
+ 						basic_machine=$field1
+ 						basic_os=$field2
+ 						;;
+ 					# Manufacturers
+-					dec* | mips* | sequent* | encore* | pc533* | sgi* | sony* \
+-					| att* | 7300* | 3300* | delta* | motorola* | sun[234]* \
+-					| unicom* | ibm* | next | hp | isi* | apollo | altos* \
+-					| convergent* | ncr* | news | 32* | 3600* | 3100* \
+-					| hitachi* | c[123]* | convex* | sun | crds | omron* | dg \
+-					| ultra | tti* | harris | dolphin | highlevel | gould \
+-					| cbm | ns | masscomp | apple | axis | knuth | cray \
+-					| microblaze* | sim | cisco \
+-					| oki | wec | wrs | winbond)
++					  3100* \
++					| 32* \
++					| 3300* \
++					| 3600* \
++					| 7300* \
++					| acorn \
++					| altos* \
++					| apollo \
++					| apple \
++					| atari \
++					| att* \
++					| axis \
++					| be \
++					| bull \
++					| cbm \
++					| ccur \
++					| cisco \
++					| commodore \
++					| convergent* \
++					| convex* \
++					| cray \
++					| crds \
++					| dec* \
++					| delta* \
++					| dg \
++					| digital \
++					| dolphin \
++					| encore* \
++					| gould \
++					| harris \
++					| highlevel \
++					| hitachi* \
++					| hp \
++					| ibm* \
++					| intergraph \
++					| isi* \
++					| knuth \
++					| masscomp \
++					| microblaze* \
++					| mips* \
++					| motorola* \
++					| ncr* \
++					| news \
++					| next \
++					| ns \
++					| oki \
++					| omron* \
++					| pc533* \
++					| rebel \
++					| rom68k \
++					| rombug \
++					| semi \
++					| sequent* \
++					| siemens \
++					| sgi* \
++					| siemens \
++					| sim \
++					| sni \
++					| sony* \
++					| stratus \
++					| sun \
++					| sun[234]* \
++					| tektronix \
++					| tti* \
++					| ultra \
++					| unicom* \
++					| wec \
++					| winbond \
++					| wrs)
+ 						basic_machine=$field1-$field2
+ 						basic_os=
+ 						;;
++					zephyr*)
++						basic_machine=$field1-unknown
++						basic_os=$field2
++						;;
+ 					*)
+ 						basic_machine=$field1
+ 						basic_os=$field2
+@@ -256,26 +345,6 @@ case $1 in
+ 				basic_machine=arm-unknown
+ 				basic_os=cegcc
+ 				;;
+-			convex-c1)
+-				basic_machine=c1-convex
+-				basic_os=bsd
+-				;;
+-			convex-c2)
+-				basic_machine=c2-convex
+-				basic_os=bsd
+-				;;
+-			convex-c32)
+-				basic_machine=c32-convex
+-				basic_os=bsd
+-				;;
+-			convex-c34)
+-				basic_machine=c34-convex
+-				basic_os=bsd
+-				;;
+-			convex-c38)
+-				basic_machine=c38-convex
+-				basic_os=bsd
+-				;;
+ 			cray)
+ 				basic_machine=j90-cray
+ 				basic_os=unicos
+@@ -698,15 +767,26 @@ case $basic_machine in
+ 		vendor=dec
+ 		basic_os=tops20
+ 		;;
+-	delta | 3300 | motorola-3300 | motorola-delta \
+-	      | 3300-motorola | delta-motorola)
++	delta | 3300 | delta-motorola | 3300-motorola | motorola-delta | motorola-3300)
+ 		cpu=m68k
+ 		vendor=motorola
+ 		;;
+-	dpx2*)
++	# This used to be dpx2*, but that gets the RS6000-based
++	# DPX/20 and the x86-based DPX/2-100 wrong.  See
++	# https://oldskool.silicium.org/stations/bull_dpx20.htm
++	# https://www.feb-patrimoine.com/english/bull_dpx2.htm
++	# https://www.feb-patrimoine.com/english/unix_and_bull.htm
++	dpx2 | dpx2[23]00 | dpx2[23]xx)
+ 		cpu=m68k
+ 		vendor=bull
+-		basic_os=sysv3
++		;;
++	dpx2100 | dpx21xx)
++		cpu=i386
++		vendor=bull
++		;;
++	dpx20)
++		cpu=rs6000
++		vendor=bull
+ 		;;
+ 	encore | umax | mmax)
+ 		cpu=ns32k
+@@ -821,18 +901,6 @@ case $basic_machine in
+ 	next | m*-next)
+ 		cpu=m68k
+ 		vendor=next
+-		case $basic_os in
+-		    openstep*)
+-		        ;;
+-		    nextstep*)
+-			;;
+-		    ns2*)
+-		      basic_os=nextstep2
+-			;;
+-		    *)
+-		      basic_os=nextstep3
+-			;;
+-		esac
+ 		;;
+ 	np1)
+ 		cpu=np1
+@@ -921,12 +989,13 @@ case $basic_machine in
+ 		;;
+ 
+ 	*-*)
+-		# shellcheck disable=SC2162
++		saved_IFS=$IFS
+ 		IFS="-" read cpu vendor <<EOF
+ $basic_machine
+ EOF
++		IFS=$saved_IFS
+ 		;;
+-	# We use `pc' rather than `unknown'
++	# We use 'pc' rather than 'unknown'
+ 	# because (1) that's what they normally are, and
+ 	# (2) the word "unknown" tends to confuse beginning users.
+ 	i*86 | x86_64)
+@@ -954,15 +1023,19 @@ unset -v basic_machine
+ 
+ # Decode basic machines in the full and proper CPU-Company form.
+ case $cpu-$vendor in
+-	# Here we handle the default manufacturer of certain CPU types in canonical form. It is in
+-	# some cases the only manufacturer, in others, it is the most popular.
++	# Here we handle the default manufacturer of certain CPU types in canonical form.
++	# It is in some cases the only manufacturer, in others, it is the most popular.
++	c[12]-convex | c[12]-unknown | c3[248]-convex | c3[248]-unknown)
++		vendor=convex
++		basic_os=${basic_os:-bsd}
++		;;
+ 	craynv-unknown)
+ 		vendor=cray
+ 		basic_os=${basic_os:-unicosmp}
+ 		;;
+ 	c90-unknown | c90-cray)
+ 		vendor=cray
+-		basic_os=${Basic_os:-unicos}
++		basic_os=${basic_os:-unicos}
+ 		;;
+ 	fx80-unknown)
+ 		vendor=alliant
+@@ -1003,11 +1076,34 @@ case $cpu-$vendor in
+ 		;;
+ 
+ 	# Here we normalize CPU types with a missing or matching vendor
+-	dpx20-unknown | dpx20-bull)
+-		cpu=rs6000
+-		vendor=bull
++	armh-unknown | armh-alt)
++		cpu=armv7l
++		vendor=alt
++		basic_os=${basic_os:-linux-gnueabihf}
++		;;
++
++	# Normalized CPU+vendor pairs that imply an OS, if not otherwise specified
++	m68k-isi)
++		basic_os=${basic_os:-sysv}
++		;;
++	m68k-sony)
++		basic_os=${basic_os:-newsos}
++		;;
++	m68k-tektronix)
++		basic_os=${basic_os:-bsd}
++		;;
++	m88k-harris)
++		basic_os=${basic_os:-sysv3}
++		;;
++	i386-bull | m68k-bull)
++		basic_os=${basic_os:-sysv3}
++		;;
++	rs6000-bull)
+ 		basic_os=${basic_os:-bosx}
+ 		;;
++	mips-sni)
++		basic_os=${basic_os:-sysv4}
++		;;
+ 
+ 	# Here we normalize CPU types irrespective of the vendor
+ 	amd64-*)
+@@ -1015,7 +1111,7 @@ case $cpu-$vendor in
+ 		;;
+ 	blackfin-*)
+ 		cpu=bfin
+-		basic_os=linux
++		basic_os=${basic_os:-linux}
+ 		;;
+ 	c54x-*)
+ 		cpu=tic54x
+@@ -1038,7 +1134,7 @@ case $cpu-$vendor in
+ 		;;
+ 	m68knommu-*)
+ 		cpu=m68k
+-		basic_os=linux
++		basic_os=${basic_os:-linux}
+ 		;;
+ 	m9s12z-* | m68hcs12z-* | hcs12z-* | s12z-*)
+ 		cpu=s12z
+@@ -1048,12 +1144,12 @@ case $cpu-$vendor in
+ 		;;
+ 	parisc-*)
+ 		cpu=hppa
+-		basic_os=linux
++		basic_os=${basic_os:-linux}
+ 		;;
+ 	pentium-* | p5-* | k5-* | k6-* | nexgen-* | viac3-*)
+ 		cpu=i586
+ 		;;
+-	pentiumpro-* | p6-* | 6x86-* | athlon-* | athalon_*-*)
++	pentiumpro-* | p6-* | 6x86-* | athlon-* | athlon_*-*)
+ 		cpu=i686
+ 		;;
+ 	pentiumii-* | pentium2-* | pentiumiii-* | pentium3-*)
+@@ -1062,9 +1158,6 @@ case $cpu-$vendor in
+ 	pentium4-*)
+ 		cpu=i786
+ 		;;
+-	pc98-*)
+-		cpu=i386
+-		;;
+ 	ppc-* | ppcbe-*)
+ 		cpu=powerpc
+ 		;;
+@@ -1098,13 +1191,10 @@ case $cpu-$vendor in
+ 	tx39el-*)
+ 		cpu=mipstx39el
+ 		;;
+-	x64-*)
+-		cpu=x86_64
+-		;;
+ 	xscale-* | xscalee[bl]-*)
+ 		cpu=`echo "$cpu" | sed 's/^xscale/arm/'`
+ 		;;
+-	arm64-*)
++	arm64-* | aarch64le-*)
+ 		cpu=aarch64
+ 		;;
+ 
+@@ -1156,108 +1246,231 @@ case $cpu-$vendor in
+ 		# Recognize the canonical CPU types that are allowed with any
+ 		# company name.
+ 		case $cpu in
+-			1750a | 580 \
++			  1750a \
++			| 580 \
++			| [cjt]90 \
+ 			| a29k \
+-			| aarch64 | aarch64_be \
++			| aarch64 \
++			| aarch64_be \
++			| aarch64c \
+ 			| abacus \
+-			| alpha | alphaev[4-8] | alphaev56 | alphaev6[78] \
+-			| alpha64 | alpha64ev[4-8] | alpha64ev56 | alpha64ev6[78] \
+-			| alphapca5[67] | alpha64pca5[67] \
++			| alpha \
++			| alpha64 \
++			| alpha64ev56 \
++			| alpha64ev6[78] \
++			| alpha64ev[4-8] \
++			| alpha64pca5[67] \
++			| alphaev56 \
++			| alphaev6[78] \
++			| alphaev[4-8] \
++			| alphapca5[67] \
+ 			| am33_2.0 \
+ 			| amdgcn \
+-			| arc | arceb \
+-			| arm | arm[lb]e | arme[lb] | armv* \
+-			| avr | avr32 \
++			| arc \
++			| arc32 \
++			| arc64 \
++			| arceb \
++			| arm \
++			| arm64e \
++			| arm64ec \
++			| arm[lb]e \
++			| arme[lb] \
++			| armv* \
+ 			| asmjs \
++			| avr \
++			| avr32 \
+ 			| ba \
+-			| be32 | be64 \
+-			| bfin | bpf | bs2000 \
+-			| c[123]* | c30 | [cjt]90 | c4x \
+-			| c8051 | clipper | craynv | csky | cydra \
+-			| d10v | d30v | dlx | dsp16xx \
+-			| e2k | elxsi | epiphany \
+-			| f30[01] | f700 | fido | fr30 | frv | ft32 | fx80 \
+-			| h8300 | h8500 \
+-			| hppa | hppa1.[01] | hppa2.0 | hppa2.0[nw] | hppa64 \
++			| be32 \
++			| be64 \
++			| bfin \
++			| bpf \
++			| bs2000 \
++			| c30 \
++			| c4x \
++			| c8051 \
++			| c[123]* \
++			| clipper \
++			| craynv \
++			| csky \
++			| cydra \
++			| d10v \
++			| d30v \
++			| dlx \
++			| dsp16xx \
++			| e2k \
++			| elxsi \
++			| epiphany \
++			| f30[01] \
++			| f700 \
++			| fido \
++			| fr30 \
++			| frv \
++			| ft32 \
++			| fx80 \
++			| h8300 \
++			| h8500 \
+ 			| hexagon \
+-			| i370 | i*86 | i860 | i960 | ia16 | ia64 \
+-			| ip2k | iq2000 \
++			| hppa \
++			| hppa1.[01] \
++			| hppa2.0 \
++			| hppa2.0[nw] \
++			| hppa64 \
++			| i*86 \
++			| i370 \
++			| i860 \
++			| i960 \
++			| ia16 \
++			| ia64 \
++			| ip2k \
++			| iq2000 \
++			| javascript \
+ 			| k1om \
+-			| le32 | le64 \
++			| kvx \
++			| le32 \
++			| le64 \
+ 			| lm32 \
+-			| m32c | m32r | m32rle \
+-			| m5200 | m68000 | m680[012346]0 | m68360 | m683?2 | m68k \
+-			| m6811 | m68hc11 | m6812 | m68hc12 | m68hcs12x \
+-			| m88110 | m88k | maxq | mb | mcore | mep | metag \
+-			| microblaze | microblazeel \
+-			| mips | mipsbe | mipseb | mipsel | mipsle \
+-			| mips16 \
+-			| mips64 | mips64eb | mips64el \
+-			| mips64octeon | mips64octeonel \
+-			| mips64orion | mips64orionel \
+-			| mips64r5900 | mips64r5900el \
+-			| mips64vr | mips64vrel \
+-			| mips64vr4100 | mips64vr4100el \
+-			| mips64vr4300 | mips64vr4300el \
+-			| mips64vr5000 | mips64vr5000el \
+-			| mips64vr5900 | mips64vr5900el \
+-			| mipsisa32 | mipsisa32el \
+-			| mipsisa32r2 | mipsisa32r2el \
+-			| mipsisa32r6 | mipsisa32r6el \
+-			| mipsisa64 | mipsisa64el \
+-			| mipsisa64r2 | mipsisa64r2el \
+-			| mipsisa64r6 | mipsisa64r6el \
+-			| mipsisa64sb1 | mipsisa64sb1el \
+-			| mipsisa64sr71k | mipsisa64sr71kel \
+-			| mipsr5900 | mipsr5900el \
+-			| mipstx39 | mipstx39el \
++			| loongarch32 \
++			| loongarch64 \
++			| m32c \
++			| m32r \
++			| m32rle \
++			| m5200 \
++			| m68000 \
++			| m680[012346]0 \
++			| m6811 \
++			| m6812 \
++			| m68360 \
++			| m683?2 \
++			| m68hc11 \
++			| m68hc12 \
++			| m68hcs12x \
++			| m68k \
++			| m88110 \
++			| m88k \
++			| maxq \
++			| mb \
++			| mcore \
++			| mep \
++			| metag \
++			| microblaze \
++			| microblazeel \
++			| mips* \
+ 			| mmix \
+-			| mn10200 | mn10300 \
++			| mn10200 \
++			| mn10300 \
+ 			| moxie \
+-			| mt \
+ 			| msp430 \
+-			| nds32 | nds32le | nds32be \
++			| mt \
++			| nanomips* \
++			| nds32 \
++			| nds32be \
++			| nds32le \
+ 			| nfp \
+-			| nios | nios2 | nios2eb | nios2el \
+-			| none | np1 | ns16k | ns32k | nvptx \
++			| nios \
++			| nios2 \
++			| nios2eb \
++			| nios2el \
++			| none \
++			| np1 \
++			| ns16k \
++			| ns32k \
++			| nvptx \
+ 			| open8 \
+ 			| or1k* \
+ 			| or32 \
+ 			| orion \
++			| pdp10 \
++			| pdp11 \
+ 			| picochip \
+-			| pdp10 | pdp11 | pj | pjl | pn | power \
+-			| powerpc | powerpc64 | powerpc64le | powerpcle | powerpcspe \
++			| pj \
++			| pjl \
++			| pn \
++			| power \
++			| powerpc \
++			| powerpc64 \
++			| powerpc64le \
++			| powerpcle \
++			| powerpcspe \
+ 			| pru \
+ 			| pyramid \
+-			| riscv | riscv32 | riscv64 \
+-			| rl78 | romp | rs6000 | rx \
+-			| s390 | s390x \
++			| riscv \
++			| riscv32 \
++			| riscv32be \
++			| riscv64 \
++			| riscv64be \
++			| rl78 \
++			| romp \
++			| rs6000 \
++			| rx \
++			| s390 \
++			| s390x \
+ 			| score \
+-			| sh | shl \
+-			| sh[1234] | sh[24]a | sh[24]ae[lb] | sh[23]e | she[lb] | sh[lb]e \
+-			| sh[1234]e[lb] |  sh[12345][lb]e | sh[23]ele | sh64 | sh64le \
+-			| sparc | sparc64 | sparc64b | sparc64v | sparc86x | sparclet \
++			| sh \
++			| sh64 \
++			| sh64le \
++			| sh[12345][lb]e \
++			| sh[1234] \
++			| sh[1234]e[lb] \
++			| sh[23]e \
++			| sh[23]ele \
++			| sh[24]a \
++			| sh[24]ae[lb] \
++			| sh[lb]e \
++			| she[lb] \
++			| shl \
++			| sparc \
++			| sparc64 \
++			| sparc64b \
++			| sparc64v \
++			| sparc86x \
++			| sparclet \
+ 			| sparclite \
+-			| sparcv8 | sparcv9 | sparcv9b | sparcv9v | sv1 | sx* \
++			| sparcv8 \
++			| sparcv9 \
++			| sparcv9b \
++			| sparcv9v \
+ 			| spu \
++			| sv1 \
++			| sx* \
+ 			| tahoe \
+-			| tic30 | tic4x | tic54x | tic55x | tic6x | tic80 \
++			| thumbv7* \
++			| tic30 \
++			| tic4x \
++			| tic54x \
++			| tic55x \
++			| tic6x \
++			| tic80 \
+ 			| tron \
+ 			| ubicom32 \
+-			| v70 | v850 | v850e | v850e1 | v850es | v850e2 | v850e2v3 \
++			| v70 \
++			| v810 \
++			| v850 \
++			| v850e \
++			| v850e1 \
++			| v850e2 \
++			| v850e2v3 \
++			| v850es \
+ 			| vax \
++			| vc4 \
+ 			| visium \
+ 			| w65 \
+-			| wasm32 | wasm64 \
++			| wasm32 \
++			| wasm64 \
+ 			| we32k \
+-			| x86 | x86_64 | xc16x | xgate | xps100 \
+-			| xstormy16 | xtensa* \
++			| x86 \
++			| x86_64 \
++			| xc16x \
++			| xgate \
++			| xps100 \
++			| xstormy16 \
++			| xtensa* \
+ 			| ymp \
+-			| z8k | z80)
++			| z80 \
++			| z8k)
+ 				;;
+ 
+ 			*)
+-				echo Invalid configuration \`"$1"\': machine \`"$cpu-$vendor"\' not recognized 1>&2
++				echo "Invalid configuration '$1': machine '$cpu-$vendor' not recognized" 1>&2
+ 				exit 1
+ 				;;
+ 		esac
+@@ -1278,34 +1491,44 @@ esac
+ 
+ # Decode manufacturer-specific aliases for certain operating systems.
+ 
+-if [ x$basic_os != x ]
++if test x"$basic_os" != x
+ then
+ 
+-# First recognize some ad-hoc case, or perhaps split kernel-os, or else just
++# First recognize some ad-hoc cases, or perhaps split kernel-os, or else just
+ # set os.
++obj=
+ case $basic_os in
+ 	gnu/linux*)
+ 		kernel=linux
+-		os=`echo $basic_os | sed -e 's|gnu/linux|gnu|'`
++		os=`echo "$basic_os" | sed -e 's|gnu/linux|gnu|'`
++		;;
++	os2-emx)
++		kernel=os2
++		os=`echo "$basic_os" | sed -e 's|os2-emx|emx|'`
+ 		;;
+ 	nto-qnx*)
+ 		kernel=nto
+-		os=`echo $basic_os | sed -e 's|nto-qnx|qnx|'`
++		os=`echo "$basic_os" | sed -e 's|nto-qnx|qnx|'`
+ 		;;
+ 	*-*)
+-		# shellcheck disable=SC2162
++		saved_IFS=$IFS
+ 		IFS="-" read kernel os <<EOF
+ $basic_os
+ EOF
++		IFS=$saved_IFS
+ 		;;
+ 	# Default OS when just kernel was specified
+ 	nto*)
+ 		kernel=nto
+-		os=`echo $basic_os | sed -e 's|nto|qnx|'`
++		os=`echo "$basic_os" | sed -e 's|nto|qnx|'`
+ 		;;
+ 	linux*)
+ 		kernel=linux
+-		os=`echo $basic_os | sed -e 's|linux|gnu|'`
++		os=`echo "$basic_os" | sed -e 's|linux|gnu|'`
++		;;
++	managarm*)
++		kernel=managarm
++		os=`echo "$basic_os" | sed -e 's|managarm|mlibc|'`
+ 		;;
+ 	*)
+ 		kernel=
+@@ -1326,7 +1549,7 @@ case $os in
+ 		os=cnk
+ 		;;
+ 	solaris1 | solaris1.*)
+-		os=`echo $os | sed -e 's|solaris1|sunos4|'`
++		os=`echo "$os" | sed -e 's|solaris1|sunos4|'`
+ 		;;
+ 	solaris)
+ 		os=solaris2
+@@ -1334,6 +1557,23 @@ case $os in
+ 	unixware*)
+ 		os=sysv4.2uw
+ 		;;
++	# The marketing names for NeXT's operating systems were
++	# NeXTSTEP, NeXTSTEP 2, OpenSTEP 3, OpenSTEP 4.  'openstep' is
++	# mapped to 'openstep3', but 'openstep1' and 'openstep2' are
++	# mapped to 'nextstep' and 'nextstep2', consistent with the
++	# treatment of SunOS/Solaris.
++	ns | ns1 | nextstep | nextstep1 | openstep1)
++		os=nextstep
++		;;
++	ns2 | nextstep2 | openstep2)
++		os=nextstep2
++		;;
++	ns3 | nextstep3 | openstep | openstep3)
++		os=openstep3
++		;;
++	ns4 | nextstep4 | openstep4)
++		os=openstep4
++		;;
+ 	# es1800 is here to avoid being matched by es* (a different OS)
+ 	es1800*)
+ 		os=ose
+@@ -1355,7 +1595,7 @@ case $os in
+ 		os=sco3.2v4
+ 		;;
+ 	sco3.2.[4-9]*)
+-		os=`echo $os | sed -e 's/sco3.2./sco3.2v/'`
++		os=`echo "$os" | sed -e 's/sco3.2./sco3.2v/'`
+ 		;;
+ 	sco*v* | scout)
+ 		# Don't match below
+@@ -1367,13 +1607,7 @@ case $os in
+ 		os=psos
+ 		;;
+ 	qnx*)
+-		case $cpu in
+-		    x86 | i*86)
+-			;;
+-		    *)
+-			os=nto-$os
+-			;;
+-		esac
++		os=qnx
+ 		;;
+ 	hiux*)
+ 		os=hiuxwe2
+@@ -1410,6 +1644,7 @@ case $os in
+ 		;;
+ 	utek*)
+ 		os=bsd
++		vendor=`echo "$vendor" | sed -e 's|^unknown$|tektronix|'`
+ 		;;
+ 	dynix*)
+ 		os=bsd
+@@ -1426,21 +1661,25 @@ case $os in
+ 	386bsd)
+ 		os=bsd
+ 		;;
+-	ctix* | uts*)
++	ctix*)
+ 		os=sysv
++		vendor=`echo "$vendor" | sed -e 's|^unknown$|convergent|'`
+ 		;;
+-	nova*)
+-		os=rtmk-nova
++	uts*)
++		os=sysv
+ 		;;
+-	ns2)
+-		os=nextstep2
++	nova*)
++		kernel=rtmk
++		os=nova
+ 		;;
+ 	# Preserve the version number of sinix5.
+ 	sinix5.*)
+-		os=`echo $os | sed -e 's|sinix|sysv|'`
++		os=`echo "$os" | sed -e 's|sinix|sysv|'`
++		vendor=`echo "$vendor" | sed -e 's|^unknown$|sni|'`
+ 		;;
+ 	sinix*)
+ 		os=sysv4
++		vendor=`echo "$vendor" | sed -e 's|^unknown$|sni|'`
+ 		;;
+ 	tpf*)
+ 		os=tpf
+@@ -1478,10 +1717,16 @@ case $os in
+ 			os=eabi
+ 			;;
+ 		    *)
+-			os=elf
++			os=
++			obj=elf
+ 			;;
+ 		esac
+ 		;;
++	aout* | coff* | elf* | pe*)
++		# These are machine code file formats, not OSes
++		obj=$os
++		os=
++		;;
+ 	*)
+ 		# No normalization, but not necessarily accepted, that comes below.
+ 		;;
+@@ -1500,12 +1745,15 @@ else
+ # system, and we'll never get to this point.
+ 
+ kernel=
++obj=
+ case $cpu-$vendor in
+ 	score-*)
+-		os=elf
++		os=
++		obj=elf
+ 		;;
+ 	spu-*)
+-		os=elf
++		os=
++		obj=elf
+ 		;;
+ 	*-acorn)
+ 		os=riscix1.2
+@@ -1515,28 +1763,35 @@ case $cpu-$vendor in
+ 		os=gnu
+ 		;;
+ 	arm*-semi)
+-		os=aout
++		os=
++		obj=aout
+ 		;;
+ 	c4x-* | tic4x-*)
+-		os=coff
++		os=
++		obj=coff
+ 		;;
+ 	c8051-*)
+-		os=elf
++		os=
++		obj=elf
+ 		;;
+ 	clipper-intergraph)
+ 		os=clix
+ 		;;
+ 	hexagon-*)
+-		os=elf
++		os=
++		obj=elf
+ 		;;
+ 	tic54x-*)
+-		os=coff
++		os=
++		obj=coff
+ 		;;
+ 	tic55x-*)
+-		os=coff
++		os=
++		obj=coff
+ 		;;
+ 	tic6x-*)
+-		os=coff
++		os=
++		obj=coff
+ 		;;
+ 	# This must come before the *-dec entry.
+ 	pdp10-*)
+@@ -1558,28 +1813,43 @@ case $cpu-$vendor in
+ 		os=sunos3
+ 		;;
+ 	m68*-cisco)
+-		os=aout
++		os=
++		obj=aout
+ 		;;
+ 	mep-*)
+-		os=elf
++		os=
++		obj=elf
++		;;
++	# The -sgi and -siemens entries must be before the mips- entry
++	# or we get the wrong os.
++	*-sgi)
++		os=irix
++		;;
++	*-siemens)
++		os=sysv4
+ 		;;
+ 	mips*-cisco)
+-		os=elf
++		os=
++		obj=elf
+ 		;;
+-	mips*-*)
+-		os=elf
++	mips*-*|nanomips*-*)
++		os=
++		obj=elf
+ 		;;
+ 	or32-*)
+-		os=coff
++		os=
++		obj=coff
+ 		;;
+-	*-tti)	# must be before sparc entry or we get the wrong os.
++	# This must be before the sparc-* entry or we get the wrong os.
++	*-tti)
+ 		os=sysv3
+ 		;;
+ 	sparc-* | *-sun)
+ 		os=sunos4.1.1
+ 		;;
+ 	pru-*)
+-		os=elf
++		os=
++		obj=elf
+ 		;;
+ 	*-be)
+ 		os=beos
+@@ -1603,7 +1873,7 @@ case $cpu-$vendor in
+ 		os=hpux
+ 		;;
+ 	*-hitachi)
+-		os=hiux
++		os=hiuxwe2
+ 		;;
+ 	i860-* | *-att | *-ncr | *-altos | *-motorola | *-convergent)
+ 		os=sysv
+@@ -1647,12 +1917,6 @@ case $cpu-$vendor in
+ 	*-encore)
+ 		os=bsd
+ 		;;
+-	*-sgi)
+-		os=irix
+-		;;
+-	*-siemens)
+-		os=sysv4
+-		;;
+ 	*-masscomp)
+ 		os=rtu
+ 		;;
+@@ -1660,10 +1924,12 @@ case $cpu-$vendor in
+ 		os=uxpv
+ 		;;
+ 	*-rom68k)
+-		os=coff
++		os=
++		obj=coff
+ 		;;
+ 	*-*bug)
+-		os=coff
++		os=
++		obj=coff
+ 		;;
+ 	*-apple)
+ 		os=macos
+@@ -1681,83 +1947,320 @@ esac
+ 
+ fi
+ 
+-# Now, validate our (potentially fixed-up) OS.
++# Now, validate our (potentially fixed-up) individual pieces (OS, OBJ).
++
+ case $os in
+-	# Sometimes we do "kernel-abi", so those need to count as OSes.
+-	musl* | newlib* | uclibc*)
++	# Sometimes we do "kernel-libc", so those need to count as OSes.
++	llvm* | musl* | newlib* | relibc* | uclibc*)
++		;;
++	# Likewise for "kernel-abi"
++	eabi* | gnueabi*)
++		;;
++	# VxWorks passes extra cpu info in the 4th filed.
++	simlinux | simwindows | spe)
+ 		;;
+-	# Likewise for "kernel-libc"
+-	eabi | eabihf | gnueabi | gnueabihf)
++	# See `case $cpu-$os` validation below
++	ghcjs)
+ 		;;
+ 	# Now accept the basic system types.
+-	# The portable systems comes first.
+ 	# Each alternative MUST end in a * to match a version number.
+-	gnu* | android* | bsd* | mach* | minix* | genix* | ultrix* | irix* \
+-	     | *vms* | esix* | aix* | cnk* | sunos | sunos[34]* \
+-	     | hpux* | unos* | osf* | luna* | dgux* | auroraux* | solaris* \
+-	     | sym* |  plan9* | psp* | sim* | xray* | os68k* | v88r* \
+-	     | hiux* | abug | nacl* | netware* | windows* \
+-	     | os9* | macos* | osx* | ios* \
+-	     | mpw* | magic* | mmixware* | mon960* | lnews* \
+-	     | amigaos* | amigados* | msdos* | newsos* | unicos* | aof* \
+-	     | aos* | aros* | cloudabi* | sortix* | twizzler* \
+-	     | nindy* | vxsim* | vxworks* | ebmon* | hms* | mvs* \
+-	     | clix* | riscos* | uniplus* | iris* | isc* | rtu* | xenix* \
+-	     | mirbsd* | netbsd* | dicos* | openedition* | ose* \
+-	     | bitrig* | openbsd* | solidbsd* | libertybsd* | os108* \
+-	     | ekkobsd* | freebsd* | riscix* | lynxos* | os400* \
+-	     | bosx* | nextstep* | cxux* | aout* | elf* | oabi* \
+-	     | ptx* | coff* | ecoff* | winnt* | domain* | vsta* \
+-	     | udi* | lites* | ieee* | go32* | aux* | hcos* \
+-	     | chorusrdb* | cegcc* | glidix* \
+-	     | cygwin* | msys* | pe* | moss* | proelf* | rtems* \
+-	     | midipix* | mingw32* | mingw64* | mint* \
+-	     | uxpv* | beos* | mpeix* | udk* | moxiebox* \
+-	     | interix* | uwin* | mks* | rhapsody* | darwin* \
+-	     | openstep* | oskit* | conix* | pw32* | nonstopux* \
+-	     | storm-chaos* | tops10* | tenex* | tops20* | its* \
+-	     | os2* | vos* | palmos* | uclinux* | nucleus* | morphos* \
+-	     | scout* | superux* | sysv* | rtmk* | tpf* | windiss* \
+-	     | powermax* | dnix* | nx6 | nx7 | sei* | dragonfly* \
+-	     | skyos* | haiku* | rdos* | toppers* | drops* | es* \
+-	     | onefs* | tirtos* | phoenix* | fuchsia* | redox* | bme* \
+-	     | midnightbsd* | amdhsa* | unleashed* | emscripten* | wasi* \
+-	     | nsk* | powerunix* | genode* | zvmoe* )
++	  abug \
++	| aix* \
++	| amdhsa* \
++	| amigados* \
++	| amigaos* \
++	| android* \
++	| aof* \
++	| aos* \
++	| aros* \
++	| atheos* \
++	| auroraux* \
++	| aux* \
++	| beos* \
++	| bitrig* \
++	| bme* \
++	| bosx* \
++	| bsd* \
++	| cegcc* \
++	| chorusos* \
++	| chorusrdb* \
++	| clix* \
++	| cloudabi* \
++	| cnk* \
++	| conix* \
++	| cos* \
++	| cxux* \
++	| cygwin* \
++	| darwin* \
++	| dgux* \
++	| dicos* \
++	| dnix* \
++	| domain* \
++	| dragonfly* \
++	| drops* \
++	| ebmon* \
++	| ecoff* \
++	| ekkobsd* \
++	| emscripten* \
++	| emx* \
++	| es* \
++	| fiwix* \
++	| freebsd* \
++	| fuchsia* \
++	| genix* \
++	| genode* \
++	| glidix* \
++	| gnu* \
++	| go32* \
++	| haiku* \
++	| hcos* \
++	| hiux* \
++	| hms* \
++	| hpux* \
++	| ieee* \
++	| interix* \
++	| ios* \
++	| iris* \
++	| irix* \
++	| ironclad* \
++	| isc* \
++	| its* \
++	| l4re* \
++	| libertybsd* \
++	| lites* \
++	| lnews* \
++	| luna* \
++	| lynxos* \
++	| mach* \
++	| macos* \
++	| magic* \
++	| mbr* \
++	| midipix* \
++	| midnightbsd* \
++	| mingw32* \
++	| mingw64* \
++	| minix* \
++	| mint* \
++	| mirbsd* \
++	| mks* \
++	| mlibc* \
++	| mmixware* \
++	| mon960* \
++	| morphos* \
++	| moss* \
++	| moxiebox* \
++	| mpeix* \
++	| mpw* \
++	| msdos* \
++	| msys* \
++	| mvs* \
++	| nacl* \
++	| netbsd* \
++	| netware* \
++	| newsos* \
++	| nextstep* \
++	| nindy* \
++	| nonstopux* \
++	| nova* \
++	| nsk* \
++	| nucleus* \
++	| nx6 \
++	| nx7 \
++	| oabi* \
++	| ohos* \
++	| onefs* \
++	| openbsd* \
++	| openedition* \
++	| openstep* \
++	| os108* \
++	| os2* \
++	| os400* \
++	| os68k* \
++	| os9* \
++	| ose* \
++	| osf* \
++	| oskit* \
++	| osx* \
++	| palmos* \
++	| phoenix* \
++	| plan9* \
++	| powermax* \
++	| powerunix* \
++	| proelf* \
++	| psos* \
++	| psp* \
++	| ptx* \
++	| pw32* \
++	| qnx* \
++	| rdos* \
++	| redox* \
++	| rhapsody* \
++	| riscix* \
++	| riscos* \
++	| rtems* \
++	| rtmk* \
++	| rtu* \
++	| scout* \
++	| secbsd* \
++	| sei* \
++	| serenity* \
++	| sim* \
++	| skyos* \
++	| solaris* \
++	| solidbsd* \
++	| sortix* \
++	| storm-chaos* \
++	| sunos \
++	| sunos[34]* \
++	| superux* \
++	| syllable* \
++	| sym* \
++	| sysv* \
++	| tenex* \
++	| tirtos* \
++	| toppers* \
++	| tops10* \
++	| tops20* \
++	| tpf* \
++	| tvos* \
++	| twizzler* \
++	| uclinux* \
++	| udi* \
++	| udk* \
++	| ultrix* \
++	| unicos* \
++	| uniplus* \
++	| unleashed* \
++	| unos* \
++	| uwin* \
++	| uxpv* \
++	| v88r* \
++	|*vms* \
++	| vos* \
++	| vsta* \
++	| vxsim* \
++	| vxworks* \
++	| wasi* \
++	| watchos* \
++	| wince* \
++	| windiss* \
++	| windows* \
++	| winnt* \
++	| xenix* \
++	| xray* \
++	| zephyr* \
++	| zvmoe* )
+ 		;;
+ 	# This one is extra strict with allowed versions
+ 	sco3.2v2 | sco3.2v[4-9]* | sco5v6*)
+ 		# Don't forget version if it is 3.2v4 or newer.
+ 		;;
++	# This refers to builds using the UEFI calling convention
++	# (which depends on the architecture) and PE file format.
++	# Note that this is both a different calling convention and
++	# different file format than that of GNU-EFI
++	# (x86_64-w64-mingw32).
++	uefi)
++		;;
+ 	none)
+ 		;;
++	kernel* | msvc* )
++		# Restricted further below
++		;;
++	'')
++		if test x"$obj" = x
++		then
++			echo "Invalid configuration '$1': Blank OS only allowed with explicit machine code file format" 1>&2
++		fi
++		;;
+ 	*)
+-		echo Invalid configuration \`"$1"\': OS \`"$os"\' not recognized 1>&2
++		echo "Invalid configuration '$1': OS '$os' not recognized" 1>&2
++		exit 1
++		;;
++esac
++
++case $obj in
++	aout* | coff* | elf* | pe*)
++		;;
++	'')
++		# empty is fine
++		;;
++	*)
++		echo "Invalid configuration '$1': Machine code format '$obj' not recognized" 1>&2
++		exit 1
++		;;
++esac
++
++# Here we handle the constraint that a (synthetic) cpu and os are
++# valid only in combination with each other and nowhere else.
++case $cpu-$os in
++	# The "javascript-unknown-ghcjs" triple is used by GHC; we
++	# accept it here in order to tolerate that, but reject any
++	# variations.
++	javascript-ghcjs)
++		;;
++	javascript-* | *-ghcjs)
++		echo "Invalid configuration '$1': cpu '$cpu' is not valid with os '$os$obj'" 1>&2
+ 		exit 1
+ 		;;
+ esac
+ 
+ # As a final step for OS-related things, validate the OS-kernel combination
+ # (given a valid OS), if there is a kernel.
+-case $kernel-$os in
+-	linux-gnu* | linux-dietlibc* | linux-android* | linux-newlib* | linux-musl* | linux-uclibc* )
++case $kernel-$os-$obj in
++	linux-gnu*- | linux-android*- | linux-dietlibc*- | linux-llvm*- \
++		    | linux-mlibc*- | linux-musl*- | linux-newlib*- \
++		    | linux-relibc*- | linux-uclibc*- | linux-ohos*- )
++		;;
++	uclinux-uclibc*- | uclinux-gnu*- )
++		;;
++	managarm-mlibc*- | managarm-kernel*- )
++		;;
++	windows*-msvc*-)
+ 		;;
+-	-dietlibc* | -newlib* | -musl* | -uclibc* )
++	-dietlibc*- | -llvm*- | -mlibc*- | -musl*- | -newlib*- | -relibc*- \
++		    | -uclibc*- )
+ 		# These are just libc implementations, not actual OSes, and thus
+ 		# require a kernel.
+-		echo "Invalid configuration \`$1': libc \`$os' needs explicit kernel." 1>&2
++		echo "Invalid configuration '$1': libc '$os' needs explicit kernel." 1>&2
+ 		exit 1
+ 		;;
+-	kfreebsd*-gnu* | kopensolaris*-gnu*)
++	-kernel*- )
++		echo "Invalid configuration '$1': '$os' needs explicit kernel." 1>&2
++		exit 1
+ 		;;
+-	nto-qnx*)
++	*-kernel*- )
++		echo "Invalid configuration '$1': '$kernel' does not support '$os'." 1>&2
++		exit 1
++		;;
++	*-msvc*- )
++		echo "Invalid configuration '$1': '$os' needs 'windows'." 1>&2
++		exit 1
++		;;
++	kfreebsd*-gnu*- | knetbsd*-gnu*- | netbsd*-gnu*- | kopensolaris*-gnu*-)
++		;;
++	vxworks-simlinux- | vxworks-simwindows- | vxworks-spe-)
+ 		;;
+-	*-eabi* | *-gnueabi*)
++	nto-qnx*-)
+ 		;;
+-	-*)
++	os2-emx-)
++		;;
++	rtmk-nova-)
++		;;
++	*-eabi*- | *-gnueabi*-)
++		;;
++	none--*)
++		# None (no kernel, i.e. freestanding / bare metal),
++		# can be paired with an machine code file format
++		;;
++	-*-)
+ 		# Blank kernel with real OS is always fine.
+ 		;;
+-	*-*)
+-		echo "Invalid configuration \`$1': Kernel \`$kernel' not known to work with OS \`$os'." 1>&2
++	--*)
++		# Blank kernel and OS with real machine code file format is always fine.
++		;;
++	*-*-*)
++		echo "Invalid configuration '$1': Kernel '$kernel' not known to work with OS '$os'." 1>&2
+ 		exit 1
+ 		;;
+ esac
+@@ -1770,7 +2273,7 @@ case $vendor in
+ 			*-riscix*)
+ 				vendor=acorn
+ 				;;
+-			*-sunos*)
++			*-sunos* | *-solaris*)
+ 				vendor=sun
+ 				;;
+ 			*-cnk* | *-aix*)
+@@ -1840,7 +2343,7 @@ case $vendor in
+ 		;;
+ esac
+ 
+-echo "$cpu-$vendor-${kernel:+$kernel-}$os"
++echo "$cpu-$vendor${kernel:+-$kernel}${os:+-$os}${obj:+-$obj}"
+ exit
+ 
+ # Local variables:
+diff --git a/configure.ac b/configure.ac
+index dbd38eaa5..e84af5167 100644
+--- a/configure.ac
++++ b/configure.ac
+@@ -5060,6 +5060,11 @@ linux-gnu*|linux-musl*)
+         RTL_ARCH=X86_64
+         PLATFORMID=linux_x86_64
+         ;;
++    loongarch64)
++	CPUNAME=LOONGARCH64
++	RTL_ARCH=LOONGARCH64
++	PLATFORMID=linux_loongarch64
++	;;
+     *)
+         AC_MSG_ERROR([Unsupported host_cpu $host_cpu for host_os $host_os])
+         ;;
+@@ -12793,7 +12798,7 @@ AC_SUBST(RHINO_JAR)
+ # platforms there.
+ supports_multilib=
+ case "$host_cpu" in
+-x86_64 | powerpc64 | powerpc64le | s390x | aarch64 | mips64 | mips64el)
++x86_64 | powerpc64 | powerpc64le | s390x | aarch64 | mips64 | mips64el | loongarch64)
+     if test "$SAL_TYPES_SIZEOFLONG" = "8"; then
+         supports_multilib="yes"
+     fi
+diff --git a/download.lst b/download.lst
+index bf5ce1596..45e29b668 100644
+--- a/download.lst
++++ b/download.lst
+@@ -20,7 +20,7 @@ export BSH_SHA256SUM := 9e93c73e23aff644b17dfff656444474c14150e7f3b38b19635e6222
+ export BSH_TARBALL := beeca87be45ec87d241ddd0e1bad80c1-bsh-2.0b6-src.zip
+ export BZIP2_SHA256SUM := ab5a03176ee106d3f0fa90e381da478ddae405918153cca248e682cd0c4a2269
+ export BZIP2_TARBALL := bzip2-1.0.8.tar.gz
+-export CAIRO_SHA256SUM := 74b24c1ed436bbe87499179a3b27c43f4143b8676d8ad237a6fa787401959705
++export CAIRO_SHA256SUM := c0730c3e67e7293ec3ce9c1b6c3dcc753aca1b416244f8331923ce10119cb847
+ export CAIRO_VERSION_MICRO := 4
+ export CAIRO_TARBALL := cairo-1.17.$(CAIRO_VERSION_MICRO).tar.xz
+ export CDR_SHA256SUM := 5666249d613466b9aa1e987ea4109c04365866e9277d80f6cd9663e86b8ecdd4
+@@ -54,7 +54,7 @@ export EXPAT_SHA256SUM := ee14b4c5d8908b1bec37ad937607eab183d4d9806a08adee472c3c
+ export EXPAT_TARBALL := expat-2.6.2.tar.xz
+ export FIREBIRD_SHA256SUM := acb85cedafa10ce106b1823fb236b1b3e5d942a5741e8f8435cc8ccfec0afe76
+ export FIREBIRD_TARBALL := Firebird-3.0.7.33374-0.tar.bz2
+-export FONTCONFIG_SHA256SUM := a5f052cb73fd479ffb7b697980510903b563bbb55b8f7a2b001fcfb94026003c
++export FONTCONFIG_SHA256SUM := 363e206f0eca0d8db3b21d08b70b78a0dcf78ef9d169a8afa937a7d36163a1ca
+ export FONTCONFIG_TARBALL := fontconfig-2.13.94.tar.xz
+ export FONT_CALADEA_SHA256SUM := c48d1c2fd613c9c06c959c34da7b8388059e2408d2bb19845dc3ed35f76e4d09
+ export FONT_CALADEA_TARBALL := 368f114c078f94214a308a74c7e991bc-crosextrafonts-20130214.tar.gz
+@@ -178,9 +178,9 @@ export LIBEOT_SHA256SUM := cf5091fa8e7dcdbe667335eb90a2cfdd0a3fe8f8c7c8d1ece44d9
+ export LIBEOT_TARBALL := libeot-0.01.tar.bz2
+ export LIBEXTTEXTCAT_SHA256SUM := 6d77eace20e9ea106c1330e268ede70c9a4a89744ddc25715682754eca3368df
+ export LIBEXTTEXTCAT_TARBALL := libexttextcat-3.4.6.tar.xz
+-export LIBFFI_SHA256SUM := 72fba7922703ddfa7a028d513ac15a85c8d54c8d67f55fa5a4802885dc652056
+-export LIBFFI_TARBALL := libffi-3.3.tar.gz
+-export LIBGPGERROR_SHA256SUM := a9ab83ca7acc442a5bd846a75b920285ff79bdb4e3d34aa382be88ed2c3aebaf
++export LIBFFI_SHA256SUM := 4416dd92b6ae8fcb5b10421e711c4d3cb31203d77521a77d85d0102311e6c3b8
++LIBFFI_SHA256SUM := bc9842a18898bfacb0ed1252c4febcc7e78fa139fd27fdc7a3e30d9d9356119b
++LIBFFI_TARBALL := libffi-3.4.8.tar.gz
+ export LIBGPGERROR_TARBALL := libgpg-error-1.43.tar.bz2
+ export LIBLANGTAG_SHA256SUM := 1f12a20a02ec3a8d22e54dedb8b683a43c9c160bda1ba337bf1060607ae733bd
+ export LIBLANGTAG_TARBALL := liblangtag-0.6.3.tar.bz2
+@@ -248,7 +248,7 @@ export POPPLER_DATA_SHA256SUM := 2cec05cd1bb03af98a8b06a1e22f6e6e1a65b1e2f3816cb
+ export POPPLER_DATA_TARBALL := poppler-data-0.4.11.tar.gz
+ export POSTGRESQL_SHA256SUM := 73876fdd3a517087340458dca4ce15b8d2a4dbceb334c0441424551ae6c4cded
+ export POSTGRESQL_TARBALL := postgresql-13.8.tar.bz2
+-export PYTHON_SHA256SUM := d2807ac69f69b84fd46a0b93bbd02a4fa48d3e70f4b2835ff0f72a2885040076
++export PYTHON_SHA256SUM := c957a29b73fa8bc5cd5a7bd7c7fbff82c4b8e84c327ffa8765f2a5a2df6edd68
+ export PYTHON_TARBALL := Python-3.8.19.tar.xz
+ export QXP_SHA256SUM := e137b6b110120a52c98edd02ebdc4095ee08d0d5295a94316a981750095a945c
+ export QXP_TARBALL := libqxp-0.0.2.tar.xz
+diff --git a/external/config.guess b/external/config.guess
+new file mode 100644
+index 000000000..48a684601
+--- /dev/null
++++ b/external/config.guess
+@@ -0,0 +1,1815 @@
++#! /bin/sh
++# Attempt to guess a canonical system name.
++#   Copyright 1992-2024 Free Software Foundation, Inc.
++
++# shellcheck disable=SC2006,SC2268 # see below for rationale
++
++timestamp='2024-07-27'
++
++# This file is free software; you can redistribute it and/or modify it
++# under the terms of the GNU General Public License as published by
++# the Free Software Foundation, either version 3 of the License, or
++# (at your option) any later version.
++#
++# This program is distributed in the hope that it will be useful, but
++# WITHOUT ANY WARRANTY; without even the implied warranty of
++# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
++# General Public License for more details.
++#
++# You should have received a copy of the GNU General Public License
++# along with this program; if not, see <https://www.gnu.org/licenses/>.
++#
++# As a special exception to the GNU General Public License, if you
++# distribute this file as part of a program that contains a
++# configuration script generated by Autoconf, you may include it under
++# the same distribution terms that you use for the rest of that
++# program.  This Exception is an additional permission under section 7
++# of the GNU General Public License, version 3 ("GPLv3").
++#
++# Originally written by Per Bothner; maintained since 2000 by Ben Elliston.
++#
++# You can get the latest version of this script from:
++# https://git.savannah.gnu.org/cgit/config.git/plain/config.guess
++#
++# Please send patches to <config-patches@gnu.org>.
++
++
++# The "shellcheck disable" line above the timestamp inhibits complaints
++# about features and limitations of the classic Bourne shell that were
++# superseded or lifted in POSIX.  However, this script identifies a wide
++# variety of pre-POSIX systems that do not have POSIX shells at all, and
++# even some reasonably current systems (Solaris 10 as case-in-point) still
++# have a pre-POSIX /bin/sh.
++
++
++me=`echo "$0" | sed -e 's,.*/,,'`
++
++usage="\
++Usage: $0 [OPTION]
++
++Output the configuration name of the system '$me' is run on.
++
++Options:
++  -h, --help         print this help, then exit
++  -t, --time-stamp   print date of last modification, then exit
++  -v, --version      print version number, then exit
++
++Report bugs and patches to <config-patches@gnu.org>."
++
++version="\
++GNU config.guess ($timestamp)
++
++Originally written by Per Bothner.
++Copyright 1992-2024 Free Software Foundation, Inc.
++
++This is free software; see the source for copying conditions.  There is NO
++warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."
++
++help="
++Try '$me --help' for more information."
++
++# Parse command line
++while test $# -gt 0 ; do
++  case $1 in
++    --time-stamp | --time* | -t )
++       echo "$timestamp" ; exit ;;
++    --version | -v )
++       echo "$version" ; exit ;;
++    --help | --h* | -h )
++       echo "$usage"; exit ;;
++    -- )     # Stop option processing
++       shift; break ;;
++    - )	# Use stdin as input.
++       break ;;
++    -* )
++       echo "$me: invalid option $1$help" >&2
++       exit 1 ;;
++    * )
++       break ;;
++  esac
++done
++
++if test $# != 0; then
++  echo "$me: too many arguments$help" >&2
++  exit 1
++fi
++
++# Just in case it came from the environment.
++GUESS=
++
++# CC_FOR_BUILD -- compiler used by this script. Note that the use of a
++# compiler to aid in system detection is discouraged as it requires
++# temporary files to be created and, as you can see below, it is a
++# headache to deal with in a portable fashion.
++
++# Historically, 'CC_FOR_BUILD' used to be named 'HOST_CC'. We still
++# use 'HOST_CC' if defined, but it is deprecated.
++
++# Portable tmp directory creation inspired by the Autoconf team.
++
++tmp=
++# shellcheck disable=SC2172
++trap 'test -z "$tmp" || rm -fr "$tmp"' 0 1 2 13 15
++
++set_cc_for_build() {
++    # prevent multiple calls if $tmp is already set
++    test "$tmp" && return 0
++    : "${TMPDIR=/tmp}"
++    # shellcheck disable=SC2039,SC3028
++    { tmp=`(umask 077 && mktemp -d "$TMPDIR/cgXXXXXX") 2>/dev/null` && test -n "$tmp" && test -d "$tmp" ; } ||
++	{ test -n "$RANDOM" && tmp=$TMPDIR/cg$$-$RANDOM && (umask 077 && mkdir "$tmp" 2>/dev/null) ; } ||
++	{ tmp=$TMPDIR/cg-$$ && (umask 077 && mkdir "$tmp" 2>/dev/null) && echo "Warning: creating insecure temp directory" >&2 ; } ||
++	{ echo "$me: cannot create a temporary directory in $TMPDIR" >&2 ; exit 1 ; }
++    dummy=$tmp/dummy
++    case ${CC_FOR_BUILD-},${HOST_CC-},${CC-} in
++	,,)    echo "int x;" > "$dummy.c"
++	       for driver in cc gcc c17 c99 c89 ; do
++		   if ($driver -c -o "$dummy.o" "$dummy.c") >/dev/null 2>&1 ; then
++		       CC_FOR_BUILD=$driver
++		       break
++		   fi
++	       done
++	       if test x"$CC_FOR_BUILD" = x ; then
++		   CC_FOR_BUILD=no_compiler_found
++	       fi
++	       ;;
++	,,*)   CC_FOR_BUILD=$CC ;;
++	,*,*)  CC_FOR_BUILD=$HOST_CC ;;
++    esac
++}
++
++# This is needed to find uname on a Pyramid OSx when run in the BSD universe.
++# (ghazi@noc.rutgers.edu 1994-08-24)
++if test -f /.attbin/uname ; then
++	PATH=$PATH:/.attbin ; export PATH
++fi
++
++UNAME_MACHINE=`(uname -m) 2>/dev/null` || UNAME_MACHINE=unknown
++UNAME_RELEASE=`(uname -r) 2>/dev/null` || UNAME_RELEASE=unknown
++UNAME_SYSTEM=`(uname -s) 2>/dev/null` || UNAME_SYSTEM=unknown
++UNAME_VERSION=`(uname -v) 2>/dev/null` || UNAME_VERSION=unknown
++
++case $UNAME_SYSTEM in
++Linux|GNU|GNU/*)
++	LIBC=unknown
++
++	set_cc_for_build
++	cat <<-EOF > "$dummy.c"
++	#if defined(__ANDROID__)
++	LIBC=android
++	#else
++	#include <features.h>
++	#if defined(__UCLIBC__)
++	LIBC=uclibc
++	#elif defined(__dietlibc__)
++	LIBC=dietlibc
++	#elif defined(__GLIBC__)
++	LIBC=gnu
++	#elif defined(__LLVM_LIBC__)
++	LIBC=llvm
++	#else
++	#include <stdarg.h>
++	/* First heuristic to detect musl libc.  */
++	#ifdef __DEFINED_va_list
++	LIBC=musl
++	#endif
++	#endif
++	#endif
++	EOF
++	cc_set_libc=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^LIBC' | sed 's, ,,g'`
++	eval "$cc_set_libc"
++
++	# Second heuristic to detect musl libc.
++	if [ "$LIBC" = unknown ] &&
++	   command -v ldd >/dev/null &&
++	   ldd --version 2>&1 | grep -q ^musl; then
++		LIBC=musl
++	fi
++
++	# If the system lacks a compiler, then just pick glibc.
++	# We could probably try harder.
++	if [ "$LIBC" = unknown ]; then
++		LIBC=gnu
++	fi
++	;;
++esac
++
++# Note: order is significant - the case branches are not exclusive.
++
++case $UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION in
++    *:NetBSD:*:*)
++	# NetBSD (nbsd) targets should (where applicable) match one or
++	# more of the tuples: *-*-netbsdelf*, *-*-netbsdaout*,
++	# *-*-netbsdecoff* and *-*-netbsd*.  For targets that recently
++	# switched to ELF, *-*-netbsd* would select the old
++	# object file format.  This provides both forward
++	# compatibility and a consistent mechanism for selecting the
++	# object file format.
++	#
++	# Note: NetBSD doesn't particularly care about the vendor
++	# portion of the name.  We always set it to "unknown".
++	UNAME_MACHINE_ARCH=`(uname -p 2>/dev/null || \
++	    /sbin/sysctl -n hw.machine_arch 2>/dev/null || \
++	    /usr/sbin/sysctl -n hw.machine_arch 2>/dev/null || \
++	    echo unknown)`
++	case $UNAME_MACHINE_ARCH in
++	    aarch64eb) machine=aarch64_be-unknown ;;
++	    armeb) machine=armeb-unknown ;;
++	    arm*) machine=arm-unknown ;;
++	    sh3el) machine=shl-unknown ;;
++	    sh3eb) machine=sh-unknown ;;
++	    sh5el) machine=sh5le-unknown ;;
++	    earmv*)
++		arch=`echo "$UNAME_MACHINE_ARCH" | sed -e 's,^e\(armv[0-9]\).*$,\1,'`
++		endian=`echo "$UNAME_MACHINE_ARCH" | sed -ne 's,^.*\(eb\)$,\1,p'`
++		machine=${arch}${endian}-unknown
++		;;
++	    *) machine=$UNAME_MACHINE_ARCH-unknown ;;
++	esac
++	# The Operating System including object format, if it has switched
++	# to ELF recently (or will in the future) and ABI.
++	case $UNAME_MACHINE_ARCH in
++	    earm*)
++		os=netbsdelf
++		;;
++	    arm*|i386|m68k|ns32k|sh3*|sparc|vax)
++		set_cc_for_build
++		if echo __ELF__ | $CC_FOR_BUILD -E - 2>/dev/null \
++			| grep -q __ELF__
++		then
++		    # Once all utilities can be ECOFF (netbsdecoff) or a.out (netbsdaout).
++		    # Return netbsd for either.  FIX?
++		    os=netbsd
++		else
++		    os=netbsdelf
++		fi
++		;;
++	    *)
++		os=netbsd
++		;;
++	esac
++	# Determine ABI tags.
++	case $UNAME_MACHINE_ARCH in
++	    earm*)
++		expr='s/^earmv[0-9]/-eabi/;s/eb$//'
++		abi=`echo "$UNAME_MACHINE_ARCH" | sed -e "$expr"`
++		;;
++	esac
++	# The OS release
++	# Debian GNU/NetBSD machines have a different userland, and
++	# thus, need a distinct triplet. However, they do not need
++	# kernel version information, so it can be replaced with a
++	# suitable tag, in the style of linux-gnu.
++	case $UNAME_VERSION in
++	    Debian*)
++		release='-gnu'
++		;;
++	    *)
++		release=`echo "$UNAME_RELEASE" | sed -e 's/[-_].*//' | cut -d. -f1,2`
++		;;
++	esac
++	# Since CPU_TYPE-MANUFACTURER-KERNEL-OPERATING_SYSTEM:
++	# contains redundant information, the shorter form:
++	# CPU_TYPE-MANUFACTURER-OPERATING_SYSTEM is used.
++	GUESS=$machine-${os}${release}${abi-}
++	;;
++    *:Bitrig:*:*)
++	UNAME_MACHINE_ARCH=`arch | sed 's/Bitrig.//'`
++	GUESS=$UNAME_MACHINE_ARCH-unknown-bitrig$UNAME_RELEASE
++	;;
++    *:OpenBSD:*:*)
++	UNAME_MACHINE_ARCH=`arch | sed 's/OpenBSD.//'`
++	GUESS=$UNAME_MACHINE_ARCH-unknown-openbsd$UNAME_RELEASE
++	;;
++    *:SecBSD:*:*)
++	UNAME_MACHINE_ARCH=`arch | sed 's/SecBSD.//'`
++	GUESS=$UNAME_MACHINE_ARCH-unknown-secbsd$UNAME_RELEASE
++	;;
++    *:LibertyBSD:*:*)
++	UNAME_MACHINE_ARCH=`arch | sed 's/^.*BSD\.//'`
++	GUESS=$UNAME_MACHINE_ARCH-unknown-libertybsd$UNAME_RELEASE
++	;;
++    *:MidnightBSD:*:*)
++	GUESS=$UNAME_MACHINE-unknown-midnightbsd$UNAME_RELEASE
++	;;
++    *:ekkoBSD:*:*)
++	GUESS=$UNAME_MACHINE-unknown-ekkobsd$UNAME_RELEASE
++	;;
++    *:SolidBSD:*:*)
++	GUESS=$UNAME_MACHINE-unknown-solidbsd$UNAME_RELEASE
++	;;
++    *:OS108:*:*)
++	GUESS=$UNAME_MACHINE-unknown-os108_$UNAME_RELEASE
++	;;
++    macppc:MirBSD:*:*)
++	GUESS=powerpc-unknown-mirbsd$UNAME_RELEASE
++	;;
++    *:MirBSD:*:*)
++	GUESS=$UNAME_MACHINE-unknown-mirbsd$UNAME_RELEASE
++	;;
++    *:Sortix:*:*)
++	GUESS=$UNAME_MACHINE-unknown-sortix
++	;;
++    *:Twizzler:*:*)
++	GUESS=$UNAME_MACHINE-unknown-twizzler
++	;;
++    *:Redox:*:*)
++	GUESS=$UNAME_MACHINE-unknown-redox
++	;;
++    mips:OSF1:*.*)
++	GUESS=mips-dec-osf1
++	;;
++    alpha:OSF1:*:*)
++	# Reset EXIT trap before exiting to avoid spurious non-zero exit code.
++	trap '' 0
++	case $UNAME_RELEASE in
++	*4.0)
++		UNAME_RELEASE=`/usr/sbin/sizer -v | awk '{print $3}'`
++		;;
++	*5.*)
++		UNAME_RELEASE=`/usr/sbin/sizer -v | awk '{print $4}'`
++		;;
++	esac
++	# According to Compaq, /usr/sbin/psrinfo has been available on
++	# OSF/1 and Tru64 systems produced since 1995.  I hope that
++	# covers most systems running today.  This code pipes the CPU
++	# types through head -n 1, so we only detect the type of CPU 0.
++	ALPHA_CPU_TYPE=`/usr/sbin/psrinfo -v | sed -n -e 's/^  The alpha \(.*\) processor.*$/\1/p' | head -n 1`
++	case $ALPHA_CPU_TYPE in
++	    "EV4 (21064)")
++		UNAME_MACHINE=alpha ;;
++	    "EV4.5 (21064)")
++		UNAME_MACHINE=alpha ;;
++	    "LCA4 (21066/21068)")
++		UNAME_MACHINE=alpha ;;
++	    "EV5 (21164)")
++		UNAME_MACHINE=alphaev5 ;;
++	    "EV5.6 (21164A)")
++		UNAME_MACHINE=alphaev56 ;;
++	    "EV5.6 (21164PC)")
++		UNAME_MACHINE=alphapca56 ;;
++	    "EV5.7 (21164PC)")
++		UNAME_MACHINE=alphapca57 ;;
++	    "EV6 (21264)")
++		UNAME_MACHINE=alphaev6 ;;
++	    "EV6.7 (21264A)")
++		UNAME_MACHINE=alphaev67 ;;
++	    "EV6.8CB (21264C)")
++		UNAME_MACHINE=alphaev68 ;;
++	    "EV6.8AL (21264B)")
++		UNAME_MACHINE=alphaev68 ;;
++	    "EV6.8CX (21264D)")
++		UNAME_MACHINE=alphaev68 ;;
++	    "EV6.9A (21264/EV69A)")
++		UNAME_MACHINE=alphaev69 ;;
++	    "EV7 (21364)")
++		UNAME_MACHINE=alphaev7 ;;
++	    "EV7.9 (21364A)")
++		UNAME_MACHINE=alphaev79 ;;
++	esac
++	# A Pn.n version is a patched version.
++	# A Vn.n version is a released version.
++	# A Tn.n version is a released field test version.
++	# A Xn.n version is an unreleased experimental baselevel.
++	# 1.2 uses "1.2" for uname -r.
++	OSF_REL=`echo "$UNAME_RELEASE" | sed -e 's/^[PVTX]//' | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz`
++	GUESS=$UNAME_MACHINE-dec-osf$OSF_REL
++	;;
++    Amiga*:UNIX_System_V:4.0:*)
++	GUESS=m68k-unknown-sysv4
++	;;
++    *:[Aa]miga[Oo][Ss]:*:*)
++	GUESS=$UNAME_MACHINE-unknown-amigaos
++	;;
++    *:[Mm]orph[Oo][Ss]:*:*)
++	GUESS=$UNAME_MACHINE-unknown-morphos
++	;;
++    *:OS/390:*:*)
++	GUESS=i370-ibm-openedition
++	;;
++    *:z/VM:*:*)
++	GUESS=s390-ibm-zvmoe
++	;;
++    *:OS400:*:*)
++	GUESS=powerpc-ibm-os400
++	;;
++    arm:RISC*:1.[012]*:*|arm:riscix:1.[012]*:*)
++	GUESS=arm-acorn-riscix$UNAME_RELEASE
++	;;
++    arm*:riscos:*:*|arm*:RISCOS:*:*)
++	GUESS=arm-unknown-riscos
++	;;
++    SR2?01:HI-UX/MPP:*:* | SR8000:HI-UX/MPP:*:*)
++	GUESS=hppa1.1-hitachi-hiuxmpp
++	;;
++    Pyramid*:OSx*:*:* | MIS*:OSx*:*:* | MIS*:SMP_DC-OSx*:*:*)
++	# akee@wpdis03.wpafb.af.mil (Earle F. Ake) contributed MIS and NILE.
++	case `(/bin/universe) 2>/dev/null` in
++	    att) GUESS=pyramid-pyramid-sysv3 ;;
++	    *)   GUESS=pyramid-pyramid-bsd   ;;
++	esac
++	;;
++    NILE*:*:*:dcosx)
++	GUESS=pyramid-pyramid-svr4
++	;;
++    DRS?6000:unix:4.0:6*)
++	GUESS=sparc-icl-nx6
++	;;
++    DRS?6000:UNIX_SV:4.2*:7* | DRS?6000:isis:4.2*:7*)
++	case `/usr/bin/uname -p` in
++	    sparc) GUESS=sparc-icl-nx7 ;;
++	esac
++	;;
++    s390x:SunOS:*:*)
++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
++	GUESS=$UNAME_MACHINE-ibm-solaris2$SUN_REL
++	;;
++    sun4H:SunOS:5.*:*)
++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
++	GUESS=sparc-hal-solaris2$SUN_REL
++	;;
++    sun4*:SunOS:5.*:* | tadpole*:SunOS:5.*:*)
++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
++	GUESS=sparc-sun-solaris2$SUN_REL
++	;;
++    i86pc:AuroraUX:5.*:* | i86xen:AuroraUX:5.*:*)
++	GUESS=i386-pc-auroraux$UNAME_RELEASE
++	;;
++    i86pc:SunOS:5.*:* | i86xen:SunOS:5.*:*)
++	set_cc_for_build
++	SUN_ARCH=i386
++	# If there is a compiler, see if it is configured for 64-bit objects.
++	# Note that the Sun cc does not turn __LP64__ into 1 like gcc does.
++	# This test works for both compilers.
++	if test "$CC_FOR_BUILD" != no_compiler_found; then
++	    if (echo '#ifdef __amd64'; echo IS_64BIT_ARCH; echo '#endif') | \
++		(CCOPTS="" $CC_FOR_BUILD -m64 -E - 2>/dev/null) | \
++		grep IS_64BIT_ARCH >/dev/null
++	    then
++		SUN_ARCH=x86_64
++	    fi
++	fi
++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
++	GUESS=$SUN_ARCH-pc-solaris2$SUN_REL
++	;;
++    sun4*:SunOS:6*:*)
++	# According to config.sub, this is the proper way to canonicalize
++	# SunOS6.  Hard to guess exactly what SunOS6 will be like, but
++	# it's likely to be more like Solaris than SunOS4.
++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
++	GUESS=sparc-sun-solaris3$SUN_REL
++	;;
++    sun4*:SunOS:*:*)
++	case `/usr/bin/arch -k` in
++	    Series*|S4*)
++		UNAME_RELEASE=`uname -v`
++		;;
++	esac
++	# Japanese Language versions have a version number like '4.1.3-JL'.
++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/-/_/'`
++	GUESS=sparc-sun-sunos$SUN_REL
++	;;
++    sun3*:SunOS:*:*)
++	GUESS=m68k-sun-sunos$UNAME_RELEASE
++	;;
++    sun*:*:4.2BSD:*)
++	UNAME_RELEASE=`(sed 1q /etc/motd | awk '{print substr($5,1,3)}') 2>/dev/null`
++	test "x$UNAME_RELEASE" = x && UNAME_RELEASE=3
++	case `/bin/arch` in
++	    sun3)
++		GUESS=m68k-sun-sunos$UNAME_RELEASE
++		;;
++	    sun4)
++		GUESS=sparc-sun-sunos$UNAME_RELEASE
++		;;
++	esac
++	;;
++    aushp:SunOS:*:*)
++	GUESS=sparc-auspex-sunos$UNAME_RELEASE
++	;;
++    # The situation for MiNT is a little confusing.  The machine name
++    # can be virtually everything (everything which is not
++    # "atarist" or "atariste" at least should have a processor
++    # > m68000).  The system name ranges from "MiNT" over "FreeMiNT"
++    # to the lowercase version "mint" (or "freemint").  Finally
++    # the system name "TOS" denotes a system which is actually not
++    # MiNT.  But MiNT is downward compatible to TOS, so this should
++    # be no problem.
++    atarist[e]:*MiNT:*:* | atarist[e]:*mint:*:* | atarist[e]:*TOS:*:*)
++	GUESS=m68k-atari-mint$UNAME_RELEASE
++	;;
++    atari*:*MiNT:*:* | atari*:*mint:*:* | atarist[e]:*TOS:*:*)
++	GUESS=m68k-atari-mint$UNAME_RELEASE
++	;;
++    *falcon*:*MiNT:*:* | *falcon*:*mint:*:* | *falcon*:*TOS:*:*)
++	GUESS=m68k-atari-mint$UNAME_RELEASE
++	;;
++    milan*:*MiNT:*:* | milan*:*mint:*:* | *milan*:*TOS:*:*)
++	GUESS=m68k-milan-mint$UNAME_RELEASE
++	;;
++    hades*:*MiNT:*:* | hades*:*mint:*:* | *hades*:*TOS:*:*)
++	GUESS=m68k-hades-mint$UNAME_RELEASE
++	;;
++    *:*MiNT:*:* | *:*mint:*:* | *:*TOS:*:*)
++	GUESS=m68k-unknown-mint$UNAME_RELEASE
++	;;
++    m68k:machten:*:*)
++	GUESS=m68k-apple-machten$UNAME_RELEASE
++	;;
++    powerpc:machten:*:*)
++	GUESS=powerpc-apple-machten$UNAME_RELEASE
++	;;
++    RISC*:Mach:*:*)
++	GUESS=mips-dec-mach_bsd4.3
++	;;
++    RISC*:ULTRIX:*:*)
++	GUESS=mips-dec-ultrix$UNAME_RELEASE
++	;;
++    VAX*:ULTRIX*:*:*)
++	GUESS=vax-dec-ultrix$UNAME_RELEASE
++	;;
++    2020:CLIX:*:* | 2430:CLIX:*:*)
++	GUESS=clipper-intergraph-clix$UNAME_RELEASE
++	;;
++    mips:*:*:UMIPS | mips:*:*:RISCos)
++	set_cc_for_build
++	sed 's/^	//' << EOF > "$dummy.c"
++#ifdef __cplusplus
++#include <stdio.h>  /* for printf() prototype */
++	int main (int argc, char *argv[]) {
++#else
++	int main (argc, argv) int argc; char *argv[]; {
++#endif
++	#if defined (host_mips) && defined (MIPSEB)
++	#if defined (SYSTYPE_SYSV)
++	  printf ("mips-mips-riscos%ssysv\\n", argv[1]); exit (0);
++	#endif
++	#if defined (SYSTYPE_SVR4)
++	  printf ("mips-mips-riscos%ssvr4\\n", argv[1]); exit (0);
++	#endif
++	#if defined (SYSTYPE_BSD43) || defined(SYSTYPE_BSD)
++	  printf ("mips-mips-riscos%sbsd\\n", argv[1]); exit (0);
++	#endif
++	#endif
++	  exit (-1);
++	}
++EOF
++	$CC_FOR_BUILD -o "$dummy" "$dummy.c" &&
++	  dummyarg=`echo "$UNAME_RELEASE" | sed -n 's/\([0-9]*\).*/\1/p'` &&
++	  SYSTEM_NAME=`"$dummy" "$dummyarg"` &&
++	    { echo "$SYSTEM_NAME"; exit; }
++	GUESS=mips-mips-riscos$UNAME_RELEASE
++	;;
++    Motorola:PowerMAX_OS:*:*)
++	GUESS=powerpc-motorola-powermax
++	;;
++    Motorola:*:4.3:PL8-*)
++	GUESS=powerpc-harris-powermax
++	;;
++    Night_Hawk:*:*:PowerMAX_OS | Synergy:PowerMAX_OS:*:*)
++	GUESS=powerpc-harris-powermax
++	;;
++    Night_Hawk:Power_UNIX:*:*)
++	GUESS=powerpc-harris-powerunix
++	;;
++    m88k:CX/UX:7*:*)
++	GUESS=m88k-harris-cxux7
++	;;
++    m88k:*:4*:R4*)
++	GUESS=m88k-motorola-sysv4
++	;;
++    m88k:*:3*:R3*)
++	GUESS=m88k-motorola-sysv3
++	;;
++    AViiON:dgux:*:*)
++	# DG/UX returns AViiON for all architectures
++	UNAME_PROCESSOR=`/usr/bin/uname -p`
++	if test "$UNAME_PROCESSOR" = mc88100 || test "$UNAME_PROCESSOR" = mc88110
++	then
++	    if test "$TARGET_BINARY_INTERFACE"x = m88kdguxelfx || \
++	       test "$TARGET_BINARY_INTERFACE"x = x
++	    then
++		GUESS=m88k-dg-dgux$UNAME_RELEASE
++	    else
++		GUESS=m88k-dg-dguxbcs$UNAME_RELEASE
++	    fi
++	else
++	    GUESS=i586-dg-dgux$UNAME_RELEASE
++	fi
++	;;
++    M88*:DolphinOS:*:*)	# DolphinOS (SVR3)
++	GUESS=m88k-dolphin-sysv3
++	;;
++    M88*:*:R3*:*)
++	# Delta 88k system running SVR3
++	GUESS=m88k-motorola-sysv3
++	;;
++    XD88*:*:*:*) # Tektronix XD88 system running UTekV (SVR3)
++	GUESS=m88k-tektronix-sysv3
++	;;
++    Tek43[0-9][0-9]:UTek:*:*) # Tektronix 4300 system running UTek (BSD)
++	GUESS=m68k-tektronix-bsd
++	;;
++    *:IRIX*:*:*)
++	IRIX_REL=`echo "$UNAME_RELEASE" | sed -e 's/-/_/g'`
++	GUESS=mips-sgi-irix$IRIX_REL
++	;;
++    ????????:AIX?:[12].1:2)   # AIX 2.2.1 or AIX 2.1.1 is RT/PC AIX.
++	GUESS=romp-ibm-aix    # uname -m gives an 8 hex-code CPU id
++	;;                    # Note that: echo "'`uname -s`'" gives 'AIX '
++    i*86:AIX:*:*)
++	GUESS=i386-ibm-aix
++	;;
++    ia64:AIX:*:*)
++	if test -x /usr/bin/oslevel ; then
++		IBM_REV=`/usr/bin/oslevel`
++	else
++		IBM_REV=$UNAME_VERSION.$UNAME_RELEASE
++	fi
++	GUESS=$UNAME_MACHINE-ibm-aix$IBM_REV
++	;;
++    *:AIX:2:3)
++	if grep bos325 /usr/include/stdio.h >/dev/null 2>&1; then
++		set_cc_for_build
++		sed 's/^		//' << EOF > "$dummy.c"
++		#include <sys/systemcfg.h>
++
++		int
++		main ()
++			{
++			if (!__power_pc())
++				exit(1);
++			puts("powerpc-ibm-aix3.2.5");
++			exit(0);
++			}
++EOF
++		if $CC_FOR_BUILD -o "$dummy" "$dummy.c" && SYSTEM_NAME=`"$dummy"`
++		then
++			GUESS=$SYSTEM_NAME
++		else
++			GUESS=rs6000-ibm-aix3.2.5
++		fi
++	elif grep bos324 /usr/include/stdio.h >/dev/null 2>&1; then
++		GUESS=rs6000-ibm-aix3.2.4
++	else
++		GUESS=rs6000-ibm-aix3.2
++	fi
++	;;
++    *:AIX:*:[4567])
++	IBM_CPU_ID=`/usr/sbin/lsdev -C -c processor -S available | sed 1q | awk '{ print $1 }'`
++	if /usr/sbin/lsattr -El "$IBM_CPU_ID" | grep ' POWER' >/dev/null 2>&1; then
++		IBM_ARCH=rs6000
++	else
++		IBM_ARCH=powerpc
++	fi
++	if test -x /usr/bin/lslpp ; then
++		IBM_REV=`/usr/bin/lslpp -Lqc bos.rte.libc | \
++			   awk -F: '{ print $3 }' | sed s/[0-9]*$/0/`
++	else
++		IBM_REV=$UNAME_VERSION.$UNAME_RELEASE
++	fi
++	GUESS=$IBM_ARCH-ibm-aix$IBM_REV
++	;;
++    *:AIX:*:*)
++	GUESS=rs6000-ibm-aix
++	;;
++    ibmrt:4.4BSD:*|romp-ibm:4.4BSD:*)
++	GUESS=romp-ibm-bsd4.4
++	;;
++    ibmrt:*BSD:*|romp-ibm:BSD:*)            # covers RT/PC BSD and
++	GUESS=romp-ibm-bsd$UNAME_RELEASE    # 4.3 with uname added to
++	;;                                  # report: romp-ibm BSD 4.3
++    *:BOSX:*:*)
++	GUESS=rs6000-bull-bosx
++	;;
++    DPX/2?00:B.O.S.:*:*)
++	GUESS=m68k-bull-sysv3
++	;;
++    9000/[34]??:4.3bsd:1.*:*)
++	GUESS=m68k-hp-bsd
++	;;
++    hp300:4.4BSD:*:* | 9000/[34]??:4.3bsd:2.*:*)
++	GUESS=m68k-hp-bsd4.4
++	;;
++    9000/[34678]??:HP-UX:*:*)
++	HPUX_REV=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*.[0B]*//'`
++	case $UNAME_MACHINE in
++	    9000/31?)            HP_ARCH=m68000 ;;
++	    9000/[34]??)         HP_ARCH=m68k ;;
++	    9000/[678][0-9][0-9])
++		if test -x /usr/bin/getconf; then
++		    sc_cpu_version=`/usr/bin/getconf SC_CPU_VERSION 2>/dev/null`
++		    sc_kernel_bits=`/usr/bin/getconf SC_KERNEL_BITS 2>/dev/null`
++		    case $sc_cpu_version in
++		      523) HP_ARCH=hppa1.0 ;; # CPU_PA_RISC1_0
++		      528) HP_ARCH=hppa1.1 ;; # CPU_PA_RISC1_1
++		      532)                      # CPU_PA_RISC2_0
++			case $sc_kernel_bits in
++			  32) HP_ARCH=hppa2.0n ;;
++			  64) HP_ARCH=hppa2.0w ;;
++			  '') HP_ARCH=hppa2.0 ;;   # HP-UX 10.20
++			esac ;;
++		    esac
++		fi
++		if test "$HP_ARCH" = ""; then
++		    set_cc_for_build
++		    sed 's/^		//' << EOF > "$dummy.c"
++
++		#define _HPUX_SOURCE
++		#include <stdlib.h>
++		#include <unistd.h>
++
++		int
++		main ()
++		{
++		#if defined(_SC_KERNEL_BITS)
++		    long bits = sysconf(_SC_KERNEL_BITS);
++		#endif
++		    long cpu  = sysconf (_SC_CPU_VERSION);
++
++		    switch (cpu)
++			{
++			case CPU_PA_RISC1_0: puts ("hppa1.0"); break;
++			case CPU_PA_RISC1_1: puts ("hppa1.1"); break;
++			case CPU_PA_RISC2_0:
++		#if defined(_SC_KERNEL_BITS)
++			    switch (bits)
++				{
++				case 64: puts ("hppa2.0w"); break;
++				case 32: puts ("hppa2.0n"); break;
++				default: puts ("hppa2.0"); break;
++				} break;
++		#else  /* !defined(_SC_KERNEL_BITS) */
++			    puts ("hppa2.0"); break;
++		#endif
++			default: puts ("hppa1.0"); break;
++			}
++		    exit (0);
++		}
++EOF
++		    (CCOPTS="" $CC_FOR_BUILD -o "$dummy" "$dummy.c" 2>/dev/null) && HP_ARCH=`"$dummy"`
++		    test -z "$HP_ARCH" && HP_ARCH=hppa
++		fi ;;
++	esac
++	if test "$HP_ARCH" = hppa2.0w
++	then
++	    set_cc_for_build
++
++	    # hppa2.0w-hp-hpux* has a 64-bit kernel and a compiler generating
++	    # 32-bit code.  hppa64-hp-hpux* has the same kernel and a compiler
++	    # generating 64-bit code.  GNU and HP use different nomenclature:
++	    #
++	    # $ CC_FOR_BUILD=cc ./config.guess
++	    # => hppa2.0w-hp-hpux11.23
++	    # $ CC_FOR_BUILD="cc +DA2.0w" ./config.guess
++	    # => hppa64-hp-hpux11.23
++
++	    if echo __LP64__ | (CCOPTS="" $CC_FOR_BUILD -E - 2>/dev/null) |
++		grep -q __LP64__
++	    then
++		HP_ARCH=hppa2.0w
++	    else
++		HP_ARCH=hppa64
++	    fi
++	fi
++	GUESS=$HP_ARCH-hp-hpux$HPUX_REV
++	;;
++    ia64:HP-UX:*:*)
++	HPUX_REV=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*.[0B]*//'`
++	GUESS=ia64-hp-hpux$HPUX_REV
++	;;
++    3050*:HI-UX:*:*)
++	set_cc_for_build
++	sed 's/^	//' << EOF > "$dummy.c"
++	#include <unistd.h>
++	int
++	main ()
++	{
++	  long cpu = sysconf (_SC_CPU_VERSION);
++	  /* The order matters, because CPU_IS_HP_MC68K erroneously returns
++	     true for CPU_PA_RISC1_0.  CPU_IS_PA_RISC returns correct
++	     results, however.  */
++	  if (CPU_IS_PA_RISC (cpu))
++	    {
++	      switch (cpu)
++		{
++		  case CPU_PA_RISC1_0: puts ("hppa1.0-hitachi-hiuxwe2"); break;
++		  case CPU_PA_RISC1_1: puts ("hppa1.1-hitachi-hiuxwe2"); break;
++		  case CPU_PA_RISC2_0: puts ("hppa2.0-hitachi-hiuxwe2"); break;
++		  default: puts ("hppa-hitachi-hiuxwe2"); break;
++		}
++	    }
++	  else if (CPU_IS_HP_MC68K (cpu))
++	    puts ("m68k-hitachi-hiuxwe2");
++	  else puts ("unknown-hitachi-hiuxwe2");
++	  exit (0);
++	}
++EOF
++	$CC_FOR_BUILD -o "$dummy" "$dummy.c" && SYSTEM_NAME=`"$dummy"` &&
++		{ echo "$SYSTEM_NAME"; exit; }
++	GUESS=unknown-hitachi-hiuxwe2
++	;;
++    9000/7??:4.3bsd:*:* | 9000/8?[79]:4.3bsd:*:*)
++	GUESS=hppa1.1-hp-bsd
++	;;
++    9000/8??:4.3bsd:*:*)
++	GUESS=hppa1.0-hp-bsd
++	;;
++    *9??*:MPE/iX:*:* | *3000*:MPE/iX:*:*)
++	GUESS=hppa1.0-hp-mpeix
++	;;
++    hp7??:OSF1:*:* | hp8?[79]:OSF1:*:*)
++	GUESS=hppa1.1-hp-osf
++	;;
++    hp8??:OSF1:*:*)
++	GUESS=hppa1.0-hp-osf
++	;;
++    i*86:OSF1:*:*)
++	if test -x /usr/sbin/sysversion ; then
++	    GUESS=$UNAME_MACHINE-unknown-osf1mk
++	else
++	    GUESS=$UNAME_MACHINE-unknown-osf1
++	fi
++	;;
++    parisc*:Lites*:*:*)
++	GUESS=hppa1.1-hp-lites
++	;;
++    C1*:ConvexOS:*:* | convex:ConvexOS:C1*:*)
++	GUESS=c1-convex-bsd
++	;;
++    C2*:ConvexOS:*:* | convex:ConvexOS:C2*:*)
++	if getsysinfo -f scalar_acc
++	then echo c32-convex-bsd
++	else echo c2-convex-bsd
++	fi
++	exit ;;
++    C34*:ConvexOS:*:* | convex:ConvexOS:C34*:*)
++	GUESS=c34-convex-bsd
++	;;
++    C38*:ConvexOS:*:* | convex:ConvexOS:C38*:*)
++	GUESS=c38-convex-bsd
++	;;
++    C4*:ConvexOS:*:* | convex:ConvexOS:C4*:*)
++	GUESS=c4-convex-bsd
++	;;
++    CRAY*Y-MP:*:*:*)
++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
++	GUESS=ymp-cray-unicos$CRAY_REL
++	;;
++    CRAY*[A-Z]90:*:*:*)
++	echo "$UNAME_MACHINE"-cray-unicos"$UNAME_RELEASE" \
++	| sed -e 's/CRAY.*\([A-Z]90\)/\1/' \
++	      -e y/ABCDEFGHIJKLMNOPQRSTUVWXYZ/abcdefghijklmnopqrstuvwxyz/ \
++	      -e 's/\.[^.]*$/.X/'
++	exit ;;
++    CRAY*TS:*:*:*)
++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
++	GUESS=t90-cray-unicos$CRAY_REL
++	;;
++    CRAY*T3E:*:*:*)
++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
++	GUESS=alphaev5-cray-unicosmk$CRAY_REL
++	;;
++    CRAY*SV1:*:*:*)
++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
++	GUESS=sv1-cray-unicos$CRAY_REL
++	;;
++    *:UNICOS/mp:*:*)
++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
++	GUESS=craynv-cray-unicosmp$CRAY_REL
++	;;
++    F30[01]:UNIX_System_V:*:* | F700:UNIX_System_V:*:*)
++	FUJITSU_PROC=`uname -m | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz`
++	FUJITSU_SYS=`uname -p | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz | sed -e 's/\///'`
++	FUJITSU_REL=`echo "$UNAME_RELEASE" | sed -e 's/ /_/'`
++	GUESS=${FUJITSU_PROC}-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}
++	;;
++    5000:UNIX_System_V:4.*:*)
++	FUJITSU_SYS=`uname -p | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz | sed -e 's/\///'`
++	FUJITSU_REL=`echo "$UNAME_RELEASE" | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz | sed -e 's/ /_/'`
++	GUESS=sparc-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}
++	;;
++    i*86:BSD/386:*:* | i*86:BSD/OS:*:* | *:Ascend\ Embedded/OS:*:*)
++	GUESS=$UNAME_MACHINE-pc-bsdi$UNAME_RELEASE
++	;;
++    sparc*:BSD/OS:*:*)
++	GUESS=sparc-unknown-bsdi$UNAME_RELEASE
++	;;
++    *:BSD/OS:*:*)
++	GUESS=$UNAME_MACHINE-unknown-bsdi$UNAME_RELEASE
++	;;
++    arm:FreeBSD:*:*)
++	UNAME_PROCESSOR=`uname -p`
++	set_cc_for_build
++	if echo __ARM_PCS_VFP | $CC_FOR_BUILD -E - 2>/dev/null \
++	    | grep -q __ARM_PCS_VFP
++	then
++	    FREEBSD_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
++	    GUESS=$UNAME_PROCESSOR-unknown-freebsd$FREEBSD_REL-gnueabi
++	else
++	    FREEBSD_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
++	    GUESS=$UNAME_PROCESSOR-unknown-freebsd$FREEBSD_REL-gnueabihf
++	fi
++	;;
++    *:FreeBSD:*:*)
++	UNAME_PROCESSOR=`uname -p`
++	case $UNAME_PROCESSOR in
++	    amd64)
++		UNAME_PROCESSOR=x86_64 ;;
++	    i386)
++		UNAME_PROCESSOR=i586 ;;
++	esac
++	FREEBSD_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
++	GUESS=$UNAME_PROCESSOR-unknown-freebsd$FREEBSD_REL
++	;;
++    i*:CYGWIN*:*)
++	GUESS=$UNAME_MACHINE-pc-cygwin
++	;;
++    *:MINGW64*:*)
++	GUESS=$UNAME_MACHINE-pc-mingw64
++	;;
++    *:MINGW*:*)
++	GUESS=$UNAME_MACHINE-pc-mingw32
++	;;
++    *:MSYS*:*)
++	GUESS=$UNAME_MACHINE-pc-msys
++	;;
++    i*:PW*:*)
++	GUESS=$UNAME_MACHINE-pc-pw32
++	;;
++    *:SerenityOS:*:*)
++        GUESS=$UNAME_MACHINE-pc-serenity
++        ;;
++    *:Interix*:*)
++	case $UNAME_MACHINE in
++	    x86)
++		GUESS=i586-pc-interix$UNAME_RELEASE
++		;;
++	    authenticamd | genuineintel | EM64T)
++		GUESS=x86_64-unknown-interix$UNAME_RELEASE
++		;;
++	    IA64)
++		GUESS=ia64-unknown-interix$UNAME_RELEASE
++		;;
++	esac ;;
++    i*:UWIN*:*)
++	GUESS=$UNAME_MACHINE-pc-uwin
++	;;
++    amd64:CYGWIN*:*:* | x86_64:CYGWIN*:*:*)
++	GUESS=x86_64-pc-cygwin
++	;;
++    prep*:SunOS:5.*:*)
++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
++	GUESS=powerpcle-unknown-solaris2$SUN_REL
++	;;
++    *:GNU:*:*)
++	# the GNU system
++	GNU_ARCH=`echo "$UNAME_MACHINE" | sed -e 's,[-/].*$,,'`
++	GNU_REL=`echo "$UNAME_RELEASE" | sed -e 's,/.*$,,'`
++	GUESS=$GNU_ARCH-unknown-$LIBC$GNU_REL
++	;;
++    *:GNU/*:*:*)
++	# other systems with GNU libc and userland
++	GNU_SYS=`echo "$UNAME_SYSTEM" | sed 's,^[^/]*/,,' | tr "[:upper:]" "[:lower:]"`
++	GNU_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
++	GUESS=$UNAME_MACHINE-unknown-$GNU_SYS$GNU_REL-$LIBC
++	;;
++    x86_64:[Mm]anagarm:*:*|i?86:[Mm]anagarm:*:*)
++	GUESS="$UNAME_MACHINE-pc-managarm-mlibc"
++	;;
++    *:[Mm]anagarm:*:*)
++	GUESS="$UNAME_MACHINE-unknown-managarm-mlibc"
++	;;
++    *:Minix:*:*)
++	GUESS=$UNAME_MACHINE-unknown-minix
++	;;
++    aarch64:Linux:*:*)
++	set_cc_for_build
++	CPU=$UNAME_MACHINE
++	LIBCABI=$LIBC
++	if test "$CC_FOR_BUILD" != no_compiler_found; then
++	    ABI=64
++	    sed 's/^	    //' << EOF > "$dummy.c"
++	    #ifdef __ARM_EABI__
++	    #ifdef __ARM_PCS_VFP
++	    ABI=eabihf
++	    #else
++	    ABI=eabi
++	    #endif
++	    #endif
++EOF
++	    cc_set_abi=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^ABI' | sed 's, ,,g'`
++	    eval "$cc_set_abi"
++	    case $ABI in
++		eabi | eabihf) CPU=armv8l; LIBCABI=$LIBC$ABI ;;
++	    esac
++	fi
++	GUESS=$CPU-unknown-linux-$LIBCABI
++	;;
++    aarch64_be:Linux:*:*)
++	UNAME_MACHINE=aarch64_be
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    alpha:Linux:*:*)
++	case `sed -n '/^cpu model/s/^.*: \(.*\)/\1/p' /proc/cpuinfo 2>/dev/null` in
++	  EV5)   UNAME_MACHINE=alphaev5 ;;
++	  EV56)  UNAME_MACHINE=alphaev56 ;;
++	  PCA56) UNAME_MACHINE=alphapca56 ;;
++	  PCA57) UNAME_MACHINE=alphapca56 ;;
++	  EV6)   UNAME_MACHINE=alphaev6 ;;
++	  EV67)  UNAME_MACHINE=alphaev67 ;;
++	  EV68*) UNAME_MACHINE=alphaev68 ;;
++	esac
++	objdump --private-headers /bin/sh | grep -q ld.so.1
++	if test "$?" = 0 ; then LIBC=gnulibc1 ; fi
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    arc:Linux:*:* | arceb:Linux:*:* | arc32:Linux:*:* | arc64:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    arm*:Linux:*:*)
++	set_cc_for_build
++	if echo __ARM_EABI__ | $CC_FOR_BUILD -E - 2>/dev/null \
++	    | grep -q __ARM_EABI__
++	then
++	    GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	else
++	    if echo __ARM_PCS_VFP | $CC_FOR_BUILD -E - 2>/dev/null \
++		| grep -q __ARM_PCS_VFP
++	    then
++		GUESS=$UNAME_MACHINE-unknown-linux-${LIBC}eabi
++	    else
++		GUESS=$UNAME_MACHINE-unknown-linux-${LIBC}eabihf
++	    fi
++	fi
++	;;
++    avr32*:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    cris:Linux:*:*)
++	GUESS=$UNAME_MACHINE-axis-linux-$LIBC
++	;;
++    crisv32:Linux:*:*)
++	GUESS=$UNAME_MACHINE-axis-linux-$LIBC
++	;;
++    e2k:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    frv:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    hexagon:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    i*86:Linux:*:*)
++	GUESS=$UNAME_MACHINE-pc-linux-$LIBC
++	;;
++    ia64:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    k1om:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    kvx:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    kvx:cos:*:*)
++	GUESS=$UNAME_MACHINE-unknown-cos
++	;;
++    kvx:mbr:*:*)
++	GUESS=$UNAME_MACHINE-unknown-mbr
++	;;
++    loongarch32:Linux:*:* | loongarch64:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    m32r*:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    m68*:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    mips:Linux:*:* | mips64:Linux:*:*)
++	set_cc_for_build
++	IS_GLIBC=0
++	test x"${LIBC}" = xgnu && IS_GLIBC=1
++	sed 's/^	//' << EOF > "$dummy.c"
++	#undef CPU
++	#undef mips
++	#undef mipsel
++	#undef mips64
++	#undef mips64el
++	#if ${IS_GLIBC} && defined(_ABI64)
++	LIBCABI=gnuabi64
++	#else
++	#if ${IS_GLIBC} && defined(_ABIN32)
++	LIBCABI=gnuabin32
++	#else
++	LIBCABI=${LIBC}
++	#endif
++	#endif
++
++	#if ${IS_GLIBC} && defined(__mips64) && defined(__mips_isa_rev) && __mips_isa_rev>=6
++	CPU=mipsisa64r6
++	#else
++	#if ${IS_GLIBC} && !defined(__mips64) && defined(__mips_isa_rev) && __mips_isa_rev>=6
++	CPU=mipsisa32r6
++	#else
++	#if defined(__mips64)
++	CPU=mips64
++	#else
++	CPU=mips
++	#endif
++	#endif
++	#endif
++
++	#if defined(__MIPSEL__) || defined(__MIPSEL) || defined(_MIPSEL) || defined(MIPSEL)
++	MIPS_ENDIAN=el
++	#else
++	#if defined(__MIPSEB__) || defined(__MIPSEB) || defined(_MIPSEB) || defined(MIPSEB)
++	MIPS_ENDIAN=
++	#else
++	MIPS_ENDIAN=
++	#endif
++	#endif
++EOF
++	cc_set_vars=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^CPU\|^MIPS_ENDIAN\|^LIBCABI'`
++	eval "$cc_set_vars"
++	test "x$CPU" != x && { echo "$CPU${MIPS_ENDIAN}-unknown-linux-$LIBCABI"; exit; }
++	;;
++    mips64el:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    openrisc*:Linux:*:*)
++	GUESS=or1k-unknown-linux-$LIBC
++	;;
++    or32:Linux:*:* | or1k*:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    padre:Linux:*:*)
++	GUESS=sparc-unknown-linux-$LIBC
++	;;
++    parisc64:Linux:*:* | hppa64:Linux:*:*)
++	GUESS=hppa64-unknown-linux-$LIBC
++	;;
++    parisc:Linux:*:* | hppa:Linux:*:*)
++	# Look for CPU level
++	case `grep '^cpu[^a-z]*:' /proc/cpuinfo 2>/dev/null | cut -d' ' -f2` in
++	  PA7*) GUESS=hppa1.1-unknown-linux-$LIBC ;;
++	  PA8*) GUESS=hppa2.0-unknown-linux-$LIBC ;;
++	  *)    GUESS=hppa-unknown-linux-$LIBC ;;
++	esac
++	;;
++    ppc64:Linux:*:*)
++	GUESS=powerpc64-unknown-linux-$LIBC
++	;;
++    ppc:Linux:*:*)
++	GUESS=powerpc-unknown-linux-$LIBC
++	;;
++    ppc64le:Linux:*:*)
++	GUESS=powerpc64le-unknown-linux-$LIBC
++	;;
++    ppcle:Linux:*:*)
++	GUESS=powerpcle-unknown-linux-$LIBC
++	;;
++    riscv32:Linux:*:* | riscv32be:Linux:*:* | riscv64:Linux:*:* | riscv64be:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    s390:Linux:*:* | s390x:Linux:*:*)
++	GUESS=$UNAME_MACHINE-ibm-linux-$LIBC
++	;;
++    sh64*:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    sh*:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    sparc:Linux:*:* | sparc64:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    tile*:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    vax:Linux:*:*)
++	GUESS=$UNAME_MACHINE-dec-linux-$LIBC
++	;;
++    x86_64:Linux:*:*)
++	set_cc_for_build
++	CPU=$UNAME_MACHINE
++	LIBCABI=$LIBC
++	if test "$CC_FOR_BUILD" != no_compiler_found; then
++	    ABI=64
++	    sed 's/^	    //' << EOF > "$dummy.c"
++	    #ifdef __i386__
++	    ABI=x86
++	    #else
++	    #ifdef __ILP32__
++	    ABI=x32
++	    #endif
++	    #endif
++EOF
++	    cc_set_abi=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^ABI' | sed 's, ,,g'`
++	    eval "$cc_set_abi"
++	    case $ABI in
++		x86) CPU=i686 ;;
++		x32) LIBCABI=${LIBC}x32 ;;
++	    esac
++	fi
++	GUESS=$CPU-pc-linux-$LIBCABI
++	;;
++    xtensa*:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    i*86:DYNIX/ptx:4*:*)
++	# ptx 4.0 does uname -s correctly, with DYNIX/ptx in there.
++	# earlier versions are messed up and put the nodename in both
++	# sysname and nodename.
++	GUESS=i386-sequent-sysv4
++	;;
++    i*86:UNIX_SV:4.2MP:2.*)
++	# Unixware is an offshoot of SVR4, but it has its own version
++	# number series starting with 2...
++	# I am not positive that other SVR4 systems won't match this,
++	# I just have to hope.  -- rms.
++	# Use sysv4.2uw... so that sysv4* matches it.
++	GUESS=$UNAME_MACHINE-pc-sysv4.2uw$UNAME_VERSION
++	;;
++    i*86:OS/2:*:*)
++	# If we were able to find 'uname', then EMX Unix compatibility
++	# is probably installed.
++	GUESS=$UNAME_MACHINE-pc-os2-emx
++	;;
++    i*86:XTS-300:*:STOP)
++	GUESS=$UNAME_MACHINE-unknown-stop
++	;;
++    i*86:atheos:*:*)
++	GUESS=$UNAME_MACHINE-unknown-atheos
++	;;
++    i*86:syllable:*:*)
++	GUESS=$UNAME_MACHINE-pc-syllable
++	;;
++    i*86:LynxOS:2.*:* | i*86:LynxOS:3.[01]*:* | i*86:LynxOS:4.[02]*:*)
++	GUESS=i386-unknown-lynxos$UNAME_RELEASE
++	;;
++    i*86:*DOS:*:*)
++	GUESS=$UNAME_MACHINE-pc-msdosdjgpp
++	;;
++    i*86:*:4.*:*)
++	UNAME_REL=`echo "$UNAME_RELEASE" | sed 's/\/MP$//'`
++	if grep Novell /usr/include/link.h >/dev/null 2>/dev/null; then
++		GUESS=$UNAME_MACHINE-univel-sysv$UNAME_REL
++	else
++		GUESS=$UNAME_MACHINE-pc-sysv$UNAME_REL
++	fi
++	;;
++    i*86:*:5:[678]*)
++	# UnixWare 7.x, OpenUNIX and OpenServer 6.
++	case `/bin/uname -X | grep "^Machine"` in
++	    *486*)	     UNAME_MACHINE=i486 ;;
++	    *Pentium)	     UNAME_MACHINE=i586 ;;
++	    *Pent*|*Celeron) UNAME_MACHINE=i686 ;;
++	esac
++	GUESS=$UNAME_MACHINE-unknown-sysv${UNAME_RELEASE}${UNAME_SYSTEM}${UNAME_VERSION}
++	;;
++    i*86:*:3.2:*)
++	if test -f /usr/options/cb.name; then
++		UNAME_REL=`sed -n 's/.*Version //p' </usr/options/cb.name`
++		GUESS=$UNAME_MACHINE-pc-isc$UNAME_REL
++	elif /bin/uname -X 2>/dev/null >/dev/null ; then
++		UNAME_REL=`(/bin/uname -X|grep Release|sed -e 's/.*= //')`
++		(/bin/uname -X|grep i80486 >/dev/null) && UNAME_MACHINE=i486
++		(/bin/uname -X|grep '^Machine.*Pentium' >/dev/null) \
++			&& UNAME_MACHINE=i586
++		(/bin/uname -X|grep '^Machine.*Pent *II' >/dev/null) \
++			&& UNAME_MACHINE=i686
++		(/bin/uname -X|grep '^Machine.*Pentium Pro' >/dev/null) \
++			&& UNAME_MACHINE=i686
++		GUESS=$UNAME_MACHINE-pc-sco$UNAME_REL
++	else
++		GUESS=$UNAME_MACHINE-pc-sysv32
++	fi
++	;;
++    pc:*:*:*)
++	# Left here for compatibility:
++	# uname -m prints for DJGPP always 'pc', but it prints nothing about
++	# the processor, so we play safe by assuming i586.
++	# Note: whatever this is, it MUST be the same as what config.sub
++	# prints for the "djgpp" host, or else GDB configure will decide that
++	# this is a cross-build.
++	GUESS=i586-pc-msdosdjgpp
++	;;
++    Intel:Mach:3*:*)
++	GUESS=i386-pc-mach3
++	;;
++    paragon:*:*:*)
++	GUESS=i860-intel-osf1
++	;;
++    i860:*:4.*:*) # i860-SVR4
++	if grep Stardent /usr/include/sys/uadmin.h >/dev/null 2>&1 ; then
++	  GUESS=i860-stardent-sysv$UNAME_RELEASE    # Stardent Vistra i860-SVR4
++	else # Add other i860-SVR4 vendors below as they are discovered.
++	  GUESS=i860-unknown-sysv$UNAME_RELEASE     # Unknown i860-SVR4
++	fi
++	;;
++    mini*:CTIX:SYS*5:*)
++	# "miniframe"
++	GUESS=m68010-convergent-sysv
++	;;
++    mc68k:UNIX:SYSTEM5:3.51m)
++	GUESS=m68k-convergent-sysv
++	;;
++    M680?0:D-NIX:5.3:*)
++	GUESS=m68k-diab-dnix
++	;;
++    M68*:*:R3V[5678]*:*)
++	test -r /sysV68 && { echo 'm68k-motorola-sysv'; exit; } ;;
++    3[345]??:*:4.0:3.0 | 3[34]??A:*:4.0:3.0 | 3[34]??,*:*:4.0:3.0 | 3[34]??/*:*:4.0:3.0 | 4400:*:4.0:3.0 | 4850:*:4.0:3.0 | SKA40:*:4.0:3.0 | SDS2:*:4.0:3.0 | SHG2:*:4.0:3.0 | S7501*:*:4.0:3.0)
++	OS_REL=''
++	test -r /etc/.relid \
++	&& OS_REL=.`sed -n 's/[^ ]* [^ ]* \([0-9][0-9]\).*/\1/p' < /etc/.relid`
++	/bin/uname -p 2>/dev/null | grep 86 >/dev/null \
++	  && { echo i486-ncr-sysv4.3"$OS_REL"; exit; }
++	/bin/uname -p 2>/dev/null | /bin/grep entium >/dev/null \
++	  && { echo i586-ncr-sysv4.3"$OS_REL"; exit; } ;;
++    3[34]??:*:4.0:* | 3[34]??,*:*:4.0:*)
++	/bin/uname -p 2>/dev/null | grep 86 >/dev/null \
++	  && { echo i486-ncr-sysv4; exit; } ;;
++    NCR*:*:4.2:* | MPRAS*:*:4.2:*)
++	OS_REL='.3'
++	test -r /etc/.relid \
++	    && OS_REL=.`sed -n 's/[^ ]* [^ ]* \([0-9][0-9]\).*/\1/p' < /etc/.relid`
++	/bin/uname -p 2>/dev/null | grep 86 >/dev/null \
++	    && { echo i486-ncr-sysv4.3"$OS_REL"; exit; }
++	/bin/uname -p 2>/dev/null | /bin/grep entium >/dev/null \
++	    && { echo i586-ncr-sysv4.3"$OS_REL"; exit; }
++	/bin/uname -p 2>/dev/null | /bin/grep pteron >/dev/null \
++	    && { echo i586-ncr-sysv4.3"$OS_REL"; exit; } ;;
++    m68*:LynxOS:2.*:* | m68*:LynxOS:3.0*:*)
++	GUESS=m68k-unknown-lynxos$UNAME_RELEASE
++	;;
++    mc68030:UNIX_System_V:4.*:*)
++	GUESS=m68k-atari-sysv4
++	;;
++    TSUNAMI:LynxOS:2.*:*)
++	GUESS=sparc-unknown-lynxos$UNAME_RELEASE
++	;;
++    rs6000:LynxOS:2.*:*)
++	GUESS=rs6000-unknown-lynxos$UNAME_RELEASE
++	;;
++    PowerPC:LynxOS:2.*:* | PowerPC:LynxOS:3.[01]*:* | PowerPC:LynxOS:4.[02]*:*)
++	GUESS=powerpc-unknown-lynxos$UNAME_RELEASE
++	;;
++    SM[BE]S:UNIX_SV:*:*)
++	GUESS=mips-dde-sysv$UNAME_RELEASE
++	;;
++    RM*:ReliantUNIX-*:*:*)
++	GUESS=mips-sni-sysv4
++	;;
++    RM*:SINIX-*:*:*)
++	GUESS=mips-sni-sysv4
++	;;
++    *:SINIX-*:*:*)
++	if uname -p 2>/dev/null >/dev/null ; then
++		UNAME_MACHINE=`(uname -p) 2>/dev/null`
++		GUESS=$UNAME_MACHINE-sni-sysv4
++	else
++		GUESS=ns32k-sni-sysv
++	fi
++	;;
++    PENTIUM:*:4.0*:*)	# Unisys 'ClearPath HMP IX 4000' SVR4/MP effort
++			# says <Richard.M.Bartel@ccMail.Census.GOV>
++	GUESS=i586-unisys-sysv4
++	;;
++    *:UNIX_System_V:4*:FTX*)
++	# From Gerald Hewes <hewes@openmarket.com>.
++	# How about differentiating between stratus architectures? -djm
++	GUESS=hppa1.1-stratus-sysv4
++	;;
++    *:*:*:FTX*)
++	# From seanf@swdc.stratus.com.
++	GUESS=i860-stratus-sysv4
++	;;
++    i*86:VOS:*:*)
++	# From Paul.Green@stratus.com.
++	GUESS=$UNAME_MACHINE-stratus-vos
++	;;
++    *:VOS:*:*)
++	# From Paul.Green@stratus.com.
++	GUESS=hppa1.1-stratus-vos
++	;;
++    mc68*:A/UX:*:*)
++	GUESS=m68k-apple-aux$UNAME_RELEASE
++	;;
++    news*:NEWS-OS:6*:*)
++	GUESS=mips-sony-newsos6
++	;;
++    R[34]000:*System_V*:*:* | R4000:UNIX_SYSV:*:* | R*000:UNIX_SV:*:*)
++	if test -d /usr/nec; then
++		GUESS=mips-nec-sysv$UNAME_RELEASE
++	else
++		GUESS=mips-unknown-sysv$UNAME_RELEASE
++	fi
++	;;
++    BeBox:BeOS:*:*)	# BeOS running on hardware made by Be, PPC only.
++	GUESS=powerpc-be-beos
++	;;
++    BeMac:BeOS:*:*)	# BeOS running on Mac or Mac clone, PPC only.
++	GUESS=powerpc-apple-beos
++	;;
++    BePC:BeOS:*:*)	# BeOS running on Intel PC compatible.
++	GUESS=i586-pc-beos
++	;;
++    BePC:Haiku:*:*)	# Haiku running on Intel PC compatible.
++	GUESS=i586-pc-haiku
++	;;
++    ppc:Haiku:*:*)	# Haiku running on Apple PowerPC
++	GUESS=powerpc-apple-haiku
++	;;
++    *:Haiku:*:*)	# Haiku modern gcc (not bound by BeOS compat)
++	GUESS=$UNAME_MACHINE-unknown-haiku
++	;;
++    SX-4:SUPER-UX:*:*)
++	GUESS=sx4-nec-superux$UNAME_RELEASE
++	;;
++    SX-5:SUPER-UX:*:*)
++	GUESS=sx5-nec-superux$UNAME_RELEASE
++	;;
++    SX-6:SUPER-UX:*:*)
++	GUESS=sx6-nec-superux$UNAME_RELEASE
++	;;
++    SX-7:SUPER-UX:*:*)
++	GUESS=sx7-nec-superux$UNAME_RELEASE
++	;;
++    SX-8:SUPER-UX:*:*)
++	GUESS=sx8-nec-superux$UNAME_RELEASE
++	;;
++    SX-8R:SUPER-UX:*:*)
++	GUESS=sx8r-nec-superux$UNAME_RELEASE
++	;;
++    SX-ACE:SUPER-UX:*:*)
++	GUESS=sxace-nec-superux$UNAME_RELEASE
++	;;
++    Power*:Rhapsody:*:*)
++	GUESS=powerpc-apple-rhapsody$UNAME_RELEASE
++	;;
++    *:Rhapsody:*:*)
++	GUESS=$UNAME_MACHINE-apple-rhapsody$UNAME_RELEASE
++	;;
++    arm64:Darwin:*:*)
++	GUESS=aarch64-apple-darwin$UNAME_RELEASE
++	;;
++    *:Darwin:*:*)
++	UNAME_PROCESSOR=`uname -p`
++	case $UNAME_PROCESSOR in
++	    unknown) UNAME_PROCESSOR=powerpc ;;
++	esac
++	if command -v xcode-select > /dev/null 2> /dev/null && \
++		! xcode-select --print-path > /dev/null 2> /dev/null ; then
++	    # Avoid executing cc if there is no toolchain installed as
++	    # cc will be a stub that puts up a graphical alert
++	    # prompting the user to install developer tools.
++	    CC_FOR_BUILD=no_compiler_found
++	else
++	    set_cc_for_build
++	fi
++	if test "$CC_FOR_BUILD" != no_compiler_found; then
++	    if (echo '#ifdef __LP64__'; echo IS_64BIT_ARCH; echo '#endif') | \
++		   (CCOPTS="" $CC_FOR_BUILD -E - 2>/dev/null) | \
++		   grep IS_64BIT_ARCH >/dev/null
++	    then
++		case $UNAME_PROCESSOR in
++		    i386) UNAME_PROCESSOR=x86_64 ;;
++		    powerpc) UNAME_PROCESSOR=powerpc64 ;;
++		esac
++	    fi
++	    # On 10.4-10.6 one might compile for PowerPC via gcc -arch ppc
++	    if (echo '#ifdef __POWERPC__'; echo IS_PPC; echo '#endif') | \
++		   (CCOPTS="" $CC_FOR_BUILD -E - 2>/dev/null) | \
++		   grep IS_PPC >/dev/null
++	    then
++		UNAME_PROCESSOR=powerpc
++	    fi
++	elif test "$UNAME_PROCESSOR" = i386 ; then
++	    # uname -m returns i386 or x86_64
++	    UNAME_PROCESSOR=$UNAME_MACHINE
++	fi
++	GUESS=$UNAME_PROCESSOR-apple-darwin$UNAME_RELEASE
++	;;
++    *:procnto*:*:* | *:QNX:[0123456789]*:*)
++	UNAME_PROCESSOR=`uname -p`
++	if test "$UNAME_PROCESSOR" = x86; then
++		UNAME_PROCESSOR=i386
++		UNAME_MACHINE=pc
++	fi
++	GUESS=$UNAME_PROCESSOR-$UNAME_MACHINE-nto-qnx$UNAME_RELEASE
++	;;
++    *:QNX:*:4*)
++	GUESS=i386-pc-qnx
++	;;
++    NEO-*:NONSTOP_KERNEL:*:*)
++	GUESS=neo-tandem-nsk$UNAME_RELEASE
++	;;
++    NSE-*:NONSTOP_KERNEL:*:*)
++	GUESS=nse-tandem-nsk$UNAME_RELEASE
++	;;
++    NSR-*:NONSTOP_KERNEL:*:*)
++	GUESS=nsr-tandem-nsk$UNAME_RELEASE
++	;;
++    NSV-*:NONSTOP_KERNEL:*:*)
++	GUESS=nsv-tandem-nsk$UNAME_RELEASE
++	;;
++    NSX-*:NONSTOP_KERNEL:*:*)
++	GUESS=nsx-tandem-nsk$UNAME_RELEASE
++	;;
++    *:NonStop-UX:*:*)
++	GUESS=mips-compaq-nonstopux
++	;;
++    BS2000:POSIX*:*:*)
++	GUESS=bs2000-siemens-sysv
++	;;
++    DS/*:UNIX_System_V:*:*)
++	GUESS=$UNAME_MACHINE-$UNAME_SYSTEM-$UNAME_RELEASE
++	;;
++    *:Plan9:*:*)
++	# "uname -m" is not consistent, so use $cputype instead. 386
++	# is converted to i386 for consistency with other x86
++	# operating systems.
++	if test "${cputype-}" = 386; then
++	    UNAME_MACHINE=i386
++	elif test "x${cputype-}" != x; then
++	    UNAME_MACHINE=$cputype
++	fi
++	GUESS=$UNAME_MACHINE-unknown-plan9
++	;;
++    *:TOPS-10:*:*)
++	GUESS=pdp10-unknown-tops10
++	;;
++    *:TENEX:*:*)
++	GUESS=pdp10-unknown-tenex
++	;;
++    KS10:TOPS-20:*:* | KL10:TOPS-20:*:* | TYPE4:TOPS-20:*:*)
++	GUESS=pdp10-dec-tops20
++	;;
++    XKL-1:TOPS-20:*:* | TYPE5:TOPS-20:*:*)
++	GUESS=pdp10-xkl-tops20
++	;;
++    *:TOPS-20:*:*)
++	GUESS=pdp10-unknown-tops20
++	;;
++    *:ITS:*:*)
++	GUESS=pdp10-unknown-its
++	;;
++    SEI:*:*:SEIUX)
++	GUESS=mips-sei-seiux$UNAME_RELEASE
++	;;
++    *:DragonFly:*:*)
++	DRAGONFLY_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
++	GUESS=$UNAME_MACHINE-unknown-dragonfly$DRAGONFLY_REL
++	;;
++    *:*VMS:*:*)
++	UNAME_MACHINE=`(uname -p) 2>/dev/null`
++	case $UNAME_MACHINE in
++	    A*) GUESS=alpha-dec-vms ;;
++	    I*) GUESS=ia64-dec-vms ;;
++	    V*) GUESS=vax-dec-vms ;;
++	esac ;;
++    *:XENIX:*:SysV)
++	GUESS=i386-pc-xenix
++	;;
++    i*86:skyos:*:*)
++	SKYOS_REL=`echo "$UNAME_RELEASE" | sed -e 's/ .*$//'`
++	GUESS=$UNAME_MACHINE-pc-skyos$SKYOS_REL
++	;;
++    i*86:rdos:*:*)
++	GUESS=$UNAME_MACHINE-pc-rdos
++	;;
++    i*86:Fiwix:*:*)
++	GUESS=$UNAME_MACHINE-pc-fiwix
++	;;
++    *:AROS:*:*)
++	GUESS=$UNAME_MACHINE-unknown-aros
++	;;
++    x86_64:VMkernel:*:*)
++	GUESS=$UNAME_MACHINE-unknown-esx
++	;;
++    amd64:Isilon\ OneFS:*:*)
++	GUESS=x86_64-unknown-onefs
++	;;
++    *:Unleashed:*:*)
++	GUESS=$UNAME_MACHINE-unknown-unleashed$UNAME_RELEASE
++	;;
++    *:Ironclad:*:*)
++	GUESS=$UNAME_MACHINE-unknown-ironclad
++	;;
++esac
++
++# Do we have a guess based on uname results?
++if test "x$GUESS" != x; then
++    echo "$GUESS"
++    exit
++fi
++
++# No uname command or uname output not recognized.
++set_cc_for_build
++cat > "$dummy.c" <<EOF
++#ifdef _SEQUENT_
++#include <sys/types.h>
++#include <sys/utsname.h>
++#endif
++#if defined(ultrix) || defined(_ultrix) || defined(__ultrix) || defined(__ultrix__)
++#if defined (vax) || defined (__vax) || defined (__vax__) || defined(mips) || defined(__mips) || defined(__mips__) || defined(MIPS) || defined(__MIPS__)
++#include <signal.h>
++#if defined(_SIZE_T_) || defined(SIGLOST)
++#include <sys/utsname.h>
++#endif
++#endif
++#endif
++int
++main ()
++{
++#if defined (sony)
++#if defined (MIPSEB)
++  /* BFD wants "bsd" instead of "newsos".  Perhaps BFD should be changed,
++     I don't know....  */
++  printf ("mips-sony-bsd\n"); exit (0);
++#else
++#include <sys/param.h>
++  printf ("m68k-sony-newsos%s\n",
++#ifdef NEWSOS4
++  "4"
++#else
++  ""
++#endif
++  ); exit (0);
++#endif
++#endif
++
++#if defined (NeXT)
++#if !defined (__ARCHITECTURE__)
++#define __ARCHITECTURE__ "m68k"
++#endif
++  int version;
++  version=`(hostinfo | sed -n 's/.*NeXT Mach \([0-9]*\).*/\1/p') 2>/dev/null`;
++  if (version < 4)
++    printf ("%s-next-nextstep%d\n", __ARCHITECTURE__, version);
++  else
++    printf ("%s-next-openstep%d\n", __ARCHITECTURE__, version);
++  exit (0);
++#endif
++
++#if defined (MULTIMAX) || defined (n16)
++#if defined (UMAXV)
++  printf ("ns32k-encore-sysv\n"); exit (0);
++#else
++#if defined (CMU)
++  printf ("ns32k-encore-mach\n"); exit (0);
++#else
++  printf ("ns32k-encore-bsd\n"); exit (0);
++#endif
++#endif
++#endif
++
++#if defined (__386BSD__)
++  printf ("i386-pc-bsd\n"); exit (0);
++#endif
++
++#if defined (sequent)
++#if defined (i386)
++  printf ("i386-sequent-dynix\n"); exit (0);
++#endif
++#if defined (ns32000)
++  printf ("ns32k-sequent-dynix\n"); exit (0);
++#endif
++#endif
++
++#if defined (_SEQUENT_)
++  struct utsname un;
++
++  uname(&un);
++  if (strncmp(un.version, "V2", 2) == 0) {
++    printf ("i386-sequent-ptx2\n"); exit (0);
++  }
++  if (strncmp(un.version, "V1", 2) == 0) { /* XXX is V1 correct? */
++    printf ("i386-sequent-ptx1\n"); exit (0);
++  }
++  printf ("i386-sequent-ptx\n"); exit (0);
++#endif
++
++#if defined (vax)
++#if !defined (ultrix)
++#include <sys/param.h>
++#if defined (BSD)
++#if BSD == 43
++  printf ("vax-dec-bsd4.3\n"); exit (0);
++#else
++#if BSD == 199006
++  printf ("vax-dec-bsd4.3reno\n"); exit (0);
++#else
++  printf ("vax-dec-bsd\n"); exit (0);
++#endif
++#endif
++#else
++  printf ("vax-dec-bsd\n"); exit (0);
++#endif
++#else
++#if defined(_SIZE_T_) || defined(SIGLOST)
++  struct utsname un;
++  uname (&un);
++  printf ("vax-dec-ultrix%s\n", un.release); exit (0);
++#else
++  printf ("vax-dec-ultrix\n"); exit (0);
++#endif
++#endif
++#endif
++#if defined(ultrix) || defined(_ultrix) || defined(__ultrix) || defined(__ultrix__)
++#if defined(mips) || defined(__mips) || defined(__mips__) || defined(MIPS) || defined(__MIPS__)
++#if defined(_SIZE_T_) || defined(SIGLOST)
++  struct utsname *un;
++  uname (&un);
++  printf ("mips-dec-ultrix%s\n", un.release); exit (0);
++#else
++  printf ("mips-dec-ultrix\n"); exit (0);
++#endif
++#endif
++#endif
++
++#if defined (alliant) && defined (i860)
++  printf ("i860-alliant-bsd\n"); exit (0);
++#endif
++
++  exit (1);
++}
++EOF
++
++$CC_FOR_BUILD -o "$dummy" "$dummy.c" 2>/dev/null && SYSTEM_NAME=`"$dummy"` &&
++	{ echo "$SYSTEM_NAME"; exit; }
++
++# Apollos put the system type in the environment.
++test -d /usr/apollo && { echo "$ISP-apollo-$SYSTYPE"; exit; }
++
++echo "$0: unable to guess system type" >&2
++
++case $UNAME_MACHINE:$UNAME_SYSTEM in
++    mips:Linux | mips64:Linux)
++	# If we got here on MIPS GNU/Linux, output extra information.
++	cat >&2 <<EOF
++
++NOTE: MIPS GNU/Linux systems require a C compiler to fully recognize
++the system type. Please install a C compiler and try again.
++EOF
++	;;
++esac
++
++cat >&2 <<EOF
++
++This script (version $timestamp), has failed to recognize the
++operating system you are using. If your script is old, overwrite *all*
++copies of config.guess and config.sub with the latest versions from:
++
++  https://git.savannah.gnu.org/cgit/config.git/plain/config.guess
++and
++  https://git.savannah.gnu.org/cgit/config.git/plain/config.sub
++EOF
++
++our_year=`echo $timestamp | sed 's,-.*,,'`
++thisyear=`date +%Y`
++# shellcheck disable=SC2003
++script_age=`expr "$thisyear" - "$our_year"`
++if test "$script_age" -lt 3 ; then
++   cat >&2 <<EOF
++
++If $0 has already been updated, send the following data and any
++information you think might be pertinent to config-patches@gnu.org to
++provide the necessary information to handle your system.
++
++config.guess timestamp = $timestamp
++
++uname -m = `(uname -m) 2>/dev/null || echo unknown`
++uname -r = `(uname -r) 2>/dev/null || echo unknown`
++uname -s = `(uname -s) 2>/dev/null || echo unknown`
++uname -v = `(uname -v) 2>/dev/null || echo unknown`
++
++/usr/bin/uname -p = `(/usr/bin/uname -p) 2>/dev/null`
++/bin/uname -X     = `(/bin/uname -X) 2>/dev/null`
++
++hostinfo               = `(hostinfo) 2>/dev/null`
++/bin/universe          = `(/bin/universe) 2>/dev/null`
++/usr/bin/arch -k       = `(/usr/bin/arch -k) 2>/dev/null`
++/bin/arch              = `(/bin/arch) 2>/dev/null`
++/usr/bin/oslevel       = `(/usr/bin/oslevel) 2>/dev/null`
++/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/dev/null`
++
++UNAME_MACHINE = "$UNAME_MACHINE"
++UNAME_RELEASE = "$UNAME_RELEASE"
++UNAME_SYSTEM  = "$UNAME_SYSTEM"
++UNAME_VERSION = "$UNAME_VERSION"
++EOF
++fi
++
++exit 1
++
++# Local variables:
++# eval: (add-hook 'before-save-hook 'time-stamp)
++# time-stamp-start: "timestamp='"
++# time-stamp-format: "%:y-%02m-%02d"
++# time-stamp-end: "'"
++# End:
+diff --git a/external/config.sub b/external/config.sub
+new file mode 100644
+index 000000000..4aaae46f6
+--- /dev/null
++++ b/external/config.sub
+@@ -0,0 +1,2354 @@
++#! /bin/sh
++# Configuration validation subroutine script.
++#   Copyright 1992-2024 Free Software Foundation, Inc.
++
++# shellcheck disable=SC2006,SC2268,SC2162 # see below for rationale
++
++timestamp='2024-05-27'
++
++# This file is free software; you can redistribute it and/or modify it
++# under the terms of the GNU General Public License as published by
++# the Free Software Foundation, either version 3 of the License, or
++# (at your option) any later version.
++#
++# This program is distributed in the hope that it will be useful, but
++# WITHOUT ANY WARRANTY; without even the implied warranty of
++# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
++# General Public License for more details.
++#
++# You should have received a copy of the GNU General Public License
++# along with this program; if not, see <https://www.gnu.org/licenses/>.
++#
++# As a special exception to the GNU General Public License, if you
++# distribute this file as part of a program that contains a
++# configuration script generated by Autoconf, you may include it under
++# the same distribution terms that you use for the rest of that
++# program.  This Exception is an additional permission under section 7
++# of the GNU General Public License, version 3 ("GPLv3").
++
++
++# Please send patches to <config-patches@gnu.org>.
++#
++# Configuration subroutine to validate and canonicalize a configuration type.
++# Supply the specified configuration type as an argument.
++# If it is invalid, we print an error message on stderr and exit with code 1.
++# Otherwise, we print the canonical config type on stdout and succeed.
++
++# You can get the latest version of this script from:
++# https://git.savannah.gnu.org/cgit/config.git/plain/config.sub
++
++# This file is supposed to be the same for all GNU packages
++# and recognize all the CPU types, system types and aliases
++# that are meaningful with *any* GNU software.
++# Each package is responsible for reporting which valid configurations
++# it does not support.  The user should be able to distinguish
++# a failure to support a valid configuration from a meaningless
++# configuration.
++
++# The goal of this file is to map all the various variations of a given
++# machine specification into a single specification in the form:
++#	CPU_TYPE-MANUFACTURER-OPERATING_SYSTEM
++# or in some cases, the newer four-part form:
++#	CPU_TYPE-MANUFACTURER-KERNEL-OPERATING_SYSTEM
++# It is wrong to echo any other type of specification.
++
++# The "shellcheck disable" line above the timestamp inhibits complaints
++# about features and limitations of the classic Bourne shell that were
++# superseded or lifted in POSIX.  However, this script identifies a wide
++# variety of pre-POSIX systems that do not have POSIX shells at all, and
++# even some reasonably current systems (Solaris 10 as case-in-point) still
++# have a pre-POSIX /bin/sh.
++
++me=`echo "$0" | sed -e 's,.*/,,'`
++
++usage="\
++Usage: $0 [OPTION] CPU-MFR-OPSYS or ALIAS
++
++Canonicalize a configuration name.
++
++Options:
++  -h, --help         print this help, then exit
++  -t, --time-stamp   print date of last modification, then exit
++  -v, --version      print version number, then exit
++
++Report bugs and patches to <config-patches@gnu.org>."
++
++version="\
++GNU config.sub ($timestamp)
++
++Copyright 1992-2024 Free Software Foundation, Inc.
++
++This is free software; see the source for copying conditions.  There is NO
++warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."
++
++help="
++Try '$me --help' for more information."
++
++# Parse command line
++while test $# -gt 0 ; do
++  case $1 in
++    --time-stamp | --time* | -t )
++       echo "$timestamp" ; exit ;;
++    --version | -v )
++       echo "$version" ; exit ;;
++    --help | --h* | -h )
++       echo "$usage"; exit ;;
++    -- )     # Stop option processing
++       shift; break ;;
++    - )	# Use stdin as input.
++       break ;;
++    -* )
++       echo "$me: invalid option $1$help" >&2
++       exit 1 ;;
++
++    *local*)
++       # First pass through any local machine types.
++       echo "$1"
++       exit ;;
++
++    * )
++       break ;;
++  esac
++done
++
++case $# in
++ 0) echo "$me: missing argument$help" >&2
++    exit 1;;
++ 1) ;;
++ *) echo "$me: too many arguments$help" >&2
++    exit 1;;
++esac
++
++# Split fields of configuration type
++saved_IFS=$IFS
++IFS="-" read field1 field2 field3 field4 <<EOF
++$1
++EOF
++IFS=$saved_IFS
++
++# Separate into logical components for further validation
++case $1 in
++	*-*-*-*-*)
++		echo "Invalid configuration '$1': more than four components" >&2
++		exit 1
++		;;
++	*-*-*-*)
++		basic_machine=$field1-$field2
++		basic_os=$field3-$field4
++		;;
++	*-*-*)
++		# Ambiguous whether COMPANY is present, or skipped and KERNEL-OS is two
++		# parts
++		maybe_os=$field2-$field3
++		case $maybe_os in
++			  cloudabi*-eabi* \
++			| kfreebsd*-gnu* \
++			| knetbsd*-gnu* \
++			| kopensolaris*-gnu* \
++			| linux-* \
++			| managarm-* \
++			| netbsd*-eabi* \
++			| netbsd*-gnu* \
++			| nto-qnx* \
++			| os2-emx* \
++			| rtmk-nova* \
++			| storm-chaos* \
++			| uclinux-gnu* \
++			| uclinux-uclibc* \
++			| windows-* )
++				basic_machine=$field1
++				basic_os=$maybe_os
++				;;
++			android-linux)
++				basic_machine=$field1-unknown
++				basic_os=linux-android
++				;;
++			*)
++				basic_machine=$field1-$field2
++				basic_os=$field3
++				;;
++		esac
++		;;
++	*-*)
++		case $field1-$field2 in
++			# Shorthands that happen to contain a single dash
++			convex-c[12] | convex-c3[248])
++				basic_machine=$field2-convex
++				basic_os=
++				;;
++			decstation-3100)
++				basic_machine=mips-dec
++				basic_os=
++				;;
++			*-*)
++				# Second component is usually, but not always the OS
++				case $field2 in
++					# Do not treat sunos as a manufacturer
++					sun*os*)
++						basic_machine=$field1
++						basic_os=$field2
++						;;
++					# Manufacturers
++					  3100* \
++					| 32* \
++					| 3300* \
++					| 3600* \
++					| 7300* \
++					| acorn \
++					| altos* \
++					| apollo \
++					| apple \
++					| atari \
++					| att* \
++					| axis \
++					| be \
++					| bull \
++					| cbm \
++					| ccur \
++					| cisco \
++					| commodore \
++					| convergent* \
++					| convex* \
++					| cray \
++					| crds \
++					| dec* \
++					| delta* \
++					| dg \
++					| digital \
++					| dolphin \
++					| encore* \
++					| gould \
++					| harris \
++					| highlevel \
++					| hitachi* \
++					| hp \
++					| ibm* \
++					| intergraph \
++					| isi* \
++					| knuth \
++					| masscomp \
++					| microblaze* \
++					| mips* \
++					| motorola* \
++					| ncr* \
++					| news \
++					| next \
++					| ns \
++					| oki \
++					| omron* \
++					| pc533* \
++					| rebel \
++					| rom68k \
++					| rombug \
++					| semi \
++					| sequent* \
++					| siemens \
++					| sgi* \
++					| siemens \
++					| sim \
++					| sni \
++					| sony* \
++					| stratus \
++					| sun \
++					| sun[234]* \
++					| tektronix \
++					| tti* \
++					| ultra \
++					| unicom* \
++					| wec \
++					| winbond \
++					| wrs)
++						basic_machine=$field1-$field2
++						basic_os=
++						;;
++					zephyr*)
++						basic_machine=$field1-unknown
++						basic_os=$field2
++						;;
++					*)
++						basic_machine=$field1
++						basic_os=$field2
++						;;
++				esac
++			;;
++		esac
++		;;
++	*)
++		# Convert single-component short-hands not valid as part of
++		# multi-component configurations.
++		case $field1 in
++			386bsd)
++				basic_machine=i386-pc
++				basic_os=bsd
++				;;
++			a29khif)
++				basic_machine=a29k-amd
++				basic_os=udi
++				;;
++			adobe68k)
++				basic_machine=m68010-adobe
++				basic_os=scout
++				;;
++			alliant)
++				basic_machine=fx80-alliant
++				basic_os=
++				;;
++			altos | altos3068)
++				basic_machine=m68k-altos
++				basic_os=
++				;;
++			am29k)
++				basic_machine=a29k-none
++				basic_os=bsd
++				;;
++			amdahl)
++				basic_machine=580-amdahl
++				basic_os=sysv
++				;;
++			amiga)
++				basic_machine=m68k-unknown
++				basic_os=
++				;;
++			amigaos | amigados)
++				basic_machine=m68k-unknown
++				basic_os=amigaos
++				;;
++			amigaunix | amix)
++				basic_machine=m68k-unknown
++				basic_os=sysv4
++				;;
++			apollo68)
++				basic_machine=m68k-apollo
++				basic_os=sysv
++				;;
++			apollo68bsd)
++				basic_machine=m68k-apollo
++				basic_os=bsd
++				;;
++			aros)
++				basic_machine=i386-pc
++				basic_os=aros
++				;;
++			aux)
++				basic_machine=m68k-apple
++				basic_os=aux
++				;;
++			balance)
++				basic_machine=ns32k-sequent
++				basic_os=dynix
++				;;
++			blackfin)
++				basic_machine=bfin-unknown
++				basic_os=linux
++				;;
++			cegcc)
++				basic_machine=arm-unknown
++				basic_os=cegcc
++				;;
++			cray)
++				basic_machine=j90-cray
++				basic_os=unicos
++				;;
++			crds | unos)
++				basic_machine=m68k-crds
++				basic_os=
++				;;
++			da30)
++				basic_machine=m68k-da30
++				basic_os=
++				;;
++			decstation | pmax | pmin | dec3100 | decstatn)
++				basic_machine=mips-dec
++				basic_os=
++				;;
++			delta88)
++				basic_machine=m88k-motorola
++				basic_os=sysv3
++				;;
++			dicos)
++				basic_machine=i686-pc
++				basic_os=dicos
++				;;
++			djgpp)
++				basic_machine=i586-pc
++				basic_os=msdosdjgpp
++				;;
++			ebmon29k)
++				basic_machine=a29k-amd
++				basic_os=ebmon
++				;;
++			es1800 | OSE68k | ose68k | ose | OSE)
++				basic_machine=m68k-ericsson
++				basic_os=ose
++				;;
++			gmicro)
++				basic_machine=tron-gmicro
++				basic_os=sysv
++				;;
++			go32)
++				basic_machine=i386-pc
++				basic_os=go32
++				;;
++			h8300hms)
++				basic_machine=h8300-hitachi
++				basic_os=hms
++				;;
++			h8300xray)
++				basic_machine=h8300-hitachi
++				basic_os=xray
++				;;
++			h8500hms)
++				basic_machine=h8500-hitachi
++				basic_os=hms
++				;;
++			harris)
++				basic_machine=m88k-harris
++				basic_os=sysv3
++				;;
++			hp300 | hp300hpux)
++				basic_machine=m68k-hp
++				basic_os=hpux
++				;;
++			hp300bsd)
++				basic_machine=m68k-hp
++				basic_os=bsd
++				;;
++			hppaosf)
++				basic_machine=hppa1.1-hp
++				basic_os=osf
++				;;
++			hppro)
++				basic_machine=hppa1.1-hp
++				basic_os=proelf
++				;;
++			i386mach)
++				basic_machine=i386-mach
++				basic_os=mach
++				;;
++			isi68 | isi)
++				basic_machine=m68k-isi
++				basic_os=sysv
++				;;
++			m68knommu)
++				basic_machine=m68k-unknown
++				basic_os=linux
++				;;
++			magnum | m3230)
++				basic_machine=mips-mips
++				basic_os=sysv
++				;;
++			merlin)
++				basic_machine=ns32k-utek
++				basic_os=sysv
++				;;
++			mingw64)
++				basic_machine=x86_64-pc
++				basic_os=mingw64
++				;;
++			mingw32)
++				basic_machine=i686-pc
++				basic_os=mingw32
++				;;
++			mingw32ce)
++				basic_machine=arm-unknown
++				basic_os=mingw32ce
++				;;
++			monitor)
++				basic_machine=m68k-rom68k
++				basic_os=coff
++				;;
++			morphos)
++				basic_machine=powerpc-unknown
++				basic_os=morphos
++				;;
++			moxiebox)
++				basic_machine=moxie-unknown
++				basic_os=moxiebox
++				;;
++			msdos)
++				basic_machine=i386-pc
++				basic_os=msdos
++				;;
++			msys)
++				basic_machine=i686-pc
++				basic_os=msys
++				;;
++			mvs)
++				basic_machine=i370-ibm
++				basic_os=mvs
++				;;
++			nacl)
++				basic_machine=le32-unknown
++				basic_os=nacl
++				;;
++			ncr3000)
++				basic_machine=i486-ncr
++				basic_os=sysv4
++				;;
++			netbsd386)
++				basic_machine=i386-pc
++				basic_os=netbsd
++				;;
++			netwinder)
++				basic_machine=armv4l-rebel
++				basic_os=linux
++				;;
++			news | news700 | news800 | news900)
++				basic_machine=m68k-sony
++				basic_os=newsos
++				;;
++			news1000)
++				basic_machine=m68030-sony
++				basic_os=newsos
++				;;
++			necv70)
++				basic_machine=v70-nec
++				basic_os=sysv
++				;;
++			nh3000)
++				basic_machine=m68k-harris
++				basic_os=cxux
++				;;
++			nh[45]000)
++				basic_machine=m88k-harris
++				basic_os=cxux
++				;;
++			nindy960)
++				basic_machine=i960-intel
++				basic_os=nindy
++				;;
++			mon960)
++				basic_machine=i960-intel
++				basic_os=mon960
++				;;
++			nonstopux)
++				basic_machine=mips-compaq
++				basic_os=nonstopux
++				;;
++			os400)
++				basic_machine=powerpc-ibm
++				basic_os=os400
++				;;
++			OSE68000 | ose68000)
++				basic_machine=m68000-ericsson
++				basic_os=ose
++				;;
++			os68k)
++				basic_machine=m68k-none
++				basic_os=os68k
++				;;
++			paragon)
++				basic_machine=i860-intel
++				basic_os=osf
++				;;
++			parisc)
++				basic_machine=hppa-unknown
++				basic_os=linux
++				;;
++			psp)
++				basic_machine=mipsallegrexel-sony
++				basic_os=psp
++				;;
++			pw32)
++				basic_machine=i586-unknown
++				basic_os=pw32
++				;;
++			rdos | rdos64)
++				basic_machine=x86_64-pc
++				basic_os=rdos
++				;;
++			rdos32)
++				basic_machine=i386-pc
++				basic_os=rdos
++				;;
++			rom68k)
++				basic_machine=m68k-rom68k
++				basic_os=coff
++				;;
++			sa29200)
++				basic_machine=a29k-amd
++				basic_os=udi
++				;;
++			sei)
++				basic_machine=mips-sei
++				basic_os=seiux
++				;;
++			sequent)
++				basic_machine=i386-sequent
++				basic_os=
++				;;
++			sps7)
++				basic_machine=m68k-bull
++				basic_os=sysv2
++				;;
++			st2000)
++				basic_machine=m68k-tandem
++				basic_os=
++				;;
++			stratus)
++				basic_machine=i860-stratus
++				basic_os=sysv4
++				;;
++			sun2)
++				basic_machine=m68000-sun
++				basic_os=
++				;;
++			sun2os3)
++				basic_machine=m68000-sun
++				basic_os=sunos3
++				;;
++			sun2os4)
++				basic_machine=m68000-sun
++				basic_os=sunos4
++				;;
++			sun3)
++				basic_machine=m68k-sun
++				basic_os=
++				;;
++			sun3os3)
++				basic_machine=m68k-sun
++				basic_os=sunos3
++				;;
++			sun3os4)
++				basic_machine=m68k-sun
++				basic_os=sunos4
++				;;
++			sun4)
++				basic_machine=sparc-sun
++				basic_os=
++				;;
++			sun4os3)
++				basic_machine=sparc-sun
++				basic_os=sunos3
++				;;
++			sun4os4)
++				basic_machine=sparc-sun
++				basic_os=sunos4
++				;;
++			sun4sol2)
++				basic_machine=sparc-sun
++				basic_os=solaris2
++				;;
++			sun386 | sun386i | roadrunner)
++				basic_machine=i386-sun
++				basic_os=
++				;;
++			sv1)
++				basic_machine=sv1-cray
++				basic_os=unicos
++				;;
++			symmetry)
++				basic_machine=i386-sequent
++				basic_os=dynix
++				;;
++			t3e)
++				basic_machine=alphaev5-cray
++				basic_os=unicos
++				;;
++			t90)
++				basic_machine=t90-cray
++				basic_os=unicos
++				;;
++			toad1)
++				basic_machine=pdp10-xkl
++				basic_os=tops20
++				;;
++			tpf)
++				basic_machine=s390x-ibm
++				basic_os=tpf
++				;;
++			udi29k)
++				basic_machine=a29k-amd
++				basic_os=udi
++				;;
++			ultra3)
++				basic_machine=a29k-nyu
++				basic_os=sym1
++				;;
++			v810 | necv810)
++				basic_machine=v810-nec
++				basic_os=none
++				;;
++			vaxv)
++				basic_machine=vax-dec
++				basic_os=sysv
++				;;
++			vms)
++				basic_machine=vax-dec
++				basic_os=vms
++				;;
++			vsta)
++				basic_machine=i386-pc
++				basic_os=vsta
++				;;
++			vxworks960)
++				basic_machine=i960-wrs
++				basic_os=vxworks
++				;;
++			vxworks68)
++				basic_machine=m68k-wrs
++				basic_os=vxworks
++				;;
++			vxworks29k)
++				basic_machine=a29k-wrs
++				basic_os=vxworks
++				;;
++			xbox)
++				basic_machine=i686-pc
++				basic_os=mingw32
++				;;
++			ymp)
++				basic_machine=ymp-cray
++				basic_os=unicos
++				;;
++			*)
++				basic_machine=$1
++				basic_os=
++				;;
++		esac
++		;;
++esac
++
++# Decode 1-component or ad-hoc basic machines
++case $basic_machine in
++	# Here we handle the default manufacturer of certain CPU types.  It is in
++	# some cases the only manufacturer, in others, it is the most popular.
++	w89k)
++		cpu=hppa1.1
++		vendor=winbond
++		;;
++	op50n)
++		cpu=hppa1.1
++		vendor=oki
++		;;
++	op60c)
++		cpu=hppa1.1
++		vendor=oki
++		;;
++	ibm*)
++		cpu=i370
++		vendor=ibm
++		;;
++	orion105)
++		cpu=clipper
++		vendor=highlevel
++		;;
++	mac | mpw | mac-mpw)
++		cpu=m68k
++		vendor=apple
++		;;
++	pmac | pmac-mpw)
++		cpu=powerpc
++		vendor=apple
++		;;
++
++	# Recognize the various machine names and aliases which stand
++	# for a CPU type and a company and sometimes even an OS.
++	3b1 | 7300 | 7300-att | att-7300 | pc7300 | safari | unixpc)
++		cpu=m68000
++		vendor=att
++		;;
++	3b*)
++		cpu=we32k
++		vendor=att
++		;;
++	bluegene*)
++		cpu=powerpc
++		vendor=ibm
++		basic_os=cnk
++		;;
++	decsystem10* | dec10*)
++		cpu=pdp10
++		vendor=dec
++		basic_os=tops10
++		;;
++	decsystem20* | dec20*)
++		cpu=pdp10
++		vendor=dec
++		basic_os=tops20
++		;;
++	delta | 3300 | delta-motorola | 3300-motorola | motorola-delta | motorola-3300)
++		cpu=m68k
++		vendor=motorola
++		;;
++	# This used to be dpx2*, but that gets the RS6000-based
++	# DPX/20 and the x86-based DPX/2-100 wrong.  See
++	# https://oldskool.silicium.org/stations/bull_dpx20.htm
++	# https://www.feb-patrimoine.com/english/bull_dpx2.htm
++	# https://www.feb-patrimoine.com/english/unix_and_bull.htm
++	dpx2 | dpx2[23]00 | dpx2[23]xx)
++		cpu=m68k
++		vendor=bull
++		;;
++	dpx2100 | dpx21xx)
++		cpu=i386
++		vendor=bull
++		;;
++	dpx20)
++		cpu=rs6000
++		vendor=bull
++		;;
++	encore | umax | mmax)
++		cpu=ns32k
++		vendor=encore
++		;;
++	elxsi)
++		cpu=elxsi
++		vendor=elxsi
++		basic_os=${basic_os:-bsd}
++		;;
++	fx2800)
++		cpu=i860
++		vendor=alliant
++		;;
++	genix)
++		cpu=ns32k
++		vendor=ns
++		;;
++	h3050r* | hiux*)
++		cpu=hppa1.1
++		vendor=hitachi
++		basic_os=hiuxwe2
++		;;
++	hp3k9[0-9][0-9] | hp9[0-9][0-9])
++		cpu=hppa1.0
++		vendor=hp
++		;;
++	hp9k2[0-9][0-9] | hp9k31[0-9])
++		cpu=m68000
++		vendor=hp
++		;;
++	hp9k3[2-9][0-9])
++		cpu=m68k
++		vendor=hp
++		;;
++	hp9k6[0-9][0-9] | hp6[0-9][0-9])
++		cpu=hppa1.0
++		vendor=hp
++		;;
++	hp9k7[0-79][0-9] | hp7[0-79][0-9])
++		cpu=hppa1.1
++		vendor=hp
++		;;
++	hp9k78[0-9] | hp78[0-9])
++		# FIXME: really hppa2.0-hp
++		cpu=hppa1.1
++		vendor=hp
++		;;
++	hp9k8[67]1 | hp8[67]1 | hp9k80[24] | hp80[24] | hp9k8[78]9 | hp8[78]9 | hp9k893 | hp893)
++		# FIXME: really hppa2.0-hp
++		cpu=hppa1.1
++		vendor=hp
++		;;
++	hp9k8[0-9][13679] | hp8[0-9][13679])
++		cpu=hppa1.1
++		vendor=hp
++		;;
++	hp9k8[0-9][0-9] | hp8[0-9][0-9])
++		cpu=hppa1.0
++		vendor=hp
++		;;
++	i*86v32)
++		cpu=`echo "$1" | sed -e 's/86.*/86/'`
++		vendor=pc
++		basic_os=sysv32
++		;;
++	i*86v4*)
++		cpu=`echo "$1" | sed -e 's/86.*/86/'`
++		vendor=pc
++		basic_os=sysv4
++		;;
++	i*86v)
++		cpu=`echo "$1" | sed -e 's/86.*/86/'`
++		vendor=pc
++		basic_os=sysv
++		;;
++	i*86sol2)
++		cpu=`echo "$1" | sed -e 's/86.*/86/'`
++		vendor=pc
++		basic_os=solaris2
++		;;
++	j90 | j90-cray)
++		cpu=j90
++		vendor=cray
++		basic_os=${basic_os:-unicos}
++		;;
++	iris | iris4d)
++		cpu=mips
++		vendor=sgi
++		case $basic_os in
++		    irix*)
++			;;
++		    *)
++			basic_os=irix4
++			;;
++		esac
++		;;
++	miniframe)
++		cpu=m68000
++		vendor=convergent
++		;;
++	*mint | mint[0-9]* | *MiNT | *MiNT[0-9]*)
++		cpu=m68k
++		vendor=atari
++		basic_os=mint
++		;;
++	news-3600 | risc-news)
++		cpu=mips
++		vendor=sony
++		basic_os=newsos
++		;;
++	next | m*-next)
++		cpu=m68k
++		vendor=next
++		;;
++	np1)
++		cpu=np1
++		vendor=gould
++		;;
++	op50n-* | op60c-*)
++		cpu=hppa1.1
++		vendor=oki
++		basic_os=proelf
++		;;
++	pa-hitachi)
++		cpu=hppa1.1
++		vendor=hitachi
++		basic_os=hiuxwe2
++		;;
++	pbd)
++		cpu=sparc
++		vendor=tti
++		;;
++	pbb)
++		cpu=m68k
++		vendor=tti
++		;;
++	pc532)
++		cpu=ns32k
++		vendor=pc532
++		;;
++	pn)
++		cpu=pn
++		vendor=gould
++		;;
++	power)
++		cpu=power
++		vendor=ibm
++		;;
++	ps2)
++		cpu=i386
++		vendor=ibm
++		;;
++	rm[46]00)
++		cpu=mips
++		vendor=siemens
++		;;
++	rtpc | rtpc-*)
++		cpu=romp
++		vendor=ibm
++		;;
++	sde)
++		cpu=mipsisa32
++		vendor=sde
++		basic_os=${basic_os:-elf}
++		;;
++	simso-wrs)
++		cpu=sparclite
++		vendor=wrs
++		basic_os=vxworks
++		;;
++	tower | tower-32)
++		cpu=m68k
++		vendor=ncr
++		;;
++	vpp*|vx|vx-*)
++		cpu=f301
++		vendor=fujitsu
++		;;
++	w65)
++		cpu=w65
++		vendor=wdc
++		;;
++	w89k-*)
++		cpu=hppa1.1
++		vendor=winbond
++		basic_os=proelf
++		;;
++	none)
++		cpu=none
++		vendor=none
++		;;
++	leon|leon[3-9])
++		cpu=sparc
++		vendor=$basic_machine
++		;;
++	leon-*|leon[3-9]-*)
++		cpu=sparc
++		vendor=`echo "$basic_machine" | sed 's/-.*//'`
++		;;
++
++	*-*)
++		saved_IFS=$IFS
++		IFS="-" read cpu vendor <<EOF
++$basic_machine
++EOF
++		IFS=$saved_IFS
++		;;
++	# We use 'pc' rather than 'unknown'
++	# because (1) that's what they normally are, and
++	# (2) the word "unknown" tends to confuse beginning users.
++	i*86 | x86_64)
++		cpu=$basic_machine
++		vendor=pc
++		;;
++	# These rules are duplicated from below for sake of the special case above;
++	# i.e. things that normalized to x86 arches should also default to "pc"
++	pc98)
++		cpu=i386
++		vendor=pc
++		;;
++	x64 | amd64)
++		cpu=x86_64
++		vendor=pc
++		;;
++	# Recognize the basic CPU types without company name.
++	*)
++		cpu=$basic_machine
++		vendor=unknown
++		;;
++esac
++
++unset -v basic_machine
++
++# Decode basic machines in the full and proper CPU-Company form.
++case $cpu-$vendor in
++	# Here we handle the default manufacturer of certain CPU types in canonical form.
++	# It is in some cases the only manufacturer, in others, it is the most popular.
++	c[12]-convex | c[12]-unknown | c3[248]-convex | c3[248]-unknown)
++		vendor=convex
++		basic_os=${basic_os:-bsd}
++		;;
++	craynv-unknown)
++		vendor=cray
++		basic_os=${basic_os:-unicosmp}
++		;;
++	c90-unknown | c90-cray)
++		vendor=cray
++		basic_os=${basic_os:-unicos}
++		;;
++	fx80-unknown)
++		vendor=alliant
++		;;
++	romp-unknown)
++		vendor=ibm
++		;;
++	mmix-unknown)
++		vendor=knuth
++		;;
++	microblaze-unknown | microblazeel-unknown)
++		vendor=xilinx
++		;;
++	rs6000-unknown)
++		vendor=ibm
++		;;
++	vax-unknown)
++		vendor=dec
++		;;
++	pdp11-unknown)
++		vendor=dec
++		;;
++	we32k-unknown)
++		vendor=att
++		;;
++	cydra-unknown)
++		vendor=cydrome
++		;;
++	i370-ibm*)
++		vendor=ibm
++		;;
++	orion-unknown)
++		vendor=highlevel
++		;;
++	xps-unknown | xps100-unknown)
++		cpu=xps100
++		vendor=honeywell
++		;;
++
++	# Here we normalize CPU types with a missing or matching vendor
++	armh-unknown | armh-alt)
++		cpu=armv7l
++		vendor=alt
++		basic_os=${basic_os:-linux-gnueabihf}
++		;;
++
++	# Normalized CPU+vendor pairs that imply an OS, if not otherwise specified
++	m68k-isi)
++		basic_os=${basic_os:-sysv}
++		;;
++	m68k-sony)
++		basic_os=${basic_os:-newsos}
++		;;
++	m68k-tektronix)
++		basic_os=${basic_os:-bsd}
++		;;
++	m88k-harris)
++		basic_os=${basic_os:-sysv3}
++		;;
++	i386-bull | m68k-bull)
++		basic_os=${basic_os:-sysv3}
++		;;
++	rs6000-bull)
++		basic_os=${basic_os:-bosx}
++		;;
++	mips-sni)
++		basic_os=${basic_os:-sysv4}
++		;;
++
++	# Here we normalize CPU types irrespective of the vendor
++	amd64-*)
++		cpu=x86_64
++		;;
++	blackfin-*)
++		cpu=bfin
++		basic_os=${basic_os:-linux}
++		;;
++	c54x-*)
++		cpu=tic54x
++		;;
++	c55x-*)
++		cpu=tic55x
++		;;
++	c6x-*)
++		cpu=tic6x
++		;;
++	e500v[12]-*)
++		cpu=powerpc
++		basic_os=${basic_os}"spe"
++		;;
++	mips3*-*)
++		cpu=mips64
++		;;
++	ms1-*)
++		cpu=mt
++		;;
++	m68knommu-*)
++		cpu=m68k
++		basic_os=${basic_os:-linux}
++		;;
++	m9s12z-* | m68hcs12z-* | hcs12z-* | s12z-*)
++		cpu=s12z
++		;;
++	openrisc-*)
++		cpu=or32
++		;;
++	parisc-*)
++		cpu=hppa
++		basic_os=${basic_os:-linux}
++		;;
++	pentium-* | p5-* | k5-* | k6-* | nexgen-* | viac3-*)
++		cpu=i586
++		;;
++	pentiumpro-* | p6-* | 6x86-* | athlon-* | athlon_*-*)
++		cpu=i686
++		;;
++	pentiumii-* | pentium2-* | pentiumiii-* | pentium3-*)
++		cpu=i686
++		;;
++	pentium4-*)
++		cpu=i786
++		;;
++	ppc-* | ppcbe-*)
++		cpu=powerpc
++		;;
++	ppcle-* | powerpclittle-*)
++		cpu=powerpcle
++		;;
++	ppc64-*)
++		cpu=powerpc64
++		;;
++	ppc64le-* | powerpc64little-*)
++		cpu=powerpc64le
++		;;
++	sb1-*)
++		cpu=mipsisa64sb1
++		;;
++	sb1el-*)
++		cpu=mipsisa64sb1el
++		;;
++	sh5e[lb]-*)
++		cpu=`echo "$cpu" | sed 's/^\(sh.\)e\(.\)$/\1\2e/'`
++		;;
++	spur-*)
++		cpu=spur
++		;;
++	strongarm-* | thumb-*)
++		cpu=arm
++		;;
++	tx39-*)
++		cpu=mipstx39
++		;;
++	tx39el-*)
++		cpu=mipstx39el
++		;;
++	xscale-* | xscalee[bl]-*)
++		cpu=`echo "$cpu" | sed 's/^xscale/arm/'`
++		;;
++	arm64-* | aarch64le-*)
++		cpu=aarch64
++		;;
++
++	# Recognize the canonical CPU Types that limit and/or modify the
++	# company names they are paired with.
++	cr16-*)
++		basic_os=${basic_os:-elf}
++		;;
++	crisv32-* | etraxfs*-*)
++		cpu=crisv32
++		vendor=axis
++		;;
++	cris-* | etrax*-*)
++		cpu=cris
++		vendor=axis
++		;;
++	crx-*)
++		basic_os=${basic_os:-elf}
++		;;
++	neo-tandem)
++		cpu=neo
++		vendor=tandem
++		;;
++	nse-tandem)
++		cpu=nse
++		vendor=tandem
++		;;
++	nsr-tandem)
++		cpu=nsr
++		vendor=tandem
++		;;
++	nsv-tandem)
++		cpu=nsv
++		vendor=tandem
++		;;
++	nsx-tandem)
++		cpu=nsx
++		vendor=tandem
++		;;
++	mipsallegrexel-sony)
++		cpu=mipsallegrexel
++		vendor=sony
++		;;
++	tile*-*)
++		basic_os=${basic_os:-linux-gnu}
++		;;
++
++	*)
++		# Recognize the canonical CPU types that are allowed with any
++		# company name.
++		case $cpu in
++			  1750a \
++			| 580 \
++			| [cjt]90 \
++			| a29k \
++			| aarch64 \
++			| aarch64_be \
++			| aarch64c \
++			| abacus \
++			| alpha \
++			| alpha64 \
++			| alpha64ev56 \
++			| alpha64ev6[78] \
++			| alpha64ev[4-8] \
++			| alpha64pca5[67] \
++			| alphaev56 \
++			| alphaev6[78] \
++			| alphaev[4-8] \
++			| alphapca5[67] \
++			| am33_2.0 \
++			| amdgcn \
++			| arc \
++			| arc32 \
++			| arc64 \
++			| arceb \
++			| arm \
++			| arm64e \
++			| arm64ec \
++			| arm[lb]e \
++			| arme[lb] \
++			| armv* \
++			| asmjs \
++			| avr \
++			| avr32 \
++			| ba \
++			| be32 \
++			| be64 \
++			| bfin \
++			| bpf \
++			| bs2000 \
++			| c30 \
++			| c4x \
++			| c8051 \
++			| c[123]* \
++			| clipper \
++			| craynv \
++			| csky \
++			| cydra \
++			| d10v \
++			| d30v \
++			| dlx \
++			| dsp16xx \
++			| e2k \
++			| elxsi \
++			| epiphany \
++			| f30[01] \
++			| f700 \
++			| fido \
++			| fr30 \
++			| frv \
++			| ft32 \
++			| fx80 \
++			| h8300 \
++			| h8500 \
++			| hexagon \
++			| hppa \
++			| hppa1.[01] \
++			| hppa2.0 \
++			| hppa2.0[nw] \
++			| hppa64 \
++			| i*86 \
++			| i370 \
++			| i860 \
++			| i960 \
++			| ia16 \
++			| ia64 \
++			| ip2k \
++			| iq2000 \
++			| javascript \
++			| k1om \
++			| kvx \
++			| le32 \
++			| le64 \
++			| lm32 \
++			| loongarch32 \
++			| loongarch64 \
++			| m32c \
++			| m32r \
++			| m32rle \
++			| m5200 \
++			| m68000 \
++			| m680[012346]0 \
++			| m6811 \
++			| m6812 \
++			| m68360 \
++			| m683?2 \
++			| m68hc11 \
++			| m68hc12 \
++			| m68hcs12x \
++			| m68k \
++			| m88110 \
++			| m88k \
++			| maxq \
++			| mb \
++			| mcore \
++			| mep \
++			| metag \
++			| microblaze \
++			| microblazeel \
++			| mips* \
++			| mmix \
++			| mn10200 \
++			| mn10300 \
++			| moxie \
++			| msp430 \
++			| mt \
++			| nanomips* \
++			| nds32 \
++			| nds32be \
++			| nds32le \
++			| nfp \
++			| nios \
++			| nios2 \
++			| nios2eb \
++			| nios2el \
++			| none \
++			| np1 \
++			| ns16k \
++			| ns32k \
++			| nvptx \
++			| open8 \
++			| or1k* \
++			| or32 \
++			| orion \
++			| pdp10 \
++			| pdp11 \
++			| picochip \
++			| pj \
++			| pjl \
++			| pn \
++			| power \
++			| powerpc \
++			| powerpc64 \
++			| powerpc64le \
++			| powerpcle \
++			| powerpcspe \
++			| pru \
++			| pyramid \
++			| riscv \
++			| riscv32 \
++			| riscv32be \
++			| riscv64 \
++			| riscv64be \
++			| rl78 \
++			| romp \
++			| rs6000 \
++			| rx \
++			| s390 \
++			| s390x \
++			| score \
++			| sh \
++			| sh64 \
++			| sh64le \
++			| sh[12345][lb]e \
++			| sh[1234] \
++			| sh[1234]e[lb] \
++			| sh[23]e \
++			| sh[23]ele \
++			| sh[24]a \
++			| sh[24]ae[lb] \
++			| sh[lb]e \
++			| she[lb] \
++			| shl \
++			| sparc \
++			| sparc64 \
++			| sparc64b \
++			| sparc64v \
++			| sparc86x \
++			| sparclet \
++			| sparclite \
++			| sparcv8 \
++			| sparcv9 \
++			| sparcv9b \
++			| sparcv9v \
++			| spu \
++			| sv1 \
++			| sx* \
++			| tahoe \
++			| thumbv7* \
++			| tic30 \
++			| tic4x \
++			| tic54x \
++			| tic55x \
++			| tic6x \
++			| tic80 \
++			| tron \
++			| ubicom32 \
++			| v70 \
++			| v810 \
++			| v850 \
++			| v850e \
++			| v850e1 \
++			| v850e2 \
++			| v850e2v3 \
++			| v850es \
++			| vax \
++			| vc4 \
++			| visium \
++			| w65 \
++			| wasm32 \
++			| wasm64 \
++			| we32k \
++			| x86 \
++			| x86_64 \
++			| xc16x \
++			| xgate \
++			| xps100 \
++			| xstormy16 \
++			| xtensa* \
++			| ymp \
++			| z80 \
++			| z8k)
++				;;
++
++			*)
++				echo "Invalid configuration '$1': machine '$cpu-$vendor' not recognized" 1>&2
++				exit 1
++				;;
++		esac
++		;;
++esac
++
++# Here we canonicalize certain aliases for manufacturers.
++case $vendor in
++	digital*)
++		vendor=dec
++		;;
++	commodore*)
++		vendor=cbm
++		;;
++	*)
++		;;
++esac
++
++# Decode manufacturer-specific aliases for certain operating systems.
++
++if test x"$basic_os" != x
++then
++
++# First recognize some ad-hoc cases, or perhaps split kernel-os, or else just
++# set os.
++obj=
++case $basic_os in
++	gnu/linux*)
++		kernel=linux
++		os=`echo "$basic_os" | sed -e 's|gnu/linux|gnu|'`
++		;;
++	os2-emx)
++		kernel=os2
++		os=`echo "$basic_os" | sed -e 's|os2-emx|emx|'`
++		;;
++	nto-qnx*)
++		kernel=nto
++		os=`echo "$basic_os" | sed -e 's|nto-qnx|qnx|'`
++		;;
++	*-*)
++		saved_IFS=$IFS
++		IFS="-" read kernel os <<EOF
++$basic_os
++EOF
++		IFS=$saved_IFS
++		;;
++	# Default OS when just kernel was specified
++	nto*)
++		kernel=nto
++		os=`echo "$basic_os" | sed -e 's|nto|qnx|'`
++		;;
++	linux*)
++		kernel=linux
++		os=`echo "$basic_os" | sed -e 's|linux|gnu|'`
++		;;
++	managarm*)
++		kernel=managarm
++		os=`echo "$basic_os" | sed -e 's|managarm|mlibc|'`
++		;;
++	*)
++		kernel=
++		os=$basic_os
++		;;
++esac
++
++# Now, normalize the OS (knowing we just have one component, it's not a kernel,
++# etc.)
++case $os in
++	# First match some system type aliases that might get confused
++	# with valid system types.
++	# solaris* is a basic system type, with this one exception.
++	auroraux)
++		os=auroraux
++		;;
++	bluegene*)
++		os=cnk
++		;;
++	solaris1 | solaris1.*)
++		os=`echo "$os" | sed -e 's|solaris1|sunos4|'`
++		;;
++	solaris)
++		os=solaris2
++		;;
++	unixware*)
++		os=sysv4.2uw
++		;;
++	# The marketing names for NeXT's operating systems were
++	# NeXTSTEP, NeXTSTEP 2, OpenSTEP 3, OpenSTEP 4.  'openstep' is
++	# mapped to 'openstep3', but 'openstep1' and 'openstep2' are
++	# mapped to 'nextstep' and 'nextstep2', consistent with the
++	# treatment of SunOS/Solaris.
++	ns | ns1 | nextstep | nextstep1 | openstep1)
++		os=nextstep
++		;;
++	ns2 | nextstep2 | openstep2)
++		os=nextstep2
++		;;
++	ns3 | nextstep3 | openstep | openstep3)
++		os=openstep3
++		;;
++	ns4 | nextstep4 | openstep4)
++		os=openstep4
++		;;
++	# es1800 is here to avoid being matched by es* (a different OS)
++	es1800*)
++		os=ose
++		;;
++	# Some version numbers need modification
++	chorusos*)
++		os=chorusos
++		;;
++	isc)
++		os=isc2.2
++		;;
++	sco6)
++		os=sco5v6
++		;;
++	sco5)
++		os=sco3.2v5
++		;;
++	sco4)
++		os=sco3.2v4
++		;;
++	sco3.2.[4-9]*)
++		os=`echo "$os" | sed -e 's/sco3.2./sco3.2v/'`
++		;;
++	sco*v* | scout)
++		# Don't match below
++		;;
++	sco*)
++		os=sco3.2v2
++		;;
++	psos*)
++		os=psos
++		;;
++	qnx*)
++		os=qnx
++		;;
++	hiux*)
++		os=hiuxwe2
++		;;
++	lynx*178)
++		os=lynxos178
++		;;
++	lynx*5)
++		os=lynxos5
++		;;
++	lynxos*)
++		# don't get caught up in next wildcard
++		;;
++	lynx*)
++		os=lynxos
++		;;
++	mac[0-9]*)
++		os=`echo "$os" | sed -e 's|mac|macos|'`
++		;;
++	opened*)
++		os=openedition
++		;;
++	os400*)
++		os=os400
++		;;
++	sunos5*)
++		os=`echo "$os" | sed -e 's|sunos5|solaris2|'`
++		;;
++	sunos6*)
++		os=`echo "$os" | sed -e 's|sunos6|solaris3|'`
++		;;
++	wince*)
++		os=wince
++		;;
++	utek*)
++		os=bsd
++		vendor=`echo "$vendor" | sed -e 's|^unknown$|tektronix|'`
++		;;
++	dynix*)
++		os=bsd
++		;;
++	acis*)
++		os=aos
++		;;
++	atheos*)
++		os=atheos
++		;;
++	syllable*)
++		os=syllable
++		;;
++	386bsd)
++		os=bsd
++		;;
++	ctix*)
++		os=sysv
++		vendor=`echo "$vendor" | sed -e 's|^unknown$|convergent|'`
++		;;
++	uts*)
++		os=sysv
++		;;
++	nova*)
++		kernel=rtmk
++		os=nova
++		;;
++	# Preserve the version number of sinix5.
++	sinix5.*)
++		os=`echo "$os" | sed -e 's|sinix|sysv|'`
++		vendor=`echo "$vendor" | sed -e 's|^unknown$|sni|'`
++		;;
++	sinix*)
++		os=sysv4
++		vendor=`echo "$vendor" | sed -e 's|^unknown$|sni|'`
++		;;
++	tpf*)
++		os=tpf
++		;;
++	triton*)
++		os=sysv3
++		;;
++	oss*)
++		os=sysv3
++		;;
++	svr4*)
++		os=sysv4
++		;;
++	svr3)
++		os=sysv3
++		;;
++	sysvr4)
++		os=sysv4
++		;;
++	ose*)
++		os=ose
++		;;
++	*mint | mint[0-9]* | *MiNT | MiNT[0-9]*)
++		os=mint
++		;;
++	dicos*)
++		os=dicos
++		;;
++	pikeos*)
++		# Until real need of OS specific support for
++		# particular features comes up, bare metal
++		# configurations are quite functional.
++		case $cpu in
++		    arm*)
++			os=eabi
++			;;
++		    *)
++			os=
++			obj=elf
++			;;
++		esac
++		;;
++	aout* | coff* | elf* | pe*)
++		# These are machine code file formats, not OSes
++		obj=$os
++		os=
++		;;
++	*)
++		# No normalization, but not necessarily accepted, that comes below.
++		;;
++esac
++
++else
++
++# Here we handle the default operating systems that come with various machines.
++# The value should be what the vendor currently ships out the door with their
++# machine or put another way, the most popular os provided with the machine.
++
++# Note that if you're going to try to match "-MANUFACTURER" here (say,
++# "-sun"), then you have to tell the case statement up towards the top
++# that MANUFACTURER isn't an operating system.  Otherwise, code above
++# will signal an error saying that MANUFACTURER isn't an operating
++# system, and we'll never get to this point.
++
++kernel=
++obj=
++case $cpu-$vendor in
++	score-*)
++		os=
++		obj=elf
++		;;
++	spu-*)
++		os=
++		obj=elf
++		;;
++	*-acorn)
++		os=riscix1.2
++		;;
++	arm*-rebel)
++		kernel=linux
++		os=gnu
++		;;
++	arm*-semi)
++		os=
++		obj=aout
++		;;
++	c4x-* | tic4x-*)
++		os=
++		obj=coff
++		;;
++	c8051-*)
++		os=
++		obj=elf
++		;;
++	clipper-intergraph)
++		os=clix
++		;;
++	hexagon-*)
++		os=
++		obj=elf
++		;;
++	tic54x-*)
++		os=
++		obj=coff
++		;;
++	tic55x-*)
++		os=
++		obj=coff
++		;;
++	tic6x-*)
++		os=
++		obj=coff
++		;;
++	# This must come before the *-dec entry.
++	pdp10-*)
++		os=tops20
++		;;
++	pdp11-*)
++		os=none
++		;;
++	*-dec | vax-*)
++		os=ultrix4.2
++		;;
++	m68*-apollo)
++		os=domain
++		;;
++	i386-sun)
++		os=sunos4.0.2
++		;;
++	m68000-sun)
++		os=sunos3
++		;;
++	m68*-cisco)
++		os=
++		obj=aout
++		;;
++	mep-*)
++		os=
++		obj=elf
++		;;
++	# The -sgi and -siemens entries must be before the mips- entry
++	# or we get the wrong os.
++	*-sgi)
++		os=irix
++		;;
++	*-siemens)
++		os=sysv4
++		;;
++	mips*-cisco)
++		os=
++		obj=elf
++		;;
++	mips*-*|nanomips*-*)
++		os=
++		obj=elf
++		;;
++	or32-*)
++		os=
++		obj=coff
++		;;
++	# This must be before the sparc-* entry or we get the wrong os.
++	*-tti)
++		os=sysv3
++		;;
++	sparc-* | *-sun)
++		os=sunos4.1.1
++		;;
++	pru-*)
++		os=
++		obj=elf
++		;;
++	*-be)
++		os=beos
++		;;
++	*-ibm)
++		os=aix
++		;;
++	*-knuth)
++		os=mmixware
++		;;
++	*-wec)
++		os=proelf
++		;;
++	*-winbond)
++		os=proelf
++		;;
++	*-oki)
++		os=proelf
++		;;
++	*-hp)
++		os=hpux
++		;;
++	*-hitachi)
++		os=hiuxwe2
++		;;
++	i860-* | *-att | *-ncr | *-altos | *-motorola | *-convergent)
++		os=sysv
++		;;
++	*-cbm)
++		os=amigaos
++		;;
++	*-dg)
++		os=dgux
++		;;
++	*-dolphin)
++		os=sysv3
++		;;
++	m68k-ccur)
++		os=rtu
++		;;
++	m88k-omron*)
++		os=luna
++		;;
++	*-next)
++		os=nextstep
++		;;
++	*-sequent)
++		os=ptx
++		;;
++	*-crds)
++		os=unos
++		;;
++	*-ns)
++		os=genix
++		;;
++	i370-*)
++		os=mvs
++		;;
++	*-gould)
++		os=sysv
++		;;
++	*-highlevel)
++		os=bsd
++		;;
++	*-encore)
++		os=bsd
++		;;
++	*-masscomp)
++		os=rtu
++		;;
++	f30[01]-fujitsu | f700-fujitsu)
++		os=uxpv
++		;;
++	*-rom68k)
++		os=
++		obj=coff
++		;;
++	*-*bug)
++		os=
++		obj=coff
++		;;
++	*-apple)
++		os=macos
++		;;
++	*-atari*)
++		os=mint
++		;;
++	*-wrs)
++		os=vxworks
++		;;
++	*)
++		os=none
++		;;
++esac
++
++fi
++
++# Now, validate our (potentially fixed-up) individual pieces (OS, OBJ).
++
++case $os in
++	# Sometimes we do "kernel-libc", so those need to count as OSes.
++	llvm* | musl* | newlib* | relibc* | uclibc*)
++		;;
++	# Likewise for "kernel-abi"
++	eabi* | gnueabi*)
++		;;
++	# VxWorks passes extra cpu info in the 4th filed.
++	simlinux | simwindows | spe)
++		;;
++	# See `case $cpu-$os` validation below
++	ghcjs)
++		;;
++	# Now accept the basic system types.
++	# Each alternative MUST end in a * to match a version number.
++	  abug \
++	| aix* \
++	| amdhsa* \
++	| amigados* \
++	| amigaos* \
++	| android* \
++	| aof* \
++	| aos* \
++	| aros* \
++	| atheos* \
++	| auroraux* \
++	| aux* \
++	| beos* \
++	| bitrig* \
++	| bme* \
++	| bosx* \
++	| bsd* \
++	| cegcc* \
++	| chorusos* \
++	| chorusrdb* \
++	| clix* \
++	| cloudabi* \
++	| cnk* \
++	| conix* \
++	| cos* \
++	| cxux* \
++	| cygwin* \
++	| darwin* \
++	| dgux* \
++	| dicos* \
++	| dnix* \
++	| domain* \
++	| dragonfly* \
++	| drops* \
++	| ebmon* \
++	| ecoff* \
++	| ekkobsd* \
++	| emscripten* \
++	| emx* \
++	| es* \
++	| fiwix* \
++	| freebsd* \
++	| fuchsia* \
++	| genix* \
++	| genode* \
++	| glidix* \
++	| gnu* \
++	| go32* \
++	| haiku* \
++	| hcos* \
++	| hiux* \
++	| hms* \
++	| hpux* \
++	| ieee* \
++	| interix* \
++	| ios* \
++	| iris* \
++	| irix* \
++	| ironclad* \
++	| isc* \
++	| its* \
++	| l4re* \
++	| libertybsd* \
++	| lites* \
++	| lnews* \
++	| luna* \
++	| lynxos* \
++	| mach* \
++	| macos* \
++	| magic* \
++	| mbr* \
++	| midipix* \
++	| midnightbsd* \
++	| mingw32* \
++	| mingw64* \
++	| minix* \
++	| mint* \
++	| mirbsd* \
++	| mks* \
++	| mlibc* \
++	| mmixware* \
++	| mon960* \
++	| morphos* \
++	| moss* \
++	| moxiebox* \
++	| mpeix* \
++	| mpw* \
++	| msdos* \
++	| msys* \
++	| mvs* \
++	| nacl* \
++	| netbsd* \
++	| netware* \
++	| newsos* \
++	| nextstep* \
++	| nindy* \
++	| nonstopux* \
++	| nova* \
++	| nsk* \
++	| nucleus* \
++	| nx6 \
++	| nx7 \
++	| oabi* \
++	| ohos* \
++	| onefs* \
++	| openbsd* \
++	| openedition* \
++	| openstep* \
++	| os108* \
++	| os2* \
++	| os400* \
++	| os68k* \
++	| os9* \
++	| ose* \
++	| osf* \
++	| oskit* \
++	| osx* \
++	| palmos* \
++	| phoenix* \
++	| plan9* \
++	| powermax* \
++	| powerunix* \
++	| proelf* \
++	| psos* \
++	| psp* \
++	| ptx* \
++	| pw32* \
++	| qnx* \
++	| rdos* \
++	| redox* \
++	| rhapsody* \
++	| riscix* \
++	| riscos* \
++	| rtems* \
++	| rtmk* \
++	| rtu* \
++	| scout* \
++	| secbsd* \
++	| sei* \
++	| serenity* \
++	| sim* \
++	| skyos* \
++	| solaris* \
++	| solidbsd* \
++	| sortix* \
++	| storm-chaos* \
++	| sunos \
++	| sunos[34]* \
++	| superux* \
++	| syllable* \
++	| sym* \
++	| sysv* \
++	| tenex* \
++	| tirtos* \
++	| toppers* \
++	| tops10* \
++	| tops20* \
++	| tpf* \
++	| tvos* \
++	| twizzler* \
++	| uclinux* \
++	| udi* \
++	| udk* \
++	| ultrix* \
++	| unicos* \
++	| uniplus* \
++	| unleashed* \
++	| unos* \
++	| uwin* \
++	| uxpv* \
++	| v88r* \
++	|*vms* \
++	| vos* \
++	| vsta* \
++	| vxsim* \
++	| vxworks* \
++	| wasi* \
++	| watchos* \
++	| wince* \
++	| windiss* \
++	| windows* \
++	| winnt* \
++	| xenix* \
++	| xray* \
++	| zephyr* \
++	| zvmoe* )
++		;;
++	# This one is extra strict with allowed versions
++	sco3.2v2 | sco3.2v[4-9]* | sco5v6*)
++		# Don't forget version if it is 3.2v4 or newer.
++		;;
++	# This refers to builds using the UEFI calling convention
++	# (which depends on the architecture) and PE file format.
++	# Note that this is both a different calling convention and
++	# different file format than that of GNU-EFI
++	# (x86_64-w64-mingw32).
++	uefi)
++		;;
++	none)
++		;;
++	kernel* | msvc* )
++		# Restricted further below
++		;;
++	'')
++		if test x"$obj" = x
++		then
++			echo "Invalid configuration '$1': Blank OS only allowed with explicit machine code file format" 1>&2
++		fi
++		;;
++	*)
++		echo "Invalid configuration '$1': OS '$os' not recognized" 1>&2
++		exit 1
++		;;
++esac
++
++case $obj in
++	aout* | coff* | elf* | pe*)
++		;;
++	'')
++		# empty is fine
++		;;
++	*)
++		echo "Invalid configuration '$1': Machine code format '$obj' not recognized" 1>&2
++		exit 1
++		;;
++esac
++
++# Here we handle the constraint that a (synthetic) cpu and os are
++# valid only in combination with each other and nowhere else.
++case $cpu-$os in
++	# The "javascript-unknown-ghcjs" triple is used by GHC; we
++	# accept it here in order to tolerate that, but reject any
++	# variations.
++	javascript-ghcjs)
++		;;
++	javascript-* | *-ghcjs)
++		echo "Invalid configuration '$1': cpu '$cpu' is not valid with os '$os$obj'" 1>&2
++		exit 1
++		;;
++esac
++
++# As a final step for OS-related things, validate the OS-kernel combination
++# (given a valid OS), if there is a kernel.
++case $kernel-$os-$obj in
++	linux-gnu*- | linux-android*- | linux-dietlibc*- | linux-llvm*- \
++		    | linux-mlibc*- | linux-musl*- | linux-newlib*- \
++		    | linux-relibc*- | linux-uclibc*- | linux-ohos*- )
++		;;
++	uclinux-uclibc*- | uclinux-gnu*- )
++		;;
++	managarm-mlibc*- | managarm-kernel*- )
++		;;
++	windows*-msvc*-)
++		;;
++	-dietlibc*- | -llvm*- | -mlibc*- | -musl*- | -newlib*- | -relibc*- \
++		    | -uclibc*- )
++		# These are just libc implementations, not actual OSes, and thus
++		# require a kernel.
++		echo "Invalid configuration '$1': libc '$os' needs explicit kernel." 1>&2
++		exit 1
++		;;
++	-kernel*- )
++		echo "Invalid configuration '$1': '$os' needs explicit kernel." 1>&2
++		exit 1
++		;;
++	*-kernel*- )
++		echo "Invalid configuration '$1': '$kernel' does not support '$os'." 1>&2
++		exit 1
++		;;
++	*-msvc*- )
++		echo "Invalid configuration '$1': '$os' needs 'windows'." 1>&2
++		exit 1
++		;;
++	kfreebsd*-gnu*- | knetbsd*-gnu*- | netbsd*-gnu*- | kopensolaris*-gnu*-)
++		;;
++	vxworks-simlinux- | vxworks-simwindows- | vxworks-spe-)
++		;;
++	nto-qnx*-)
++		;;
++	os2-emx-)
++		;;
++	rtmk-nova-)
++		;;
++	*-eabi*- | *-gnueabi*-)
++		;;
++	none--*)
++		# None (no kernel, i.e. freestanding / bare metal),
++		# can be paired with an machine code file format
++		;;
++	-*-)
++		# Blank kernel with real OS is always fine.
++		;;
++	--*)
++		# Blank kernel and OS with real machine code file format is always fine.
++		;;
++	*-*-*)
++		echo "Invalid configuration '$1': Kernel '$kernel' not known to work with OS '$os'." 1>&2
++		exit 1
++		;;
++esac
++
++# Here we handle the case where we know the os, and the CPU type, but not the
++# manufacturer.  We pick the logical manufacturer.
++case $vendor in
++	unknown)
++		case $cpu-$os in
++			*-riscix*)
++				vendor=acorn
++				;;
++			*-sunos* | *-solaris*)
++				vendor=sun
++				;;
++			*-cnk* | *-aix*)
++				vendor=ibm
++				;;
++			*-beos*)
++				vendor=be
++				;;
++			*-hpux*)
++				vendor=hp
++				;;
++			*-mpeix*)
++				vendor=hp
++				;;
++			*-hiux*)
++				vendor=hitachi
++				;;
++			*-unos*)
++				vendor=crds
++				;;
++			*-dgux*)
++				vendor=dg
++				;;
++			*-luna*)
++				vendor=omron
++				;;
++			*-genix*)
++				vendor=ns
++				;;
++			*-clix*)
++				vendor=intergraph
++				;;
++			*-mvs* | *-opened*)
++				vendor=ibm
++				;;
++			*-os400*)
++				vendor=ibm
++				;;
++			s390-* | s390x-*)
++				vendor=ibm
++				;;
++			*-ptx*)
++				vendor=sequent
++				;;
++			*-tpf*)
++				vendor=ibm
++				;;
++			*-vxsim* | *-vxworks* | *-windiss*)
++				vendor=wrs
++				;;
++			*-aux*)
++				vendor=apple
++				;;
++			*-hms*)
++				vendor=hitachi
++				;;
++			*-mpw* | *-macos*)
++				vendor=apple
++				;;
++			*-*mint | *-mint[0-9]* | *-*MiNT | *-MiNT[0-9]*)
++				vendor=atari
++				;;
++			*-vos*)
++				vendor=stratus
++				;;
++		esac
++		;;
++esac
++
++echo "$cpu-$vendor${kernel:+-$kernel}${os:+-$os}${obj:+-$obj}"
++exit
++
++# Local variables:
++# eval: (add-hook 'before-save-hook 'time-stamp)
++# time-stamp-start: "timestamp='"
++# time-stamp-format: "%:y-%02m-%02d"
++# time-stamp-end: "'"
++# End:
+diff --git a/external/libcmis/0003-update-config.patch b/external/libcmis/0003-update-config.patch
+new file mode 100644
+index 000000000..d9d30972a
+--- /dev/null
++++ b/external/libcmis/0003-update-config.patch
+@@ -0,0 +1,5818 @@
++diff --git a/config.guess b/config.guess
++index 256083a..48a6846 100755
++--- a/config.guess
+++++ b/config.guess
++@@ -1,12 +1,14 @@
++ #! /bin/sh
++ # Attempt to guess a canonical system name.
++-#   Copyright 1992-2018 Free Software Foundation, Inc.
+++#   Copyright 1992-2024 Free Software Foundation, Inc.
++ 
++-timestamp='2018-03-08'
+++# shellcheck disable=SC2006,SC2268 # see below for rationale
+++
+++timestamp='2024-07-27'
++ 
++ # This file is free software; you can redistribute it and/or modify it
++ # under the terms of the GNU General Public License as published by
++-# the Free Software Foundation; either version 3 of the License, or
+++# the Free Software Foundation, either version 3 of the License, or
++ # (at your option) any later version.
++ #
++ # This program is distributed in the hope that it will be useful, but
++@@ -27,17 +29,25 @@ timestamp='2018-03-08'
++ # Originally written by Per Bothner; maintained since 2000 by Ben Elliston.
++ #
++ # You can get the latest version of this script from:
++-# https://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.guess
+++# https://git.savannah.gnu.org/cgit/config.git/plain/config.guess
++ #
++ # Please send patches to <config-patches@gnu.org>.
++ 
++ 
+++# The "shellcheck disable" line above the timestamp inhibits complaints
+++# about features and limitations of the classic Bourne shell that were
+++# superseded or lifted in POSIX.  However, this script identifies a wide
+++# variety of pre-POSIX systems that do not have POSIX shells at all, and
+++# even some reasonably current systems (Solaris 10 as case-in-point) still
+++# have a pre-POSIX /bin/sh.
+++
+++
++ me=`echo "$0" | sed -e 's,.*/,,'`
++ 
++ usage="\
++ Usage: $0 [OPTION]
++ 
++-Output the configuration name of the system \`$me' is run on.
+++Output the configuration name of the system '$me' is run on.
++ 
++ Options:
++   -h, --help         print this help, then exit
++@@ -50,13 +60,13 @@ version="\
++ GNU config.guess ($timestamp)
++ 
++ Originally written by Per Bothner.
++-Copyright 1992-2018 Free Software Foundation, Inc.
+++Copyright 1992-2024 Free Software Foundation, Inc.
++ 
++ This is free software; see the source for copying conditions.  There is NO
++ warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."
++ 
++ help="
++-Try \`$me --help' for more information."
+++Try '$me --help' for more information."
++ 
++ # Parse command line
++ while test $# -gt 0 ; do
++@@ -84,85 +94,109 @@ if test $# != 0; then
++   exit 1
++ fi
++ 
++-trap 'exit 1' 1 2 15
+++# Just in case it came from the environment.
+++GUESS=
++ 
++ # CC_FOR_BUILD -- compiler used by this script. Note that the use of a
++ # compiler to aid in system detection is discouraged as it requires
++ # temporary files to be created and, as you can see below, it is a
++ # headache to deal with in a portable fashion.
++ 
++-# Historically, `CC_FOR_BUILD' used to be named `HOST_CC'. We still
++-# use `HOST_CC' if defined, but it is deprecated.
+++# Historically, 'CC_FOR_BUILD' used to be named 'HOST_CC'. We still
+++# use 'HOST_CC' if defined, but it is deprecated.
++ 
++ # Portable tmp directory creation inspired by the Autoconf team.
++ 
++-set_cc_for_build='
++-trap "exitcode=\$?; (rm -f \$tmpfiles 2>/dev/null; rmdir \$tmp 2>/dev/null) && exit \$exitcode" 0 ;
++-trap "rm -f \$tmpfiles 2>/dev/null; rmdir \$tmp 2>/dev/null; exit 1" 1 2 13 15 ;
++-: ${TMPDIR=/tmp} ;
++- { tmp=`(umask 077 && mktemp -d "$TMPDIR/cgXXXXXX") 2>/dev/null` && test -n "$tmp" && test -d "$tmp" ; } ||
++- { test -n "$RANDOM" && tmp=$TMPDIR/cg$$-$RANDOM && (umask 077 && mkdir $tmp) ; } ||
++- { tmp=$TMPDIR/cg-$$ && (umask 077 && mkdir $tmp) && echo "Warning: creating insecure temp directory" >&2 ; } ||
++- { echo "$me: cannot create a temporary directory in $TMPDIR" >&2 ; exit 1 ; } ;
++-dummy=$tmp/dummy ;
++-tmpfiles="$dummy.c $dummy.o $dummy.rel $dummy" ;
++-case $CC_FOR_BUILD,$HOST_CC,$CC in
++- ,,)    echo "int x;" > "$dummy.c" ;
++-	for c in cc gcc c89 c99 ; do
++-	  if ($c -c -o "$dummy.o" "$dummy.c") >/dev/null 2>&1 ; then
++-	     CC_FOR_BUILD="$c"; break ;
++-	  fi ;
++-	done ;
++-	if test x"$CC_FOR_BUILD" = x ; then
++-	  CC_FOR_BUILD=no_compiler_found ;
++-	fi
++-	;;
++- ,,*)   CC_FOR_BUILD=$CC ;;
++- ,*,*)  CC_FOR_BUILD=$HOST_CC ;;
++-esac ; set_cc_for_build= ;'
+++tmp=
+++# shellcheck disable=SC2172
+++trap 'test -z "$tmp" || rm -fr "$tmp"' 0 1 2 13 15
+++
+++set_cc_for_build() {
+++    # prevent multiple calls if $tmp is already set
+++    test "$tmp" && return 0
+++    : "${TMPDIR=/tmp}"
+++    # shellcheck disable=SC2039,SC3028
+++    { tmp=`(umask 077 && mktemp -d "$TMPDIR/cgXXXXXX") 2>/dev/null` && test -n "$tmp" && test -d "$tmp" ; } ||
+++	{ test -n "$RANDOM" && tmp=$TMPDIR/cg$$-$RANDOM && (umask 077 && mkdir "$tmp" 2>/dev/null) ; } ||
+++	{ tmp=$TMPDIR/cg-$$ && (umask 077 && mkdir "$tmp" 2>/dev/null) && echo "Warning: creating insecure temp directory" >&2 ; } ||
+++	{ echo "$me: cannot create a temporary directory in $TMPDIR" >&2 ; exit 1 ; }
+++    dummy=$tmp/dummy
+++    case ${CC_FOR_BUILD-},${HOST_CC-},${CC-} in
+++	,,)    echo "int x;" > "$dummy.c"
+++	       for driver in cc gcc c17 c99 c89 ; do
+++		   if ($driver -c -o "$dummy.o" "$dummy.c") >/dev/null 2>&1 ; then
+++		       CC_FOR_BUILD=$driver
+++		       break
+++		   fi
+++	       done
+++	       if test x"$CC_FOR_BUILD" = x ; then
+++		   CC_FOR_BUILD=no_compiler_found
+++	       fi
+++	       ;;
+++	,,*)   CC_FOR_BUILD=$CC ;;
+++	,*,*)  CC_FOR_BUILD=$HOST_CC ;;
+++    esac
+++}
++ 
++ # This is needed to find uname on a Pyramid OSx when run in the BSD universe.
++ # (ghazi@noc.rutgers.edu 1994-08-24)
++-if (test -f /.attbin/uname) >/dev/null 2>&1 ; then
+++if test -f /.attbin/uname ; then
++ 	PATH=$PATH:/.attbin ; export PATH
++ fi
++ 
++ UNAME_MACHINE=`(uname -m) 2>/dev/null` || UNAME_MACHINE=unknown
++ UNAME_RELEASE=`(uname -r) 2>/dev/null` || UNAME_RELEASE=unknown
++-UNAME_SYSTEM=`(uname -s) 2>/dev/null`  || UNAME_SYSTEM=unknown
+++UNAME_SYSTEM=`(uname -s) 2>/dev/null` || UNAME_SYSTEM=unknown
++ UNAME_VERSION=`(uname -v) 2>/dev/null` || UNAME_VERSION=unknown
++ 
++-case "$UNAME_SYSTEM" in
+++case $UNAME_SYSTEM in
++ Linux|GNU|GNU/*)
++-	# If the system lacks a compiler, then just pick glibc.
++-	# We could probably try harder.
++-	LIBC=gnu
+++	LIBC=unknown
++ 
++-	eval "$set_cc_for_build"
+++	set_cc_for_build
++ 	cat <<-EOF > "$dummy.c"
+++	#if defined(__ANDROID__)
+++	LIBC=android
+++	#else
++ 	#include <features.h>
++ 	#if defined(__UCLIBC__)
++ 	LIBC=uclibc
++ 	#elif defined(__dietlibc__)
++ 	LIBC=dietlibc
++-	#else
+++	#elif defined(__GLIBC__)
++ 	LIBC=gnu
+++	#elif defined(__LLVM_LIBC__)
+++	LIBC=llvm
+++	#else
+++	#include <stdarg.h>
+++	/* First heuristic to detect musl libc.  */
+++	#ifdef __DEFINED_va_list
+++	LIBC=musl
+++	#endif
+++	#endif
++ 	#endif
++ 	EOF
++-	eval "`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^LIBC' | sed 's, ,,g'`"
+++	cc_set_libc=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^LIBC' | sed 's, ,,g'`
+++	eval "$cc_set_libc"
++ 
++-	# If ldd exists, use it to detect musl libc.
++-	if command -v ldd >/dev/null && \
++-		ldd --version 2>&1 | grep -q ^musl
++-	then
++-	    LIBC=musl
+++	# Second heuristic to detect musl libc.
+++	if [ "$LIBC" = unknown ] &&
+++	   command -v ldd >/dev/null &&
+++	   ldd --version 2>&1 | grep -q ^musl; then
+++		LIBC=musl
+++	fi
+++
+++	# If the system lacks a compiler, then just pick glibc.
+++	# We could probably try harder.
+++	if [ "$LIBC" = unknown ]; then
+++		LIBC=gnu
++ 	fi
++ 	;;
++ esac
++ 
++ # Note: order is significant - the case branches are not exclusive.
++ 
++-case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
+++case $UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION in
++     *:NetBSD:*:*)
++ 	# NetBSD (nbsd) targets should (where applicable) match one or
++ 	# more of the tuples: *-*-netbsdelf*, *-*-netbsdaout*,
++@@ -174,12 +208,12 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++ 	#
++ 	# Note: NetBSD doesn't particularly care about the vendor
++ 	# portion of the name.  We always set it to "unknown".
++-	sysctl="sysctl -n hw.machine_arch"
++ 	UNAME_MACHINE_ARCH=`(uname -p 2>/dev/null || \
++-	    "/sbin/$sysctl" 2>/dev/null || \
++-	    "/usr/sbin/$sysctl" 2>/dev/null || \
+++	    /sbin/sysctl -n hw.machine_arch 2>/dev/null || \
+++	    /usr/sbin/sysctl -n hw.machine_arch 2>/dev/null || \
++ 	    echo unknown)`
++-	case "$UNAME_MACHINE_ARCH" in
+++	case $UNAME_MACHINE_ARCH in
+++	    aarch64eb) machine=aarch64_be-unknown ;;
++ 	    armeb) machine=armeb-unknown ;;
++ 	    arm*) machine=arm-unknown ;;
++ 	    sh3el) machine=shl-unknown ;;
++@@ -188,18 +222,18 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++ 	    earmv*)
++ 		arch=`echo "$UNAME_MACHINE_ARCH" | sed -e 's,^e\(armv[0-9]\).*$,\1,'`
++ 		endian=`echo "$UNAME_MACHINE_ARCH" | sed -ne 's,^.*\(eb\)$,\1,p'`
++-		machine="${arch}${endian}"-unknown
+++		machine=${arch}${endian}-unknown
++ 		;;
++-	    *) machine="$UNAME_MACHINE_ARCH"-unknown ;;
+++	    *) machine=$UNAME_MACHINE_ARCH-unknown ;;
++ 	esac
++ 	# The Operating System including object format, if it has switched
++ 	# to ELF recently (or will in the future) and ABI.
++-	case "$UNAME_MACHINE_ARCH" in
+++	case $UNAME_MACHINE_ARCH in
++ 	    earm*)
++ 		os=netbsdelf
++ 		;;
++ 	    arm*|i386|m68k|ns32k|sh3*|sparc|vax)
++-		eval "$set_cc_for_build"
+++		set_cc_for_build
++ 		if echo __ELF__ | $CC_FOR_BUILD -E - 2>/dev/null \
++ 			| grep -q __ELF__
++ 		then
++@@ -215,7 +249,7 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++ 		;;
++ 	esac
++ 	# Determine ABI tags.
++-	case "$UNAME_MACHINE_ARCH" in
+++	case $UNAME_MACHINE_ARCH in
++ 	    earm*)
++ 		expr='s/^earmv[0-9]/-eabi/;s/eb$//'
++ 		abi=`echo "$UNAME_MACHINE_ARCH" | sed -e "$expr"`
++@@ -226,7 +260,7 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++ 	# thus, need a distinct triplet. However, they do not need
++ 	# kernel version information, so it can be replaced with a
++ 	# suitable tag, in the style of linux-gnu.
++-	case "$UNAME_VERSION" in
+++	case $UNAME_VERSION in
++ 	    Debian*)
++ 		release='-gnu'
++ 		;;
++@@ -237,45 +271,57 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++ 	# Since CPU_TYPE-MANUFACTURER-KERNEL-OPERATING_SYSTEM:
++ 	# contains redundant information, the shorter form:
++ 	# CPU_TYPE-MANUFACTURER-OPERATING_SYSTEM is used.
++-	echo "$machine-${os}${release}${abi}"
++-	exit ;;
+++	GUESS=$machine-${os}${release}${abi-}
+++	;;
++     *:Bitrig:*:*)
++ 	UNAME_MACHINE_ARCH=`arch | sed 's/Bitrig.//'`
++-	echo "$UNAME_MACHINE_ARCH"-unknown-bitrig"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE_ARCH-unknown-bitrig$UNAME_RELEASE
+++	;;
++     *:OpenBSD:*:*)
++ 	UNAME_MACHINE_ARCH=`arch | sed 's/OpenBSD.//'`
++-	echo "$UNAME_MACHINE_ARCH"-unknown-openbsd"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE_ARCH-unknown-openbsd$UNAME_RELEASE
+++	;;
+++    *:SecBSD:*:*)
+++	UNAME_MACHINE_ARCH=`arch | sed 's/SecBSD.//'`
+++	GUESS=$UNAME_MACHINE_ARCH-unknown-secbsd$UNAME_RELEASE
+++	;;
++     *:LibertyBSD:*:*)
++ 	UNAME_MACHINE_ARCH=`arch | sed 's/^.*BSD\.//'`
++-	echo "$UNAME_MACHINE_ARCH"-unknown-libertybsd"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE_ARCH-unknown-libertybsd$UNAME_RELEASE
+++	;;
++     *:MidnightBSD:*:*)
++-	echo "$UNAME_MACHINE"-unknown-midnightbsd"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-midnightbsd$UNAME_RELEASE
+++	;;
++     *:ekkoBSD:*:*)
++-	echo "$UNAME_MACHINE"-unknown-ekkobsd"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-ekkobsd$UNAME_RELEASE
+++	;;
++     *:SolidBSD:*:*)
++-	echo "$UNAME_MACHINE"-unknown-solidbsd"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-solidbsd$UNAME_RELEASE
+++	;;
+++    *:OS108:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-os108_$UNAME_RELEASE
+++	;;
++     macppc:MirBSD:*:*)
++-	echo powerpc-unknown-mirbsd"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=powerpc-unknown-mirbsd$UNAME_RELEASE
+++	;;
++     *:MirBSD:*:*)
++-	echo "$UNAME_MACHINE"-unknown-mirbsd"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-mirbsd$UNAME_RELEASE
+++	;;
++     *:Sortix:*:*)
++-	echo "$UNAME_MACHINE"-unknown-sortix
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-sortix
+++	;;
+++    *:Twizzler:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-twizzler
+++	;;
++     *:Redox:*:*)
++-	echo "$UNAME_MACHINE"-unknown-redox
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-redox
+++	;;
++     mips:OSF1:*.*)
++-        echo mips-dec-osf1
++-        exit ;;
+++	GUESS=mips-dec-osf1
+++	;;
++     alpha:OSF1:*:*)
+++	# Reset EXIT trap before exiting to avoid spurious non-zero exit code.
+++	trap '' 0
++ 	case $UNAME_RELEASE in
++ 	*4.0)
++ 		UNAME_RELEASE=`/usr/sbin/sizer -v | awk '{print $3}'`
++@@ -289,7 +335,7 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++ 	# covers most systems running today.  This code pipes the CPU
++ 	# types through head -n 1, so we only detect the type of CPU 0.
++ 	ALPHA_CPU_TYPE=`/usr/sbin/psrinfo -v | sed -n -e 's/^  The alpha \(.*\) processor.*$/\1/p' | head -n 1`
++-	case "$ALPHA_CPU_TYPE" in
+++	case $ALPHA_CPU_TYPE in
++ 	    "EV4 (21064)")
++ 		UNAME_MACHINE=alpha ;;
++ 	    "EV4.5 (21064)")
++@@ -326,117 +372,121 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++ 	# A Tn.n version is a released field test version.
++ 	# A Xn.n version is an unreleased experimental baselevel.
++ 	# 1.2 uses "1.2" for uname -r.
++-	echo "$UNAME_MACHINE"-dec-osf"`echo "$UNAME_RELEASE" | sed -e 's/^[PVTX]//' | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz`"
++-	# Reset EXIT trap before exiting to avoid spurious non-zero exit code.
++-	exitcode=$?
++-	trap '' 0
++-	exit $exitcode ;;
+++	OSF_REL=`echo "$UNAME_RELEASE" | sed -e 's/^[PVTX]//' | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz`
+++	GUESS=$UNAME_MACHINE-dec-osf$OSF_REL
+++	;;
++     Amiga*:UNIX_System_V:4.0:*)
++-	echo m68k-unknown-sysv4
++-	exit ;;
+++	GUESS=m68k-unknown-sysv4
+++	;;
++     *:[Aa]miga[Oo][Ss]:*:*)
++-	echo "$UNAME_MACHINE"-unknown-amigaos
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-amigaos
+++	;;
++     *:[Mm]orph[Oo][Ss]:*:*)
++-	echo "$UNAME_MACHINE"-unknown-morphos
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-morphos
+++	;;
++     *:OS/390:*:*)
++-	echo i370-ibm-openedition
++-	exit ;;
+++	GUESS=i370-ibm-openedition
+++	;;
++     *:z/VM:*:*)
++-	echo s390-ibm-zvmoe
++-	exit ;;
+++	GUESS=s390-ibm-zvmoe
+++	;;
++     *:OS400:*:*)
++-	echo powerpc-ibm-os400
++-	exit ;;
+++	GUESS=powerpc-ibm-os400
+++	;;
++     arm:RISC*:1.[012]*:*|arm:riscix:1.[012]*:*)
++-	echo arm-acorn-riscix"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=arm-acorn-riscix$UNAME_RELEASE
+++	;;
++     arm*:riscos:*:*|arm*:RISCOS:*:*)
++-	echo arm-unknown-riscos
++-	exit ;;
+++	GUESS=arm-unknown-riscos
+++	;;
++     SR2?01:HI-UX/MPP:*:* | SR8000:HI-UX/MPP:*:*)
++-	echo hppa1.1-hitachi-hiuxmpp
++-	exit ;;
+++	GUESS=hppa1.1-hitachi-hiuxmpp
+++	;;
++     Pyramid*:OSx*:*:* | MIS*:OSx*:*:* | MIS*:SMP_DC-OSx*:*:*)
++ 	# akee@wpdis03.wpafb.af.mil (Earle F. Ake) contributed MIS and NILE.
++-	if test "`(/bin/universe) 2>/dev/null`" = att ; then
++-		echo pyramid-pyramid-sysv3
++-	else
++-		echo pyramid-pyramid-bsd
++-	fi
++-	exit ;;
+++	case `(/bin/universe) 2>/dev/null` in
+++	    att) GUESS=pyramid-pyramid-sysv3 ;;
+++	    *)   GUESS=pyramid-pyramid-bsd   ;;
+++	esac
+++	;;
++     NILE*:*:*:dcosx)
++-	echo pyramid-pyramid-svr4
++-	exit ;;
+++	GUESS=pyramid-pyramid-svr4
+++	;;
++     DRS?6000:unix:4.0:6*)
++-	echo sparc-icl-nx6
++-	exit ;;
+++	GUESS=sparc-icl-nx6
+++	;;
++     DRS?6000:UNIX_SV:4.2*:7* | DRS?6000:isis:4.2*:7*)
++ 	case `/usr/bin/uname -p` in
++-	    sparc) echo sparc-icl-nx7; exit ;;
++-	esac ;;
+++	    sparc) GUESS=sparc-icl-nx7 ;;
+++	esac
+++	;;
++     s390x:SunOS:*:*)
++-	echo "$UNAME_MACHINE"-ibm-solaris2"`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`"
++-	exit ;;
+++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
+++	GUESS=$UNAME_MACHINE-ibm-solaris2$SUN_REL
+++	;;
++     sun4H:SunOS:5.*:*)
++-	echo sparc-hal-solaris2"`echo "$UNAME_RELEASE"|sed -e 's/[^.]*//'`"
++-	exit ;;
+++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
+++	GUESS=sparc-hal-solaris2$SUN_REL
+++	;;
++     sun4*:SunOS:5.*:* | tadpole*:SunOS:5.*:*)
++-	echo sparc-sun-solaris2"`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`"
++-	exit ;;
+++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
+++	GUESS=sparc-sun-solaris2$SUN_REL
+++	;;
++     i86pc:AuroraUX:5.*:* | i86xen:AuroraUX:5.*:*)
++-	echo i386-pc-auroraux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=i386-pc-auroraux$UNAME_RELEASE
+++	;;
++     i86pc:SunOS:5.*:* | i86xen:SunOS:5.*:*)
++-	eval "$set_cc_for_build"
+++	set_cc_for_build
++ 	SUN_ARCH=i386
++ 	# If there is a compiler, see if it is configured for 64-bit objects.
++ 	# Note that the Sun cc does not turn __LP64__ into 1 like gcc does.
++ 	# This test works for both compilers.
++-	if [ "$CC_FOR_BUILD" != no_compiler_found ]; then
+++	if test "$CC_FOR_BUILD" != no_compiler_found; then
++ 	    if (echo '#ifdef __amd64'; echo IS_64BIT_ARCH; echo '#endif') | \
++-		(CCOPTS="" $CC_FOR_BUILD -E - 2>/dev/null) | \
+++		(CCOPTS="" $CC_FOR_BUILD -m64 -E - 2>/dev/null) | \
++ 		grep IS_64BIT_ARCH >/dev/null
++ 	    then
++ 		SUN_ARCH=x86_64
++ 	    fi
++ 	fi
++-	echo "$SUN_ARCH"-pc-solaris2"`echo "$UNAME_RELEASE"|sed -e 's/[^.]*//'`"
++-	exit ;;
+++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
+++	GUESS=$SUN_ARCH-pc-solaris2$SUN_REL
+++	;;
++     sun4*:SunOS:6*:*)
++ 	# According to config.sub, this is the proper way to canonicalize
++ 	# SunOS6.  Hard to guess exactly what SunOS6 will be like, but
++ 	# it's likely to be more like Solaris than SunOS4.
++-	echo sparc-sun-solaris3"`echo "$UNAME_RELEASE"|sed -e 's/[^.]*//'`"
++-	exit ;;
+++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
+++	GUESS=sparc-sun-solaris3$SUN_REL
+++	;;
++     sun4*:SunOS:*:*)
++-	case "`/usr/bin/arch -k`" in
+++	case `/usr/bin/arch -k` in
++ 	    Series*|S4*)
++ 		UNAME_RELEASE=`uname -v`
++ 		;;
++ 	esac
++-	# Japanese Language versions have a version number like `4.1.3-JL'.
++-	echo sparc-sun-sunos"`echo "$UNAME_RELEASE"|sed -e 's/-/_/'`"
++-	exit ;;
+++	# Japanese Language versions have a version number like '4.1.3-JL'.
+++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/-/_/'`
+++	GUESS=sparc-sun-sunos$SUN_REL
+++	;;
++     sun3*:SunOS:*:*)
++-	echo m68k-sun-sunos"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-sun-sunos$UNAME_RELEASE
+++	;;
++     sun*:*:4.2BSD:*)
++ 	UNAME_RELEASE=`(sed 1q /etc/motd | awk '{print substr($5,1,3)}') 2>/dev/null`
++ 	test "x$UNAME_RELEASE" = x && UNAME_RELEASE=3
++-	case "`/bin/arch`" in
+++	case `/bin/arch` in
++ 	    sun3)
++-		echo m68k-sun-sunos"$UNAME_RELEASE"
+++		GUESS=m68k-sun-sunos$UNAME_RELEASE
++ 		;;
++ 	    sun4)
++-		echo sparc-sun-sunos"$UNAME_RELEASE"
+++		GUESS=sparc-sun-sunos$UNAME_RELEASE
++ 		;;
++ 	esac
++-	exit ;;
+++	;;
++     aushp:SunOS:*:*)
++-	echo sparc-auspex-sunos"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sparc-auspex-sunos$UNAME_RELEASE
+++	;;
++     # The situation for MiNT is a little confusing.  The machine name
++     # can be virtually everything (everything which is not
++     # "atarist" or "atariste" at least should have a processor
++@@ -446,43 +496,43 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++     # MiNT.  But MiNT is downward compatible to TOS, so this should
++     # be no problem.
++     atarist[e]:*MiNT:*:* | atarist[e]:*mint:*:* | atarist[e]:*TOS:*:*)
++-	echo m68k-atari-mint"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-atari-mint$UNAME_RELEASE
+++	;;
++     atari*:*MiNT:*:* | atari*:*mint:*:* | atarist[e]:*TOS:*:*)
++-	echo m68k-atari-mint"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-atari-mint$UNAME_RELEASE
+++	;;
++     *falcon*:*MiNT:*:* | *falcon*:*mint:*:* | *falcon*:*TOS:*:*)
++-	echo m68k-atari-mint"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-atari-mint$UNAME_RELEASE
+++	;;
++     milan*:*MiNT:*:* | milan*:*mint:*:* | *milan*:*TOS:*:*)
++-	echo m68k-milan-mint"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-milan-mint$UNAME_RELEASE
+++	;;
++     hades*:*MiNT:*:* | hades*:*mint:*:* | *hades*:*TOS:*:*)
++-	echo m68k-hades-mint"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-hades-mint$UNAME_RELEASE
+++	;;
++     *:*MiNT:*:* | *:*mint:*:* | *:*TOS:*:*)
++-	echo m68k-unknown-mint"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-unknown-mint$UNAME_RELEASE
+++	;;
++     m68k:machten:*:*)
++-	echo m68k-apple-machten"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-apple-machten$UNAME_RELEASE
+++	;;
++     powerpc:machten:*:*)
++-	echo powerpc-apple-machten"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=powerpc-apple-machten$UNAME_RELEASE
+++	;;
++     RISC*:Mach:*:*)
++-	echo mips-dec-mach_bsd4.3
++-	exit ;;
+++	GUESS=mips-dec-mach_bsd4.3
+++	;;
++     RISC*:ULTRIX:*:*)
++-	echo mips-dec-ultrix"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=mips-dec-ultrix$UNAME_RELEASE
+++	;;
++     VAX*:ULTRIX*:*:*)
++-	echo vax-dec-ultrix"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=vax-dec-ultrix$UNAME_RELEASE
+++	;;
++     2020:CLIX:*:* | 2430:CLIX:*:*)
++-	echo clipper-intergraph-clix"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=clipper-intergraph-clix$UNAME_RELEASE
+++	;;
++     mips:*:*:UMIPS | mips:*:*:RISCos)
++-	eval "$set_cc_for_build"
+++	set_cc_for_build
++ 	sed 's/^	//' << EOF > "$dummy.c"
++ #ifdef __cplusplus
++ #include <stdio.h>  /* for printf() prototype */
++@@ -508,82 +558,84 @@ EOF
++ 	  dummyarg=`echo "$UNAME_RELEASE" | sed -n 's/\([0-9]*\).*/\1/p'` &&
++ 	  SYSTEM_NAME=`"$dummy" "$dummyarg"` &&
++ 	    { echo "$SYSTEM_NAME"; exit; }
++-	echo mips-mips-riscos"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=mips-mips-riscos$UNAME_RELEASE
+++	;;
++     Motorola:PowerMAX_OS:*:*)
++-	echo powerpc-motorola-powermax
++-	exit ;;
+++	GUESS=powerpc-motorola-powermax
+++	;;
++     Motorola:*:4.3:PL8-*)
++-	echo powerpc-harris-powermax
++-	exit ;;
+++	GUESS=powerpc-harris-powermax
+++	;;
++     Night_Hawk:*:*:PowerMAX_OS | Synergy:PowerMAX_OS:*:*)
++-	echo powerpc-harris-powermax
++-	exit ;;
+++	GUESS=powerpc-harris-powermax
+++	;;
++     Night_Hawk:Power_UNIX:*:*)
++-	echo powerpc-harris-powerunix
++-	exit ;;
+++	GUESS=powerpc-harris-powerunix
+++	;;
++     m88k:CX/UX:7*:*)
++-	echo m88k-harris-cxux7
++-	exit ;;
+++	GUESS=m88k-harris-cxux7
+++	;;
++     m88k:*:4*:R4*)
++-	echo m88k-motorola-sysv4
++-	exit ;;
+++	GUESS=m88k-motorola-sysv4
+++	;;
++     m88k:*:3*:R3*)
++-	echo m88k-motorola-sysv3
++-	exit ;;
+++	GUESS=m88k-motorola-sysv3
+++	;;
++     AViiON:dgux:*:*)
++ 	# DG/UX returns AViiON for all architectures
++ 	UNAME_PROCESSOR=`/usr/bin/uname -p`
++-	if [ "$UNAME_PROCESSOR" = mc88100 ] || [ "$UNAME_PROCESSOR" = mc88110 ]
+++	if test "$UNAME_PROCESSOR" = mc88100 || test "$UNAME_PROCESSOR" = mc88110
++ 	then
++-	    if [ "$TARGET_BINARY_INTERFACE"x = m88kdguxelfx ] || \
++-	       [ "$TARGET_BINARY_INTERFACE"x = x ]
+++	    if test "$TARGET_BINARY_INTERFACE"x = m88kdguxelfx || \
+++	       test "$TARGET_BINARY_INTERFACE"x = x
++ 	    then
++-		echo m88k-dg-dgux"$UNAME_RELEASE"
+++		GUESS=m88k-dg-dgux$UNAME_RELEASE
++ 	    else
++-		echo m88k-dg-dguxbcs"$UNAME_RELEASE"
+++		GUESS=m88k-dg-dguxbcs$UNAME_RELEASE
++ 	    fi
++ 	else
++-	    echo i586-dg-dgux"$UNAME_RELEASE"
+++	    GUESS=i586-dg-dgux$UNAME_RELEASE
++ 	fi
++-	exit ;;
+++	;;
++     M88*:DolphinOS:*:*)	# DolphinOS (SVR3)
++-	echo m88k-dolphin-sysv3
++-	exit ;;
+++	GUESS=m88k-dolphin-sysv3
+++	;;
++     M88*:*:R3*:*)
++ 	# Delta 88k system running SVR3
++-	echo m88k-motorola-sysv3
++-	exit ;;
+++	GUESS=m88k-motorola-sysv3
+++	;;
++     XD88*:*:*:*) # Tektronix XD88 system running UTekV (SVR3)
++-	echo m88k-tektronix-sysv3
++-	exit ;;
+++	GUESS=m88k-tektronix-sysv3
+++	;;
++     Tek43[0-9][0-9]:UTek:*:*) # Tektronix 4300 system running UTek (BSD)
++-	echo m68k-tektronix-bsd
++-	exit ;;
+++	GUESS=m68k-tektronix-bsd
+++	;;
++     *:IRIX*:*:*)
++-	echo mips-sgi-irix"`echo "$UNAME_RELEASE"|sed -e 's/-/_/g'`"
++-	exit ;;
+++	IRIX_REL=`echo "$UNAME_RELEASE" | sed -e 's/-/_/g'`
+++	GUESS=mips-sgi-irix$IRIX_REL
+++	;;
++     ????????:AIX?:[12].1:2)   # AIX 2.2.1 or AIX 2.1.1 is RT/PC AIX.
++-	echo romp-ibm-aix     # uname -m gives an 8 hex-code CPU id
++-	exit ;;               # Note that: echo "'`uname -s`'" gives 'AIX '
+++	GUESS=romp-ibm-aix    # uname -m gives an 8 hex-code CPU id
+++	;;                    # Note that: echo "'`uname -s`'" gives 'AIX '
++     i*86:AIX:*:*)
++-	echo i386-ibm-aix
++-	exit ;;
+++	GUESS=i386-ibm-aix
+++	;;
++     ia64:AIX:*:*)
++-	if [ -x /usr/bin/oslevel ] ; then
+++	if test -x /usr/bin/oslevel ; then
++ 		IBM_REV=`/usr/bin/oslevel`
++ 	else
++-		IBM_REV="$UNAME_VERSION.$UNAME_RELEASE"
+++		IBM_REV=$UNAME_VERSION.$UNAME_RELEASE
++ 	fi
++-	echo "$UNAME_MACHINE"-ibm-aix"$IBM_REV"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-ibm-aix$IBM_REV
+++	;;
++     *:AIX:2:3)
++ 	if grep bos325 /usr/include/stdio.h >/dev/null 2>&1; then
++-		eval "$set_cc_for_build"
+++		set_cc_for_build
++ 		sed 's/^		//' << EOF > "$dummy.c"
++ 		#include <sys/systemcfg.h>
++ 
++-		main()
+++		int
+++		main ()
++ 			{
++ 			if (!__power_pc())
++ 				exit(1);
++@@ -593,16 +645,16 @@ EOF
++ EOF
++ 		if $CC_FOR_BUILD -o "$dummy" "$dummy.c" && SYSTEM_NAME=`"$dummy"`
++ 		then
++-			echo "$SYSTEM_NAME"
+++			GUESS=$SYSTEM_NAME
++ 		else
++-			echo rs6000-ibm-aix3.2.5
+++			GUESS=rs6000-ibm-aix3.2.5
++ 		fi
++ 	elif grep bos324 /usr/include/stdio.h >/dev/null 2>&1; then
++-		echo rs6000-ibm-aix3.2.4
+++		GUESS=rs6000-ibm-aix3.2.4
++ 	else
++-		echo rs6000-ibm-aix3.2
+++		GUESS=rs6000-ibm-aix3.2
++ 	fi
++-	exit ;;
+++	;;
++     *:AIX:*:[4567])
++ 	IBM_CPU_ID=`/usr/sbin/lsdev -C -c processor -S available | sed 1q | awk '{ print $1 }'`
++ 	if /usr/sbin/lsattr -El "$IBM_CPU_ID" | grep ' POWER' >/dev/null 2>&1; then
++@@ -610,64 +662,65 @@ EOF
++ 	else
++ 		IBM_ARCH=powerpc
++ 	fi
++-	if [ -x /usr/bin/lslpp ] ; then
++-		IBM_REV=`/usr/bin/lslpp -Lqc bos.rte.libc |
+++	if test -x /usr/bin/lslpp ; then
+++		IBM_REV=`/usr/bin/lslpp -Lqc bos.rte.libc | \
++ 			   awk -F: '{ print $3 }' | sed s/[0-9]*$/0/`
++ 	else
++-		IBM_REV="$UNAME_VERSION.$UNAME_RELEASE"
+++		IBM_REV=$UNAME_VERSION.$UNAME_RELEASE
++ 	fi
++-	echo "$IBM_ARCH"-ibm-aix"$IBM_REV"
++-	exit ;;
+++	GUESS=$IBM_ARCH-ibm-aix$IBM_REV
+++	;;
++     *:AIX:*:*)
++-	echo rs6000-ibm-aix
++-	exit ;;
+++	GUESS=rs6000-ibm-aix
+++	;;
++     ibmrt:4.4BSD:*|romp-ibm:4.4BSD:*)
++-	echo romp-ibm-bsd4.4
++-	exit ;;
+++	GUESS=romp-ibm-bsd4.4
+++	;;
++     ibmrt:*BSD:*|romp-ibm:BSD:*)            # covers RT/PC BSD and
++-	echo romp-ibm-bsd"$UNAME_RELEASE"   # 4.3 with uname added to
++-	exit ;;                             # report: romp-ibm BSD 4.3
+++	GUESS=romp-ibm-bsd$UNAME_RELEASE    # 4.3 with uname added to
+++	;;                                  # report: romp-ibm BSD 4.3
++     *:BOSX:*:*)
++-	echo rs6000-bull-bosx
++-	exit ;;
+++	GUESS=rs6000-bull-bosx
+++	;;
++     DPX/2?00:B.O.S.:*:*)
++-	echo m68k-bull-sysv3
++-	exit ;;
+++	GUESS=m68k-bull-sysv3
+++	;;
++     9000/[34]??:4.3bsd:1.*:*)
++-	echo m68k-hp-bsd
++-	exit ;;
+++	GUESS=m68k-hp-bsd
+++	;;
++     hp300:4.4BSD:*:* | 9000/[34]??:4.3bsd:2.*:*)
++-	echo m68k-hp-bsd4.4
++-	exit ;;
+++	GUESS=m68k-hp-bsd4.4
+++	;;
++     9000/[34678]??:HP-UX:*:*)
++-	HPUX_REV=`echo "$UNAME_RELEASE"|sed -e 's/[^.]*.[0B]*//'`
++-	case "$UNAME_MACHINE" in
+++	HPUX_REV=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*.[0B]*//'`
+++	case $UNAME_MACHINE in
++ 	    9000/31?)            HP_ARCH=m68000 ;;
++ 	    9000/[34]??)         HP_ARCH=m68k ;;
++ 	    9000/[678][0-9][0-9])
++-		if [ -x /usr/bin/getconf ]; then
+++		if test -x /usr/bin/getconf; then
++ 		    sc_cpu_version=`/usr/bin/getconf SC_CPU_VERSION 2>/dev/null`
++ 		    sc_kernel_bits=`/usr/bin/getconf SC_KERNEL_BITS 2>/dev/null`
++-		    case "$sc_cpu_version" in
+++		    case $sc_cpu_version in
++ 		      523) HP_ARCH=hppa1.0 ;; # CPU_PA_RISC1_0
++ 		      528) HP_ARCH=hppa1.1 ;; # CPU_PA_RISC1_1
++ 		      532)                      # CPU_PA_RISC2_0
++-			case "$sc_kernel_bits" in
+++			case $sc_kernel_bits in
++ 			  32) HP_ARCH=hppa2.0n ;;
++ 			  64) HP_ARCH=hppa2.0w ;;
++ 			  '') HP_ARCH=hppa2.0 ;;   # HP-UX 10.20
++ 			esac ;;
++ 		    esac
++ 		fi
++-		if [ "$HP_ARCH" = "" ]; then
++-		    eval "$set_cc_for_build"
+++		if test "$HP_ARCH" = ""; then
+++		    set_cc_for_build
++ 		    sed 's/^		//' << EOF > "$dummy.c"
++ 
++ 		#define _HPUX_SOURCE
++ 		#include <stdlib.h>
++ 		#include <unistd.h>
++ 
++-		int main ()
+++		int
+++		main ()
++ 		{
++ 		#if defined(_SC_KERNEL_BITS)
++ 		    long bits = sysconf(_SC_KERNEL_BITS);
++@@ -698,9 +751,9 @@ EOF
++ 		    test -z "$HP_ARCH" && HP_ARCH=hppa
++ 		fi ;;
++ 	esac
++-	if [ "$HP_ARCH" = hppa2.0w ]
+++	if test "$HP_ARCH" = hppa2.0w
++ 	then
++-	    eval "$set_cc_for_build"
+++	    set_cc_for_build
++ 
++ 	    # hppa2.0w-hp-hpux* has a 64-bit kernel and a compiler generating
++ 	    # 32-bit code.  hppa64-hp-hpux* has the same kernel and a compiler
++@@ -719,14 +772,14 @@ EOF
++ 		HP_ARCH=hppa64
++ 	    fi
++ 	fi
++-	echo "$HP_ARCH"-hp-hpux"$HPUX_REV"
++-	exit ;;
+++	GUESS=$HP_ARCH-hp-hpux$HPUX_REV
+++	;;
++     ia64:HP-UX:*:*)
++-	HPUX_REV=`echo "$UNAME_RELEASE"|sed -e 's/[^.]*.[0B]*//'`
++-	echo ia64-hp-hpux"$HPUX_REV"
++-	exit ;;
+++	HPUX_REV=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*.[0B]*//'`
+++	GUESS=ia64-hp-hpux$HPUX_REV
+++	;;
++     3050*:HI-UX:*:*)
++-	eval "$set_cc_for_build"
+++	set_cc_for_build
++ 	sed 's/^	//' << EOF > "$dummy.c"
++ 	#include <unistd.h>
++ 	int
++@@ -754,36 +807,36 @@ EOF
++ EOF
++ 	$CC_FOR_BUILD -o "$dummy" "$dummy.c" && SYSTEM_NAME=`"$dummy"` &&
++ 		{ echo "$SYSTEM_NAME"; exit; }
++-	echo unknown-hitachi-hiuxwe2
++-	exit ;;
+++	GUESS=unknown-hitachi-hiuxwe2
+++	;;
++     9000/7??:4.3bsd:*:* | 9000/8?[79]:4.3bsd:*:*)
++-	echo hppa1.1-hp-bsd
++-	exit ;;
+++	GUESS=hppa1.1-hp-bsd
+++	;;
++     9000/8??:4.3bsd:*:*)
++-	echo hppa1.0-hp-bsd
++-	exit ;;
+++	GUESS=hppa1.0-hp-bsd
+++	;;
++     *9??*:MPE/iX:*:* | *3000*:MPE/iX:*:*)
++-	echo hppa1.0-hp-mpeix
++-	exit ;;
+++	GUESS=hppa1.0-hp-mpeix
+++	;;
++     hp7??:OSF1:*:* | hp8?[79]:OSF1:*:*)
++-	echo hppa1.1-hp-osf
++-	exit ;;
+++	GUESS=hppa1.1-hp-osf
+++	;;
++     hp8??:OSF1:*:*)
++-	echo hppa1.0-hp-osf
++-	exit ;;
+++	GUESS=hppa1.0-hp-osf
+++	;;
++     i*86:OSF1:*:*)
++-	if [ -x /usr/sbin/sysversion ] ; then
++-	    echo "$UNAME_MACHINE"-unknown-osf1mk
+++	if test -x /usr/sbin/sysversion ; then
+++	    GUESS=$UNAME_MACHINE-unknown-osf1mk
++ 	else
++-	    echo "$UNAME_MACHINE"-unknown-osf1
+++	    GUESS=$UNAME_MACHINE-unknown-osf1
++ 	fi
++-	exit ;;
+++	;;
++     parisc*:Lites*:*:*)
++-	echo hppa1.1-hp-lites
++-	exit ;;
+++	GUESS=hppa1.1-hp-lites
+++	;;
++     C1*:ConvexOS:*:* | convex:ConvexOS:C1*:*)
++-	echo c1-convex-bsd
++-	exit ;;
+++	GUESS=c1-convex-bsd
+++	;;
++     C2*:ConvexOS:*:* | convex:ConvexOS:C2*:*)
++ 	if getsysinfo -f scalar_acc
++ 	then echo c32-convex-bsd
++@@ -791,17 +844,18 @@ EOF
++ 	fi
++ 	exit ;;
++     C34*:ConvexOS:*:* | convex:ConvexOS:C34*:*)
++-	echo c34-convex-bsd
++-	exit ;;
+++	GUESS=c34-convex-bsd
+++	;;
++     C38*:ConvexOS:*:* | convex:ConvexOS:C38*:*)
++-	echo c38-convex-bsd
++-	exit ;;
+++	GUESS=c38-convex-bsd
+++	;;
++     C4*:ConvexOS:*:* | convex:ConvexOS:C4*:*)
++-	echo c4-convex-bsd
++-	exit ;;
+++	GUESS=c4-convex-bsd
+++	;;
++     CRAY*Y-MP:*:*:*)
++-	echo ymp-cray-unicos"$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'
++-	exit ;;
+++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
+++	GUESS=ymp-cray-unicos$CRAY_REL
+++	;;
++     CRAY*[A-Z]90:*:*:*)
++ 	echo "$UNAME_MACHINE"-cray-unicos"$UNAME_RELEASE" \
++ 	| sed -e 's/CRAY.*\([A-Z]90\)/\1/' \
++@@ -809,103 +863,155 @@ EOF
++ 	      -e 's/\.[^.]*$/.X/'
++ 	exit ;;
++     CRAY*TS:*:*:*)
++-	echo t90-cray-unicos"$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'
++-	exit ;;
+++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
+++	GUESS=t90-cray-unicos$CRAY_REL
+++	;;
++     CRAY*T3E:*:*:*)
++-	echo alphaev5-cray-unicosmk"$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'
++-	exit ;;
+++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
+++	GUESS=alphaev5-cray-unicosmk$CRAY_REL
+++	;;
++     CRAY*SV1:*:*:*)
++-	echo sv1-cray-unicos"$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'
++-	exit ;;
+++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
+++	GUESS=sv1-cray-unicos$CRAY_REL
+++	;;
++     *:UNICOS/mp:*:*)
++-	echo craynv-cray-unicosmp"$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'
++-	exit ;;
+++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
+++	GUESS=craynv-cray-unicosmp$CRAY_REL
+++	;;
++     F30[01]:UNIX_System_V:*:* | F700:UNIX_System_V:*:*)
++ 	FUJITSU_PROC=`uname -m | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz`
++ 	FUJITSU_SYS=`uname -p | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz | sed -e 's/\///'`
++ 	FUJITSU_REL=`echo "$UNAME_RELEASE" | sed -e 's/ /_/'`
++-	echo "${FUJITSU_PROC}-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}"
++-	exit ;;
+++	GUESS=${FUJITSU_PROC}-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}
+++	;;
++     5000:UNIX_System_V:4.*:*)
++ 	FUJITSU_SYS=`uname -p | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz | sed -e 's/\///'`
++ 	FUJITSU_REL=`echo "$UNAME_RELEASE" | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz | sed -e 's/ /_/'`
++-	echo "sparc-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}"
++-	exit ;;
+++	GUESS=sparc-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}
+++	;;
++     i*86:BSD/386:*:* | i*86:BSD/OS:*:* | *:Ascend\ Embedded/OS:*:*)
++-	echo "$UNAME_MACHINE"-pc-bsdi"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-bsdi$UNAME_RELEASE
+++	;;
++     sparc*:BSD/OS:*:*)
++-	echo sparc-unknown-bsdi"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sparc-unknown-bsdi$UNAME_RELEASE
+++	;;
++     *:BSD/OS:*:*)
++-	echo "$UNAME_MACHINE"-unknown-bsdi"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-bsdi$UNAME_RELEASE
+++	;;
+++    arm:FreeBSD:*:*)
+++	UNAME_PROCESSOR=`uname -p`
+++	set_cc_for_build
+++	if echo __ARM_PCS_VFP | $CC_FOR_BUILD -E - 2>/dev/null \
+++	    | grep -q __ARM_PCS_VFP
+++	then
+++	    FREEBSD_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
+++	    GUESS=$UNAME_PROCESSOR-unknown-freebsd$FREEBSD_REL-gnueabi
+++	else
+++	    FREEBSD_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
+++	    GUESS=$UNAME_PROCESSOR-unknown-freebsd$FREEBSD_REL-gnueabihf
+++	fi
+++	;;
++     *:FreeBSD:*:*)
++-	UNAME_PROCESSOR=`/usr/bin/uname -p`
++-	case "$UNAME_PROCESSOR" in
+++	UNAME_PROCESSOR=`uname -p`
+++	case $UNAME_PROCESSOR in
++ 	    amd64)
++ 		UNAME_PROCESSOR=x86_64 ;;
++ 	    i386)
++ 		UNAME_PROCESSOR=i586 ;;
++ 	esac
++-	echo "$UNAME_PROCESSOR"-unknown-freebsd"`echo "$UNAME_RELEASE"|sed -e 's/[-(].*//'`"
++-	exit ;;
+++	FREEBSD_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
+++	GUESS=$UNAME_PROCESSOR-unknown-freebsd$FREEBSD_REL
+++	;;
++     i*:CYGWIN*:*)
++-	echo "$UNAME_MACHINE"-pc-cygwin
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-cygwin
+++	;;
++     *:MINGW64*:*)
++-	echo "$UNAME_MACHINE"-pc-mingw64
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-mingw64
+++	;;
++     *:MINGW*:*)
++-	echo "$UNAME_MACHINE"-pc-mingw32
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-mingw32
+++	;;
++     *:MSYS*:*)
++-	echo "$UNAME_MACHINE"-pc-msys
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-msys
+++	;;
++     i*:PW*:*)
++-	echo "$UNAME_MACHINE"-pc-pw32
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-pw32
+++	;;
+++    *:SerenityOS:*:*)
+++        GUESS=$UNAME_MACHINE-pc-serenity
+++        ;;
++     *:Interix*:*)
++-	case "$UNAME_MACHINE" in
+++	case $UNAME_MACHINE in
++ 	    x86)
++-		echo i586-pc-interix"$UNAME_RELEASE"
++-		exit ;;
+++		GUESS=i586-pc-interix$UNAME_RELEASE
+++		;;
++ 	    authenticamd | genuineintel | EM64T)
++-		echo x86_64-unknown-interix"$UNAME_RELEASE"
++-		exit ;;
+++		GUESS=x86_64-unknown-interix$UNAME_RELEASE
+++		;;
++ 	    IA64)
++-		echo ia64-unknown-interix"$UNAME_RELEASE"
++-		exit ;;
+++		GUESS=ia64-unknown-interix$UNAME_RELEASE
+++		;;
++ 	esac ;;
++     i*:UWIN*:*)
++-	echo "$UNAME_MACHINE"-pc-uwin
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-uwin
+++	;;
++     amd64:CYGWIN*:*:* | x86_64:CYGWIN*:*:*)
++-	echo x86_64-unknown-cygwin
++-	exit ;;
+++	GUESS=x86_64-pc-cygwin
+++	;;
++     prep*:SunOS:5.*:*)
++-	echo powerpcle-unknown-solaris2"`echo "$UNAME_RELEASE"|sed -e 's/[^.]*//'`"
++-	exit ;;
+++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
+++	GUESS=powerpcle-unknown-solaris2$SUN_REL
+++	;;
++     *:GNU:*:*)
++ 	# the GNU system
++-	echo "`echo "$UNAME_MACHINE"|sed -e 's,[-/].*$,,'`-unknown-$LIBC`echo "$UNAME_RELEASE"|sed -e 's,/.*$,,'`"
++-	exit ;;
+++	GNU_ARCH=`echo "$UNAME_MACHINE" | sed -e 's,[-/].*$,,'`
+++	GNU_REL=`echo "$UNAME_RELEASE" | sed -e 's,/.*$,,'`
+++	GUESS=$GNU_ARCH-unknown-$LIBC$GNU_REL
+++	;;
++     *:GNU/*:*:*)
++ 	# other systems with GNU libc and userland
++-	echo "$UNAME_MACHINE-unknown-`echo "$UNAME_SYSTEM" | sed 's,^[^/]*/,,' | tr "[:upper:]" "[:lower:]"``echo "$UNAME_RELEASE"|sed -e 's/[-(].*//'`-$LIBC"
++-	exit ;;
++-    i*86:Minix:*:*)
++-	echo "$UNAME_MACHINE"-pc-minix
++-	exit ;;
+++	GNU_SYS=`echo "$UNAME_SYSTEM" | sed 's,^[^/]*/,,' | tr "[:upper:]" "[:lower:]"`
+++	GNU_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
+++	GUESS=$UNAME_MACHINE-unknown-$GNU_SYS$GNU_REL-$LIBC
+++	;;
+++    x86_64:[Mm]anagarm:*:*|i?86:[Mm]anagarm:*:*)
+++	GUESS="$UNAME_MACHINE-pc-managarm-mlibc"
+++	;;
+++    *:[Mm]anagarm:*:*)
+++	GUESS="$UNAME_MACHINE-unknown-managarm-mlibc"
+++	;;
+++    *:Minix:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-minix
+++	;;
++     aarch64:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	set_cc_for_build
+++	CPU=$UNAME_MACHINE
+++	LIBCABI=$LIBC
+++	if test "$CC_FOR_BUILD" != no_compiler_found; then
+++	    ABI=64
+++	    sed 's/^	    //' << EOF > "$dummy.c"
+++	    #ifdef __ARM_EABI__
+++	    #ifdef __ARM_PCS_VFP
+++	    ABI=eabihf
+++	    #else
+++	    ABI=eabi
+++	    #endif
+++	    #endif
+++EOF
+++	    cc_set_abi=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^ABI' | sed 's, ,,g'`
+++	    eval "$cc_set_abi"
+++	    case $ABI in
+++		eabi | eabihf) CPU=armv8l; LIBCABI=$LIBC$ABI ;;
+++	    esac
+++	fi
+++	GUESS=$CPU-unknown-linux-$LIBCABI
+++	;;
++     aarch64_be:Linux:*:*)
++ 	UNAME_MACHINE=aarch64_be
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     alpha:Linux:*:*)
++-	case `sed -n '/^cpu model/s/^.*: \(.*\)/\1/p' < /proc/cpuinfo` in
+++	case `sed -n '/^cpu model/s/^.*: \(.*\)/\1/p' /proc/cpuinfo 2>/dev/null` in
++ 	  EV5)   UNAME_MACHINE=alphaev5 ;;
++ 	  EV56)  UNAME_MACHINE=alphaev56 ;;
++ 	  PCA56) UNAME_MACHINE=alphapca56 ;;
++@@ -916,183 +1022,245 @@ EOF
++ 	esac
++ 	objdump --private-headers /bin/sh | grep -q ld.so.1
++ 	if test "$?" = 0 ; then LIBC=gnulibc1 ; fi
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
++-    arc:Linux:*:* | arceb:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
+++    arc:Linux:*:* | arceb:Linux:*:* | arc32:Linux:*:* | arc64:Linux:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     arm*:Linux:*:*)
++-	eval "$set_cc_for_build"
+++	set_cc_for_build
++ 	if echo __ARM_EABI__ | $CC_FOR_BUILD -E - 2>/dev/null \
++ 	    | grep -q __ARM_EABI__
++ 	then
++-	    echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+++	    GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++ 	else
++ 	    if echo __ARM_PCS_VFP | $CC_FOR_BUILD -E - 2>/dev/null \
++ 		| grep -q __ARM_PCS_VFP
++ 	    then
++-		echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"eabi
+++		GUESS=$UNAME_MACHINE-unknown-linux-${LIBC}eabi
++ 	    else
++-		echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"eabihf
+++		GUESS=$UNAME_MACHINE-unknown-linux-${LIBC}eabihf
++ 	    fi
++ 	fi
++-	exit ;;
+++	;;
++     avr32*:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     cris:Linux:*:*)
++-	echo "$UNAME_MACHINE"-axis-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-axis-linux-$LIBC
+++	;;
++     crisv32:Linux:*:*)
++-	echo "$UNAME_MACHINE"-axis-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-axis-linux-$LIBC
+++	;;
++     e2k:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     frv:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     hexagon:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     i*86:Linux:*:*)
++-	echo "$UNAME_MACHINE"-pc-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-linux-$LIBC
+++	;;
++     ia64:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     k1om:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
+++    kvx:Linux:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
+++    kvx:cos:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-cos
+++	;;
+++    kvx:mbr:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-mbr
+++	;;
+++    loongarch32:Linux:*:* | loongarch64:Linux:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     m32r*:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     m68*:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     mips:Linux:*:* | mips64:Linux:*:*)
++-	eval "$set_cc_for_build"
+++	set_cc_for_build
+++	IS_GLIBC=0
+++	test x"${LIBC}" = xgnu && IS_GLIBC=1
++ 	sed 's/^	//' << EOF > "$dummy.c"
++ 	#undef CPU
++-	#undef ${UNAME_MACHINE}
++-	#undef ${UNAME_MACHINE}el
+++	#undef mips
+++	#undef mipsel
+++	#undef mips64
+++	#undef mips64el
+++	#if ${IS_GLIBC} && defined(_ABI64)
+++	LIBCABI=gnuabi64
+++	#else
+++	#if ${IS_GLIBC} && defined(_ABIN32)
+++	LIBCABI=gnuabin32
+++	#else
+++	LIBCABI=${LIBC}
+++	#endif
+++	#endif
+++
+++	#if ${IS_GLIBC} && defined(__mips64) && defined(__mips_isa_rev) && __mips_isa_rev>=6
+++	CPU=mipsisa64r6
+++	#else
+++	#if ${IS_GLIBC} && !defined(__mips64) && defined(__mips_isa_rev) && __mips_isa_rev>=6
+++	CPU=mipsisa32r6
+++	#else
+++	#if defined(__mips64)
+++	CPU=mips64
+++	#else
+++	CPU=mips
+++	#endif
+++	#endif
+++	#endif
+++
++ 	#if defined(__MIPSEL__) || defined(__MIPSEL) || defined(_MIPSEL) || defined(MIPSEL)
++-	CPU=${UNAME_MACHINE}el
+++	MIPS_ENDIAN=el
++ 	#else
++ 	#if defined(__MIPSEB__) || defined(__MIPSEB) || defined(_MIPSEB) || defined(MIPSEB)
++-	CPU=${UNAME_MACHINE}
+++	MIPS_ENDIAN=
++ 	#else
++-	CPU=
+++	MIPS_ENDIAN=
++ 	#endif
++ 	#endif
++ EOF
++-	eval "`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^CPU'`"
++-	test "x$CPU" != x && { echo "$CPU-unknown-linux-$LIBC"; exit; }
+++	cc_set_vars=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^CPU\|^MIPS_ENDIAN\|^LIBCABI'`
+++	eval "$cc_set_vars"
+++	test "x$CPU" != x && { echo "$CPU${MIPS_ENDIAN}-unknown-linux-$LIBCABI"; exit; }
++ 	;;
++     mips64el:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     openrisc*:Linux:*:*)
++-	echo or1k-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=or1k-unknown-linux-$LIBC
+++	;;
++     or32:Linux:*:* | or1k*:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     padre:Linux:*:*)
++-	echo sparc-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=sparc-unknown-linux-$LIBC
+++	;;
++     parisc64:Linux:*:* | hppa64:Linux:*:*)
++-	echo hppa64-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=hppa64-unknown-linux-$LIBC
+++	;;
++     parisc:Linux:*:* | hppa:Linux:*:*)
++ 	# Look for CPU level
++ 	case `grep '^cpu[^a-z]*:' /proc/cpuinfo 2>/dev/null | cut -d' ' -f2` in
++-	  PA7*) echo hppa1.1-unknown-linux-"$LIBC" ;;
++-	  PA8*) echo hppa2.0-unknown-linux-"$LIBC" ;;
++-	  *)    echo hppa-unknown-linux-"$LIBC" ;;
+++	  PA7*) GUESS=hppa1.1-unknown-linux-$LIBC ;;
+++	  PA8*) GUESS=hppa2.0-unknown-linux-$LIBC ;;
+++	  *)    GUESS=hppa-unknown-linux-$LIBC ;;
++ 	esac
++-	exit ;;
+++	;;
++     ppc64:Linux:*:*)
++-	echo powerpc64-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=powerpc64-unknown-linux-$LIBC
+++	;;
++     ppc:Linux:*:*)
++-	echo powerpc-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=powerpc-unknown-linux-$LIBC
+++	;;
++     ppc64le:Linux:*:*)
++-	echo powerpc64le-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=powerpc64le-unknown-linux-$LIBC
+++	;;
++     ppcle:Linux:*:*)
++-	echo powerpcle-unknown-linux-"$LIBC"
++-	exit ;;
++-    riscv32:Linux:*:* | riscv64:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=powerpcle-unknown-linux-$LIBC
+++	;;
+++    riscv32:Linux:*:* | riscv32be:Linux:*:* | riscv64:Linux:*:* | riscv64be:Linux:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     s390:Linux:*:* | s390x:Linux:*:*)
++-	echo "$UNAME_MACHINE"-ibm-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-ibm-linux-$LIBC
+++	;;
++     sh64*:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     sh*:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     sparc:Linux:*:* | sparc64:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     tile*:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     vax:Linux:*:*)
++-	echo "$UNAME_MACHINE"-dec-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-dec-linux-$LIBC
+++	;;
++     x86_64:Linux:*:*)
++-	echo "$UNAME_MACHINE"-pc-linux-"$LIBC"
++-	exit ;;
+++	set_cc_for_build
+++	CPU=$UNAME_MACHINE
+++	LIBCABI=$LIBC
+++	if test "$CC_FOR_BUILD" != no_compiler_found; then
+++	    ABI=64
+++	    sed 's/^	    //' << EOF > "$dummy.c"
+++	    #ifdef __i386__
+++	    ABI=x86
+++	    #else
+++	    #ifdef __ILP32__
+++	    ABI=x32
+++	    #endif
+++	    #endif
+++EOF
+++	    cc_set_abi=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^ABI' | sed 's, ,,g'`
+++	    eval "$cc_set_abi"
+++	    case $ABI in
+++		x86) CPU=i686 ;;
+++		x32) LIBCABI=${LIBC}x32 ;;
+++	    esac
+++	fi
+++	GUESS=$CPU-pc-linux-$LIBCABI
+++	;;
++     xtensa*:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     i*86:DYNIX/ptx:4*:*)
++ 	# ptx 4.0 does uname -s correctly, with DYNIX/ptx in there.
++ 	# earlier versions are messed up and put the nodename in both
++ 	# sysname and nodename.
++-	echo i386-sequent-sysv4
++-	exit ;;
+++	GUESS=i386-sequent-sysv4
+++	;;
++     i*86:UNIX_SV:4.2MP:2.*)
++ 	# Unixware is an offshoot of SVR4, but it has its own version
++ 	# number series starting with 2...
++ 	# I am not positive that other SVR4 systems won't match this,
++ 	# I just have to hope.  -- rms.
++ 	# Use sysv4.2uw... so that sysv4* matches it.
++-	echo "$UNAME_MACHINE"-pc-sysv4.2uw"$UNAME_VERSION"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-sysv4.2uw$UNAME_VERSION
+++	;;
++     i*86:OS/2:*:*)
++-	# If we were able to find `uname', then EMX Unix compatibility
+++	# If we were able to find 'uname', then EMX Unix compatibility
++ 	# is probably installed.
++-	echo "$UNAME_MACHINE"-pc-os2-emx
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-os2-emx
+++	;;
++     i*86:XTS-300:*:STOP)
++-	echo "$UNAME_MACHINE"-unknown-stop
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-stop
+++	;;
++     i*86:atheos:*:*)
++-	echo "$UNAME_MACHINE"-unknown-atheos
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-atheos
+++	;;
++     i*86:syllable:*:*)
++-	echo "$UNAME_MACHINE"-pc-syllable
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-syllable
+++	;;
++     i*86:LynxOS:2.*:* | i*86:LynxOS:3.[01]*:* | i*86:LynxOS:4.[02]*:*)
++-	echo i386-unknown-lynxos"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=i386-unknown-lynxos$UNAME_RELEASE
+++	;;
++     i*86:*DOS:*:*)
++-	echo "$UNAME_MACHINE"-pc-msdosdjgpp
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-msdosdjgpp
+++	;;
++     i*86:*:4.*:*)
++ 	UNAME_REL=`echo "$UNAME_RELEASE" | sed 's/\/MP$//'`
++ 	if grep Novell /usr/include/link.h >/dev/null 2>/dev/null; then
++-		echo "$UNAME_MACHINE"-univel-sysv"$UNAME_REL"
+++		GUESS=$UNAME_MACHINE-univel-sysv$UNAME_REL
++ 	else
++-		echo "$UNAME_MACHINE"-pc-sysv"$UNAME_REL"
+++		GUESS=$UNAME_MACHINE-pc-sysv$UNAME_REL
++ 	fi
++-	exit ;;
+++	;;
++     i*86:*:5:[678]*)
++ 	# UnixWare 7.x, OpenUNIX and OpenServer 6.
++ 	case `/bin/uname -X | grep "^Machine"` in
++@@ -1100,12 +1268,12 @@ EOF
++ 	    *Pentium)	     UNAME_MACHINE=i586 ;;
++ 	    *Pent*|*Celeron) UNAME_MACHINE=i686 ;;
++ 	esac
++-	echo "$UNAME_MACHINE-unknown-sysv${UNAME_RELEASE}${UNAME_SYSTEM}{$UNAME_VERSION}"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-sysv${UNAME_RELEASE}${UNAME_SYSTEM}${UNAME_VERSION}
+++	;;
++     i*86:*:3.2:*)
++ 	if test -f /usr/options/cb.name; then
++ 		UNAME_REL=`sed -n 's/.*Version //p' </usr/options/cb.name`
++-		echo "$UNAME_MACHINE"-pc-isc"$UNAME_REL"
+++		GUESS=$UNAME_MACHINE-pc-isc$UNAME_REL
++ 	elif /bin/uname -X 2>/dev/null >/dev/null ; then
++ 		UNAME_REL=`(/bin/uname -X|grep Release|sed -e 's/.*= //')`
++ 		(/bin/uname -X|grep i80486 >/dev/null) && UNAME_MACHINE=i486
++@@ -1115,11 +1283,11 @@ EOF
++ 			&& UNAME_MACHINE=i686
++ 		(/bin/uname -X|grep '^Machine.*Pentium Pro' >/dev/null) \
++ 			&& UNAME_MACHINE=i686
++-		echo "$UNAME_MACHINE"-pc-sco"$UNAME_REL"
+++		GUESS=$UNAME_MACHINE-pc-sco$UNAME_REL
++ 	else
++-		echo "$UNAME_MACHINE"-pc-sysv32
+++		GUESS=$UNAME_MACHINE-pc-sysv32
++ 	fi
++-	exit ;;
+++	;;
++     pc:*:*:*)
++ 	# Left here for compatibility:
++ 	# uname -m prints for DJGPP always 'pc', but it prints nothing about
++@@ -1127,31 +1295,31 @@ EOF
++ 	# Note: whatever this is, it MUST be the same as what config.sub
++ 	# prints for the "djgpp" host, or else GDB configure will decide that
++ 	# this is a cross-build.
++-	echo i586-pc-msdosdjgpp
++-	exit ;;
+++	GUESS=i586-pc-msdosdjgpp
+++	;;
++     Intel:Mach:3*:*)
++-	echo i386-pc-mach3
++-	exit ;;
+++	GUESS=i386-pc-mach3
+++	;;
++     paragon:*:*:*)
++-	echo i860-intel-osf1
++-	exit ;;
+++	GUESS=i860-intel-osf1
+++	;;
++     i860:*:4.*:*) # i860-SVR4
++ 	if grep Stardent /usr/include/sys/uadmin.h >/dev/null 2>&1 ; then
++-	  echo i860-stardent-sysv"$UNAME_RELEASE" # Stardent Vistra i860-SVR4
+++	  GUESS=i860-stardent-sysv$UNAME_RELEASE    # Stardent Vistra i860-SVR4
++ 	else # Add other i860-SVR4 vendors below as they are discovered.
++-	  echo i860-unknown-sysv"$UNAME_RELEASE"  # Unknown i860-SVR4
+++	  GUESS=i860-unknown-sysv$UNAME_RELEASE     # Unknown i860-SVR4
++ 	fi
++-	exit ;;
+++	;;
++     mini*:CTIX:SYS*5:*)
++ 	# "miniframe"
++-	echo m68010-convergent-sysv
++-	exit ;;
+++	GUESS=m68010-convergent-sysv
+++	;;
++     mc68k:UNIX:SYSTEM5:3.51m)
++-	echo m68k-convergent-sysv
++-	exit ;;
+++	GUESS=m68k-convergent-sysv
+++	;;
++     M680?0:D-NIX:5.3:*)
++-	echo m68k-diab-dnix
++-	exit ;;
+++	GUESS=m68k-diab-dnix
+++	;;
++     M68*:*:R3V[5678]*:*)
++ 	test -r /sysV68 && { echo 'm68k-motorola-sysv'; exit; } ;;
++     3[345]??:*:4.0:3.0 | 3[34]??A:*:4.0:3.0 | 3[34]??,*:*:4.0:3.0 | 3[34]??/*:*:4.0:3.0 | 4400:*:4.0:3.0 | 4850:*:4.0:3.0 | SKA40:*:4.0:3.0 | SDS2:*:4.0:3.0 | SHG2:*:4.0:3.0 | S7501*:*:4.0:3.0)
++@@ -1176,249 +1344,411 @@ EOF
++ 	/bin/uname -p 2>/dev/null | /bin/grep pteron >/dev/null \
++ 	    && { echo i586-ncr-sysv4.3"$OS_REL"; exit; } ;;
++     m68*:LynxOS:2.*:* | m68*:LynxOS:3.0*:*)
++-	echo m68k-unknown-lynxos"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-unknown-lynxos$UNAME_RELEASE
+++	;;
++     mc68030:UNIX_System_V:4.*:*)
++-	echo m68k-atari-sysv4
++-	exit ;;
+++	GUESS=m68k-atari-sysv4
+++	;;
++     TSUNAMI:LynxOS:2.*:*)
++-	echo sparc-unknown-lynxos"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sparc-unknown-lynxos$UNAME_RELEASE
+++	;;
++     rs6000:LynxOS:2.*:*)
++-	echo rs6000-unknown-lynxos"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=rs6000-unknown-lynxos$UNAME_RELEASE
+++	;;
++     PowerPC:LynxOS:2.*:* | PowerPC:LynxOS:3.[01]*:* | PowerPC:LynxOS:4.[02]*:*)
++-	echo powerpc-unknown-lynxos"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=powerpc-unknown-lynxos$UNAME_RELEASE
+++	;;
++     SM[BE]S:UNIX_SV:*:*)
++-	echo mips-dde-sysv"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=mips-dde-sysv$UNAME_RELEASE
+++	;;
++     RM*:ReliantUNIX-*:*:*)
++-	echo mips-sni-sysv4
++-	exit ;;
+++	GUESS=mips-sni-sysv4
+++	;;
++     RM*:SINIX-*:*:*)
++-	echo mips-sni-sysv4
++-	exit ;;
+++	GUESS=mips-sni-sysv4
+++	;;
++     *:SINIX-*:*:*)
++ 	if uname -p 2>/dev/null >/dev/null ; then
++ 		UNAME_MACHINE=`(uname -p) 2>/dev/null`
++-		echo "$UNAME_MACHINE"-sni-sysv4
+++		GUESS=$UNAME_MACHINE-sni-sysv4
++ 	else
++-		echo ns32k-sni-sysv
+++		GUESS=ns32k-sni-sysv
++ 	fi
++-	exit ;;
++-    PENTIUM:*:4.0*:*)	# Unisys `ClearPath HMP IX 4000' SVR4/MP effort
+++	;;
+++    PENTIUM:*:4.0*:*)	# Unisys 'ClearPath HMP IX 4000' SVR4/MP effort
++ 			# says <Richard.M.Bartel@ccMail.Census.GOV>
++-	echo i586-unisys-sysv4
++-	exit ;;
+++	GUESS=i586-unisys-sysv4
+++	;;
++     *:UNIX_System_V:4*:FTX*)
++ 	# From Gerald Hewes <hewes@openmarket.com>.
++ 	# How about differentiating between stratus architectures? -djm
++-	echo hppa1.1-stratus-sysv4
++-	exit ;;
+++	GUESS=hppa1.1-stratus-sysv4
+++	;;
++     *:*:*:FTX*)
++ 	# From seanf@swdc.stratus.com.
++-	echo i860-stratus-sysv4
++-	exit ;;
+++	GUESS=i860-stratus-sysv4
+++	;;
++     i*86:VOS:*:*)
++ 	# From Paul.Green@stratus.com.
++-	echo "$UNAME_MACHINE"-stratus-vos
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-stratus-vos
+++	;;
++     *:VOS:*:*)
++ 	# From Paul.Green@stratus.com.
++-	echo hppa1.1-stratus-vos
++-	exit ;;
+++	GUESS=hppa1.1-stratus-vos
+++	;;
++     mc68*:A/UX:*:*)
++-	echo m68k-apple-aux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-apple-aux$UNAME_RELEASE
+++	;;
++     news*:NEWS-OS:6*:*)
++-	echo mips-sony-newsos6
++-	exit ;;
+++	GUESS=mips-sony-newsos6
+++	;;
++     R[34]000:*System_V*:*:* | R4000:UNIX_SYSV:*:* | R*000:UNIX_SV:*:*)
++-	if [ -d /usr/nec ]; then
++-		echo mips-nec-sysv"$UNAME_RELEASE"
+++	if test -d /usr/nec; then
+++		GUESS=mips-nec-sysv$UNAME_RELEASE
++ 	else
++-		echo mips-unknown-sysv"$UNAME_RELEASE"
+++		GUESS=mips-unknown-sysv$UNAME_RELEASE
++ 	fi
++-	exit ;;
+++	;;
++     BeBox:BeOS:*:*)	# BeOS running on hardware made by Be, PPC only.
++-	echo powerpc-be-beos
++-	exit ;;
+++	GUESS=powerpc-be-beos
+++	;;
++     BeMac:BeOS:*:*)	# BeOS running on Mac or Mac clone, PPC only.
++-	echo powerpc-apple-beos
++-	exit ;;
+++	GUESS=powerpc-apple-beos
+++	;;
++     BePC:BeOS:*:*)	# BeOS running on Intel PC compatible.
++-	echo i586-pc-beos
++-	exit ;;
+++	GUESS=i586-pc-beos
+++	;;
++     BePC:Haiku:*:*)	# Haiku running on Intel PC compatible.
++-	echo i586-pc-haiku
++-	exit ;;
++-    x86_64:Haiku:*:*)
++-	echo x86_64-unknown-haiku
++-	exit ;;
+++	GUESS=i586-pc-haiku
+++	;;
+++    ppc:Haiku:*:*)	# Haiku running on Apple PowerPC
+++	GUESS=powerpc-apple-haiku
+++	;;
+++    *:Haiku:*:*)	# Haiku modern gcc (not bound by BeOS compat)
+++	GUESS=$UNAME_MACHINE-unknown-haiku
+++	;;
++     SX-4:SUPER-UX:*:*)
++-	echo sx4-nec-superux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sx4-nec-superux$UNAME_RELEASE
+++	;;
++     SX-5:SUPER-UX:*:*)
++-	echo sx5-nec-superux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sx5-nec-superux$UNAME_RELEASE
+++	;;
++     SX-6:SUPER-UX:*:*)
++-	echo sx6-nec-superux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sx6-nec-superux$UNAME_RELEASE
+++	;;
++     SX-7:SUPER-UX:*:*)
++-	echo sx7-nec-superux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sx7-nec-superux$UNAME_RELEASE
+++	;;
++     SX-8:SUPER-UX:*:*)
++-	echo sx8-nec-superux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sx8-nec-superux$UNAME_RELEASE
+++	;;
++     SX-8R:SUPER-UX:*:*)
++-	echo sx8r-nec-superux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sx8r-nec-superux$UNAME_RELEASE
+++	;;
++     SX-ACE:SUPER-UX:*:*)
++-	echo sxace-nec-superux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sxace-nec-superux$UNAME_RELEASE
+++	;;
++     Power*:Rhapsody:*:*)
++-	echo powerpc-apple-rhapsody"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=powerpc-apple-rhapsody$UNAME_RELEASE
+++	;;
++     *:Rhapsody:*:*)
++-	echo "$UNAME_MACHINE"-apple-rhapsody"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-apple-rhapsody$UNAME_RELEASE
+++	;;
+++    arm64:Darwin:*:*)
+++	GUESS=aarch64-apple-darwin$UNAME_RELEASE
+++	;;
++     *:Darwin:*:*)
++-	UNAME_PROCESSOR=`uname -p` || UNAME_PROCESSOR=unknown
++-	eval "$set_cc_for_build"
++-	if test "$UNAME_PROCESSOR" = unknown ; then
++-	    UNAME_PROCESSOR=powerpc
+++	UNAME_PROCESSOR=`uname -p`
+++	case $UNAME_PROCESSOR in
+++	    unknown) UNAME_PROCESSOR=powerpc ;;
+++	esac
+++	if command -v xcode-select > /dev/null 2> /dev/null && \
+++		! xcode-select --print-path > /dev/null 2> /dev/null ; then
+++	    # Avoid executing cc if there is no toolchain installed as
+++	    # cc will be a stub that puts up a graphical alert
+++	    # prompting the user to install developer tools.
+++	    CC_FOR_BUILD=no_compiler_found
+++	else
+++	    set_cc_for_build
++ 	fi
++-	if test "`echo "$UNAME_RELEASE" | sed -e 's/\..*//'`" -le 10 ; then
++-	    if [ "$CC_FOR_BUILD" != no_compiler_found ]; then
++-		if (echo '#ifdef __LP64__'; echo IS_64BIT_ARCH; echo '#endif') | \
++-		       (CCOPTS="" $CC_FOR_BUILD -E - 2>/dev/null) | \
++-		       grep IS_64BIT_ARCH >/dev/null
++-		then
++-		    case $UNAME_PROCESSOR in
++-			i386) UNAME_PROCESSOR=x86_64 ;;
++-			powerpc) UNAME_PROCESSOR=powerpc64 ;;
++-		    esac
++-		fi
++-		# On 10.4-10.6 one might compile for PowerPC via gcc -arch ppc
++-		if (echo '#ifdef __POWERPC__'; echo IS_PPC; echo '#endif') | \
++-		       (CCOPTS="" $CC_FOR_BUILD -E - 2>/dev/null) | \
++-		       grep IS_PPC >/dev/null
++-		then
++-		    UNAME_PROCESSOR=powerpc
++-		fi
+++	if test "$CC_FOR_BUILD" != no_compiler_found; then
+++	    if (echo '#ifdef __LP64__'; echo IS_64BIT_ARCH; echo '#endif') | \
+++		   (CCOPTS="" $CC_FOR_BUILD -E - 2>/dev/null) | \
+++		   grep IS_64BIT_ARCH >/dev/null
+++	    then
+++		case $UNAME_PROCESSOR in
+++		    i386) UNAME_PROCESSOR=x86_64 ;;
+++		    powerpc) UNAME_PROCESSOR=powerpc64 ;;
+++		esac
+++	    fi
+++	    # On 10.4-10.6 one might compile for PowerPC via gcc -arch ppc
+++	    if (echo '#ifdef __POWERPC__'; echo IS_PPC; echo '#endif') | \
+++		   (CCOPTS="" $CC_FOR_BUILD -E - 2>/dev/null) | \
+++		   grep IS_PPC >/dev/null
+++	    then
+++		UNAME_PROCESSOR=powerpc
++ 	    fi
++ 	elif test "$UNAME_PROCESSOR" = i386 ; then
++-	    # Avoid executing cc on OS X 10.9, as it ships with a stub
++-	    # that puts up a graphical alert prompting to install
++-	    # developer tools.  Any system running Mac OS X 10.7 or
++-	    # later (Darwin 11 and later) is required to have a 64-bit
++-	    # processor. This is not true of the ARM version of Darwin
++-	    # that Apple uses in portable devices.
++-	    UNAME_PROCESSOR=x86_64
+++	    # uname -m returns i386 or x86_64
+++	    UNAME_PROCESSOR=$UNAME_MACHINE
++ 	fi
++-	echo "$UNAME_PROCESSOR"-apple-darwin"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_PROCESSOR-apple-darwin$UNAME_RELEASE
+++	;;
++     *:procnto*:*:* | *:QNX:[0123456789]*:*)
++ 	UNAME_PROCESSOR=`uname -p`
++ 	if test "$UNAME_PROCESSOR" = x86; then
++ 		UNAME_PROCESSOR=i386
++ 		UNAME_MACHINE=pc
++ 	fi
++-	echo "$UNAME_PROCESSOR"-"$UNAME_MACHINE"-nto-qnx"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_PROCESSOR-$UNAME_MACHINE-nto-qnx$UNAME_RELEASE
+++	;;
++     *:QNX:*:4*)
++-	echo i386-pc-qnx
++-	exit ;;
+++	GUESS=i386-pc-qnx
+++	;;
++     NEO-*:NONSTOP_KERNEL:*:*)
++-	echo neo-tandem-nsk"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=neo-tandem-nsk$UNAME_RELEASE
+++	;;
++     NSE-*:NONSTOP_KERNEL:*:*)
++-	echo nse-tandem-nsk"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=nse-tandem-nsk$UNAME_RELEASE
+++	;;
++     NSR-*:NONSTOP_KERNEL:*:*)
++-	echo nsr-tandem-nsk"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=nsr-tandem-nsk$UNAME_RELEASE
+++	;;
++     NSV-*:NONSTOP_KERNEL:*:*)
++-	echo nsv-tandem-nsk"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=nsv-tandem-nsk$UNAME_RELEASE
+++	;;
++     NSX-*:NONSTOP_KERNEL:*:*)
++-	echo nsx-tandem-nsk"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=nsx-tandem-nsk$UNAME_RELEASE
+++	;;
++     *:NonStop-UX:*:*)
++-	echo mips-compaq-nonstopux
++-	exit ;;
+++	GUESS=mips-compaq-nonstopux
+++	;;
++     BS2000:POSIX*:*:*)
++-	echo bs2000-siemens-sysv
++-	exit ;;
+++	GUESS=bs2000-siemens-sysv
+++	;;
++     DS/*:UNIX_System_V:*:*)
++-	echo "$UNAME_MACHINE"-"$UNAME_SYSTEM"-"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-$UNAME_SYSTEM-$UNAME_RELEASE
+++	;;
++     *:Plan9:*:*)
++ 	# "uname -m" is not consistent, so use $cputype instead. 386
++ 	# is converted to i386 for consistency with other x86
++ 	# operating systems.
++-	if test "$cputype" = 386; then
+++	if test "${cputype-}" = 386; then
++ 	    UNAME_MACHINE=i386
++-	else
++-	    UNAME_MACHINE="$cputype"
+++	elif test "x${cputype-}" != x; then
+++	    UNAME_MACHINE=$cputype
++ 	fi
++-	echo "$UNAME_MACHINE"-unknown-plan9
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-plan9
+++	;;
++     *:TOPS-10:*:*)
++-	echo pdp10-unknown-tops10
++-	exit ;;
+++	GUESS=pdp10-unknown-tops10
+++	;;
++     *:TENEX:*:*)
++-	echo pdp10-unknown-tenex
++-	exit ;;
+++	GUESS=pdp10-unknown-tenex
+++	;;
++     KS10:TOPS-20:*:* | KL10:TOPS-20:*:* | TYPE4:TOPS-20:*:*)
++-	echo pdp10-dec-tops20
++-	exit ;;
+++	GUESS=pdp10-dec-tops20
+++	;;
++     XKL-1:TOPS-20:*:* | TYPE5:TOPS-20:*:*)
++-	echo pdp10-xkl-tops20
++-	exit ;;
+++	GUESS=pdp10-xkl-tops20
+++	;;
++     *:TOPS-20:*:*)
++-	echo pdp10-unknown-tops20
++-	exit ;;
+++	GUESS=pdp10-unknown-tops20
+++	;;
++     *:ITS:*:*)
++-	echo pdp10-unknown-its
++-	exit ;;
+++	GUESS=pdp10-unknown-its
+++	;;
++     SEI:*:*:SEIUX)
++-	echo mips-sei-seiux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=mips-sei-seiux$UNAME_RELEASE
+++	;;
++     *:DragonFly:*:*)
++-	echo "$UNAME_MACHINE"-unknown-dragonfly"`echo "$UNAME_RELEASE"|sed -e 's/[-(].*//'`"
++-	exit ;;
+++	DRAGONFLY_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
+++	GUESS=$UNAME_MACHINE-unknown-dragonfly$DRAGONFLY_REL
+++	;;
++     *:*VMS:*:*)
++ 	UNAME_MACHINE=`(uname -p) 2>/dev/null`
++-	case "$UNAME_MACHINE" in
++-	    A*) echo alpha-dec-vms ; exit ;;
++-	    I*) echo ia64-dec-vms ; exit ;;
++-	    V*) echo vax-dec-vms ; exit ;;
+++	case $UNAME_MACHINE in
+++	    A*) GUESS=alpha-dec-vms ;;
+++	    I*) GUESS=ia64-dec-vms ;;
+++	    V*) GUESS=vax-dec-vms ;;
++ 	esac ;;
++     *:XENIX:*:SysV)
++-	echo i386-pc-xenix
++-	exit ;;
+++	GUESS=i386-pc-xenix
+++	;;
++     i*86:skyos:*:*)
++-	echo "$UNAME_MACHINE"-pc-skyos"`echo "$UNAME_RELEASE" | sed -e 's/ .*$//'`"
++-	exit ;;
+++	SKYOS_REL=`echo "$UNAME_RELEASE" | sed -e 's/ .*$//'`
+++	GUESS=$UNAME_MACHINE-pc-skyos$SKYOS_REL
+++	;;
++     i*86:rdos:*:*)
++-	echo "$UNAME_MACHINE"-pc-rdos
++-	exit ;;
++-    i*86:AROS:*:*)
++-	echo "$UNAME_MACHINE"-pc-aros
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-rdos
+++	;;
+++    i*86:Fiwix:*:*)
+++	GUESS=$UNAME_MACHINE-pc-fiwix
+++	;;
+++    *:AROS:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-aros
+++	;;
++     x86_64:VMkernel:*:*)
++-	echo "$UNAME_MACHINE"-unknown-esx
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-esx
+++	;;
++     amd64:Isilon\ OneFS:*:*)
++-	echo x86_64-unknown-onefs
++-	exit ;;
+++	GUESS=x86_64-unknown-onefs
+++	;;
+++    *:Unleashed:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-unleashed$UNAME_RELEASE
+++	;;
+++    *:Ironclad:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-ironclad
+++	;;
++ esac
++ 
+++# Do we have a guess based on uname results?
+++if test "x$GUESS" != x; then
+++    echo "$GUESS"
+++    exit
+++fi
+++
+++# No uname command or uname output not recognized.
+++set_cc_for_build
+++cat > "$dummy.c" <<EOF
+++#ifdef _SEQUENT_
+++#include <sys/types.h>
+++#include <sys/utsname.h>
+++#endif
+++#if defined(ultrix) || defined(_ultrix) || defined(__ultrix) || defined(__ultrix__)
+++#if defined (vax) || defined (__vax) || defined (__vax__) || defined(mips) || defined(__mips) || defined(__mips__) || defined(MIPS) || defined(__MIPS__)
+++#include <signal.h>
+++#if defined(_SIZE_T_) || defined(SIGLOST)
+++#include <sys/utsname.h>
+++#endif
+++#endif
+++#endif
+++int
+++main ()
+++{
+++#if defined (sony)
+++#if defined (MIPSEB)
+++  /* BFD wants "bsd" instead of "newsos".  Perhaps BFD should be changed,
+++     I don't know....  */
+++  printf ("mips-sony-bsd\n"); exit (0);
+++#else
+++#include <sys/param.h>
+++  printf ("m68k-sony-newsos%s\n",
+++#ifdef NEWSOS4
+++  "4"
+++#else
+++  ""
+++#endif
+++  ); exit (0);
+++#endif
+++#endif
+++
+++#if defined (NeXT)
+++#if !defined (__ARCHITECTURE__)
+++#define __ARCHITECTURE__ "m68k"
+++#endif
+++  int version;
+++  version=`(hostinfo | sed -n 's/.*NeXT Mach \([0-9]*\).*/\1/p') 2>/dev/null`;
+++  if (version < 4)
+++    printf ("%s-next-nextstep%d\n", __ARCHITECTURE__, version);
+++  else
+++    printf ("%s-next-openstep%d\n", __ARCHITECTURE__, version);
+++  exit (0);
+++#endif
+++
+++#if defined (MULTIMAX) || defined (n16)
+++#if defined (UMAXV)
+++  printf ("ns32k-encore-sysv\n"); exit (0);
+++#else
+++#if defined (CMU)
+++  printf ("ns32k-encore-mach\n"); exit (0);
+++#else
+++  printf ("ns32k-encore-bsd\n"); exit (0);
+++#endif
+++#endif
+++#endif
+++
+++#if defined (__386BSD__)
+++  printf ("i386-pc-bsd\n"); exit (0);
+++#endif
+++
+++#if defined (sequent)
+++#if defined (i386)
+++  printf ("i386-sequent-dynix\n"); exit (0);
+++#endif
+++#if defined (ns32000)
+++  printf ("ns32k-sequent-dynix\n"); exit (0);
+++#endif
+++#endif
+++
+++#if defined (_SEQUENT_)
+++  struct utsname un;
+++
+++  uname(&un);
+++  if (strncmp(un.version, "V2", 2) == 0) {
+++    printf ("i386-sequent-ptx2\n"); exit (0);
+++  }
+++  if (strncmp(un.version, "V1", 2) == 0) { /* XXX is V1 correct? */
+++    printf ("i386-sequent-ptx1\n"); exit (0);
+++  }
+++  printf ("i386-sequent-ptx\n"); exit (0);
+++#endif
+++
+++#if defined (vax)
+++#if !defined (ultrix)
+++#include <sys/param.h>
+++#if defined (BSD)
+++#if BSD == 43
+++  printf ("vax-dec-bsd4.3\n"); exit (0);
+++#else
+++#if BSD == 199006
+++  printf ("vax-dec-bsd4.3reno\n"); exit (0);
+++#else
+++  printf ("vax-dec-bsd\n"); exit (0);
+++#endif
+++#endif
+++#else
+++  printf ("vax-dec-bsd\n"); exit (0);
+++#endif
+++#else
+++#if defined(_SIZE_T_) || defined(SIGLOST)
+++  struct utsname un;
+++  uname (&un);
+++  printf ("vax-dec-ultrix%s\n", un.release); exit (0);
+++#else
+++  printf ("vax-dec-ultrix\n"); exit (0);
+++#endif
+++#endif
+++#endif
+++#if defined(ultrix) || defined(_ultrix) || defined(__ultrix) || defined(__ultrix__)
+++#if defined(mips) || defined(__mips) || defined(__mips__) || defined(MIPS) || defined(__MIPS__)
+++#if defined(_SIZE_T_) || defined(SIGLOST)
+++  struct utsname *un;
+++  uname (&un);
+++  printf ("mips-dec-ultrix%s\n", un.release); exit (0);
+++#else
+++  printf ("mips-dec-ultrix\n"); exit (0);
+++#endif
+++#endif
+++#endif
+++
+++#if defined (alliant) && defined (i860)
+++  printf ("i860-alliant-bsd\n"); exit (0);
+++#endif
+++
+++  exit (1);
+++}
+++EOF
+++
+++$CC_FOR_BUILD -o "$dummy" "$dummy.c" 2>/dev/null && SYSTEM_NAME=`"$dummy"` &&
+++	{ echo "$SYSTEM_NAME"; exit; }
+++
+++# Apollos put the system type in the environment.
+++test -d /usr/apollo && { echo "$ISP-apollo-$SYSTYPE"; exit; }
+++
++ echo "$0: unable to guess system type" >&2
++ 
++-case "$UNAME_MACHINE:$UNAME_SYSTEM" in
+++case $UNAME_MACHINE:$UNAME_SYSTEM in
++     mips:Linux | mips64:Linux)
++ 	# If we got here on MIPS GNU/Linux, output extra information.
++ 	cat >&2 <<EOF
++@@ -1435,9 +1765,17 @@ This script (version $timestamp), has failed to recognize the
++ operating system you are using. If your script is old, overwrite *all*
++ copies of config.guess and config.sub with the latest versions from:
++ 
++-  https://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.guess
+++  https://git.savannah.gnu.org/cgit/config.git/plain/config.guess
++ and
++-  https://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.sub
+++  https://git.savannah.gnu.org/cgit/config.git/plain/config.sub
+++EOF
+++
+++our_year=`echo $timestamp | sed 's,-.*,,'`
+++thisyear=`date +%Y`
+++# shellcheck disable=SC2003
+++script_age=`expr "$thisyear" - "$our_year"`
+++if test "$script_age" -lt 3 ; then
+++   cat >&2 <<EOF
++ 
++ If $0 has already been updated, send the following data and any
++ information you think might be pertinent to config-patches@gnu.org to
++@@ -1465,6 +1803,7 @@ UNAME_RELEASE = "$UNAME_RELEASE"
++ UNAME_SYSTEM  = "$UNAME_SYSTEM"
++ UNAME_VERSION = "$UNAME_VERSION"
++ EOF
+++fi
++ 
++ exit 1
++ 
++diff --git a/config.sub b/config.sub
++index 20f7cf2..4aaae46 100755
++--- a/config.sub
+++++ b/config.sub
++@@ -1,12 +1,14 @@
++ #! /bin/sh
++ # Configuration validation subroutine script.
++-#   Copyright 1992-2018 Free Software Foundation, Inc.
+++#   Copyright 1992-2024 Free Software Foundation, Inc.
++ 
++-timestamp='2018-05-05'
+++# shellcheck disable=SC2006,SC2268,SC2162 # see below for rationale
+++
+++timestamp='2024-05-27'
++ 
++ # This file is free software; you can redistribute it and/or modify it
++ # under the terms of the GNU General Public License as published by
++-# the Free Software Foundation; either version 3 of the License, or
+++# the Free Software Foundation, either version 3 of the License, or
++ # (at your option) any later version.
++ #
++ # This program is distributed in the hope that it will be useful, but
++@@ -33,7 +35,7 @@ timestamp='2018-05-05'
++ # Otherwise, we print the canonical config type on stdout and succeed.
++ 
++ # You can get the latest version of this script from:
++-# https://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.sub
+++# https://git.savannah.gnu.org/cgit/config.git/plain/config.sub
++ 
++ # This file is supposed to be the same for all GNU packages
++ # and recognize all the CPU types, system types and aliases
++@@ -50,6 +52,13 @@ timestamp='2018-05-05'
++ #	CPU_TYPE-MANUFACTURER-KERNEL-OPERATING_SYSTEM
++ # It is wrong to echo any other type of specification.
++ 
+++# The "shellcheck disable" line above the timestamp inhibits complaints
+++# about features and limitations of the classic Bourne shell that were
+++# superseded or lifted in POSIX.  However, this script identifies a wide
+++# variety of pre-POSIX systems that do not have POSIX shells at all, and
+++# even some reasonably current systems (Solaris 10 as case-in-point) still
+++# have a pre-POSIX /bin/sh.
+++
++ me=`echo "$0" | sed -e 's,.*/,,'`
++ 
++ usage="\
++@@ -67,13 +76,13 @@ Report bugs and patches to <config-patches@gnu.org>."
++ version="\
++ GNU config.sub ($timestamp)
++ 
++-Copyright 1992-2018 Free Software Foundation, Inc.
+++Copyright 1992-2024 Free Software Foundation, Inc.
++ 
++ This is free software; see the source for copying conditions.  There is NO
++ warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."
++ 
++ help="
++-Try \`$me --help' for more information."
+++Try '$me --help' for more information."
++ 
++ # Parse command line
++ while test $# -gt 0 ; do
++@@ -89,7 +98,7 @@ while test $# -gt 0 ; do
++     - )	# Use stdin as input.
++        break ;;
++     -* )
++-       echo "$me: invalid option $1$help"
+++       echo "$me: invalid option $1$help" >&2
++        exit 1 ;;
++ 
++     *local*)
++@@ -110,1249 +119,1371 @@ case $# in
++     exit 1;;
++ esac
++ 
++-# Spilt fields of configuration type
++-IFS="-" read -r field1 field2 field3 field4 <<EOF
+++# Split fields of configuration type
+++saved_IFS=$IFS
+++IFS="-" read field1 field2 field3 field4 <<EOF
++ $1
++ EOF
+++IFS=$saved_IFS
++ 
++ # Separate into logical components for further validation
++ case $1 in
+++	*-*-*-*-*)
+++		echo "Invalid configuration '$1': more than four components" >&2
+++		exit 1
+++		;;
++ 	*-*-*-*)
++ 		basic_machine=$field1-$field2
++-		os=-$field3-$field4
+++		basic_os=$field3-$field4
++ 		;;
++ 	*-*-*)
++ 		# Ambiguous whether COMPANY is present, or skipped and KERNEL-OS is two
++ 		# parts
++ 		maybe_os=$field2-$field3
++ 		case $maybe_os in
++-			nto-qnx* | linux-gnu* | linux-android* | linux-dietlibc \
++-			| linux-newlib* | linux-musl* | linux-uclibc* | uclinux-uclibc* \
++-			| uclinux-gnu* | kfreebsd*-gnu* | knetbsd*-gnu* | netbsd*-gnu* \
++-			| netbsd*-eabi* | kopensolaris*-gnu* | cloudabi*-eabi* \
++-			| storm-chaos* | os2-emx* | rtmk-nova*)
+++			  cloudabi*-eabi* \
+++			| kfreebsd*-gnu* \
+++			| knetbsd*-gnu* \
+++			| kopensolaris*-gnu* \
+++			| linux-* \
+++			| managarm-* \
+++			| netbsd*-eabi* \
+++			| netbsd*-gnu* \
+++			| nto-qnx* \
+++			| os2-emx* \
+++			| rtmk-nova* \
+++			| storm-chaos* \
+++			| uclinux-gnu* \
+++			| uclinux-uclibc* \
+++			| windows-* )
++ 				basic_machine=$field1
++-				os=-$maybe_os
+++				basic_os=$maybe_os
++ 				;;
++ 			android-linux)
++ 				basic_machine=$field1-unknown
++-				os=-linux-android
+++				basic_os=linux-android
++ 				;;
++ 			*)
++ 				basic_machine=$field1-$field2
++-				os=-$field3
+++				basic_os=$field3
++ 				;;
++ 		esac
++ 		;;
++ 	*-*)
++-		basic_machine=$field1
++-		os=-$field2
+++		case $field1-$field2 in
+++			# Shorthands that happen to contain a single dash
+++			convex-c[12] | convex-c3[248])
+++				basic_machine=$field2-convex
+++				basic_os=
+++				;;
+++			decstation-3100)
+++				basic_machine=mips-dec
+++				basic_os=
+++				;;
+++			*-*)
+++				# Second component is usually, but not always the OS
+++				case $field2 in
+++					# Do not treat sunos as a manufacturer
+++					sun*os*)
+++						basic_machine=$field1
+++						basic_os=$field2
+++						;;
+++					# Manufacturers
+++					  3100* \
+++					| 32* \
+++					| 3300* \
+++					| 3600* \
+++					| 7300* \
+++					| acorn \
+++					| altos* \
+++					| apollo \
+++					| apple \
+++					| atari \
+++					| att* \
+++					| axis \
+++					| be \
+++					| bull \
+++					| cbm \
+++					| ccur \
+++					| cisco \
+++					| commodore \
+++					| convergent* \
+++					| convex* \
+++					| cray \
+++					| crds \
+++					| dec* \
+++					| delta* \
+++					| dg \
+++					| digital \
+++					| dolphin \
+++					| encore* \
+++					| gould \
+++					| harris \
+++					| highlevel \
+++					| hitachi* \
+++					| hp \
+++					| ibm* \
+++					| intergraph \
+++					| isi* \
+++					| knuth \
+++					| masscomp \
+++					| microblaze* \
+++					| mips* \
+++					| motorola* \
+++					| ncr* \
+++					| news \
+++					| next \
+++					| ns \
+++					| oki \
+++					| omron* \
+++					| pc533* \
+++					| rebel \
+++					| rom68k \
+++					| rombug \
+++					| semi \
+++					| sequent* \
+++					| siemens \
+++					| sgi* \
+++					| siemens \
+++					| sim \
+++					| sni \
+++					| sony* \
+++					| stratus \
+++					| sun \
+++					| sun[234]* \
+++					| tektronix \
+++					| tti* \
+++					| ultra \
+++					| unicom* \
+++					| wec \
+++					| winbond \
+++					| wrs)
+++						basic_machine=$field1-$field2
+++						basic_os=
+++						;;
+++					zephyr*)
+++						basic_machine=$field1-unknown
+++						basic_os=$field2
+++						;;
+++					*)
+++						basic_machine=$field1
+++						basic_os=$field2
+++						;;
+++				esac
+++			;;
+++		esac
++ 		;;
++ 	*)
++-		basic_machine=$1
++-		os=
++-		;;
++-esac
++-
++-### Let's recognize common machines as not being operating systems so
++-### that things like config.sub decstation-3100 work.  We also
++-### recognize some manufacturers as not being operating systems, so we
++-### can provide default operating systems below.
++-case $os in
++-	-sun*os*)
++-		# Prevent following clause from handling this invalid input.
++-		;;
++-	-dec* | -mips* | -sequent* | -encore* | -pc532* | -sgi* | -sony* | \
++-	-att* | -7300* | -3300* | -delta* | -motorola* | -sun[234]* | \
++-	-unicom* | -ibm* | -next | -hp | -isi* | -apollo | -altos* | \
++-	-convergent* | -ncr* | -news | -32* | -3600* | -3100* | -hitachi* |\
++-	-c[123]* | -convex* | -sun | -crds | -omron* | -dg | -ultra | -tti* | \
++-	-harris | -dolphin | -highlevel | -gould | -cbm | -ns | -masscomp | \
++-	-apple | -axis | -knuth | -cray | -microblaze*)
++-		os=
++-		basic_machine=$1
++-		;;
++-	-bluegene*)
++-		os=-cnk
++-		;;
++-	-sim | -cisco | -oki | -wec | -winbond)
++-		os=
++-		basic_machine=$1
++-		;;
++-	-scout)
++-		;;
++-	-wrs)
++-		os=-vxworks
++-		basic_machine=$1
++-		;;
++-	-chorusos*)
++-		os=-chorusos
++-		basic_machine=$1
++-		;;
++-	-chorusrdb)
++-		os=-chorusrdb
++-		basic_machine=$1
++-		;;
++-	-hiux*)
++-		os=-hiuxwe2
++-		;;
++-	-sco6)
++-		os=-sco5v6
++-		basic_machine=`echo "$1" | sed -e 's/86-.*/86-pc/'`
++-		;;
++-	-sco5)
++-		os=-sco3.2v5
++-		basic_machine=`echo "$1" | sed -e 's/86-.*/86-pc/'`
++-		;;
++-	-sco4)
++-		os=-sco3.2v4
++-		basic_machine=`echo "$1" | sed -e 's/86-.*/86-pc/'`
++-		;;
++-	-sco3.2.[4-9]*)
++-		os=`echo $os | sed -e 's/sco3.2./sco3.2v/'`
++-		basic_machine=`echo "$1" | sed -e 's/86-.*/86-pc/'`
++-		;;
++-	-sco3.2v[4-9]*)
++-		# Don't forget version if it is 3.2v4 or newer.
++-		basic_machine=`echo "$1" | sed -e 's/86-.*/86-pc/'`
++-		;;
++-	-sco5v6*)
++-		# Don't forget version if it is 3.2v4 or newer.
++-		basic_machine=`echo "$1" | sed -e 's/86-.*/86-pc/'`
++-		;;
++-	-sco*)
++-		os=-sco3.2v2
++-		basic_machine=`echo "$1" | sed -e 's/86-.*/86-pc/'`
++-		;;
++-	-udk*)
++-		basic_machine=`echo "$1" | sed -e 's/86-.*/86-pc/'`
++-		;;
++-	-isc)
++-		os=-isc2.2
++-		basic_machine=`echo "$1" | sed -e 's/86-.*/86-pc/'`
++-		;;
++-	-clix*)
++-		basic_machine=clipper-intergraph
++-		;;
++-	-isc*)
++-		basic_machine=`echo "$1" | sed -e 's/86-.*/86-pc/'`
++-		;;
++-	-lynx*178)
++-		os=-lynxos178
++-		;;
++-	-lynx*5)
++-		os=-lynxos5
++-		;;
++-	-lynx*)
++-		os=-lynxos
++-		;;
++-	-ptx*)
++-		basic_machine=`echo "$1" | sed -e 's/86-.*/86-sequent/'`
++-		;;
++-	-psos*)
++-		os=-psos
++-		;;
++-	-mint | -mint[0-9]*)
++-		basic_machine=m68k-atari
++-		os=-mint
+++		# Convert single-component short-hands not valid as part of
+++		# multi-component configurations.
+++		case $field1 in
+++			386bsd)
+++				basic_machine=i386-pc
+++				basic_os=bsd
+++				;;
+++			a29khif)
+++				basic_machine=a29k-amd
+++				basic_os=udi
+++				;;
+++			adobe68k)
+++				basic_machine=m68010-adobe
+++				basic_os=scout
+++				;;
+++			alliant)
+++				basic_machine=fx80-alliant
+++				basic_os=
+++				;;
+++			altos | altos3068)
+++				basic_machine=m68k-altos
+++				basic_os=
+++				;;
+++			am29k)
+++				basic_machine=a29k-none
+++				basic_os=bsd
+++				;;
+++			amdahl)
+++				basic_machine=580-amdahl
+++				basic_os=sysv
+++				;;
+++			amiga)
+++				basic_machine=m68k-unknown
+++				basic_os=
+++				;;
+++			amigaos | amigados)
+++				basic_machine=m68k-unknown
+++				basic_os=amigaos
+++				;;
+++			amigaunix | amix)
+++				basic_machine=m68k-unknown
+++				basic_os=sysv4
+++				;;
+++			apollo68)
+++				basic_machine=m68k-apollo
+++				basic_os=sysv
+++				;;
+++			apollo68bsd)
+++				basic_machine=m68k-apollo
+++				basic_os=bsd
+++				;;
+++			aros)
+++				basic_machine=i386-pc
+++				basic_os=aros
+++				;;
+++			aux)
+++				basic_machine=m68k-apple
+++				basic_os=aux
+++				;;
+++			balance)
+++				basic_machine=ns32k-sequent
+++				basic_os=dynix
+++				;;
+++			blackfin)
+++				basic_machine=bfin-unknown
+++				basic_os=linux
+++				;;
+++			cegcc)
+++				basic_machine=arm-unknown
+++				basic_os=cegcc
+++				;;
+++			cray)
+++				basic_machine=j90-cray
+++				basic_os=unicos
+++				;;
+++			crds | unos)
+++				basic_machine=m68k-crds
+++				basic_os=
+++				;;
+++			da30)
+++				basic_machine=m68k-da30
+++				basic_os=
+++				;;
+++			decstation | pmax | pmin | dec3100 | decstatn)
+++				basic_machine=mips-dec
+++				basic_os=
+++				;;
+++			delta88)
+++				basic_machine=m88k-motorola
+++				basic_os=sysv3
+++				;;
+++			dicos)
+++				basic_machine=i686-pc
+++				basic_os=dicos
+++				;;
+++			djgpp)
+++				basic_machine=i586-pc
+++				basic_os=msdosdjgpp
+++				;;
+++			ebmon29k)
+++				basic_machine=a29k-amd
+++				basic_os=ebmon
+++				;;
+++			es1800 | OSE68k | ose68k | ose | OSE)
+++				basic_machine=m68k-ericsson
+++				basic_os=ose
+++				;;
+++			gmicro)
+++				basic_machine=tron-gmicro
+++				basic_os=sysv
+++				;;
+++			go32)
+++				basic_machine=i386-pc
+++				basic_os=go32
+++				;;
+++			h8300hms)
+++				basic_machine=h8300-hitachi
+++				basic_os=hms
+++				;;
+++			h8300xray)
+++				basic_machine=h8300-hitachi
+++				basic_os=xray
+++				;;
+++			h8500hms)
+++				basic_machine=h8500-hitachi
+++				basic_os=hms
+++				;;
+++			harris)
+++				basic_machine=m88k-harris
+++				basic_os=sysv3
+++				;;
+++			hp300 | hp300hpux)
+++				basic_machine=m68k-hp
+++				basic_os=hpux
+++				;;
+++			hp300bsd)
+++				basic_machine=m68k-hp
+++				basic_os=bsd
+++				;;
+++			hppaosf)
+++				basic_machine=hppa1.1-hp
+++				basic_os=osf
+++				;;
+++			hppro)
+++				basic_machine=hppa1.1-hp
+++				basic_os=proelf
+++				;;
+++			i386mach)
+++				basic_machine=i386-mach
+++				basic_os=mach
+++				;;
+++			isi68 | isi)
+++				basic_machine=m68k-isi
+++				basic_os=sysv
+++				;;
+++			m68knommu)
+++				basic_machine=m68k-unknown
+++				basic_os=linux
+++				;;
+++			magnum | m3230)
+++				basic_machine=mips-mips
+++				basic_os=sysv
+++				;;
+++			merlin)
+++				basic_machine=ns32k-utek
+++				basic_os=sysv
+++				;;
+++			mingw64)
+++				basic_machine=x86_64-pc
+++				basic_os=mingw64
+++				;;
+++			mingw32)
+++				basic_machine=i686-pc
+++				basic_os=mingw32
+++				;;
+++			mingw32ce)
+++				basic_machine=arm-unknown
+++				basic_os=mingw32ce
+++				;;
+++			monitor)
+++				basic_machine=m68k-rom68k
+++				basic_os=coff
+++				;;
+++			morphos)
+++				basic_machine=powerpc-unknown
+++				basic_os=morphos
+++				;;
+++			moxiebox)
+++				basic_machine=moxie-unknown
+++				basic_os=moxiebox
+++				;;
+++			msdos)
+++				basic_machine=i386-pc
+++				basic_os=msdos
+++				;;
+++			msys)
+++				basic_machine=i686-pc
+++				basic_os=msys
+++				;;
+++			mvs)
+++				basic_machine=i370-ibm
+++				basic_os=mvs
+++				;;
+++			nacl)
+++				basic_machine=le32-unknown
+++				basic_os=nacl
+++				;;
+++			ncr3000)
+++				basic_machine=i486-ncr
+++				basic_os=sysv4
+++				;;
+++			netbsd386)
+++				basic_machine=i386-pc
+++				basic_os=netbsd
+++				;;
+++			netwinder)
+++				basic_machine=armv4l-rebel
+++				basic_os=linux
+++				;;
+++			news | news700 | news800 | news900)
+++				basic_machine=m68k-sony
+++				basic_os=newsos
+++				;;
+++			news1000)
+++				basic_machine=m68030-sony
+++				basic_os=newsos
+++				;;
+++			necv70)
+++				basic_machine=v70-nec
+++				basic_os=sysv
+++				;;
+++			nh3000)
+++				basic_machine=m68k-harris
+++				basic_os=cxux
+++				;;
+++			nh[45]000)
+++				basic_machine=m88k-harris
+++				basic_os=cxux
+++				;;
+++			nindy960)
+++				basic_machine=i960-intel
+++				basic_os=nindy
+++				;;
+++			mon960)
+++				basic_machine=i960-intel
+++				basic_os=mon960
+++				;;
+++			nonstopux)
+++				basic_machine=mips-compaq
+++				basic_os=nonstopux
+++				;;
+++			os400)
+++				basic_machine=powerpc-ibm
+++				basic_os=os400
+++				;;
+++			OSE68000 | ose68000)
+++				basic_machine=m68000-ericsson
+++				basic_os=ose
+++				;;
+++			os68k)
+++				basic_machine=m68k-none
+++				basic_os=os68k
+++				;;
+++			paragon)
+++				basic_machine=i860-intel
+++				basic_os=osf
+++				;;
+++			parisc)
+++				basic_machine=hppa-unknown
+++				basic_os=linux
+++				;;
+++			psp)
+++				basic_machine=mipsallegrexel-sony
+++				basic_os=psp
+++				;;
+++			pw32)
+++				basic_machine=i586-unknown
+++				basic_os=pw32
+++				;;
+++			rdos | rdos64)
+++				basic_machine=x86_64-pc
+++				basic_os=rdos
+++				;;
+++			rdos32)
+++				basic_machine=i386-pc
+++				basic_os=rdos
+++				;;
+++			rom68k)
+++				basic_machine=m68k-rom68k
+++				basic_os=coff
+++				;;
+++			sa29200)
+++				basic_machine=a29k-amd
+++				basic_os=udi
+++				;;
+++			sei)
+++				basic_machine=mips-sei
+++				basic_os=seiux
+++				;;
+++			sequent)
+++				basic_machine=i386-sequent
+++				basic_os=
+++				;;
+++			sps7)
+++				basic_machine=m68k-bull
+++				basic_os=sysv2
+++				;;
+++			st2000)
+++				basic_machine=m68k-tandem
+++				basic_os=
+++				;;
+++			stratus)
+++				basic_machine=i860-stratus
+++				basic_os=sysv4
+++				;;
+++			sun2)
+++				basic_machine=m68000-sun
+++				basic_os=
+++				;;
+++			sun2os3)
+++				basic_machine=m68000-sun
+++				basic_os=sunos3
+++				;;
+++			sun2os4)
+++				basic_machine=m68000-sun
+++				basic_os=sunos4
+++				;;
+++			sun3)
+++				basic_machine=m68k-sun
+++				basic_os=
+++				;;
+++			sun3os3)
+++				basic_machine=m68k-sun
+++				basic_os=sunos3
+++				;;
+++			sun3os4)
+++				basic_machine=m68k-sun
+++				basic_os=sunos4
+++				;;
+++			sun4)
+++				basic_machine=sparc-sun
+++				basic_os=
+++				;;
+++			sun4os3)
+++				basic_machine=sparc-sun
+++				basic_os=sunos3
+++				;;
+++			sun4os4)
+++				basic_machine=sparc-sun
+++				basic_os=sunos4
+++				;;
+++			sun4sol2)
+++				basic_machine=sparc-sun
+++				basic_os=solaris2
+++				;;
+++			sun386 | sun386i | roadrunner)
+++				basic_machine=i386-sun
+++				basic_os=
+++				;;
+++			sv1)
+++				basic_machine=sv1-cray
+++				basic_os=unicos
+++				;;
+++			symmetry)
+++				basic_machine=i386-sequent
+++				basic_os=dynix
+++				;;
+++			t3e)
+++				basic_machine=alphaev5-cray
+++				basic_os=unicos
+++				;;
+++			t90)
+++				basic_machine=t90-cray
+++				basic_os=unicos
+++				;;
+++			toad1)
+++				basic_machine=pdp10-xkl
+++				basic_os=tops20
+++				;;
+++			tpf)
+++				basic_machine=s390x-ibm
+++				basic_os=tpf
+++				;;
+++			udi29k)
+++				basic_machine=a29k-amd
+++				basic_os=udi
+++				;;
+++			ultra3)
+++				basic_machine=a29k-nyu
+++				basic_os=sym1
+++				;;
+++			v810 | necv810)
+++				basic_machine=v810-nec
+++				basic_os=none
+++				;;
+++			vaxv)
+++				basic_machine=vax-dec
+++				basic_os=sysv
+++				;;
+++			vms)
+++				basic_machine=vax-dec
+++				basic_os=vms
+++				;;
+++			vsta)
+++				basic_machine=i386-pc
+++				basic_os=vsta
+++				;;
+++			vxworks960)
+++				basic_machine=i960-wrs
+++				basic_os=vxworks
+++				;;
+++			vxworks68)
+++				basic_machine=m68k-wrs
+++				basic_os=vxworks
+++				;;
+++			vxworks29k)
+++				basic_machine=a29k-wrs
+++				basic_os=vxworks
+++				;;
+++			xbox)
+++				basic_machine=i686-pc
+++				basic_os=mingw32
+++				;;
+++			ymp)
+++				basic_machine=ymp-cray
+++				basic_os=unicos
+++				;;
+++			*)
+++				basic_machine=$1
+++				basic_os=
+++				;;
+++		esac
++ 		;;
++ esac
++ 
++-# Decode aliases for certain CPU-COMPANY combinations.
+++# Decode 1-component or ad-hoc basic machines
++ case $basic_machine in
++-	# Recognize the basic CPU types without company name.
++-	# Some are omitted here because they have special meanings below.
++-	1750a | 580 \
++-	| a29k \
++-	| aarch64 | aarch64_be \
++-	| alpha | alphaev[4-8] | alphaev56 | alphaev6[78] | alphapca5[67] \
++-	| alpha64 | alpha64ev[4-8] | alpha64ev56 | alpha64ev6[78] | alpha64pca5[67] \
++-	| am33_2.0 \
++-	| arc | arceb \
++-	| arm | arm[bl]e | arme[lb] | armv[2-8] | armv[3-8][lb] | armv6m | armv[78][arm] \
++-	| avr | avr32 \
++-	| ba \
++-	| be32 | be64 \
++-	| bfin \
++-	| c4x | c8051 | clipper | csky \
++-	| d10v | d30v | dlx | dsp16xx \
++-	| e2k | epiphany \
++-	| fido | fr30 | frv | ft32 \
++-	| h8300 | h8500 | hppa | hppa1.[01] | hppa2.0 | hppa2.0[nw] | hppa64 \
++-	| hexagon \
++-	| i370 | i860 | i960 | ia16 | ia64 \
++-	| ip2k | iq2000 \
++-	| k1om \
++-	| le32 | le64 \
++-	| lm32 \
++-	| m32c | m32r | m32rle | m68000 | m68k | m88k \
++-	| maxq | mb | microblaze | microblazeel | mcore | mep | metag \
++-	| mips | mipsbe | mipseb | mipsel | mipsle \
++-	| mips16 \
++-	| mips64 | mips64el \
++-	| mips64octeon | mips64octeonel \
++-	| mips64orion | mips64orionel \
++-	| mips64r5900 | mips64r5900el \
++-	| mips64vr | mips64vrel \
++-	| mips64vr4100 | mips64vr4100el \
++-	| mips64vr4300 | mips64vr4300el \
++-	| mips64vr5000 | mips64vr5000el \
++-	| mips64vr5900 | mips64vr5900el \
++-	| mipsisa32 | mipsisa32el \
++-	| mipsisa32r2 | mipsisa32r2el \
++-	| mipsisa32r6 | mipsisa32r6el \
++-	| mipsisa64 | mipsisa64el \
++-	| mipsisa64r2 | mipsisa64r2el \
++-	| mipsisa64r6 | mipsisa64r6el \
++-	| mipsisa64sb1 | mipsisa64sb1el \
++-	| mipsisa64sr71k | mipsisa64sr71kel \
++-	| mipsr5900 | mipsr5900el \
++-	| mipstx39 | mipstx39el \
++-	| mn10200 | mn10300 \
++-	| moxie \
++-	| mt \
++-	| msp430 \
++-	| nds32 | nds32le | nds32be \
++-	| nfp \
++-	| nios | nios2 | nios2eb | nios2el \
++-	| ns16k | ns32k \
++-	| open8 | or1k | or1knd | or32 \
++-	| pdp10 | pj | pjl \
++-	| powerpc | powerpc64 | powerpc64le | powerpcle \
++-	| pru \
++-	| pyramid \
++-	| riscv32 | riscv64 \
++-	| rl78 | rx \
++-	| score \
++-	| sh | sh[1234] | sh[24]a | sh[24]aeb | sh[23]e | sh[234]eb | sheb | shbe | shle | sh[1234]le | sh3ele \
++-	| sh64 | sh64le \
++-	| sparc | sparc64 | sparc64b | sparc64v | sparc86x | sparclet | sparclite \
++-	| sparcv8 | sparcv9 | sparcv9b | sparcv9v \
++-	| spu \
++-	| tahoe | tic4x | tic54x | tic55x | tic6x | tic80 | tron \
++-	| ubicom32 \
++-	| v850 | v850e | v850e1 | v850e2 | v850es | v850e2v3 \
++-	| visium \
++-	| wasm32 \
++-	| x86 | xc16x | xstormy16 | xtensa \
++-	| z8k | z80)
++-		basic_machine=$basic_machine-unknown
++-		;;
++-	c54x)
++-		basic_machine=tic54x-unknown
++-		;;
++-	c55x)
++-		basic_machine=tic55x-unknown
++-		;;
++-	c6x)
++-		basic_machine=tic6x-unknown
++-		;;
++-	leon|leon[3-9])
++-		basic_machine=sparc-$basic_machine
++-		;;
++-	m6811 | m68hc11 | m6812 | m68hc12 | m68hcs12x | nvptx | picochip)
++-		basic_machine=$basic_machine-unknown
++-		os=-none
++-		;;
++-	m88110 | m680[12346]0 | m683?2 | m68360 | m5200 | v70 | w65)
+++	# Here we handle the default manufacturer of certain CPU types.  It is in
+++	# some cases the only manufacturer, in others, it is the most popular.
+++	w89k)
+++		cpu=hppa1.1
+++		vendor=winbond
++ 		;;
++-	m9s12z | m68hcs12z | hcs12z | s12z)
++-		basic_machine=s12z-unknown
++-		os=-none
+++	op50n)
+++		cpu=hppa1.1
+++		vendor=oki
++ 		;;
++-	ms1)
++-		basic_machine=mt-unknown
+++	op60c)
+++		cpu=hppa1.1
+++		vendor=oki
++ 		;;
++-
++-	strongarm | thumb | xscale)
++-		basic_machine=arm-unknown
+++	ibm*)
+++		cpu=i370
+++		vendor=ibm
++ 		;;
++-	xgate)
++-		basic_machine=$basic_machine-unknown
++-		os=-none
+++	orion105)
+++		cpu=clipper
+++		vendor=highlevel
++ 		;;
++-	xscaleeb)
++-		basic_machine=armeb-unknown
+++	mac | mpw | mac-mpw)
+++		cpu=m68k
+++		vendor=apple
++ 		;;
++-
++-	xscaleel)
++-		basic_machine=armel-unknown
+++	pmac | pmac-mpw)
+++		cpu=powerpc
+++		vendor=apple
++ 		;;
++ 
++-	# We use `pc' rather than `unknown'
++-	# because (1) that's what they normally are, and
++-	# (2) the word "unknown" tends to confuse beginning users.
++-	i*86 | x86_64)
++-	  basic_machine=$basic_machine-pc
++-	  ;;
++-	# Object if more than one company name word.
++-	*-*-*)
++-		echo Invalid configuration \`"$1"\': machine \`"$basic_machine"\' not recognized 1>&2
++-		exit 1
++-		;;
++-	# Recognize the basic CPU types with company name.
++-	580-* \
++-	| a29k-* \
++-	| aarch64-* | aarch64_be-* \
++-	| alpha-* | alphaev[4-8]-* | alphaev56-* | alphaev6[78]-* \
++-	| alpha64-* | alpha64ev[4-8]-* | alpha64ev56-* | alpha64ev6[78]-* \
++-	| alphapca5[67]-* | alpha64pca5[67]-* | arc-* | arceb-* \
++-	| arm-*  | armbe-* | armle-* | armeb-* | armv*-* \
++-	| avr-* | avr32-* \
++-	| ba-* \
++-	| be32-* | be64-* \
++-	| bfin-* | bs2000-* \
++-	| c[123]* | c30-* | [cjt]90-* | c4x-* \
++-	| c8051-* | clipper-* | craynv-* | csky-* | cydra-* \
++-	| d10v-* | d30v-* | dlx-* \
++-	| e2k-* | elxsi-* \
++-	| f30[01]-* | f700-* | fido-* | fr30-* | frv-* | fx80-* \
++-	| h8300-* | h8500-* \
++-	| hppa-* | hppa1.[01]-* | hppa2.0-* | hppa2.0[nw]-* | hppa64-* \
++-	| hexagon-* \
++-	| i*86-* | i860-* | i960-* | ia16-* | ia64-* \
++-	| ip2k-* | iq2000-* \
++-	| k1om-* \
++-	| le32-* | le64-* \
++-	| lm32-* \
++-	| m32c-* | m32r-* | m32rle-* \
++-	| m68000-* | m680[012346]0-* | m68360-* | m683?2-* | m68k-* \
++-	| m88110-* | m88k-* | maxq-* | mcore-* | metag-* \
++-	| microblaze-* | microblazeel-* \
++-	| mips-* | mipsbe-* | mipseb-* | mipsel-* | mipsle-* \
++-	| mips16-* \
++-	| mips64-* | mips64el-* \
++-	| mips64octeon-* | mips64octeonel-* \
++-	| mips64orion-* | mips64orionel-* \
++-	| mips64r5900-* | mips64r5900el-* \
++-	| mips64vr-* | mips64vrel-* \
++-	| mips64vr4100-* | mips64vr4100el-* \
++-	| mips64vr4300-* | mips64vr4300el-* \
++-	| mips64vr5000-* | mips64vr5000el-* \
++-	| mips64vr5900-* | mips64vr5900el-* \
++-	| mipsisa32-* | mipsisa32el-* \
++-	| mipsisa32r2-* | mipsisa32r2el-* \
++-	| mipsisa32r6-* | mipsisa32r6el-* \
++-	| mipsisa64-* | mipsisa64el-* \
++-	| mipsisa64r2-* | mipsisa64r2el-* \
++-	| mipsisa64r6-* | mipsisa64r6el-* \
++-	| mipsisa64sb1-* | mipsisa64sb1el-* \
++-	| mipsisa64sr71k-* | mipsisa64sr71kel-* \
++-	| mipsr5900-* | mipsr5900el-* \
++-	| mipstx39-* | mipstx39el-* \
++-	| mmix-* \
++-	| mt-* \
++-	| msp430-* \
++-	| nds32-* | nds32le-* | nds32be-* \
++-	| nfp-* \
++-	| nios-* | nios2-* | nios2eb-* | nios2el-* \
++-	| none-* | np1-* | ns16k-* | ns32k-* \
++-	| open8-* \
++-	| or1k*-* \
++-	| orion-* \
++-	| pdp10-* | pdp11-* | pj-* | pjl-* | pn-* | power-* \
++-	| powerpc-* | powerpc64-* | powerpc64le-* | powerpcle-* \
++-	| pru-* \
++-	| pyramid-* \
++-	| riscv32-* | riscv64-* \
++-	| rl78-* | romp-* | rs6000-* | rx-* \
++-	| sh-* | sh[1234]-* | sh[24]a-* | sh[24]aeb-* | sh[23]e-* | sh[34]eb-* | sheb-* | shbe-* \
++-	| shle-* | sh[1234]le-* | sh3ele-* | sh64-* | sh64le-* \
++-	| sparc-* | sparc64-* | sparc64b-* | sparc64v-* | sparc86x-* | sparclet-* \
++-	| sparclite-* \
++-	| sparcv8-* | sparcv9-* | sparcv9b-* | sparcv9v-* | sv1-* | sx*-* \
++-	| tahoe-* \
++-	| tic30-* | tic4x-* | tic54x-* | tic55x-* | tic6x-* | tic80-* \
++-	| tile*-* \
++-	| tron-* \
++-	| ubicom32-* \
++-	| v850-* | v850e-* | v850e1-* | v850es-* | v850e2-* | v850e2v3-* \
++-	| vax-* \
++-	| visium-* \
++-	| wasm32-* \
++-	| we32k-* \
++-	| x86-* | x86_64-* | xc16x-* | xps100-* \
++-	| xstormy16-* | xtensa*-* \
++-	| ymp-* \
++-	| z8k-* | z80-*)
++-		;;
++-	# Recognize the basic CPU types without company name, with glob match.
++-	xtensa*)
++-		basic_machine=$basic_machine-unknown
++-		;;
++ 	# Recognize the various machine names and aliases which stand
++ 	# for a CPU type and a company and sometimes even an OS.
++-	386bsd)
++-		basic_machine=i386-pc
++-		os=-bsd
++-		;;
++ 	3b1 | 7300 | 7300-att | att-7300 | pc7300 | safari | unixpc)
++-		basic_machine=m68000-att
+++		cpu=m68000
+++		vendor=att
++ 		;;
++ 	3b*)
++-		basic_machine=we32k-att
++-		;;
++-	a29khif)
++-		basic_machine=a29k-amd
++-		os=-udi
++-		;;
++-	abacus)
++-		basic_machine=abacus-unknown
++-		;;
++-	adobe68k)
++-		basic_machine=m68010-adobe
++-		os=-scout
++-		;;
++-	alliant | fx80)
++-		basic_machine=fx80-alliant
++-		;;
++-	altos | altos3068)
++-		basic_machine=m68k-altos
++-		;;
++-	am29k)
++-		basic_machine=a29k-none
++-		os=-bsd
++-		;;
++-	amd64)
++-		basic_machine=x86_64-pc
++-		;;
++-	amd64-*)
++-		basic_machine=x86_64-`echo "$basic_machine" | sed 's/^[^-]*-//'`
++-		;;
++-	amdahl)
++-		basic_machine=580-amdahl
++-		os=-sysv
++-		;;
++-	amiga | amiga-*)
++-		basic_machine=m68k-unknown
++-		;;
++-	amigaos | amigados)
++-		basic_machine=m68k-unknown
++-		os=-amigaos
++-		;;
++-	amigaunix | amix)
++-		basic_machine=m68k-unknown
++-		os=-sysv4
++-		;;
++-	apollo68)
++-		basic_machine=m68k-apollo
++-		os=-sysv
++-		;;
++-	apollo68bsd)
++-		basic_machine=m68k-apollo
++-		os=-bsd
++-		;;
++-	aros)
++-		basic_machine=i386-pc
++-		os=-aros
++-		;;
++-	asmjs)
++-		basic_machine=asmjs-unknown
++-		;;
++-	aux)
++-		basic_machine=m68k-apple
++-		os=-aux
++-		;;
++-	balance)
++-		basic_machine=ns32k-sequent
++-		os=-dynix
++-		;;
++-	blackfin)
++-		basic_machine=bfin-unknown
++-		os=-linux
++-		;;
++-	blackfin-*)
++-		basic_machine=bfin-`echo "$basic_machine" | sed 's/^[^-]*-//'`
++-		os=-linux
+++		cpu=we32k
+++		vendor=att
++ 		;;
++ 	bluegene*)
++-		basic_machine=powerpc-ibm
++-		os=-cnk
++-		;;
++-	c54x-*)
++-		basic_machine=tic54x-`echo "$basic_machine" | sed 's/^[^-]*-//'`
++-		;;
++-	c55x-*)
++-		basic_machine=tic55x-`echo "$basic_machine" | sed 's/^[^-]*-//'`
++-		;;
++-	c6x-*)
++-		basic_machine=tic6x-`echo "$basic_machine" | sed 's/^[^-]*-//'`
++-		;;
++-	c90)
++-		basic_machine=c90-cray
++-		os=-unicos
++-		;;
++-	cegcc)
++-		basic_machine=arm-unknown
++-		os=-cegcc
++-		;;
++-	convex-c1)
++-		basic_machine=c1-convex
++-		os=-bsd
++-		;;
++-	convex-c2)
++-		basic_machine=c2-convex
++-		os=-bsd
++-		;;
++-	convex-c32)
++-		basic_machine=c32-convex
++-		os=-bsd
++-		;;
++-	convex-c34)
++-		basic_machine=c34-convex
++-		os=-bsd
++-		;;
++-	convex-c38)
++-		basic_machine=c38-convex
++-		os=-bsd
++-		;;
++-	cray | j90)
++-		basic_machine=j90-cray
++-		os=-unicos
++-		;;
++-	craynv)
++-		basic_machine=craynv-cray
++-		os=-unicosmp
++-		;;
++-	cr16 | cr16-*)
++-		basic_machine=cr16-unknown
++-		os=-elf
++-		;;
++-	crds | unos)
++-		basic_machine=m68k-crds
++-		;;
++-	crisv32 | crisv32-* | etraxfs*)
++-		basic_machine=crisv32-axis
++-		;;
++-	cris | cris-* | etrax*)
++-		basic_machine=cris-axis
++-		;;
++-	crx)
++-		basic_machine=crx-unknown
++-		os=-elf
++-		;;
++-	da30 | da30-*)
++-		basic_machine=m68k-da30
++-		;;
++-	decstation | decstation-3100 | pmax | pmax-* | pmin | dec3100 | decstatn)
++-		basic_machine=mips-dec
+++		cpu=powerpc
+++		vendor=ibm
+++		basic_os=cnk
++ 		;;
++ 	decsystem10* | dec10*)
++-		basic_machine=pdp10-dec
++-		os=-tops10
+++		cpu=pdp10
+++		vendor=dec
+++		basic_os=tops10
++ 		;;
++ 	decsystem20* | dec20*)
++-		basic_machine=pdp10-dec
++-		os=-tops20
++-		;;
++-	delta | 3300 | motorola-3300 | motorola-delta \
++-	      | 3300-motorola | delta-motorola)
++-		basic_machine=m68k-motorola
++-		;;
++-	delta88)
++-		basic_machine=m88k-motorola
++-		os=-sysv3
++-		;;
++-	dicos)
++-		basic_machine=i686-pc
++-		os=-dicos
++-		;;
++-	djgpp)
++-		basic_machine=i586-pc
++-		os=-msdosdjgpp
++-		;;
++-	dpx20 | dpx20-*)
++-		basic_machine=rs6000-bull
++-		os=-bosx
++-		;;
++-	dpx2*)
++-		basic_machine=m68k-bull
++-		os=-sysv3
++-		;;
++-	e500v[12])
++-		basic_machine=powerpc-unknown
++-		os=$os"spe"
++-		;;
++-	e500v[12]-*)
++-		basic_machine=powerpc-`echo "$basic_machine" | sed 's/^[^-]*-//'`
++-		os=$os"spe"
++-		;;
++-	ebmon29k)
++-		basic_machine=a29k-amd
++-		os=-ebmon
++-		;;
++-	elxsi)
++-		basic_machine=elxsi-elxsi
++-		os=-bsd
+++		cpu=pdp10
+++		vendor=dec
+++		basic_os=tops20
+++		;;
+++	delta | 3300 | delta-motorola | 3300-motorola | motorola-delta | motorola-3300)
+++		cpu=m68k
+++		vendor=motorola
+++		;;
+++	# This used to be dpx2*, but that gets the RS6000-based
+++	# DPX/20 and the x86-based DPX/2-100 wrong.  See
+++	# https://oldskool.silicium.org/stations/bull_dpx20.htm
+++	# https://www.feb-patrimoine.com/english/bull_dpx2.htm
+++	# https://www.feb-patrimoine.com/english/unix_and_bull.htm
+++	dpx2 | dpx2[23]00 | dpx2[23]xx)
+++		cpu=m68k
+++		vendor=bull
+++		;;
+++	dpx2100 | dpx21xx)
+++		cpu=i386
+++		vendor=bull
+++		;;
+++	dpx20)
+++		cpu=rs6000
+++		vendor=bull
++ 		;;
++ 	encore | umax | mmax)
++-		basic_machine=ns32k-encore
+++		cpu=ns32k
+++		vendor=encore
++ 		;;
++-	es1800 | OSE68k | ose68k | ose | OSE)
++-		basic_machine=m68k-ericsson
++-		os=-ose
+++	elxsi)
+++		cpu=elxsi
+++		vendor=elxsi
+++		basic_os=${basic_os:-bsd}
++ 		;;
++ 	fx2800)
++-		basic_machine=i860-alliant
+++		cpu=i860
+++		vendor=alliant
++ 		;;
++ 	genix)
++-		basic_machine=ns32k-ns
++-		;;
++-	gmicro)
++-		basic_machine=tron-gmicro
++-		os=-sysv
++-		;;
++-	go32)
++-		basic_machine=i386-pc
++-		os=-go32
++-		;;
++-	h3050r* | hiux*)
++-		basic_machine=hppa1.1-hitachi
++-		os=-hiuxwe2
++-		;;
++-	h8300hms)
++-		basic_machine=h8300-hitachi
++-		os=-hms
++-		;;
++-	h8300xray)
++-		basic_machine=h8300-hitachi
++-		os=-xray
++-		;;
++-	h8500hms)
++-		basic_machine=h8500-hitachi
++-		os=-hms
++-		;;
++-	harris)
++-		basic_machine=m88k-harris
++-		os=-sysv3
++-		;;
++-	hp300-*)
++-		basic_machine=m68k-hp
++-		;;
++-	hp300bsd)
++-		basic_machine=m68k-hp
++-		os=-bsd
++-		;;
++-	hp300hpux)
++-		basic_machine=m68k-hp
++-		os=-hpux
++-		;;
++-	hp3k9[0-9][0-9] | hp9[0-9][0-9])
++-		basic_machine=hppa1.0-hp
++-		;;
++-	hp9k2[0-9][0-9] | hp9k31[0-9])
++-		basic_machine=m68000-hp
++-		;;
++-	hp9k3[2-9][0-9])
++-		basic_machine=m68k-hp
++-		;;
++-	hp9k6[0-9][0-9] | hp6[0-9][0-9])
++-		basic_machine=hppa1.0-hp
++-		;;
++-	hp9k7[0-79][0-9] | hp7[0-79][0-9])
++-		basic_machine=hppa1.1-hp
++-		;;
++-	hp9k78[0-9] | hp78[0-9])
++-		# FIXME: really hppa2.0-hp
++-		basic_machine=hppa1.1-hp
++-		;;
++-	hp9k8[67]1 | hp8[67]1 | hp9k80[24] | hp80[24] | hp9k8[78]9 | hp8[78]9 | hp9k893 | hp893)
++-		# FIXME: really hppa2.0-hp
++-		basic_machine=hppa1.1-hp
++-		;;
++-	hp9k8[0-9][13679] | hp8[0-9][13679])
++-		basic_machine=hppa1.1-hp
++-		;;
++-	hp9k8[0-9][0-9] | hp8[0-9][0-9])
++-		basic_machine=hppa1.0-hp
++-		;;
++-	hppaosf)
++-		basic_machine=hppa1.1-hp
++-		os=-osf
++-		;;
++-	hppro)
++-		basic_machine=hppa1.1-hp
++-		os=-proelf
++-		;;
++-	i370-ibm* | ibm*)
++-		basic_machine=i370-ibm
++-		;;
++-	i*86v32)
++-		basic_machine=`echo "$1" | sed -e 's/86.*/86-pc/'`
++-		os=-sysv32
++-		;;
++-	i*86v4*)
++-		basic_machine=`echo "$1" | sed -e 's/86.*/86-pc/'`
++-		os=-sysv4
++-		;;
++-	i*86v)
++-		basic_machine=`echo "$1" | sed -e 's/86.*/86-pc/'`
++-		os=-sysv
++-		;;
++-	i*86sol2)
++-		basic_machine=`echo "$1" | sed -e 's/86.*/86-pc/'`
++-		os=-solaris2
++-		;;
++-	i386mach)
++-		basic_machine=i386-mach
++-		os=-mach
++-		;;
++-	vsta)
++-		basic_machine=i386-unknown
++-		os=-vsta
++-		;;
++-	iris | iris4d)
++-		basic_machine=mips-sgi
++-		case $os in
++-		    -irix*)
++-			;;
++-		    *)
++-			os=-irix4
++-			;;
++-		esac
++-		;;
++-	isi68 | isi)
++-		basic_machine=m68k-isi
++-		os=-sysv
++-		;;
++-	leon-*|leon[3-9]-*)
++-		basic_machine=sparc-`echo "$basic_machine" | sed 's/-.*//'`
++-		;;
++-	m68knommu)
++-		basic_machine=m68k-unknown
++-		os=-linux
++-		;;
++-	m68knommu-*)
++-		basic_machine=m68k-`echo "$basic_machine" | sed 's/^[^-]*-//'`
++-		os=-linux
++-		;;
++-	magnum | m3230)
++-		basic_machine=mips-mips
++-		os=-sysv
++-		;;
++-	merlin)
++-		basic_machine=ns32k-utek
++-		os=-sysv
++-		;;
++-	microblaze*)
++-		basic_machine=microblaze-xilinx
++-		;;
++-	mingw64)
++-		basic_machine=x86_64-pc
++-		os=-mingw64
++-		;;
++-	mingw32)
++-		basic_machine=i686-pc
++-		os=-mingw32
++-		;;
++-	mingw32ce)
++-		basic_machine=arm-unknown
++-		os=-mingw32ce
++-		;;
++-	miniframe)
++-		basic_machine=m68000-convergent
++-		;;
++-	*mint | -mint[0-9]* | *MiNT | *MiNT[0-9]*)
++-		basic_machine=m68k-atari
++-		os=-mint
++-		;;
++-	mips3*-*)
++-		basic_machine=`echo "$basic_machine" | sed -e 's/mips3/mips64/'`
++-		;;
++-	mips3*)
++-		basic_machine=`echo "$basic_machine" | sed -e 's/mips3/mips64/'`-unknown
++-		;;
++-	monitor)
++-		basic_machine=m68k-rom68k
++-		os=-coff
++-		;;
++-	morphos)
++-		basic_machine=powerpc-unknown
++-		os=-morphos
++-		;;
++-	moxiebox)
++-		basic_machine=moxie-unknown
++-		os=-moxiebox
++-		;;
++-	msdos)
++-		basic_machine=i386-pc
++-		os=-msdos
++-		;;
++-	ms1-*)
++-		basic_machine=`echo "$basic_machine" | sed -e 's/ms1-/mt-/'`
++-		;;
++-	msys)
++-		basic_machine=i686-pc
++-		os=-msys
++-		;;
++-	mvs)
++-		basic_machine=i370-ibm
++-		os=-mvs
++-		;;
++-	nacl)
++-		basic_machine=le32-unknown
++-		os=-nacl
++-		;;
++-	ncr3000)
++-		basic_machine=i486-ncr
++-		os=-sysv4
++-		;;
++-	netbsd386)
++-		basic_machine=i386-unknown
++-		os=-netbsd
++-		;;
++-	netwinder)
++-		basic_machine=armv4l-rebel
++-		os=-linux
++-		;;
++-	news | news700 | news800 | news900)
++-		basic_machine=m68k-sony
++-		os=-newsos
++-		;;
++-	news1000)
++-		basic_machine=m68030-sony
++-		os=-newsos
++-		;;
++-	news-3600 | risc-news)
++-		basic_machine=mips-sony
++-		os=-newsos
++-		;;
++-	necv70)
++-		basic_machine=v70-nec
++-		os=-sysv
++-		;;
++-	next | m*-next)
++-		basic_machine=m68k-next
++-		case $os in
++-		    -nextstep* )
++-			;;
++-		    -ns2*)
++-		      os=-nextstep2
++-			;;
++-		    *)
++-		      os=-nextstep3
++-			;;
++-		esac
++-		;;
++-	nh3000)
++-		basic_machine=m68k-harris
++-		os=-cxux
++-		;;
++-	nh[45]000)
++-		basic_machine=m88k-harris
++-		os=-cxux
++-		;;
++-	nindy960)
++-		basic_machine=i960-intel
++-		os=-nindy
++-		;;
++-	mon960)
++-		basic_machine=i960-intel
++-		os=-mon960
++-		;;
++-	nonstopux)
++-		basic_machine=mips-compaq
++-		os=-nonstopux
++-		;;
++-	np1)
++-		basic_machine=np1-gould
++-		;;
++-	neo-tandem)
++-		basic_machine=neo-tandem
++-		;;
++-	nse-tandem)
++-		basic_machine=nse-tandem
++-		;;
++-	nsr-tandem)
++-		basic_machine=nsr-tandem
++-		;;
++-	nsv-tandem)
++-		basic_machine=nsv-tandem
++-		;;
++-	nsx-tandem)
++-		basic_machine=nsx-tandem
+++		cpu=ns32k
+++		vendor=ns
++ 		;;
++-	op50n-* | op60c-*)
++-		basic_machine=hppa1.1-oki
++-		os=-proelf
+++	h3050r* | hiux*)
+++		cpu=hppa1.1
+++		vendor=hitachi
+++		basic_os=hiuxwe2
++ 		;;
++-	openrisc | openrisc-*)
++-		basic_machine=or32-unknown
+++	hp3k9[0-9][0-9] | hp9[0-9][0-9])
+++		cpu=hppa1.0
+++		vendor=hp
++ 		;;
++-	os400)
++-		basic_machine=powerpc-ibm
++-		os=-os400
+++	hp9k2[0-9][0-9] | hp9k31[0-9])
+++		cpu=m68000
+++		vendor=hp
++ 		;;
++-	OSE68000 | ose68000)
++-		basic_machine=m68000-ericsson
++-		os=-ose
+++	hp9k3[2-9][0-9])
+++		cpu=m68k
+++		vendor=hp
++ 		;;
++-	os68k)
++-		basic_machine=m68k-none
++-		os=-os68k
+++	hp9k6[0-9][0-9] | hp6[0-9][0-9])
+++		cpu=hppa1.0
+++		vendor=hp
++ 		;;
++-	pa-hitachi)
++-		basic_machine=hppa1.1-hitachi
++-		os=-hiuxwe2
+++	hp9k7[0-79][0-9] | hp7[0-79][0-9])
+++		cpu=hppa1.1
+++		vendor=hp
++ 		;;
++-	paragon)
++-		basic_machine=i860-intel
++-		os=-osf
+++	hp9k78[0-9] | hp78[0-9])
+++		# FIXME: really hppa2.0-hp
+++		cpu=hppa1.1
+++		vendor=hp
++ 		;;
++-	parisc)
++-		basic_machine=hppa-unknown
++-		os=-linux
+++	hp9k8[67]1 | hp8[67]1 | hp9k80[24] | hp80[24] | hp9k8[78]9 | hp8[78]9 | hp9k893 | hp893)
+++		# FIXME: really hppa2.0-hp
+++		cpu=hppa1.1
+++		vendor=hp
++ 		;;
++-	parisc-*)
++-		basic_machine=hppa-`echo "$basic_machine" | sed 's/^[^-]*-//'`
++-		os=-linux
+++	hp9k8[0-9][13679] | hp8[0-9][13679])
+++		cpu=hppa1.1
+++		vendor=hp
++ 		;;
++-	pbd)
++-		basic_machine=sparc-tti
+++	hp9k8[0-9][0-9] | hp8[0-9][0-9])
+++		cpu=hppa1.0
+++		vendor=hp
++ 		;;
++-	pbb)
++-		basic_machine=m68k-tti
+++	i*86v32)
+++		cpu=`echo "$1" | sed -e 's/86.*/86/'`
+++		vendor=pc
+++		basic_os=sysv32
++ 		;;
++-	pc532 | pc532-*)
++-		basic_machine=ns32k-pc532
+++	i*86v4*)
+++		cpu=`echo "$1" | sed -e 's/86.*/86/'`
+++		vendor=pc
+++		basic_os=sysv4
++ 		;;
++-	pc98)
++-		basic_machine=i386-pc
+++	i*86v)
+++		cpu=`echo "$1" | sed -e 's/86.*/86/'`
+++		vendor=pc
+++		basic_os=sysv
++ 		;;
++-	pc98-*)
++-		basic_machine=i386-`echo "$basic_machine" | sed 's/^[^-]*-//'`
+++	i*86sol2)
+++		cpu=`echo "$1" | sed -e 's/86.*/86/'`
+++		vendor=pc
+++		basic_os=solaris2
++ 		;;
++-	pentium | p5 | k5 | k6 | nexgen | viac3)
++-		basic_machine=i586-pc
+++	j90 | j90-cray)
+++		cpu=j90
+++		vendor=cray
+++		basic_os=${basic_os:-unicos}
++ 		;;
++-	pentiumpro | p6 | 6x86 | athlon | athlon_*)
++-		basic_machine=i686-pc
+++	iris | iris4d)
+++		cpu=mips
+++		vendor=sgi
+++		case $basic_os in
+++		    irix*)
+++			;;
+++		    *)
+++			basic_os=irix4
+++			;;
+++		esac
++ 		;;
++-	pentiumii | pentium2 | pentiumiii | pentium3)
++-		basic_machine=i686-pc
+++	miniframe)
+++		cpu=m68000
+++		vendor=convergent
++ 		;;
++-	pentium4)
++-		basic_machine=i786-pc
+++	*mint | mint[0-9]* | *MiNT | *MiNT[0-9]*)
+++		cpu=m68k
+++		vendor=atari
+++		basic_os=mint
++ 		;;
++-	pentium-* | p5-* | k5-* | k6-* | nexgen-* | viac3-*)
++-		basic_machine=i586-`echo "$basic_machine" | sed 's/^[^-]*-//'`
+++	news-3600 | risc-news)
+++		cpu=mips
+++		vendor=sony
+++		basic_os=newsos
++ 		;;
++-	pentiumpro-* | p6-* | 6x86-* | athlon-*)
++-		basic_machine=i686-`echo "$basic_machine" | sed 's/^[^-]*-//'`
+++	next | m*-next)
+++		cpu=m68k
+++		vendor=next
++ 		;;
++-	pentiumii-* | pentium2-* | pentiumiii-* | pentium3-*)
++-		basic_machine=i686-`echo "$basic_machine" | sed 's/^[^-]*-//'`
+++	np1)
+++		cpu=np1
+++		vendor=gould
++ 		;;
++-	pentium4-*)
++-		basic_machine=i786-`echo "$basic_machine" | sed 's/^[^-]*-//'`
+++	op50n-* | op60c-*)
+++		cpu=hppa1.1
+++		vendor=oki
+++		basic_os=proelf
++ 		;;
++-	pn)
++-		basic_machine=pn-gould
+++	pa-hitachi)
+++		cpu=hppa1.1
+++		vendor=hitachi
+++		basic_os=hiuxwe2
++ 		;;
++-	power)	basic_machine=power-ibm
+++	pbd)
+++		cpu=sparc
+++		vendor=tti
++ 		;;
++-	ppc | ppcbe)	basic_machine=powerpc-unknown
+++	pbb)
+++		cpu=m68k
+++		vendor=tti
++ 		;;
++-	ppc-* | ppcbe-*)
++-		basic_machine=powerpc-`echo "$basic_machine" | sed 's/^[^-]*-//'`
+++	pc532)
+++		cpu=ns32k
+++		vendor=pc532
++ 		;;
++-	ppcle | powerpclittle)
++-		basic_machine=powerpcle-unknown
+++	pn)
+++		cpu=pn
+++		vendor=gould
++ 		;;
++-	ppcle-* | powerpclittle-*)
++-		basic_machine=powerpcle-`echo "$basic_machine" | sed 's/^[^-]*-//'`
+++	power)
+++		cpu=power
+++		vendor=ibm
++ 		;;
++-	ppc64)	basic_machine=powerpc64-unknown
+++	ps2)
+++		cpu=i386
+++		vendor=ibm
++ 		;;
++-	ppc64-*) basic_machine=powerpc64-`echo "$basic_machine" | sed 's/^[^-]*-//'`
+++	rm[46]00)
+++		cpu=mips
+++		vendor=siemens
++ 		;;
++-	ppc64le | powerpc64little)
++-		basic_machine=powerpc64le-unknown
+++	rtpc | rtpc-*)
+++		cpu=romp
+++		vendor=ibm
++ 		;;
++-	ppc64le-* | powerpc64little-*)
++-		basic_machine=powerpc64le-`echo "$basic_machine" | sed 's/^[^-]*-//'`
+++	sde)
+++		cpu=mipsisa32
+++		vendor=sde
+++		basic_os=${basic_os:-elf}
++ 		;;
++-	ps2)
++-		basic_machine=i386-ibm
+++	simso-wrs)
+++		cpu=sparclite
+++		vendor=wrs
+++		basic_os=vxworks
++ 		;;
++-	pw32)
++-		basic_machine=i586-unknown
++-		os=-pw32
+++	tower | tower-32)
+++		cpu=m68k
+++		vendor=ncr
++ 		;;
++-	rdos | rdos64)
++-		basic_machine=x86_64-pc
++-		os=-rdos
+++	vpp*|vx|vx-*)
+++		cpu=f301
+++		vendor=fujitsu
++ 		;;
++-	rdos32)
++-		basic_machine=i386-pc
++-		os=-rdos
+++	w65)
+++		cpu=w65
+++		vendor=wdc
++ 		;;
++-	rom68k)
++-		basic_machine=m68k-rom68k
++-		os=-coff
+++	w89k-*)
+++		cpu=hppa1.1
+++		vendor=winbond
+++		basic_os=proelf
++ 		;;
++-	rm[46]00)
++-		basic_machine=mips-siemens
+++	none)
+++		cpu=none
+++		vendor=none
++ 		;;
++-	rtpc | rtpc-*)
++-		basic_machine=romp-ibm
+++	leon|leon[3-9])
+++		cpu=sparc
+++		vendor=$basic_machine
++ 		;;
++-	s390 | s390-*)
++-		basic_machine=s390-ibm
+++	leon-*|leon[3-9]-*)
+++		cpu=sparc
+++		vendor=`echo "$basic_machine" | sed 's/-.*//'`
++ 		;;
++-	s390x | s390x-*)
++-		basic_machine=s390x-ibm
+++
+++	*-*)
+++		saved_IFS=$IFS
+++		IFS="-" read cpu vendor <<EOF
+++$basic_machine
+++EOF
+++		IFS=$saved_IFS
++ 		;;
++-	sa29200)
++-		basic_machine=a29k-amd
++-		os=-udi
+++	# We use 'pc' rather than 'unknown'
+++	# because (1) that's what they normally are, and
+++	# (2) the word "unknown" tends to confuse beginning users.
+++	i*86 | x86_64)
+++		cpu=$basic_machine
+++		vendor=pc
++ 		;;
++-	sb1)
++-		basic_machine=mipsisa64sb1-unknown
+++	# These rules are duplicated from below for sake of the special case above;
+++	# i.e. things that normalized to x86 arches should also default to "pc"
+++	pc98)
+++		cpu=i386
+++		vendor=pc
++ 		;;
++-	sb1el)
++-		basic_machine=mipsisa64sb1el-unknown
+++	x64 | amd64)
+++		cpu=x86_64
+++		vendor=pc
++ 		;;
++-	sde)
++-		basic_machine=mipsisa32-sde
++-		os=-elf
+++	# Recognize the basic CPU types without company name.
+++	*)
+++		cpu=$basic_machine
+++		vendor=unknown
++ 		;;
++-	sei)
++-		basic_machine=mips-sei
++-		os=-seiux
+++esac
+++
+++unset -v basic_machine
+++
+++# Decode basic machines in the full and proper CPU-Company form.
+++case $cpu-$vendor in
+++	# Here we handle the default manufacturer of certain CPU types in canonical form.
+++	# It is in some cases the only manufacturer, in others, it is the most popular.
+++	c[12]-convex | c[12]-unknown | c3[248]-convex | c3[248]-unknown)
+++		vendor=convex
+++		basic_os=${basic_os:-bsd}
++ 		;;
++-	sequent)
++-		basic_machine=i386-sequent
+++	craynv-unknown)
+++		vendor=cray
+++		basic_os=${basic_os:-unicosmp}
++ 		;;
++-	sh5el)
++-		basic_machine=sh5le-unknown
+++	c90-unknown | c90-cray)
+++		vendor=cray
+++		basic_os=${basic_os:-unicos}
++ 		;;
++-	simso-wrs)
++-		basic_machine=sparclite-wrs
++-		os=-vxworks
+++	fx80-unknown)
+++		vendor=alliant
++ 		;;
++-	sps7)
++-		basic_machine=m68k-bull
++-		os=-sysv2
+++	romp-unknown)
+++		vendor=ibm
++ 		;;
++-	spur)
++-		basic_machine=spur-unknown
+++	mmix-unknown)
+++		vendor=knuth
++ 		;;
++-	st2000)
++-		basic_machine=m68k-tandem
+++	microblaze-unknown | microblazeel-unknown)
+++		vendor=xilinx
++ 		;;
++-	stratus)
++-		basic_machine=i860-stratus
++-		os=-sysv4
+++	rs6000-unknown)
+++		vendor=ibm
++ 		;;
++-	strongarm-* | thumb-*)
++-		basic_machine=arm-`echo "$basic_machine" | sed 's/^[^-]*-//'`
+++	vax-unknown)
+++		vendor=dec
++ 		;;
++-	sun2)
++-		basic_machine=m68000-sun
+++	pdp11-unknown)
+++		vendor=dec
++ 		;;
++-	sun2os3)
++-		basic_machine=m68000-sun
++-		os=-sunos3
+++	we32k-unknown)
+++		vendor=att
++ 		;;
++-	sun2os4)
++-		basic_machine=m68000-sun
++-		os=-sunos4
+++	cydra-unknown)
+++		vendor=cydrome
++ 		;;
++-	sun3os3)
++-		basic_machine=m68k-sun
++-		os=-sunos3
+++	i370-ibm*)
+++		vendor=ibm
++ 		;;
++-	sun3os4)
++-		basic_machine=m68k-sun
++-		os=-sunos4
+++	orion-unknown)
+++		vendor=highlevel
++ 		;;
++-	sun4os3)
++-		basic_machine=sparc-sun
++-		os=-sunos3
+++	xps-unknown | xps100-unknown)
+++		cpu=xps100
+++		vendor=honeywell
++ 		;;
++-	sun4os4)
++-		basic_machine=sparc-sun
++-		os=-sunos4
+++
+++	# Here we normalize CPU types with a missing or matching vendor
+++	armh-unknown | armh-alt)
+++		cpu=armv7l
+++		vendor=alt
+++		basic_os=${basic_os:-linux-gnueabihf}
++ 		;;
++-	sun4sol2)
++-		basic_machine=sparc-sun
++-		os=-solaris2
+++
+++	# Normalized CPU+vendor pairs that imply an OS, if not otherwise specified
+++	m68k-isi)
+++		basic_os=${basic_os:-sysv}
++ 		;;
++-	sun3 | sun3-*)
++-		basic_machine=m68k-sun
+++	m68k-sony)
+++		basic_os=${basic_os:-newsos}
++ 		;;
++-	sun4)
++-		basic_machine=sparc-sun
+++	m68k-tektronix)
+++		basic_os=${basic_os:-bsd}
++ 		;;
++-	sun386 | sun386i | roadrunner)
++-		basic_machine=i386-sun
+++	m88k-harris)
+++		basic_os=${basic_os:-sysv3}
++ 		;;
++-	sv1)
++-		basic_machine=sv1-cray
++-		os=-unicos
+++	i386-bull | m68k-bull)
+++		basic_os=${basic_os:-sysv3}
++ 		;;
++-	symmetry)
++-		basic_machine=i386-sequent
++-		os=-dynix
+++	rs6000-bull)
+++		basic_os=${basic_os:-bosx}
++ 		;;
++-	t3e)
++-		basic_machine=alphaev5-cray
++-		os=-unicos
+++	mips-sni)
+++		basic_os=${basic_os:-sysv4}
++ 		;;
++-	t90)
++-		basic_machine=t90-cray
++-		os=-unicos
+++
+++	# Here we normalize CPU types irrespective of the vendor
+++	amd64-*)
+++		cpu=x86_64
++ 		;;
++-	tile*)
++-		basic_machine=$basic_machine-unknown
++-		os=-linux-gnu
+++	blackfin-*)
+++		cpu=bfin
+++		basic_os=${basic_os:-linux}
++ 		;;
++-	tx39)
++-		basic_machine=mipstx39-unknown
+++	c54x-*)
+++		cpu=tic54x
++ 		;;
++-	tx39el)
++-		basic_machine=mipstx39el-unknown
+++	c55x-*)
+++		cpu=tic55x
++ 		;;
++-	toad1)
++-		basic_machine=pdp10-xkl
++-		os=-tops20
+++	c6x-*)
+++		cpu=tic6x
++ 		;;
++-	tower | tower-32)
++-		basic_machine=m68k-ncr
+++	e500v[12]-*)
+++		cpu=powerpc
+++		basic_os=${basic_os}"spe"
++ 		;;
++-	tpf)
++-		basic_machine=s390x-ibm
++-		os=-tpf
+++	mips3*-*)
+++		cpu=mips64
++ 		;;
++-	udi29k)
++-		basic_machine=a29k-amd
++-		os=-udi
+++	ms1-*)
+++		cpu=mt
++ 		;;
++-	ultra3)
++-		basic_machine=a29k-nyu
++-		os=-sym1
+++	m68knommu-*)
+++		cpu=m68k
+++		basic_os=${basic_os:-linux}
++ 		;;
++-	v810 | necv810)
++-		basic_machine=v810-nec
++-		os=-none
+++	m9s12z-* | m68hcs12z-* | hcs12z-* | s12z-*)
+++		cpu=s12z
++ 		;;
++-	vaxv)
++-		basic_machine=vax-dec
++-		os=-sysv
+++	openrisc-*)
+++		cpu=or32
++ 		;;
++-	vms)
++-		basic_machine=vax-dec
++-		os=-vms
+++	parisc-*)
+++		cpu=hppa
+++		basic_os=${basic_os:-linux}
++ 		;;
++-	vpp*|vx|vx-*)
++-		basic_machine=f301-fujitsu
+++	pentium-* | p5-* | k5-* | k6-* | nexgen-* | viac3-*)
+++		cpu=i586
++ 		;;
++-	vxworks960)
++-		basic_machine=i960-wrs
++-		os=-vxworks
+++	pentiumpro-* | p6-* | 6x86-* | athlon-* | athlon_*-*)
+++		cpu=i686
++ 		;;
++-	vxworks68)
++-		basic_machine=m68k-wrs
++-		os=-vxworks
+++	pentiumii-* | pentium2-* | pentiumiii-* | pentium3-*)
+++		cpu=i686
++ 		;;
++-	vxworks29k)
++-		basic_machine=a29k-wrs
++-		os=-vxworks
+++	pentium4-*)
+++		cpu=i786
++ 		;;
++-	w65*)
++-		basic_machine=w65-wdc
++-		os=-none
+++	ppc-* | ppcbe-*)
+++		cpu=powerpc
++ 		;;
++-	w89k-*)
++-		basic_machine=hppa1.1-winbond
++-		os=-proelf
+++	ppcle-* | powerpclittle-*)
+++		cpu=powerpcle
++ 		;;
++-	x64)
++-		basic_machine=x86_64-pc
+++	ppc64-*)
+++		cpu=powerpc64
++ 		;;
++-	xbox)
++-		basic_machine=i686-pc
++-		os=-mingw32
+++	ppc64le-* | powerpc64little-*)
+++		cpu=powerpc64le
++ 		;;
++-	xps | xps100)
++-		basic_machine=xps100-honeywell
+++	sb1-*)
+++		cpu=mipsisa64sb1
++ 		;;
++-	xscale-* | xscalee[bl]-*)
++-		basic_machine=`echo "$basic_machine" | sed 's/^xscale/arm/'`
+++	sb1el-*)
+++		cpu=mipsisa64sb1el
++ 		;;
++-	ymp)
++-		basic_machine=ymp-cray
++-		os=-unicos
+++	sh5e[lb]-*)
+++		cpu=`echo "$cpu" | sed 's/^\(sh.\)e\(.\)$/\1\2e/'`
++ 		;;
++-	none)
++-		basic_machine=none-none
++-		os=-none
+++	spur-*)
+++		cpu=spur
++ 		;;
++-
++-# Here we handle the default manufacturer of certain CPU types.  It is in
++-# some cases the only manufacturer, in others, it is the most popular.
++-	w89k)
++-		basic_machine=hppa1.1-winbond
+++	strongarm-* | thumb-*)
+++		cpu=arm
++ 		;;
++-	op50n)
++-		basic_machine=hppa1.1-oki
+++	tx39-*)
+++		cpu=mipstx39
++ 		;;
++-	op60c)
++-		basic_machine=hppa1.1-oki
+++	tx39el-*)
+++		cpu=mipstx39el
++ 		;;
++-	romp)
++-		basic_machine=romp-ibm
+++	xscale-* | xscalee[bl]-*)
+++		cpu=`echo "$cpu" | sed 's/^xscale/arm/'`
++ 		;;
++-	mmix)
++-		basic_machine=mmix-knuth
+++	arm64-* | aarch64le-*)
+++		cpu=aarch64
++ 		;;
++-	rs6000)
++-		basic_machine=rs6000-ibm
+++
+++	# Recognize the canonical CPU Types that limit and/or modify the
+++	# company names they are paired with.
+++	cr16-*)
+++		basic_os=${basic_os:-elf}
++ 		;;
++-	vax)
++-		basic_machine=vax-dec
+++	crisv32-* | etraxfs*-*)
+++		cpu=crisv32
+++		vendor=axis
++ 		;;
++-	pdp11)
++-		basic_machine=pdp11-dec
+++	cris-* | etrax*-*)
+++		cpu=cris
+++		vendor=axis
++ 		;;
++-	we32k)
++-		basic_machine=we32k-att
+++	crx-*)
+++		basic_os=${basic_os:-elf}
++ 		;;
++-	sh[1234] | sh[24]a | sh[24]aeb | sh[34]eb | sh[1234]le | sh[23]ele)
++-		basic_machine=sh-unknown
+++	neo-tandem)
+++		cpu=neo
+++		vendor=tandem
++ 		;;
++-	cydra)
++-		basic_machine=cydra-cydrome
+++	nse-tandem)
+++		cpu=nse
+++		vendor=tandem
++ 		;;
++-	orion)
++-		basic_machine=orion-highlevel
+++	nsr-tandem)
+++		cpu=nsr
+++		vendor=tandem
++ 		;;
++-	orion105)
++-		basic_machine=clipper-highlevel
+++	nsv-tandem)
+++		cpu=nsv
+++		vendor=tandem
++ 		;;
++-	mac | mpw | mac-mpw)
++-		basic_machine=m68k-apple
+++	nsx-tandem)
+++		cpu=nsx
+++		vendor=tandem
++ 		;;
++-	pmac | pmac-mpw)
++-		basic_machine=powerpc-apple
+++	mipsallegrexel-sony)
+++		cpu=mipsallegrexel
+++		vendor=sony
++ 		;;
++-	*-unknown)
++-		# Make sure to match an already-canonicalized machine name.
+++	tile*-*)
+++		basic_os=${basic_os:-linux-gnu}
++ 		;;
+++
++ 	*)
++-		echo Invalid configuration \`"$1"\': machine \`"$basic_machine"\' not recognized 1>&2
++-		exit 1
+++		# Recognize the canonical CPU types that are allowed with any
+++		# company name.
+++		case $cpu in
+++			  1750a \
+++			| 580 \
+++			| [cjt]90 \
+++			| a29k \
+++			| aarch64 \
+++			| aarch64_be \
+++			| aarch64c \
+++			| abacus \
+++			| alpha \
+++			| alpha64 \
+++			| alpha64ev56 \
+++			| alpha64ev6[78] \
+++			| alpha64ev[4-8] \
+++			| alpha64pca5[67] \
+++			| alphaev56 \
+++			| alphaev6[78] \
+++			| alphaev[4-8] \
+++			| alphapca5[67] \
+++			| am33_2.0 \
+++			| amdgcn \
+++			| arc \
+++			| arc32 \
+++			| arc64 \
+++			| arceb \
+++			| arm \
+++			| arm64e \
+++			| arm64ec \
+++			| arm[lb]e \
+++			| arme[lb] \
+++			| armv* \
+++			| asmjs \
+++			| avr \
+++			| avr32 \
+++			| ba \
+++			| be32 \
+++			| be64 \
+++			| bfin \
+++			| bpf \
+++			| bs2000 \
+++			| c30 \
+++			| c4x \
+++			| c8051 \
+++			| c[123]* \
+++			| clipper \
+++			| craynv \
+++			| csky \
+++			| cydra \
+++			| d10v \
+++			| d30v \
+++			| dlx \
+++			| dsp16xx \
+++			| e2k \
+++			| elxsi \
+++			| epiphany \
+++			| f30[01] \
+++			| f700 \
+++			| fido \
+++			| fr30 \
+++			| frv \
+++			| ft32 \
+++			| fx80 \
+++			| h8300 \
+++			| h8500 \
+++			| hexagon \
+++			| hppa \
+++			| hppa1.[01] \
+++			| hppa2.0 \
+++			| hppa2.0[nw] \
+++			| hppa64 \
+++			| i*86 \
+++			| i370 \
+++			| i860 \
+++			| i960 \
+++			| ia16 \
+++			| ia64 \
+++			| ip2k \
+++			| iq2000 \
+++			| javascript \
+++			| k1om \
+++			| kvx \
+++			| le32 \
+++			| le64 \
+++			| lm32 \
+++			| loongarch32 \
+++			| loongarch64 \
+++			| m32c \
+++			| m32r \
+++			| m32rle \
+++			| m5200 \
+++			| m68000 \
+++			| m680[012346]0 \
+++			| m6811 \
+++			| m6812 \
+++			| m68360 \
+++			| m683?2 \
+++			| m68hc11 \
+++			| m68hc12 \
+++			| m68hcs12x \
+++			| m68k \
+++			| m88110 \
+++			| m88k \
+++			| maxq \
+++			| mb \
+++			| mcore \
+++			| mep \
+++			| metag \
+++			| microblaze \
+++			| microblazeel \
+++			| mips* \
+++			| mmix \
+++			| mn10200 \
+++			| mn10300 \
+++			| moxie \
+++			| msp430 \
+++			| mt \
+++			| nanomips* \
+++			| nds32 \
+++			| nds32be \
+++			| nds32le \
+++			| nfp \
+++			| nios \
+++			| nios2 \
+++			| nios2eb \
+++			| nios2el \
+++			| none \
+++			| np1 \
+++			| ns16k \
+++			| ns32k \
+++			| nvptx \
+++			| open8 \
+++			| or1k* \
+++			| or32 \
+++			| orion \
+++			| pdp10 \
+++			| pdp11 \
+++			| picochip \
+++			| pj \
+++			| pjl \
+++			| pn \
+++			| power \
+++			| powerpc \
+++			| powerpc64 \
+++			| powerpc64le \
+++			| powerpcle \
+++			| powerpcspe \
+++			| pru \
+++			| pyramid \
+++			| riscv \
+++			| riscv32 \
+++			| riscv32be \
+++			| riscv64 \
+++			| riscv64be \
+++			| rl78 \
+++			| romp \
+++			| rs6000 \
+++			| rx \
+++			| s390 \
+++			| s390x \
+++			| score \
+++			| sh \
+++			| sh64 \
+++			| sh64le \
+++			| sh[12345][lb]e \
+++			| sh[1234] \
+++			| sh[1234]e[lb] \
+++			| sh[23]e \
+++			| sh[23]ele \
+++			| sh[24]a \
+++			| sh[24]ae[lb] \
+++			| sh[lb]e \
+++			| she[lb] \
+++			| shl \
+++			| sparc \
+++			| sparc64 \
+++			| sparc64b \
+++			| sparc64v \
+++			| sparc86x \
+++			| sparclet \
+++			| sparclite \
+++			| sparcv8 \
+++			| sparcv9 \
+++			| sparcv9b \
+++			| sparcv9v \
+++			| spu \
+++			| sv1 \
+++			| sx* \
+++			| tahoe \
+++			| thumbv7* \
+++			| tic30 \
+++			| tic4x \
+++			| tic54x \
+++			| tic55x \
+++			| tic6x \
+++			| tic80 \
+++			| tron \
+++			| ubicom32 \
+++			| v70 \
+++			| v810 \
+++			| v850 \
+++			| v850e \
+++			| v850e1 \
+++			| v850e2 \
+++			| v850e2v3 \
+++			| v850es \
+++			| vax \
+++			| vc4 \
+++			| visium \
+++			| w65 \
+++			| wasm32 \
+++			| wasm64 \
+++			| we32k \
+++			| x86 \
+++			| x86_64 \
+++			| xc16x \
+++			| xgate \
+++			| xps100 \
+++			| xstormy16 \
+++			| xtensa* \
+++			| ymp \
+++			| z80 \
+++			| z8k)
+++				;;
+++
+++			*)
+++				echo "Invalid configuration '$1': machine '$cpu-$vendor' not recognized" 1>&2
+++				exit 1
+++				;;
+++		esac
++ 		;;
++ esac
++ 
++ # Here we canonicalize certain aliases for manufacturers.
++-case $basic_machine in
++-	*-digital*)
++-		basic_machine=`echo "$basic_machine" | sed 's/digital.*/dec/'`
+++case $vendor in
+++	digital*)
+++		vendor=dec
++ 		;;
++-	*-commodore*)
++-		basic_machine=`echo "$basic_machine" | sed 's/commodore.*/cbm/'`
+++	commodore*)
+++		vendor=cbm
++ 		;;
++ 	*)
++ 		;;
++@@ -1360,209 +1491,247 @@ esac
++ 
++ # Decode manufacturer-specific aliases for certain operating systems.
++ 
++-if [ x$os != x ]
+++if test x"$basic_os" != x
++ then
+++
+++# First recognize some ad-hoc cases, or perhaps split kernel-os, or else just
+++# set os.
+++obj=
+++case $basic_os in
+++	gnu/linux*)
+++		kernel=linux
+++		os=`echo "$basic_os" | sed -e 's|gnu/linux|gnu|'`
+++		;;
+++	os2-emx)
+++		kernel=os2
+++		os=`echo "$basic_os" | sed -e 's|os2-emx|emx|'`
+++		;;
+++	nto-qnx*)
+++		kernel=nto
+++		os=`echo "$basic_os" | sed -e 's|nto-qnx|qnx|'`
+++		;;
+++	*-*)
+++		saved_IFS=$IFS
+++		IFS="-" read kernel os <<EOF
+++$basic_os
+++EOF
+++		IFS=$saved_IFS
+++		;;
+++	# Default OS when just kernel was specified
+++	nto*)
+++		kernel=nto
+++		os=`echo "$basic_os" | sed -e 's|nto|qnx|'`
+++		;;
+++	linux*)
+++		kernel=linux
+++		os=`echo "$basic_os" | sed -e 's|linux|gnu|'`
+++		;;
+++	managarm*)
+++		kernel=managarm
+++		os=`echo "$basic_os" | sed -e 's|managarm|mlibc|'`
+++		;;
+++	*)
+++		kernel=
+++		os=$basic_os
+++		;;
+++esac
+++
+++# Now, normalize the OS (knowing we just have one component, it's not a kernel,
+++# etc.)
++ case $os in
++ 	# First match some system type aliases that might get confused
++ 	# with valid system types.
++-	# -solaris* is a basic system type, with this one exception.
++-	-auroraux)
++-		os=-auroraux
+++	# solaris* is a basic system type, with this one exception.
+++	auroraux)
+++		os=auroraux
+++		;;
+++	bluegene*)
+++		os=cnk
+++		;;
+++	solaris1 | solaris1.*)
+++		os=`echo "$os" | sed -e 's|solaris1|sunos4|'`
+++		;;
+++	solaris)
+++		os=solaris2
+++		;;
+++	unixware*)
+++		os=sysv4.2uw
++ 		;;
++-	-solaris1 | -solaris1.*)
++-		os=`echo $os | sed -e 's|solaris1|sunos4|'`
+++	# The marketing names for NeXT's operating systems were
+++	# NeXTSTEP, NeXTSTEP 2, OpenSTEP 3, OpenSTEP 4.  'openstep' is
+++	# mapped to 'openstep3', but 'openstep1' and 'openstep2' are
+++	# mapped to 'nextstep' and 'nextstep2', consistent with the
+++	# treatment of SunOS/Solaris.
+++	ns | ns1 | nextstep | nextstep1 | openstep1)
+++		os=nextstep
++ 		;;
++-	-solaris)
++-		os=-solaris2
+++	ns2 | nextstep2 | openstep2)
+++		os=nextstep2
++ 		;;
++-	-unixware*)
++-		os=-sysv4.2uw
+++	ns3 | nextstep3 | openstep | openstep3)
+++		os=openstep3
++ 		;;
++-	-gnu/linux*)
++-		os=`echo $os | sed -e 's|gnu/linux|linux-gnu|'`
+++	ns4 | nextstep4 | openstep4)
+++		os=openstep4
++ 		;;
++ 	# es1800 is here to avoid being matched by es* (a different OS)
++-	-es1800*)
++-		os=-ose
+++	es1800*)
+++		os=ose
++ 		;;
++-	# Now accept the basic system types.
++-	# The portable systems comes first.
++-	# Each alternative MUST end in a * to match a version number.
++-	# -sysv* is not here because it comes later, after sysvr4.
++-	-gnu* | -bsd* | -mach* | -minix* | -genix* | -ultrix* | -irix* \
++-	      | -*vms* | -sco* | -esix* | -isc* | -aix* | -cnk* | -sunos | -sunos[34]*\
++-	      | -hpux* | -unos* | -osf* | -luna* | -dgux* | -auroraux* | -solaris* \
++-	      | -sym* | -kopensolaris* | -plan9* \
++-	      | -amigaos* | -amigados* | -msdos* | -newsos* | -unicos* | -aof* \
++-	      | -aos* | -aros* | -cloudabi* | -sortix* \
++-	      | -nindy* | -vxsim* | -vxworks* | -ebmon* | -hms* | -mvs* \
++-	      | -clix* | -riscos* | -uniplus* | -iris* | -rtu* | -xenix* \
++-	      | -hiux* | -knetbsd* | -mirbsd* | -netbsd* \
++-	      | -bitrig* | -openbsd* | -solidbsd* | -libertybsd* \
++-	      | -ekkobsd* | -kfreebsd* | -freebsd* | -riscix* | -lynxos* \
++-	      | -bosx* | -nextstep* | -cxux* | -aout* | -elf* | -oabi* \
++-	      | -ptx* | -coff* | -ecoff* | -winnt* | -domain* | -vsta* \
++-	      | -udi* | -eabi* | -lites* | -ieee* | -go32* | -aux* | -hcos* \
++-	      | -chorusos* | -chorusrdb* | -cegcc* | -glidix* \
++-	      | -cygwin* | -msys* | -pe* | -psos* | -moss* | -proelf* | -rtems* \
++-	      | -midipix* | -mingw32* | -mingw64* | -linux-gnu* | -linux-android* \
++-	      | -linux-newlib* | -linux-musl* | -linux-uclibc* \
++-	      | -uxpv* | -beos* | -mpeix* | -udk* | -moxiebox* \
++-	      | -interix* | -uwin* | -mks* | -rhapsody* | -darwin* \
++-	      | -openstep* | -oskit* | -conix* | -pw32* | -nonstopux* \
++-	      | -storm-chaos* | -tops10* | -tenex* | -tops20* | -its* \
++-	      | -os2* | -vos* | -palmos* | -uclinux* | -nucleus* \
++-	      | -morphos* | -superux* | -rtmk* | -windiss* \
++-	      | -powermax* | -dnix* | -nx6 | -nx7 | -sei* | -dragonfly* \
++-	      | -skyos* | -haiku* | -rdos* | -toppers* | -drops* | -es* \
++-	      | -onefs* | -tirtos* | -phoenix* | -fuchsia* | -redox* | -bme* \
++-	      | -midnightbsd*)
++-	# Remember, each alternative MUST END IN *, to match a version number.
++-		;;
++-	-qnx*)
++-		case $basic_machine in
++-		    x86-* | i*86-*)
++-			;;
++-		    *)
++-			os=-nto$os
++-			;;
++-		esac
+++	# Some version numbers need modification
+++	chorusos*)
+++		os=chorusos
++ 		;;
++-	-nto-qnx*)
+++	isc)
+++		os=isc2.2
++ 		;;
++-	-nto*)
++-		os=`echo $os | sed -e 's|nto|nto-qnx|'`
+++	sco6)
+++		os=sco5v6
++ 		;;
++-	-sim | -xray | -os68k* | -v88r* \
++-	      | -windows* | -osx | -abug | -netware* | -os9* \
++-	      | -macos* | -mpw* | -magic* | -mmixware* | -mon960* | -lnews*)
+++	sco5)
+++		os=sco3.2v5
++ 		;;
++-	-mac*)
++-		os=`echo "$os" | sed -e 's|mac|macos|'`
+++	sco4)
+++		os=sco3.2v4
++ 		;;
++-	-linux-dietlibc)
++-		os=-linux-dietlibc
+++	sco3.2.[4-9]*)
+++		os=`echo "$os" | sed -e 's/sco3.2./sco3.2v/'`
++ 		;;
++-	-linux*)
++-		os=`echo $os | sed -e 's|linux|linux-gnu|'`
+++	sco*v* | scout)
+++		# Don't match below
++ 		;;
++-	-sunos5*)
++-		os=`echo "$os" | sed -e 's|sunos5|solaris2|'`
+++	sco*)
+++		os=sco3.2v2
++ 		;;
++-	-sunos6*)
++-		os=`echo "$os" | sed -e 's|sunos6|solaris3|'`
+++	psos*)
+++		os=psos
+++		;;
+++	qnx*)
+++		os=qnx
+++		;;
+++	hiux*)
+++		os=hiuxwe2
+++		;;
+++	lynx*178)
+++		os=lynxos178
++ 		;;
++-	-opened*)
++-		os=-openedition
+++	lynx*5)
+++		os=lynxos5
++ 		;;
++-	-os400*)
++-		os=-os400
+++	lynxos*)
+++		# don't get caught up in next wildcard
++ 		;;
++-	-wince*)
++-		os=-wince
+++	lynx*)
+++		os=lynxos
++ 		;;
++-	-utek*)
++-		os=-bsd
+++	mac[0-9]*)
+++		os=`echo "$os" | sed -e 's|mac|macos|'`
++ 		;;
++-	-dynix*)
++-		os=-bsd
+++	opened*)
+++		os=openedition
++ 		;;
++-	-acis*)
++-		os=-aos
+++	os400*)
+++		os=os400
++ 		;;
++-	-atheos*)
++-		os=-atheos
+++	sunos5*)
+++		os=`echo "$os" | sed -e 's|sunos5|solaris2|'`
++ 		;;
++-	-syllable*)
++-		os=-syllable
+++	sunos6*)
+++		os=`echo "$os" | sed -e 's|sunos6|solaris3|'`
++ 		;;
++-	-386bsd)
++-		os=-bsd
+++	wince*)
+++		os=wince
++ 		;;
++-	-ctix* | -uts*)
++-		os=-sysv
+++	utek*)
+++		os=bsd
+++		vendor=`echo "$vendor" | sed -e 's|^unknown$|tektronix|'`
++ 		;;
++-	-nova*)
++-		os=-rtmk-nova
+++	dynix*)
+++		os=bsd
++ 		;;
++-	-ns2)
++-		os=-nextstep2
+++	acis*)
+++		os=aos
++ 		;;
++-	-nsk*)
++-		os=-nsk
+++	atheos*)
+++		os=atheos
++ 		;;
++-	# Preserve the version number of sinix5.
++-	-sinix5.*)
++-		os=`echo $os | sed -e 's|sinix|sysv|'`
+++	syllable*)
+++		os=syllable
++ 		;;
++-	-sinix*)
++-		os=-sysv4
+++	386bsd)
+++		os=bsd
+++		;;
+++	ctix*)
+++		os=sysv
+++		vendor=`echo "$vendor" | sed -e 's|^unknown$|convergent|'`
+++		;;
+++	uts*)
+++		os=sysv
+++		;;
+++	nova*)
+++		kernel=rtmk
+++		os=nova
++ 		;;
++-	-tpf*)
++-		os=-tpf
+++	# Preserve the version number of sinix5.
+++	sinix5.*)
+++		os=`echo "$os" | sed -e 's|sinix|sysv|'`
+++		vendor=`echo "$vendor" | sed -e 's|^unknown$|sni|'`
++ 		;;
++-	-triton*)
++-		os=-sysv3
+++	sinix*)
+++		os=sysv4
+++		vendor=`echo "$vendor" | sed -e 's|^unknown$|sni|'`
++ 		;;
++-	-oss*)
++-		os=-sysv3
+++	tpf*)
+++		os=tpf
++ 		;;
++-	-svr4*)
++-		os=-sysv4
+++	triton*)
+++		os=sysv3
++ 		;;
++-	-svr3)
++-		os=-sysv3
+++	oss*)
+++		os=sysv3
++ 		;;
++-	-sysvr4)
++-		os=-sysv4
+++	svr4*)
+++		os=sysv4
++ 		;;
++-	# This must come after -sysvr4.
++-	-sysv*)
+++	svr3)
+++		os=sysv3
++ 		;;
++-	-ose*)
++-		os=-ose
+++	sysvr4)
+++		os=sysv4
++ 		;;
++-	-*mint | -mint[0-9]* | -*MiNT | -MiNT[0-9]*)
++-		os=-mint
+++	ose*)
+++		os=ose
++ 		;;
++-	-zvmoe)
++-		os=-zvmoe
+++	*mint | mint[0-9]* | *MiNT | MiNT[0-9]*)
+++		os=mint
++ 		;;
++-	-dicos*)
++-		os=-dicos
+++	dicos*)
+++		os=dicos
++ 		;;
++-	-pikeos*)
+++	pikeos*)
++ 		# Until real need of OS specific support for
++ 		# particular features comes up, bare metal
++ 		# configurations are quite functional.
++-		case $basic_machine in
+++		case $cpu in
++ 		    arm*)
++-			os=-eabi
+++			os=eabi
++ 			;;
++ 		    *)
++-			os=-elf
+++			os=
+++			obj=elf
++ 			;;
++ 		esac
++ 		;;
++-	-nacl*)
++-		;;
++-	-ios)
++-		;;
++-	-none)
++-		;;
++-	-*-eabi)
++-		case $basic_machine in
++-		    arm*)
++-			;;
++-		esac
+++	aout* | coff* | elf* | pe*)
+++		# These are machine code file formats, not OSes
+++		obj=$os
+++		os=
++ 		;;
++ 	*)
++-		# Get rid of the `-' at the beginning of $os.
++-		os=`echo $os | sed 's/[^-]*-//'`
++-		echo Invalid configuration \`"$1"\': system \`"$os"\' not recognized 1>&2
++-		exit 1
+++		# No normalization, but not necessarily accepted, that comes below.
++ 		;;
++ esac
+++
++ else
++ 
++ # Here we handle the default operating systems that come with various machines.
++@@ -1575,254 +1744,606 @@ else
++ # will signal an error saying that MANUFACTURER isn't an operating
++ # system, and we'll never get to this point.
++ 
++-case $basic_machine in
+++kernel=
+++obj=
+++case $cpu-$vendor in
++ 	score-*)
++-		os=-elf
+++		os=
+++		obj=elf
++ 		;;
++ 	spu-*)
++-		os=-elf
+++		os=
+++		obj=elf
++ 		;;
++ 	*-acorn)
++-		os=-riscix1.2
+++		os=riscix1.2
++ 		;;
++ 	arm*-rebel)
++-		os=-linux
+++		kernel=linux
+++		os=gnu
++ 		;;
++ 	arm*-semi)
++-		os=-aout
+++		os=
+++		obj=aout
++ 		;;
++ 	c4x-* | tic4x-*)
++-		os=-coff
+++		os=
+++		obj=coff
++ 		;;
++ 	c8051-*)
++-		os=-elf
+++		os=
+++		obj=elf
+++		;;
+++	clipper-intergraph)
+++		os=clix
++ 		;;
++ 	hexagon-*)
++-		os=-elf
+++		os=
+++		obj=elf
++ 		;;
++ 	tic54x-*)
++-		os=-coff
+++		os=
+++		obj=coff
++ 		;;
++ 	tic55x-*)
++-		os=-coff
+++		os=
+++		obj=coff
++ 		;;
++ 	tic6x-*)
++-		os=-coff
+++		os=
+++		obj=coff
++ 		;;
++ 	# This must come before the *-dec entry.
++ 	pdp10-*)
++-		os=-tops20
+++		os=tops20
++ 		;;
++ 	pdp11-*)
++-		os=-none
+++		os=none
++ 		;;
++ 	*-dec | vax-*)
++-		os=-ultrix4.2
+++		os=ultrix4.2
++ 		;;
++ 	m68*-apollo)
++-		os=-domain
+++		os=domain
++ 		;;
++ 	i386-sun)
++-		os=-sunos4.0.2
+++		os=sunos4.0.2
++ 		;;
++ 	m68000-sun)
++-		os=-sunos3
+++		os=sunos3
++ 		;;
++ 	m68*-cisco)
++-		os=-aout
+++		os=
+++		obj=aout
++ 		;;
++ 	mep-*)
++-		os=-elf
+++		os=
+++		obj=elf
+++		;;
+++	# The -sgi and -siemens entries must be before the mips- entry
+++	# or we get the wrong os.
+++	*-sgi)
+++		os=irix
+++		;;
+++	*-siemens)
+++		os=sysv4
++ 		;;
++ 	mips*-cisco)
++-		os=-elf
+++		os=
+++		obj=elf
++ 		;;
++-	mips*-*)
++-		os=-elf
+++	mips*-*|nanomips*-*)
+++		os=
+++		obj=elf
++ 		;;
++ 	or32-*)
++-		os=-coff
+++		os=
+++		obj=coff
++ 		;;
++-	*-tti)	# must be before sparc entry or we get the wrong os.
++-		os=-sysv3
+++	# This must be before the sparc-* entry or we get the wrong os.
+++	*-tti)
+++		os=sysv3
++ 		;;
++ 	sparc-* | *-sun)
++-		os=-sunos4.1.1
+++		os=sunos4.1.1
++ 		;;
++ 	pru-*)
++-		os=-elf
+++		os=
+++		obj=elf
++ 		;;
++ 	*-be)
++-		os=-beos
+++		os=beos
++ 		;;
++ 	*-ibm)
++-		os=-aix
+++		os=aix
++ 		;;
++ 	*-knuth)
++-		os=-mmixware
+++		os=mmixware
++ 		;;
++ 	*-wec)
++-		os=-proelf
+++		os=proelf
++ 		;;
++ 	*-winbond)
++-		os=-proelf
+++		os=proelf
++ 		;;
++ 	*-oki)
++-		os=-proelf
+++		os=proelf
++ 		;;
++ 	*-hp)
++-		os=-hpux
+++		os=hpux
++ 		;;
++ 	*-hitachi)
++-		os=-hiux
+++		os=hiuxwe2
++ 		;;
++ 	i860-* | *-att | *-ncr | *-altos | *-motorola | *-convergent)
++-		os=-sysv
+++		os=sysv
++ 		;;
++ 	*-cbm)
++-		os=-amigaos
+++		os=amigaos
++ 		;;
++ 	*-dg)
++-		os=-dgux
+++		os=dgux
++ 		;;
++ 	*-dolphin)
++-		os=-sysv3
+++		os=sysv3
++ 		;;
++ 	m68k-ccur)
++-		os=-rtu
+++		os=rtu
++ 		;;
++ 	m88k-omron*)
++-		os=-luna
+++		os=luna
++ 		;;
++ 	*-next)
++-		os=-nextstep
+++		os=nextstep
++ 		;;
++ 	*-sequent)
++-		os=-ptx
+++		os=ptx
++ 		;;
++ 	*-crds)
++-		os=-unos
+++		os=unos
++ 		;;
++ 	*-ns)
++-		os=-genix
+++		os=genix
++ 		;;
++ 	i370-*)
++-		os=-mvs
+++		os=mvs
++ 		;;
++ 	*-gould)
++-		os=-sysv
+++		os=sysv
++ 		;;
++ 	*-highlevel)
++-		os=-bsd
+++		os=bsd
++ 		;;
++ 	*-encore)
++-		os=-bsd
++-		;;
++-	*-sgi)
++-		os=-irix
++-		;;
++-	*-siemens)
++-		os=-sysv4
+++		os=bsd
++ 		;;
++ 	*-masscomp)
++-		os=-rtu
+++		os=rtu
++ 		;;
++ 	f30[01]-fujitsu | f700-fujitsu)
++-		os=-uxpv
+++		os=uxpv
++ 		;;
++ 	*-rom68k)
++-		os=-coff
+++		os=
+++		obj=coff
++ 		;;
++ 	*-*bug)
++-		os=-coff
+++		os=
+++		obj=coff
++ 		;;
++ 	*-apple)
++-		os=-macos
+++		os=macos
++ 		;;
++ 	*-atari*)
++-		os=-mint
+++		os=mint
+++		;;
+++	*-wrs)
+++		os=vxworks
++ 		;;
++ 	*)
++-		os=-none
+++		os=none
++ 		;;
++ esac
+++
++ fi
++ 
+++# Now, validate our (potentially fixed-up) individual pieces (OS, OBJ).
+++
+++case $os in
+++	# Sometimes we do "kernel-libc", so those need to count as OSes.
+++	llvm* | musl* | newlib* | relibc* | uclibc*)
+++		;;
+++	# Likewise for "kernel-abi"
+++	eabi* | gnueabi*)
+++		;;
+++	# VxWorks passes extra cpu info in the 4th filed.
+++	simlinux | simwindows | spe)
+++		;;
+++	# See `case $cpu-$os` validation below
+++	ghcjs)
+++		;;
+++	# Now accept the basic system types.
+++	# Each alternative MUST end in a * to match a version number.
+++	  abug \
+++	| aix* \
+++	| amdhsa* \
+++	| amigados* \
+++	| amigaos* \
+++	| android* \
+++	| aof* \
+++	| aos* \
+++	| aros* \
+++	| atheos* \
+++	| auroraux* \
+++	| aux* \
+++	| beos* \
+++	| bitrig* \
+++	| bme* \
+++	| bosx* \
+++	| bsd* \
+++	| cegcc* \
+++	| chorusos* \
+++	| chorusrdb* \
+++	| clix* \
+++	| cloudabi* \
+++	| cnk* \
+++	| conix* \
+++	| cos* \
+++	| cxux* \
+++	| cygwin* \
+++	| darwin* \
+++	| dgux* \
+++	| dicos* \
+++	| dnix* \
+++	| domain* \
+++	| dragonfly* \
+++	| drops* \
+++	| ebmon* \
+++	| ecoff* \
+++	| ekkobsd* \
+++	| emscripten* \
+++	| emx* \
+++	| es* \
+++	| fiwix* \
+++	| freebsd* \
+++	| fuchsia* \
+++	| genix* \
+++	| genode* \
+++	| glidix* \
+++	| gnu* \
+++	| go32* \
+++	| haiku* \
+++	| hcos* \
+++	| hiux* \
+++	| hms* \
+++	| hpux* \
+++	| ieee* \
+++	| interix* \
+++	| ios* \
+++	| iris* \
+++	| irix* \
+++	| ironclad* \
+++	| isc* \
+++	| its* \
+++	| l4re* \
+++	| libertybsd* \
+++	| lites* \
+++	| lnews* \
+++	| luna* \
+++	| lynxos* \
+++	| mach* \
+++	| macos* \
+++	| magic* \
+++	| mbr* \
+++	| midipix* \
+++	| midnightbsd* \
+++	| mingw32* \
+++	| mingw64* \
+++	| minix* \
+++	| mint* \
+++	| mirbsd* \
+++	| mks* \
+++	| mlibc* \
+++	| mmixware* \
+++	| mon960* \
+++	| morphos* \
+++	| moss* \
+++	| moxiebox* \
+++	| mpeix* \
+++	| mpw* \
+++	| msdos* \
+++	| msys* \
+++	| mvs* \
+++	| nacl* \
+++	| netbsd* \
+++	| netware* \
+++	| newsos* \
+++	| nextstep* \
+++	| nindy* \
+++	| nonstopux* \
+++	| nova* \
+++	| nsk* \
+++	| nucleus* \
+++	| nx6 \
+++	| nx7 \
+++	| oabi* \
+++	| ohos* \
+++	| onefs* \
+++	| openbsd* \
+++	| openedition* \
+++	| openstep* \
+++	| os108* \
+++	| os2* \
+++	| os400* \
+++	| os68k* \
+++	| os9* \
+++	| ose* \
+++	| osf* \
+++	| oskit* \
+++	| osx* \
+++	| palmos* \
+++	| phoenix* \
+++	| plan9* \
+++	| powermax* \
+++	| powerunix* \
+++	| proelf* \
+++	| psos* \
+++	| psp* \
+++	| ptx* \
+++	| pw32* \
+++	| qnx* \
+++	| rdos* \
+++	| redox* \
+++	| rhapsody* \
+++	| riscix* \
+++	| riscos* \
+++	| rtems* \
+++	| rtmk* \
+++	| rtu* \
+++	| scout* \
+++	| secbsd* \
+++	| sei* \
+++	| serenity* \
+++	| sim* \
+++	| skyos* \
+++	| solaris* \
+++	| solidbsd* \
+++	| sortix* \
+++	| storm-chaos* \
+++	| sunos \
+++	| sunos[34]* \
+++	| superux* \
+++	| syllable* \
+++	| sym* \
+++	| sysv* \
+++	| tenex* \
+++	| tirtos* \
+++	| toppers* \
+++	| tops10* \
+++	| tops20* \
+++	| tpf* \
+++	| tvos* \
+++	| twizzler* \
+++	| uclinux* \
+++	| udi* \
+++	| udk* \
+++	| ultrix* \
+++	| unicos* \
+++	| uniplus* \
+++	| unleashed* \
+++	| unos* \
+++	| uwin* \
+++	| uxpv* \
+++	| v88r* \
+++	|*vms* \
+++	| vos* \
+++	| vsta* \
+++	| vxsim* \
+++	| vxworks* \
+++	| wasi* \
+++	| watchos* \
+++	| wince* \
+++	| windiss* \
+++	| windows* \
+++	| winnt* \
+++	| xenix* \
+++	| xray* \
+++	| zephyr* \
+++	| zvmoe* )
+++		;;
+++	# This one is extra strict with allowed versions
+++	sco3.2v2 | sco3.2v[4-9]* | sco5v6*)
+++		# Don't forget version if it is 3.2v4 or newer.
+++		;;
+++	# This refers to builds using the UEFI calling convention
+++	# (which depends on the architecture) and PE file format.
+++	# Note that this is both a different calling convention and
+++	# different file format than that of GNU-EFI
+++	# (x86_64-w64-mingw32).
+++	uefi)
+++		;;
+++	none)
+++		;;
+++	kernel* | msvc* )
+++		# Restricted further below
+++		;;
+++	'')
+++		if test x"$obj" = x
+++		then
+++			echo "Invalid configuration '$1': Blank OS only allowed with explicit machine code file format" 1>&2
+++		fi
+++		;;
+++	*)
+++		echo "Invalid configuration '$1': OS '$os' not recognized" 1>&2
+++		exit 1
+++		;;
+++esac
+++
+++case $obj in
+++	aout* | coff* | elf* | pe*)
+++		;;
+++	'')
+++		# empty is fine
+++		;;
+++	*)
+++		echo "Invalid configuration '$1': Machine code format '$obj' not recognized" 1>&2
+++		exit 1
+++		;;
+++esac
+++
+++# Here we handle the constraint that a (synthetic) cpu and os are
+++# valid only in combination with each other and nowhere else.
+++case $cpu-$os in
+++	# The "javascript-unknown-ghcjs" triple is used by GHC; we
+++	# accept it here in order to tolerate that, but reject any
+++	# variations.
+++	javascript-ghcjs)
+++		;;
+++	javascript-* | *-ghcjs)
+++		echo "Invalid configuration '$1': cpu '$cpu' is not valid with os '$os$obj'" 1>&2
+++		exit 1
+++		;;
+++esac
+++
+++# As a final step for OS-related things, validate the OS-kernel combination
+++# (given a valid OS), if there is a kernel.
+++case $kernel-$os-$obj in
+++	linux-gnu*- | linux-android*- | linux-dietlibc*- | linux-llvm*- \
+++		    | linux-mlibc*- | linux-musl*- | linux-newlib*- \
+++		    | linux-relibc*- | linux-uclibc*- | linux-ohos*- )
+++		;;
+++	uclinux-uclibc*- | uclinux-gnu*- )
+++		;;
+++	managarm-mlibc*- | managarm-kernel*- )
+++		;;
+++	windows*-msvc*-)
+++		;;
+++	-dietlibc*- | -llvm*- | -mlibc*- | -musl*- | -newlib*- | -relibc*- \
+++		    | -uclibc*- )
+++		# These are just libc implementations, not actual OSes, and thus
+++		# require a kernel.
+++		echo "Invalid configuration '$1': libc '$os' needs explicit kernel." 1>&2
+++		exit 1
+++		;;
+++	-kernel*- )
+++		echo "Invalid configuration '$1': '$os' needs explicit kernel." 1>&2
+++		exit 1
+++		;;
+++	*-kernel*- )
+++		echo "Invalid configuration '$1': '$kernel' does not support '$os'." 1>&2
+++		exit 1
+++		;;
+++	*-msvc*- )
+++		echo "Invalid configuration '$1': '$os' needs 'windows'." 1>&2
+++		exit 1
+++		;;
+++	kfreebsd*-gnu*- | knetbsd*-gnu*- | netbsd*-gnu*- | kopensolaris*-gnu*-)
+++		;;
+++	vxworks-simlinux- | vxworks-simwindows- | vxworks-spe-)
+++		;;
+++	nto-qnx*-)
+++		;;
+++	os2-emx-)
+++		;;
+++	rtmk-nova-)
+++		;;
+++	*-eabi*- | *-gnueabi*-)
+++		;;
+++	none--*)
+++		# None (no kernel, i.e. freestanding / bare metal),
+++		# can be paired with an machine code file format
+++		;;
+++	-*-)
+++		# Blank kernel with real OS is always fine.
+++		;;
+++	--*)
+++		# Blank kernel and OS with real machine code file format is always fine.
+++		;;
+++	*-*-*)
+++		echo "Invalid configuration '$1': Kernel '$kernel' not known to work with OS '$os'." 1>&2
+++		exit 1
+++		;;
+++esac
+++
++ # Here we handle the case where we know the os, and the CPU type, but not the
++ # manufacturer.  We pick the logical manufacturer.
++-vendor=unknown
++-case $basic_machine in
++-	*-unknown)
++-		case $os in
++-			-riscix*)
+++case $vendor in
+++	unknown)
+++		case $cpu-$os in
+++			*-riscix*)
++ 				vendor=acorn
++ 				;;
++-			-sunos*)
+++			*-sunos* | *-solaris*)
++ 				vendor=sun
++ 				;;
++-			-cnk*|-aix*)
+++			*-cnk* | *-aix*)
++ 				vendor=ibm
++ 				;;
++-			-beos*)
+++			*-beos*)
++ 				vendor=be
++ 				;;
++-			-hpux*)
+++			*-hpux*)
++ 				vendor=hp
++ 				;;
++-			-mpeix*)
+++			*-mpeix*)
++ 				vendor=hp
++ 				;;
++-			-hiux*)
+++			*-hiux*)
++ 				vendor=hitachi
++ 				;;
++-			-unos*)
+++			*-unos*)
++ 				vendor=crds
++ 				;;
++-			-dgux*)
+++			*-dgux*)
++ 				vendor=dg
++ 				;;
++-			-luna*)
+++			*-luna*)
++ 				vendor=omron
++ 				;;
++-			-genix*)
+++			*-genix*)
++ 				vendor=ns
++ 				;;
++-			-mvs* | -opened*)
+++			*-clix*)
+++				vendor=intergraph
+++				;;
+++			*-mvs* | *-opened*)
+++				vendor=ibm
+++				;;
+++			*-os400*)
++ 				vendor=ibm
++ 				;;
++-			-os400*)
+++			s390-* | s390x-*)
++ 				vendor=ibm
++ 				;;
++-			-ptx*)
+++			*-ptx*)
++ 				vendor=sequent
++ 				;;
++-			-tpf*)
+++			*-tpf*)
++ 				vendor=ibm
++ 				;;
++-			-vxsim* | -vxworks* | -windiss*)
+++			*-vxsim* | *-vxworks* | *-windiss*)
++ 				vendor=wrs
++ 				;;
++-			-aux*)
+++			*-aux*)
++ 				vendor=apple
++ 				;;
++-			-hms*)
+++			*-hms*)
++ 				vendor=hitachi
++ 				;;
++-			-mpw* | -macos*)
+++			*-mpw* | *-macos*)
++ 				vendor=apple
++ 				;;
++-			-*mint | -mint[0-9]* | -*MiNT | -MiNT[0-9]*)
+++			*-*mint | *-mint[0-9]* | *-*MiNT | *-MiNT[0-9]*)
++ 				vendor=atari
++ 				;;
++-			-vos*)
+++			*-vos*)
++ 				vendor=stratus
++ 				;;
++ 		esac
++-		basic_machine=`echo "$basic_machine" | sed "s/unknown/$vendor/"`
++ 		;;
++ esac
++ 
++-echo "$basic_machine$os"
+++echo "$cpu-$vendor${kernel:+-$kernel}${os:+-$os}${obj:+-$obj}"
++ exit
++ 
++ # Local variables:
+diff --git a/external/libcmis/UnpackedTarball_libcmis.mk b/external/libcmis/UnpackedTarball_libcmis.mk
+index d224ed603..ccda316b0 100644
+--- a/external/libcmis/UnpackedTarball_libcmis.mk
++++ b/external/libcmis/UnpackedTarball_libcmis.mk
+@@ -21,6 +21,7 @@ $(eval $(call gb_UnpackedTarball_add_patches,libcmis, \
+ 	external/libcmis/libcmis_gdrive.patch.1 \
+ 	external/libcmis/libcmis-boost-string.patch \
+ 	external/libcmis/0002-HttpSession-add-a-callback-that-can-be-used-to-confi.patch \
++	external/libcmis/0003-update-config.patch \
+ ))
+ 
+ # vim: set noet sw=4 ts=4:
+diff --git a/external/nss/ExternalProject_nss.mk b/external/nss/ExternalProject_nss.mk
+index cc6c19bdb..48fd9fec6 100644
+--- a/external/nss/ExternalProject_nss.mk
++++ b/external/nss/ExternalProject_nss.mk
+@@ -58,6 +58,7 @@ $(call gb_ExternalProject_get_state_target,nss,build): \
+ 		$(if $(filter ANDROID FREEBSD LINUX MACOSX,$(OS)),$(if $(filter X86_64,$(CPUNAME)),USE_64=1)) \
+ 		$(if $(filter AARCH64,$(CPUNAME)),USE_64=1 CPU_ARCH=aarch64) \
+ 		$(if $(filter POWERPC64,$(CPUNAME)),USE_64=1 CPU_ARCH=ppc64le) \
++		$(if $(filter LOONGARCH64,$(CPUNAME)),USE_64=1 CPU_ARCH=loongarch64) \
+ 		$(if $(filter MACOSX,$(OS)),\
+ 			MACOS_SDK_DIR=$(MACOSX_SDK_PATH) \
+ 			NSS_USE_SYSTEM_SQLITE=1) \
+diff --git a/external/python3/ExternalPackage_python3.mk b/external/python3/ExternalPackage_python3.mk
+index 241233914..51c5d1c7a 100644
+--- a/external/python3/ExternalPackage_python3.mk
++++ b/external/python3/ExternalPackage_python3.mk
+@@ -16,6 +16,8 @@ ifeq ($(CPUNAME),X86_64)
+ python_arch_subdir=amd64/
+ else ifeq ($(CPUNAME),AARCH64)
+ python_arch_subdir=arm64/
++else ifeq ($(CPUNAME),LOONGARCH64)
++python_arch_subdir=loongarch64/
+ else
+ python_arch_subdir=win32/
+ endif
+@@ -46,14 +48,12 @@ $(eval $(call gb_ExternalPackage_add_file,python3,$(LIBO_BIN_FOLDER)/python.bin,
+ $(eval $(call gb_ExternalPackage_add_file,python3,$(LIBO_BIN_FOLDER)/libpython$(PYTHON_VERSION_MAJOR).$(PYTHON_VERSION_MINOR)$(if $(ENABLE_DBGUTIL),d).so,libpython$(PYTHON_VERSION_MAJOR).$(PYTHON_VERSION_MINOR)$(if $(ENABLE_DBGUTIL),d).so))
+ $(eval $(call gb_ExternalPackage_add_file,python3,$(LIBO_BIN_FOLDER)/libpython$(PYTHON_VERSION_MAJOR).$(PYTHON_VERSION_MINOR)$(if $(ENABLE_DBGUTIL),d).so.1.0,libpython$(PYTHON_VERSION_MAJOR).$(PYTHON_VERSION_MINOR)$(if $(ENABLE_DBGUTIL),d).so))
+ $(eval $(call gb_ExternalPackage_add_file,python3,$(LIBO_BIN_FOLDER)/python.bin-gdb.py,Tools/gdb/libpython.py))
+-
+ # Unfortunately the python build system does not allow to explicitly enable or
+ # disable these, it just tries to build them and then prints which did not
+ # build successfully without stopping; so the build will break on delivering if
+ # one of these failed to build.
+ # Obviously this list should not contain stuff with external dependencies
+ # that may not be available on baseline systems.
+-
+ ifneq ($(OS),AIX)
+ python3_EXTENSION_MODULE_SUFFIX=cpython-$(PYTHON_VERSION_MAJOR).$(PYTHON_VERSION_MINOR)$(if $(ENABLE_DBGUTIL),d)
+ $(eval $(call gb_ExternalPackage_add_files,python3,$(LIBO_BIN_FOLDER)/python-core-$(PYTHON_VERSION)/lib/lib-dynload,\
+@@ -120,11 +120,9 @@ $(eval $(call gb_ExternalPackage_add_files,python3,$(LIBO_BIN_FOLDER)/python-cor
+ 	)\
+ 	LO_lib/_xxsubinterpreters.$(python3_EXTENSION_MODULE_SUFFIX).so \
+ 	LO_lib/_xxtestfuzz.$(python3_EXTENSION_MODULE_SUFFIX).so \
+-	LO_lib/zlib.$(python3_EXTENSION_MODULE_SUFFIX).so \
+ ))
+ endif
+ endif
+-
+ # headers are not delivered, but used from unpacked dir Include/
+ # (+ toplevel for pyconfig.h)
+ 
+@@ -147,6 +145,11 @@ $(eval $(call gb_ExternalPackage_add_files,python3,$(LIBO_BIN_FOLDER)/python-cor
+         LO_lib/_sysconfigdata_$(if $(ENABLE_DBGUTIL),d)_linux_powerpc64le-linux-gnu.py \
+ ))
+ else
++ifeq ($(HOST_PLATFORM),loongarch64-unknown-linux-gnu)
++$(eval $(call gb_ExternalPackage_add_files,python3,$(LIBO_BIN_FOLDER)/python-core-$(PYTHON_VERSION)/lib,\
++        LO_lib/_sysconfigdata__linux_loongarch64-linux-gnu.py \
++))
++else
+ # note: python configure overrides config.guess with something that doesn't
+ # put -pc in its linux platform triplets, so filter that...
+ ifneq ($(OS),WNT)
+@@ -162,6 +165,7 @@ endif
+ endif
+ endif
+ endif
++endif
+ 
+ 
+ # packages not shipped:
+diff --git a/external/python3/README b/external/python3/README
+index edde023af..f6a415a98 100644
+--- a/external/python3/README
++++ b/external/python3/README
+@@ -1 +1,5 @@
+-CPython implementation of Python 3 from http://www.python.org
++修改了逻辑
++由于需要loongarch架构三元组支持，但patch打入方式有问题
++所以将configure、configure.ac这两部分相关的patch手动打入
++将config.guess/sub 更新
++打成xz包
+diff --git a/external/python3/UnpackedTarball_python3.mk b/external/python3/UnpackedTarball_python3.mk
+index 31b6a166e..3b2fbada9 100644
+--- a/external/python3/UnpackedTarball_python3.mk
++++ b/external/python3/UnpackedTarball_python3.mk
+@@ -19,13 +19,10 @@ $(eval $(call gb_UnpackedTarball_fix_end_of_line,python3,\
+ # <https://bugs.python.org/issue44065> "'configure: error: internal configure error for the platform
+ # triplet' on macOS with Clang supporting --print-multiarch:"
+ $(eval $(call gb_UnpackedTarball_add_patches,python3,\
+-	external/python3/i100492-freebsd.patch.1 \
+-	external/python3/python-3.3.0-darwin.patch.1 \
+ 	external/python3/python-3.8-msvc-sdk.patch.1 \
+ 	external/python3/python-3.7.6-msvc-ssl.patch.1 \
+ 	external/python3/python-3.5.4-msvc-disable.patch.1 \
+ 	external/python3/ubsan.patch.0 \
+-	external/python3/python-3.5.tweak.strip.soabi.patch \
+ 	external/python3/darwin.patch.0 \
+ 	external/python3/macos-11.patch.0 \
+ ))
+@@ -42,10 +39,5 @@ $(eval $(call gb_UnpackedTarball_add_patches,python3,\
+ ))
+ endif
+ 
+-ifneq ($(SYSTEM_ZLIB),TRUE)
+-$(eval $(call gb_UnpackedTarball_add_patches,python3, \
+-    external/python3/internal-zlib.patch.0 \
+-))
+-endif
+ 
+ # vim: set noet sw=4 ts=4:
+diff --git a/external/python3/internal-zlib.patch.0 b/external/python3/internal-zlib.patch.0-old
+similarity index 100%
+rename from external/python3/internal-zlib.patch.0
+rename to external/python3/internal-zlib.patch.0-old
+diff --git a/external/python3/python-3.3.0-darwin.patch.1 b/external/python3/python-3.3.0-darwin.patch.1-old
+similarity index 100%
+rename from external/python3/python-3.3.0-darwin.patch.1
+rename to external/python3/python-3.3.0-darwin.patch.1-old
+diff --git a/external/python3/python-3.5.tweak.strip.soabi.patch b/external/python3/python-3.5.tweak.strip.soabi.patch-old
+similarity index 100%
+rename from external/python3/python-3.5.tweak.strip.soabi.patch
+rename to external/python3/python-3.5.tweak.strip.soabi.patch-old
+diff --git a/fontconfig-update-config.patch b/fontconfig-update-config.patch
+new file mode 100644
+index 000000000..edb23b34f
+--- /dev/null
++++ b/fontconfig-update-config.patch
+@@ -0,0 +1,4507 @@
++diff --git a/config.guess b/config.guess
++index b33c9e8..48a6846 100755
++--- a/config.guess
+++++ b/config.guess
++@@ -1,12 +1,14 @@
++ #! /bin/sh
++ # Attempt to guess a canonical system name.
++-#   Copyright 1992-2018 Free Software Foundation, Inc.
+++#   Copyright 1992-2024 Free Software Foundation, Inc.
++ 
++-timestamp='2018-08-29'
+++# shellcheck disable=SC2006,SC2268 # see below for rationale
+++
+++timestamp='2024-07-27'
++ 
++ # This file is free software; you can redistribute it and/or modify it
++ # under the terms of the GNU General Public License as published by
++-# the Free Software Foundation; either version 3 of the License, or
+++# the Free Software Foundation, either version 3 of the License, or
++ # (at your option) any later version.
++ #
++ # This program is distributed in the hope that it will be useful, but
++@@ -27,17 +29,25 @@ timestamp='2018-08-29'
++ # Originally written by Per Bothner; maintained since 2000 by Ben Elliston.
++ #
++ # You can get the latest version of this script from:
++-# https://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.guess
+++# https://git.savannah.gnu.org/cgit/config.git/plain/config.guess
++ #
++ # Please send patches to <config-patches@gnu.org>.
++ 
++ 
+++# The "shellcheck disable" line above the timestamp inhibits complaints
+++# about features and limitations of the classic Bourne shell that were
+++# superseded or lifted in POSIX.  However, this script identifies a wide
+++# variety of pre-POSIX systems that do not have POSIX shells at all, and
+++# even some reasonably current systems (Solaris 10 as case-in-point) still
+++# have a pre-POSIX /bin/sh.
+++
+++
++ me=`echo "$0" | sed -e 's,.*/,,'`
++ 
++ usage="\
++ Usage: $0 [OPTION]
++ 
++-Output the configuration name of the system \`$me' is run on.
+++Output the configuration name of the system '$me' is run on.
++ 
++ Options:
++   -h, --help         print this help, then exit
++@@ -50,13 +60,13 @@ version="\
++ GNU config.guess ($timestamp)
++ 
++ Originally written by Per Bothner.
++-Copyright 1992-2018 Free Software Foundation, Inc.
+++Copyright 1992-2024 Free Software Foundation, Inc.
++ 
++ This is free software; see the source for copying conditions.  There is NO
++ warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."
++ 
++ help="
++-Try \`$me --help' for more information."
+++Try '$me --help' for more information."
++ 
++ # Parse command line
++ while test $# -gt 0 ; do
++@@ -84,24 +94,28 @@ if test $# != 0; then
++   exit 1
++ fi
++ 
+++# Just in case it came from the environment.
+++GUESS=
+++
++ # CC_FOR_BUILD -- compiler used by this script. Note that the use of a
++ # compiler to aid in system detection is discouraged as it requires
++ # temporary files to be created and, as you can see below, it is a
++ # headache to deal with in a portable fashion.
++ 
++-# Historically, `CC_FOR_BUILD' used to be named `HOST_CC'. We still
++-# use `HOST_CC' if defined, but it is deprecated.
+++# Historically, 'CC_FOR_BUILD' used to be named 'HOST_CC'. We still
+++# use 'HOST_CC' if defined, but it is deprecated.
++ 
++ # Portable tmp directory creation inspired by the Autoconf team.
++ 
++ tmp=
++ # shellcheck disable=SC2172
++-trap 'test -z "$tmp" || rm -fr "$tmp"' 1 2 13 15
++-trap 'exitcode=$?; test -z "$tmp" || rm -fr "$tmp"; exit $exitcode' 0
+++trap 'test -z "$tmp" || rm -fr "$tmp"' 0 1 2 13 15
++ 
++ set_cc_for_build() {
+++    # prevent multiple calls if $tmp is already set
+++    test "$tmp" && return 0
++     : "${TMPDIR=/tmp}"
++-    # shellcheck disable=SC2039
+++    # shellcheck disable=SC2039,SC3028
++     { tmp=`(umask 077 && mktemp -d "$TMPDIR/cgXXXXXX") 2>/dev/null` && test -n "$tmp" && test -d "$tmp" ; } ||
++ 	{ test -n "$RANDOM" && tmp=$TMPDIR/cg$$-$RANDOM && (umask 077 && mkdir "$tmp" 2>/dev/null) ; } ||
++ 	{ tmp=$TMPDIR/cg-$$ && (umask 077 && mkdir "$tmp" 2>/dev/null) && echo "Warning: creating insecure temp directory" >&2 ; } ||
++@@ -109,9 +123,9 @@ set_cc_for_build() {
++     dummy=$tmp/dummy
++     case ${CC_FOR_BUILD-},${HOST_CC-},${CC-} in
++ 	,,)    echo "int x;" > "$dummy.c"
++-	       for driver in cc gcc c89 c99 ; do
+++	       for driver in cc gcc c17 c99 c89 ; do
++ 		   if ($driver -c -o "$dummy.o" "$dummy.c") >/dev/null 2>&1 ; then
++-		       CC_FOR_BUILD="$driver"
+++		       CC_FOR_BUILD=$driver
++ 		       break
++ 		   fi
++ 	       done
++@@ -132,40 +146,57 @@ fi
++ 
++ UNAME_MACHINE=`(uname -m) 2>/dev/null` || UNAME_MACHINE=unknown
++ UNAME_RELEASE=`(uname -r) 2>/dev/null` || UNAME_RELEASE=unknown
++-UNAME_SYSTEM=`(uname -s) 2>/dev/null`  || UNAME_SYSTEM=unknown
+++UNAME_SYSTEM=`(uname -s) 2>/dev/null` || UNAME_SYSTEM=unknown
++ UNAME_VERSION=`(uname -v) 2>/dev/null` || UNAME_VERSION=unknown
++ 
++-case "$UNAME_SYSTEM" in
+++case $UNAME_SYSTEM in
++ Linux|GNU|GNU/*)
++-	# If the system lacks a compiler, then just pick glibc.
++-	# We could probably try harder.
++-	LIBC=gnu
+++	LIBC=unknown
++ 
++ 	set_cc_for_build
++ 	cat <<-EOF > "$dummy.c"
+++	#if defined(__ANDROID__)
+++	LIBC=android
+++	#else
++ 	#include <features.h>
++ 	#if defined(__UCLIBC__)
++ 	LIBC=uclibc
++ 	#elif defined(__dietlibc__)
++ 	LIBC=dietlibc
++-	#else
+++	#elif defined(__GLIBC__)
++ 	LIBC=gnu
+++	#elif defined(__LLVM_LIBC__)
+++	LIBC=llvm
+++	#else
+++	#include <stdarg.h>
+++	/* First heuristic to detect musl libc.  */
+++	#ifdef __DEFINED_va_list
+++	LIBC=musl
+++	#endif
+++	#endif
++ 	#endif
++ 	EOF
++-	eval "`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^LIBC' | sed 's, ,,g'`"
+++	cc_set_libc=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^LIBC' | sed 's, ,,g'`
+++	eval "$cc_set_libc"
++ 
++-	# If ldd exists, use it to detect musl libc.
++-	if command -v ldd >/dev/null && \
++-		ldd --version 2>&1 | grep -q ^musl
++-	then
++-	    LIBC=musl
+++	# Second heuristic to detect musl libc.
+++	if [ "$LIBC" = unknown ] &&
+++	   command -v ldd >/dev/null &&
+++	   ldd --version 2>&1 | grep -q ^musl; then
+++		LIBC=musl
+++	fi
+++
+++	# If the system lacks a compiler, then just pick glibc.
+++	# We could probably try harder.
+++	if [ "$LIBC" = unknown ]; then
+++		LIBC=gnu
++ 	fi
++ 	;;
++ esac
++ 
++ # Note: order is significant - the case branches are not exclusive.
++ 
++-case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
+++case $UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION in
++     *:NetBSD:*:*)
++ 	# NetBSD (nbsd) targets should (where applicable) match one or
++ 	# more of the tuples: *-*-netbsdelf*, *-*-netbsdaout*,
++@@ -177,12 +208,12 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++ 	#
++ 	# Note: NetBSD doesn't particularly care about the vendor
++ 	# portion of the name.  We always set it to "unknown".
++-	sysctl="sysctl -n hw.machine_arch"
++ 	UNAME_MACHINE_ARCH=`(uname -p 2>/dev/null || \
++-	    "/sbin/$sysctl" 2>/dev/null || \
++-	    "/usr/sbin/$sysctl" 2>/dev/null || \
+++	    /sbin/sysctl -n hw.machine_arch 2>/dev/null || \
+++	    /usr/sbin/sysctl -n hw.machine_arch 2>/dev/null || \
++ 	    echo unknown)`
++-	case "$UNAME_MACHINE_ARCH" in
+++	case $UNAME_MACHINE_ARCH in
+++	    aarch64eb) machine=aarch64_be-unknown ;;
++ 	    armeb) machine=armeb-unknown ;;
++ 	    arm*) machine=arm-unknown ;;
++ 	    sh3el) machine=shl-unknown ;;
++@@ -191,13 +222,13 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++ 	    earmv*)
++ 		arch=`echo "$UNAME_MACHINE_ARCH" | sed -e 's,^e\(armv[0-9]\).*$,\1,'`
++ 		endian=`echo "$UNAME_MACHINE_ARCH" | sed -ne 's,^.*\(eb\)$,\1,p'`
++-		machine="${arch}${endian}"-unknown
+++		machine=${arch}${endian}-unknown
++ 		;;
++-	    *) machine="$UNAME_MACHINE_ARCH"-unknown ;;
+++	    *) machine=$UNAME_MACHINE_ARCH-unknown ;;
++ 	esac
++ 	# The Operating System including object format, if it has switched
++ 	# to ELF recently (or will in the future) and ABI.
++-	case "$UNAME_MACHINE_ARCH" in
+++	case $UNAME_MACHINE_ARCH in
++ 	    earm*)
++ 		os=netbsdelf
++ 		;;
++@@ -218,7 +249,7 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++ 		;;
++ 	esac
++ 	# Determine ABI tags.
++-	case "$UNAME_MACHINE_ARCH" in
+++	case $UNAME_MACHINE_ARCH in
++ 	    earm*)
++ 		expr='s/^earmv[0-9]/-eabi/;s/eb$//'
++ 		abi=`echo "$UNAME_MACHINE_ARCH" | sed -e "$expr"`
++@@ -229,7 +260,7 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++ 	# thus, need a distinct triplet. However, they do not need
++ 	# kernel version information, so it can be replaced with a
++ 	# suitable tag, in the style of linux-gnu.
++-	case "$UNAME_VERSION" in
+++	case $UNAME_VERSION in
++ 	    Debian*)
++ 		release='-gnu'
++ 		;;
++@@ -240,45 +271,57 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++ 	# Since CPU_TYPE-MANUFACTURER-KERNEL-OPERATING_SYSTEM:
++ 	# contains redundant information, the shorter form:
++ 	# CPU_TYPE-MANUFACTURER-OPERATING_SYSTEM is used.
++-	echo "$machine-${os}${release}${abi-}"
++-	exit ;;
+++	GUESS=$machine-${os}${release}${abi-}
+++	;;
++     *:Bitrig:*:*)
++ 	UNAME_MACHINE_ARCH=`arch | sed 's/Bitrig.//'`
++-	echo "$UNAME_MACHINE_ARCH"-unknown-bitrig"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE_ARCH-unknown-bitrig$UNAME_RELEASE
+++	;;
++     *:OpenBSD:*:*)
++ 	UNAME_MACHINE_ARCH=`arch | sed 's/OpenBSD.//'`
++-	echo "$UNAME_MACHINE_ARCH"-unknown-openbsd"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE_ARCH-unknown-openbsd$UNAME_RELEASE
+++	;;
+++    *:SecBSD:*:*)
+++	UNAME_MACHINE_ARCH=`arch | sed 's/SecBSD.//'`
+++	GUESS=$UNAME_MACHINE_ARCH-unknown-secbsd$UNAME_RELEASE
+++	;;
++     *:LibertyBSD:*:*)
++ 	UNAME_MACHINE_ARCH=`arch | sed 's/^.*BSD\.//'`
++-	echo "$UNAME_MACHINE_ARCH"-unknown-libertybsd"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE_ARCH-unknown-libertybsd$UNAME_RELEASE
+++	;;
++     *:MidnightBSD:*:*)
++-	echo "$UNAME_MACHINE"-unknown-midnightbsd"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-midnightbsd$UNAME_RELEASE
+++	;;
++     *:ekkoBSD:*:*)
++-	echo "$UNAME_MACHINE"-unknown-ekkobsd"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-ekkobsd$UNAME_RELEASE
+++	;;
++     *:SolidBSD:*:*)
++-	echo "$UNAME_MACHINE"-unknown-solidbsd"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-solidbsd$UNAME_RELEASE
+++	;;
+++    *:OS108:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-os108_$UNAME_RELEASE
+++	;;
++     macppc:MirBSD:*:*)
++-	echo powerpc-unknown-mirbsd"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=powerpc-unknown-mirbsd$UNAME_RELEASE
+++	;;
++     *:MirBSD:*:*)
++-	echo "$UNAME_MACHINE"-unknown-mirbsd"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-mirbsd$UNAME_RELEASE
+++	;;
++     *:Sortix:*:*)
++-	echo "$UNAME_MACHINE"-unknown-sortix
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-sortix
+++	;;
+++    *:Twizzler:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-twizzler
+++	;;
++     *:Redox:*:*)
++-	echo "$UNAME_MACHINE"-unknown-redox
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-redox
+++	;;
++     mips:OSF1:*.*)
++-        echo mips-dec-osf1
++-        exit ;;
+++	GUESS=mips-dec-osf1
+++	;;
++     alpha:OSF1:*:*)
+++	# Reset EXIT trap before exiting to avoid spurious non-zero exit code.
+++	trap '' 0
++ 	case $UNAME_RELEASE in
++ 	*4.0)
++ 		UNAME_RELEASE=`/usr/sbin/sizer -v | awk '{print $3}'`
++@@ -292,7 +335,7 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++ 	# covers most systems running today.  This code pipes the CPU
++ 	# types through head -n 1, so we only detect the type of CPU 0.
++ 	ALPHA_CPU_TYPE=`/usr/sbin/psrinfo -v | sed -n -e 's/^  The alpha \(.*\) processor.*$/\1/p' | head -n 1`
++-	case "$ALPHA_CPU_TYPE" in
+++	case $ALPHA_CPU_TYPE in
++ 	    "EV4 (21064)")
++ 		UNAME_MACHINE=alpha ;;
++ 	    "EV4.5 (21064)")
++@@ -329,112 +372,121 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++ 	# A Tn.n version is a released field test version.
++ 	# A Xn.n version is an unreleased experimental baselevel.
++ 	# 1.2 uses "1.2" for uname -r.
++-	echo "$UNAME_MACHINE"-dec-osf"`echo "$UNAME_RELEASE" | sed -e 's/^[PVTX]//' | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz`"
++-	# Reset EXIT trap before exiting to avoid spurious non-zero exit code.
++-	exitcode=$?
++-	trap '' 0
++-	exit $exitcode ;;
+++	OSF_REL=`echo "$UNAME_RELEASE" | sed -e 's/^[PVTX]//' | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz`
+++	GUESS=$UNAME_MACHINE-dec-osf$OSF_REL
+++	;;
++     Amiga*:UNIX_System_V:4.0:*)
++-	echo m68k-unknown-sysv4
++-	exit ;;
+++	GUESS=m68k-unknown-sysv4
+++	;;
++     *:[Aa]miga[Oo][Ss]:*:*)
++-	echo "$UNAME_MACHINE"-unknown-amigaos
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-amigaos
+++	;;
++     *:[Mm]orph[Oo][Ss]:*:*)
++-	echo "$UNAME_MACHINE"-unknown-morphos
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-morphos
+++	;;
++     *:OS/390:*:*)
++-	echo i370-ibm-openedition
++-	exit ;;
+++	GUESS=i370-ibm-openedition
+++	;;
++     *:z/VM:*:*)
++-	echo s390-ibm-zvmoe
++-	exit ;;
+++	GUESS=s390-ibm-zvmoe
+++	;;
++     *:OS400:*:*)
++-	echo powerpc-ibm-os400
++-	exit ;;
+++	GUESS=powerpc-ibm-os400
+++	;;
++     arm:RISC*:1.[012]*:*|arm:riscix:1.[012]*:*)
++-	echo arm-acorn-riscix"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=arm-acorn-riscix$UNAME_RELEASE
+++	;;
++     arm*:riscos:*:*|arm*:RISCOS:*:*)
++-	echo arm-unknown-riscos
++-	exit ;;
+++	GUESS=arm-unknown-riscos
+++	;;
++     SR2?01:HI-UX/MPP:*:* | SR8000:HI-UX/MPP:*:*)
++-	echo hppa1.1-hitachi-hiuxmpp
++-	exit ;;
+++	GUESS=hppa1.1-hitachi-hiuxmpp
+++	;;
++     Pyramid*:OSx*:*:* | MIS*:OSx*:*:* | MIS*:SMP_DC-OSx*:*:*)
++ 	# akee@wpdis03.wpafb.af.mil (Earle F. Ake) contributed MIS and NILE.
++-	if test "`(/bin/universe) 2>/dev/null`" = att ; then
++-		echo pyramid-pyramid-sysv3
++-	else
++-		echo pyramid-pyramid-bsd
++-	fi
++-	exit ;;
+++	case `(/bin/universe) 2>/dev/null` in
+++	    att) GUESS=pyramid-pyramid-sysv3 ;;
+++	    *)   GUESS=pyramid-pyramid-bsd   ;;
+++	esac
+++	;;
++     NILE*:*:*:dcosx)
++-	echo pyramid-pyramid-svr4
++-	exit ;;
+++	GUESS=pyramid-pyramid-svr4
+++	;;
++     DRS?6000:unix:4.0:6*)
++-	echo sparc-icl-nx6
++-	exit ;;
+++	GUESS=sparc-icl-nx6
+++	;;
++     DRS?6000:UNIX_SV:4.2*:7* | DRS?6000:isis:4.2*:7*)
++ 	case `/usr/bin/uname -p` in
++-	    sparc) echo sparc-icl-nx7; exit ;;
++-	esac ;;
+++	    sparc) GUESS=sparc-icl-nx7 ;;
+++	esac
+++	;;
++     s390x:SunOS:*:*)
++-	echo "$UNAME_MACHINE"-ibm-solaris2"`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`"
++-	exit ;;
+++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
+++	GUESS=$UNAME_MACHINE-ibm-solaris2$SUN_REL
+++	;;
++     sun4H:SunOS:5.*:*)
++-	echo sparc-hal-solaris2"`echo "$UNAME_RELEASE"|sed -e 's/[^.]*//'`"
++-	exit ;;
+++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
+++	GUESS=sparc-hal-solaris2$SUN_REL
+++	;;
++     sun4*:SunOS:5.*:* | tadpole*:SunOS:5.*:*)
++-	echo sparc-sun-solaris2"`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`"
++-	exit ;;
+++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
+++	GUESS=sparc-sun-solaris2$SUN_REL
+++	;;
++     i86pc:AuroraUX:5.*:* | i86xen:AuroraUX:5.*:*)
++-	echo i386-pc-auroraux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=i386-pc-auroraux$UNAME_RELEASE
+++	;;
++     i86pc:SunOS:5.*:* | i86xen:SunOS:5.*:*)
++-	UNAME_REL="`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`"
++-	case `isainfo -b` in
++-	    32)
++-		echo i386-pc-solaris2"$UNAME_REL"
++-		;;
++-	    64)
++-		echo x86_64-pc-solaris2"$UNAME_REL"
++-		;;
++-	esac
++-	exit ;;
+++	set_cc_for_build
+++	SUN_ARCH=i386
+++	# If there is a compiler, see if it is configured for 64-bit objects.
+++	# Note that the Sun cc does not turn __LP64__ into 1 like gcc does.
+++	# This test works for both compilers.
+++	if test "$CC_FOR_BUILD" != no_compiler_found; then
+++	    if (echo '#ifdef __amd64'; echo IS_64BIT_ARCH; echo '#endif') | \
+++		(CCOPTS="" $CC_FOR_BUILD -m64 -E - 2>/dev/null) | \
+++		grep IS_64BIT_ARCH >/dev/null
+++	    then
+++		SUN_ARCH=x86_64
+++	    fi
+++	fi
+++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
+++	GUESS=$SUN_ARCH-pc-solaris2$SUN_REL
+++	;;
++     sun4*:SunOS:6*:*)
++ 	# According to config.sub, this is the proper way to canonicalize
++ 	# SunOS6.  Hard to guess exactly what SunOS6 will be like, but
++ 	# it's likely to be more like Solaris than SunOS4.
++-	echo sparc-sun-solaris3"`echo "$UNAME_RELEASE"|sed -e 's/[^.]*//'`"
++-	exit ;;
+++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
+++	GUESS=sparc-sun-solaris3$SUN_REL
+++	;;
++     sun4*:SunOS:*:*)
++-	case "`/usr/bin/arch -k`" in
+++	case `/usr/bin/arch -k` in
++ 	    Series*|S4*)
++ 		UNAME_RELEASE=`uname -v`
++ 		;;
++ 	esac
++-	# Japanese Language versions have a version number like `4.1.3-JL'.
++-	echo sparc-sun-sunos"`echo "$UNAME_RELEASE"|sed -e 's/-/_/'`"
++-	exit ;;
+++	# Japanese Language versions have a version number like '4.1.3-JL'.
+++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/-/_/'`
+++	GUESS=sparc-sun-sunos$SUN_REL
+++	;;
++     sun3*:SunOS:*:*)
++-	echo m68k-sun-sunos"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-sun-sunos$UNAME_RELEASE
+++	;;
++     sun*:*:4.2BSD:*)
++ 	UNAME_RELEASE=`(sed 1q /etc/motd | awk '{print substr($5,1,3)}') 2>/dev/null`
++ 	test "x$UNAME_RELEASE" = x && UNAME_RELEASE=3
++-	case "`/bin/arch`" in
+++	case `/bin/arch` in
++ 	    sun3)
++-		echo m68k-sun-sunos"$UNAME_RELEASE"
+++		GUESS=m68k-sun-sunos$UNAME_RELEASE
++ 		;;
++ 	    sun4)
++-		echo sparc-sun-sunos"$UNAME_RELEASE"
+++		GUESS=sparc-sun-sunos$UNAME_RELEASE
++ 		;;
++ 	esac
++-	exit ;;
+++	;;
++     aushp:SunOS:*:*)
++-	echo sparc-auspex-sunos"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sparc-auspex-sunos$UNAME_RELEASE
+++	;;
++     # The situation for MiNT is a little confusing.  The machine name
++     # can be virtually everything (everything which is not
++     # "atarist" or "atariste" at least should have a processor
++@@ -444,41 +496,41 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++     # MiNT.  But MiNT is downward compatible to TOS, so this should
++     # be no problem.
++     atarist[e]:*MiNT:*:* | atarist[e]:*mint:*:* | atarist[e]:*TOS:*:*)
++-	echo m68k-atari-mint"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-atari-mint$UNAME_RELEASE
+++	;;
++     atari*:*MiNT:*:* | atari*:*mint:*:* | atarist[e]:*TOS:*:*)
++-	echo m68k-atari-mint"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-atari-mint$UNAME_RELEASE
+++	;;
++     *falcon*:*MiNT:*:* | *falcon*:*mint:*:* | *falcon*:*TOS:*:*)
++-	echo m68k-atari-mint"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-atari-mint$UNAME_RELEASE
+++	;;
++     milan*:*MiNT:*:* | milan*:*mint:*:* | *milan*:*TOS:*:*)
++-	echo m68k-milan-mint"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-milan-mint$UNAME_RELEASE
+++	;;
++     hades*:*MiNT:*:* | hades*:*mint:*:* | *hades*:*TOS:*:*)
++-	echo m68k-hades-mint"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-hades-mint$UNAME_RELEASE
+++	;;
++     *:*MiNT:*:* | *:*mint:*:* | *:*TOS:*:*)
++-	echo m68k-unknown-mint"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-unknown-mint$UNAME_RELEASE
+++	;;
++     m68k:machten:*:*)
++-	echo m68k-apple-machten"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-apple-machten$UNAME_RELEASE
+++	;;
++     powerpc:machten:*:*)
++-	echo powerpc-apple-machten"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=powerpc-apple-machten$UNAME_RELEASE
+++	;;
++     RISC*:Mach:*:*)
++-	echo mips-dec-mach_bsd4.3
++-	exit ;;
+++	GUESS=mips-dec-mach_bsd4.3
+++	;;
++     RISC*:ULTRIX:*:*)
++-	echo mips-dec-ultrix"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=mips-dec-ultrix$UNAME_RELEASE
+++	;;
++     VAX*:ULTRIX*:*:*)
++-	echo vax-dec-ultrix"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=vax-dec-ultrix$UNAME_RELEASE
+++	;;
++     2020:CLIX:*:* | 2430:CLIX:*:*)
++-	echo clipper-intergraph-clix"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=clipper-intergraph-clix$UNAME_RELEASE
+++	;;
++     mips:*:*:UMIPS | mips:*:*:RISCos)
++ 	set_cc_for_build
++ 	sed 's/^	//' << EOF > "$dummy.c"
++@@ -506,82 +558,84 @@ EOF
++ 	  dummyarg=`echo "$UNAME_RELEASE" | sed -n 's/\([0-9]*\).*/\1/p'` &&
++ 	  SYSTEM_NAME=`"$dummy" "$dummyarg"` &&
++ 	    { echo "$SYSTEM_NAME"; exit; }
++-	echo mips-mips-riscos"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=mips-mips-riscos$UNAME_RELEASE
+++	;;
++     Motorola:PowerMAX_OS:*:*)
++-	echo powerpc-motorola-powermax
++-	exit ;;
+++	GUESS=powerpc-motorola-powermax
+++	;;
++     Motorola:*:4.3:PL8-*)
++-	echo powerpc-harris-powermax
++-	exit ;;
+++	GUESS=powerpc-harris-powermax
+++	;;
++     Night_Hawk:*:*:PowerMAX_OS | Synergy:PowerMAX_OS:*:*)
++-	echo powerpc-harris-powermax
++-	exit ;;
+++	GUESS=powerpc-harris-powermax
+++	;;
++     Night_Hawk:Power_UNIX:*:*)
++-	echo powerpc-harris-powerunix
++-	exit ;;
+++	GUESS=powerpc-harris-powerunix
+++	;;
++     m88k:CX/UX:7*:*)
++-	echo m88k-harris-cxux7
++-	exit ;;
+++	GUESS=m88k-harris-cxux7
+++	;;
++     m88k:*:4*:R4*)
++-	echo m88k-motorola-sysv4
++-	exit ;;
+++	GUESS=m88k-motorola-sysv4
+++	;;
++     m88k:*:3*:R3*)
++-	echo m88k-motorola-sysv3
++-	exit ;;
+++	GUESS=m88k-motorola-sysv3
+++	;;
++     AViiON:dgux:*:*)
++ 	# DG/UX returns AViiON for all architectures
++ 	UNAME_PROCESSOR=`/usr/bin/uname -p`
++-	if [ "$UNAME_PROCESSOR" = mc88100 ] || [ "$UNAME_PROCESSOR" = mc88110 ]
+++	if test "$UNAME_PROCESSOR" = mc88100 || test "$UNAME_PROCESSOR" = mc88110
++ 	then
++-	    if [ "$TARGET_BINARY_INTERFACE"x = m88kdguxelfx ] || \
++-	       [ "$TARGET_BINARY_INTERFACE"x = x ]
+++	    if test "$TARGET_BINARY_INTERFACE"x = m88kdguxelfx || \
+++	       test "$TARGET_BINARY_INTERFACE"x = x
++ 	    then
++-		echo m88k-dg-dgux"$UNAME_RELEASE"
+++		GUESS=m88k-dg-dgux$UNAME_RELEASE
++ 	    else
++-		echo m88k-dg-dguxbcs"$UNAME_RELEASE"
+++		GUESS=m88k-dg-dguxbcs$UNAME_RELEASE
++ 	    fi
++ 	else
++-	    echo i586-dg-dgux"$UNAME_RELEASE"
+++	    GUESS=i586-dg-dgux$UNAME_RELEASE
++ 	fi
++-	exit ;;
+++	;;
++     M88*:DolphinOS:*:*)	# DolphinOS (SVR3)
++-	echo m88k-dolphin-sysv3
++-	exit ;;
+++	GUESS=m88k-dolphin-sysv3
+++	;;
++     M88*:*:R3*:*)
++ 	# Delta 88k system running SVR3
++-	echo m88k-motorola-sysv3
++-	exit ;;
+++	GUESS=m88k-motorola-sysv3
+++	;;
++     XD88*:*:*:*) # Tektronix XD88 system running UTekV (SVR3)
++-	echo m88k-tektronix-sysv3
++-	exit ;;
+++	GUESS=m88k-tektronix-sysv3
+++	;;
++     Tek43[0-9][0-9]:UTek:*:*) # Tektronix 4300 system running UTek (BSD)
++-	echo m68k-tektronix-bsd
++-	exit ;;
+++	GUESS=m68k-tektronix-bsd
+++	;;
++     *:IRIX*:*:*)
++-	echo mips-sgi-irix"`echo "$UNAME_RELEASE"|sed -e 's/-/_/g'`"
++-	exit ;;
+++	IRIX_REL=`echo "$UNAME_RELEASE" | sed -e 's/-/_/g'`
+++	GUESS=mips-sgi-irix$IRIX_REL
+++	;;
++     ????????:AIX?:[12].1:2)   # AIX 2.2.1 or AIX 2.1.1 is RT/PC AIX.
++-	echo romp-ibm-aix     # uname -m gives an 8 hex-code CPU id
++-	exit ;;               # Note that: echo "'`uname -s`'" gives 'AIX '
+++	GUESS=romp-ibm-aix    # uname -m gives an 8 hex-code CPU id
+++	;;                    # Note that: echo "'`uname -s`'" gives 'AIX '
++     i*86:AIX:*:*)
++-	echo i386-ibm-aix
++-	exit ;;
+++	GUESS=i386-ibm-aix
+++	;;
++     ia64:AIX:*:*)
++-	if [ -x /usr/bin/oslevel ] ; then
+++	if test -x /usr/bin/oslevel ; then
++ 		IBM_REV=`/usr/bin/oslevel`
++ 	else
++-		IBM_REV="$UNAME_VERSION.$UNAME_RELEASE"
+++		IBM_REV=$UNAME_VERSION.$UNAME_RELEASE
++ 	fi
++-	echo "$UNAME_MACHINE"-ibm-aix"$IBM_REV"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-ibm-aix$IBM_REV
+++	;;
++     *:AIX:2:3)
++ 	if grep bos325 /usr/include/stdio.h >/dev/null 2>&1; then
++ 		set_cc_for_build
++ 		sed 's/^		//' << EOF > "$dummy.c"
++ 		#include <sys/systemcfg.h>
++ 
++-		main()
+++		int
+++		main ()
++ 			{
++ 			if (!__power_pc())
++ 				exit(1);
++@@ -591,16 +645,16 @@ EOF
++ EOF
++ 		if $CC_FOR_BUILD -o "$dummy" "$dummy.c" && SYSTEM_NAME=`"$dummy"`
++ 		then
++-			echo "$SYSTEM_NAME"
+++			GUESS=$SYSTEM_NAME
++ 		else
++-			echo rs6000-ibm-aix3.2.5
+++			GUESS=rs6000-ibm-aix3.2.5
++ 		fi
++ 	elif grep bos324 /usr/include/stdio.h >/dev/null 2>&1; then
++-		echo rs6000-ibm-aix3.2.4
+++		GUESS=rs6000-ibm-aix3.2.4
++ 	else
++-		echo rs6000-ibm-aix3.2
+++		GUESS=rs6000-ibm-aix3.2
++ 	fi
++-	exit ;;
+++	;;
++     *:AIX:*:[4567])
++ 	IBM_CPU_ID=`/usr/sbin/lsdev -C -c processor -S available | sed 1q | awk '{ print $1 }'`
++ 	if /usr/sbin/lsattr -El "$IBM_CPU_ID" | grep ' POWER' >/dev/null 2>&1; then
++@@ -608,56 +662,56 @@ EOF
++ 	else
++ 		IBM_ARCH=powerpc
++ 	fi
++-	if [ -x /usr/bin/lslpp ] ; then
++-		IBM_REV=`/usr/bin/lslpp -Lqc bos.rte.libc |
+++	if test -x /usr/bin/lslpp ; then
+++		IBM_REV=`/usr/bin/lslpp -Lqc bos.rte.libc | \
++ 			   awk -F: '{ print $3 }' | sed s/[0-9]*$/0/`
++ 	else
++-		IBM_REV="$UNAME_VERSION.$UNAME_RELEASE"
+++		IBM_REV=$UNAME_VERSION.$UNAME_RELEASE
++ 	fi
++-	echo "$IBM_ARCH"-ibm-aix"$IBM_REV"
++-	exit ;;
+++	GUESS=$IBM_ARCH-ibm-aix$IBM_REV
+++	;;
++     *:AIX:*:*)
++-	echo rs6000-ibm-aix
++-	exit ;;
+++	GUESS=rs6000-ibm-aix
+++	;;
++     ibmrt:4.4BSD:*|romp-ibm:4.4BSD:*)
++-	echo romp-ibm-bsd4.4
++-	exit ;;
+++	GUESS=romp-ibm-bsd4.4
+++	;;
++     ibmrt:*BSD:*|romp-ibm:BSD:*)            # covers RT/PC BSD and
++-	echo romp-ibm-bsd"$UNAME_RELEASE"   # 4.3 with uname added to
++-	exit ;;                             # report: romp-ibm BSD 4.3
+++	GUESS=romp-ibm-bsd$UNAME_RELEASE    # 4.3 with uname added to
+++	;;                                  # report: romp-ibm BSD 4.3
++     *:BOSX:*:*)
++-	echo rs6000-bull-bosx
++-	exit ;;
+++	GUESS=rs6000-bull-bosx
+++	;;
++     DPX/2?00:B.O.S.:*:*)
++-	echo m68k-bull-sysv3
++-	exit ;;
+++	GUESS=m68k-bull-sysv3
+++	;;
++     9000/[34]??:4.3bsd:1.*:*)
++-	echo m68k-hp-bsd
++-	exit ;;
+++	GUESS=m68k-hp-bsd
+++	;;
++     hp300:4.4BSD:*:* | 9000/[34]??:4.3bsd:2.*:*)
++-	echo m68k-hp-bsd4.4
++-	exit ;;
+++	GUESS=m68k-hp-bsd4.4
+++	;;
++     9000/[34678]??:HP-UX:*:*)
++-	HPUX_REV=`echo "$UNAME_RELEASE"|sed -e 's/[^.]*.[0B]*//'`
++-	case "$UNAME_MACHINE" in
+++	HPUX_REV=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*.[0B]*//'`
+++	case $UNAME_MACHINE in
++ 	    9000/31?)            HP_ARCH=m68000 ;;
++ 	    9000/[34]??)         HP_ARCH=m68k ;;
++ 	    9000/[678][0-9][0-9])
++-		if [ -x /usr/bin/getconf ]; then
+++		if test -x /usr/bin/getconf; then
++ 		    sc_cpu_version=`/usr/bin/getconf SC_CPU_VERSION 2>/dev/null`
++ 		    sc_kernel_bits=`/usr/bin/getconf SC_KERNEL_BITS 2>/dev/null`
++-		    case "$sc_cpu_version" in
+++		    case $sc_cpu_version in
++ 		      523) HP_ARCH=hppa1.0 ;; # CPU_PA_RISC1_0
++ 		      528) HP_ARCH=hppa1.1 ;; # CPU_PA_RISC1_1
++ 		      532)                      # CPU_PA_RISC2_0
++-			case "$sc_kernel_bits" in
+++			case $sc_kernel_bits in
++ 			  32) HP_ARCH=hppa2.0n ;;
++ 			  64) HP_ARCH=hppa2.0w ;;
++ 			  '') HP_ARCH=hppa2.0 ;;   # HP-UX 10.20
++ 			esac ;;
++ 		    esac
++ 		fi
++-		if [ "$HP_ARCH" = "" ]; then
+++		if test "$HP_ARCH" = ""; then
++ 		    set_cc_for_build
++ 		    sed 's/^		//' << EOF > "$dummy.c"
++ 
++@@ -665,7 +719,8 @@ EOF
++ 		#include <stdlib.h>
++ 		#include <unistd.h>
++ 
++-		int main ()
+++		int
+++		main ()
++ 		{
++ 		#if defined(_SC_KERNEL_BITS)
++ 		    long bits = sysconf(_SC_KERNEL_BITS);
++@@ -696,7 +751,7 @@ EOF
++ 		    test -z "$HP_ARCH" && HP_ARCH=hppa
++ 		fi ;;
++ 	esac
++-	if [ "$HP_ARCH" = hppa2.0w ]
+++	if test "$HP_ARCH" = hppa2.0w
++ 	then
++ 	    set_cc_for_build
++ 
++@@ -717,12 +772,12 @@ EOF
++ 		HP_ARCH=hppa64
++ 	    fi
++ 	fi
++-	echo "$HP_ARCH"-hp-hpux"$HPUX_REV"
++-	exit ;;
+++	GUESS=$HP_ARCH-hp-hpux$HPUX_REV
+++	;;
++     ia64:HP-UX:*:*)
++-	HPUX_REV=`echo "$UNAME_RELEASE"|sed -e 's/[^.]*.[0B]*//'`
++-	echo ia64-hp-hpux"$HPUX_REV"
++-	exit ;;
+++	HPUX_REV=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*.[0B]*//'`
+++	GUESS=ia64-hp-hpux$HPUX_REV
+++	;;
++     3050*:HI-UX:*:*)
++ 	set_cc_for_build
++ 	sed 's/^	//' << EOF > "$dummy.c"
++@@ -752,36 +807,36 @@ EOF
++ EOF
++ 	$CC_FOR_BUILD -o "$dummy" "$dummy.c" && SYSTEM_NAME=`"$dummy"` &&
++ 		{ echo "$SYSTEM_NAME"; exit; }
++-	echo unknown-hitachi-hiuxwe2
++-	exit ;;
+++	GUESS=unknown-hitachi-hiuxwe2
+++	;;
++     9000/7??:4.3bsd:*:* | 9000/8?[79]:4.3bsd:*:*)
++-	echo hppa1.1-hp-bsd
++-	exit ;;
+++	GUESS=hppa1.1-hp-bsd
+++	;;
++     9000/8??:4.3bsd:*:*)
++-	echo hppa1.0-hp-bsd
++-	exit ;;
+++	GUESS=hppa1.0-hp-bsd
+++	;;
++     *9??*:MPE/iX:*:* | *3000*:MPE/iX:*:*)
++-	echo hppa1.0-hp-mpeix
++-	exit ;;
+++	GUESS=hppa1.0-hp-mpeix
+++	;;
++     hp7??:OSF1:*:* | hp8?[79]:OSF1:*:*)
++-	echo hppa1.1-hp-osf
++-	exit ;;
+++	GUESS=hppa1.1-hp-osf
+++	;;
++     hp8??:OSF1:*:*)
++-	echo hppa1.0-hp-osf
++-	exit ;;
+++	GUESS=hppa1.0-hp-osf
+++	;;
++     i*86:OSF1:*:*)
++-	if [ -x /usr/sbin/sysversion ] ; then
++-	    echo "$UNAME_MACHINE"-unknown-osf1mk
+++	if test -x /usr/sbin/sysversion ; then
+++	    GUESS=$UNAME_MACHINE-unknown-osf1mk
++ 	else
++-	    echo "$UNAME_MACHINE"-unknown-osf1
+++	    GUESS=$UNAME_MACHINE-unknown-osf1
++ 	fi
++-	exit ;;
+++	;;
++     parisc*:Lites*:*:*)
++-	echo hppa1.1-hp-lites
++-	exit ;;
+++	GUESS=hppa1.1-hp-lites
+++	;;
++     C1*:ConvexOS:*:* | convex:ConvexOS:C1*:*)
++-	echo c1-convex-bsd
++-	exit ;;
+++	GUESS=c1-convex-bsd
+++	;;
++     C2*:ConvexOS:*:* | convex:ConvexOS:C2*:*)
++ 	if getsysinfo -f scalar_acc
++ 	then echo c32-convex-bsd
++@@ -789,17 +844,18 @@ EOF
++ 	fi
++ 	exit ;;
++     C34*:ConvexOS:*:* | convex:ConvexOS:C34*:*)
++-	echo c34-convex-bsd
++-	exit ;;
+++	GUESS=c34-convex-bsd
+++	;;
++     C38*:ConvexOS:*:* | convex:ConvexOS:C38*:*)
++-	echo c38-convex-bsd
++-	exit ;;
+++	GUESS=c38-convex-bsd
+++	;;
++     C4*:ConvexOS:*:* | convex:ConvexOS:C4*:*)
++-	echo c4-convex-bsd
++-	exit ;;
+++	GUESS=c4-convex-bsd
+++	;;
++     CRAY*Y-MP:*:*:*)
++-	echo ymp-cray-unicos"$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'
++-	exit ;;
+++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
+++	GUESS=ymp-cray-unicos$CRAY_REL
+++	;;
++     CRAY*[A-Z]90:*:*:*)
++ 	echo "$UNAME_MACHINE"-cray-unicos"$UNAME_RELEASE" \
++ 	| sed -e 's/CRAY.*\([A-Z]90\)/\1/' \
++@@ -807,114 +863,155 @@ EOF
++ 	      -e 's/\.[^.]*$/.X/'
++ 	exit ;;
++     CRAY*TS:*:*:*)
++-	echo t90-cray-unicos"$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'
++-	exit ;;
+++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
+++	GUESS=t90-cray-unicos$CRAY_REL
+++	;;
++     CRAY*T3E:*:*:*)
++-	echo alphaev5-cray-unicosmk"$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'
++-	exit ;;
+++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
+++	GUESS=alphaev5-cray-unicosmk$CRAY_REL
+++	;;
++     CRAY*SV1:*:*:*)
++-	echo sv1-cray-unicos"$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'
++-	exit ;;
+++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
+++	GUESS=sv1-cray-unicos$CRAY_REL
+++	;;
++     *:UNICOS/mp:*:*)
++-	echo craynv-cray-unicosmp"$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'
++-	exit ;;
+++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
+++	GUESS=craynv-cray-unicosmp$CRAY_REL
+++	;;
++     F30[01]:UNIX_System_V:*:* | F700:UNIX_System_V:*:*)
++ 	FUJITSU_PROC=`uname -m | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz`
++ 	FUJITSU_SYS=`uname -p | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz | sed -e 's/\///'`
++ 	FUJITSU_REL=`echo "$UNAME_RELEASE" | sed -e 's/ /_/'`
++-	echo "${FUJITSU_PROC}-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}"
++-	exit ;;
+++	GUESS=${FUJITSU_PROC}-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}
+++	;;
++     5000:UNIX_System_V:4.*:*)
++ 	FUJITSU_SYS=`uname -p | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz | sed -e 's/\///'`
++ 	FUJITSU_REL=`echo "$UNAME_RELEASE" | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz | sed -e 's/ /_/'`
++-	echo "sparc-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}"
++-	exit ;;
+++	GUESS=sparc-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}
+++	;;
++     i*86:BSD/386:*:* | i*86:BSD/OS:*:* | *:Ascend\ Embedded/OS:*:*)
++-	echo "$UNAME_MACHINE"-pc-bsdi"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-bsdi$UNAME_RELEASE
+++	;;
++     sparc*:BSD/OS:*:*)
++-	echo sparc-unknown-bsdi"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sparc-unknown-bsdi$UNAME_RELEASE
+++	;;
++     *:BSD/OS:*:*)
++-	echo "$UNAME_MACHINE"-unknown-bsdi"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-bsdi$UNAME_RELEASE
+++	;;
++     arm:FreeBSD:*:*)
++ 	UNAME_PROCESSOR=`uname -p`
++ 	set_cc_for_build
++ 	if echo __ARM_PCS_VFP | $CC_FOR_BUILD -E - 2>/dev/null \
++ 	    | grep -q __ARM_PCS_VFP
++ 	then
++-	    echo "${UNAME_PROCESSOR}"-unknown-freebsd"`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'`"-gnueabi
+++	    FREEBSD_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
+++	    GUESS=$UNAME_PROCESSOR-unknown-freebsd$FREEBSD_REL-gnueabi
++ 	else
++-	    echo "${UNAME_PROCESSOR}"-unknown-freebsd"`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'`"-gnueabihf
+++	    FREEBSD_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
+++	    GUESS=$UNAME_PROCESSOR-unknown-freebsd$FREEBSD_REL-gnueabihf
++ 	fi
++-	exit ;;
+++	;;
++     *:FreeBSD:*:*)
++-	UNAME_PROCESSOR=`/usr/bin/uname -p`
++-	case "$UNAME_PROCESSOR" in
+++	UNAME_PROCESSOR=`uname -p`
+++	case $UNAME_PROCESSOR in
++ 	    amd64)
++ 		UNAME_PROCESSOR=x86_64 ;;
++ 	    i386)
++ 		UNAME_PROCESSOR=i586 ;;
++ 	esac
++-	echo "$UNAME_PROCESSOR"-unknown-freebsd"`echo "$UNAME_RELEASE"|sed -e 's/[-(].*//'`"
++-	exit ;;
+++	FREEBSD_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
+++	GUESS=$UNAME_PROCESSOR-unknown-freebsd$FREEBSD_REL
+++	;;
++     i*:CYGWIN*:*)
++-	echo "$UNAME_MACHINE"-pc-cygwin
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-cygwin
+++	;;
++     *:MINGW64*:*)
++-	echo "$UNAME_MACHINE"-pc-mingw64
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-mingw64
+++	;;
++     *:MINGW*:*)
++-	echo "$UNAME_MACHINE"-pc-mingw32
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-mingw32
+++	;;
++     *:MSYS*:*)
++-	echo "$UNAME_MACHINE"-pc-msys
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-msys
+++	;;
++     i*:PW*:*)
++-	echo "$UNAME_MACHINE"-pc-pw32
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-pw32
+++	;;
+++    *:SerenityOS:*:*)
+++        GUESS=$UNAME_MACHINE-pc-serenity
+++        ;;
++     *:Interix*:*)
++-	case "$UNAME_MACHINE" in
+++	case $UNAME_MACHINE in
++ 	    x86)
++-		echo i586-pc-interix"$UNAME_RELEASE"
++-		exit ;;
+++		GUESS=i586-pc-interix$UNAME_RELEASE
+++		;;
++ 	    authenticamd | genuineintel | EM64T)
++-		echo x86_64-unknown-interix"$UNAME_RELEASE"
++-		exit ;;
+++		GUESS=x86_64-unknown-interix$UNAME_RELEASE
+++		;;
++ 	    IA64)
++-		echo ia64-unknown-interix"$UNAME_RELEASE"
++-		exit ;;
+++		GUESS=ia64-unknown-interix$UNAME_RELEASE
+++		;;
++ 	esac ;;
++     i*:UWIN*:*)
++-	echo "$UNAME_MACHINE"-pc-uwin
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-uwin
+++	;;
++     amd64:CYGWIN*:*:* | x86_64:CYGWIN*:*:*)
++-	echo x86_64-unknown-cygwin
++-	exit ;;
+++	GUESS=x86_64-pc-cygwin
+++	;;
++     prep*:SunOS:5.*:*)
++-	echo powerpcle-unknown-solaris2"`echo "$UNAME_RELEASE"|sed -e 's/[^.]*//'`"
++-	exit ;;
+++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
+++	GUESS=powerpcle-unknown-solaris2$SUN_REL
+++	;;
++     *:GNU:*:*)
++ 	# the GNU system
++-	echo "`echo "$UNAME_MACHINE"|sed -e 's,[-/].*$,,'`-unknown-$LIBC`echo "$UNAME_RELEASE"|sed -e 's,/.*$,,'`"
++-	exit ;;
+++	GNU_ARCH=`echo "$UNAME_MACHINE" | sed -e 's,[-/].*$,,'`
+++	GNU_REL=`echo "$UNAME_RELEASE" | sed -e 's,/.*$,,'`
+++	GUESS=$GNU_ARCH-unknown-$LIBC$GNU_REL
+++	;;
++     *:GNU/*:*:*)
++ 	# other systems with GNU libc and userland
++-	echo "$UNAME_MACHINE-unknown-`echo "$UNAME_SYSTEM" | sed 's,^[^/]*/,,' | tr "[:upper:]" "[:lower:]"``echo "$UNAME_RELEASE"|sed -e 's/[-(].*//'`-$LIBC"
++-	exit ;;
+++	GNU_SYS=`echo "$UNAME_SYSTEM" | sed 's,^[^/]*/,,' | tr "[:upper:]" "[:lower:]"`
+++	GNU_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
+++	GUESS=$UNAME_MACHINE-unknown-$GNU_SYS$GNU_REL-$LIBC
+++	;;
+++    x86_64:[Mm]anagarm:*:*|i?86:[Mm]anagarm:*:*)
+++	GUESS="$UNAME_MACHINE-pc-managarm-mlibc"
+++	;;
+++    *:[Mm]anagarm:*:*)
+++	GUESS="$UNAME_MACHINE-unknown-managarm-mlibc"
+++	;;
++     *:Minix:*:*)
++-	echo "$UNAME_MACHINE"-unknown-minix
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-minix
+++	;;
++     aarch64:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	set_cc_for_build
+++	CPU=$UNAME_MACHINE
+++	LIBCABI=$LIBC
+++	if test "$CC_FOR_BUILD" != no_compiler_found; then
+++	    ABI=64
+++	    sed 's/^	    //' << EOF > "$dummy.c"
+++	    #ifdef __ARM_EABI__
+++	    #ifdef __ARM_PCS_VFP
+++	    ABI=eabihf
+++	    #else
+++	    ABI=eabi
+++	    #endif
+++	    #endif
+++EOF
+++	    cc_set_abi=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^ABI' | sed 's, ,,g'`
+++	    eval "$cc_set_abi"
+++	    case $ABI in
+++		eabi | eabihf) CPU=armv8l; LIBCABI=$LIBC$ABI ;;
+++	    esac
+++	fi
+++	GUESS=$CPU-unknown-linux-$LIBCABI
+++	;;
++     aarch64_be:Linux:*:*)
++ 	UNAME_MACHINE=aarch64_be
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     alpha:Linux:*:*)
++-	case `sed -n '/^cpu model/s/^.*: \(.*\)/\1/p' < /proc/cpuinfo` in
+++	case `sed -n '/^cpu model/s/^.*: \(.*\)/\1/p' /proc/cpuinfo 2>/dev/null` in
++ 	  EV5)   UNAME_MACHINE=alphaev5 ;;
++ 	  EV56)  UNAME_MACHINE=alphaev56 ;;
++ 	  PCA56) UNAME_MACHINE=alphapca56 ;;
++@@ -925,183 +1022,245 @@ EOF
++ 	esac
++ 	objdump --private-headers /bin/sh | grep -q ld.so.1
++ 	if test "$?" = 0 ; then LIBC=gnulibc1 ; fi
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
++-    arc:Linux:*:* | arceb:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
+++    arc:Linux:*:* | arceb:Linux:*:* | arc32:Linux:*:* | arc64:Linux:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     arm*:Linux:*:*)
++ 	set_cc_for_build
++ 	if echo __ARM_EABI__ | $CC_FOR_BUILD -E - 2>/dev/null \
++ 	    | grep -q __ARM_EABI__
++ 	then
++-	    echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+++	    GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++ 	else
++ 	    if echo __ARM_PCS_VFP | $CC_FOR_BUILD -E - 2>/dev/null \
++ 		| grep -q __ARM_PCS_VFP
++ 	    then
++-		echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"eabi
+++		GUESS=$UNAME_MACHINE-unknown-linux-${LIBC}eabi
++ 	    else
++-		echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"eabihf
+++		GUESS=$UNAME_MACHINE-unknown-linux-${LIBC}eabihf
++ 	    fi
++ 	fi
++-	exit ;;
+++	;;
++     avr32*:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     cris:Linux:*:*)
++-	echo "$UNAME_MACHINE"-axis-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-axis-linux-$LIBC
+++	;;
++     crisv32:Linux:*:*)
++-	echo "$UNAME_MACHINE"-axis-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-axis-linux-$LIBC
+++	;;
++     e2k:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     frv:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     hexagon:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     i*86:Linux:*:*)
++-	echo "$UNAME_MACHINE"-pc-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-linux-$LIBC
+++	;;
++     ia64:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     k1om:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
+++    kvx:Linux:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
+++    kvx:cos:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-cos
+++	;;
+++    kvx:mbr:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-mbr
+++	;;
+++    loongarch32:Linux:*:* | loongarch64:Linux:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     m32r*:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     m68*:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     mips:Linux:*:* | mips64:Linux:*:*)
++ 	set_cc_for_build
+++	IS_GLIBC=0
+++	test x"${LIBC}" = xgnu && IS_GLIBC=1
++ 	sed 's/^	//' << EOF > "$dummy.c"
++ 	#undef CPU
++-	#undef ${UNAME_MACHINE}
++-	#undef ${UNAME_MACHINE}el
+++	#undef mips
+++	#undef mipsel
+++	#undef mips64
+++	#undef mips64el
+++	#if ${IS_GLIBC} && defined(_ABI64)
+++	LIBCABI=gnuabi64
+++	#else
+++	#if ${IS_GLIBC} && defined(_ABIN32)
+++	LIBCABI=gnuabin32
+++	#else
+++	LIBCABI=${LIBC}
+++	#endif
+++	#endif
+++
+++	#if ${IS_GLIBC} && defined(__mips64) && defined(__mips_isa_rev) && __mips_isa_rev>=6
+++	CPU=mipsisa64r6
+++	#else
+++	#if ${IS_GLIBC} && !defined(__mips64) && defined(__mips_isa_rev) && __mips_isa_rev>=6
+++	CPU=mipsisa32r6
+++	#else
+++	#if defined(__mips64)
+++	CPU=mips64
+++	#else
+++	CPU=mips
+++	#endif
+++	#endif
+++	#endif
+++
++ 	#if defined(__MIPSEL__) || defined(__MIPSEL) || defined(_MIPSEL) || defined(MIPSEL)
++-	CPU=${UNAME_MACHINE}el
+++	MIPS_ENDIAN=el
++ 	#else
++ 	#if defined(__MIPSEB__) || defined(__MIPSEB) || defined(_MIPSEB) || defined(MIPSEB)
++-	CPU=${UNAME_MACHINE}
+++	MIPS_ENDIAN=
++ 	#else
++-	CPU=
+++	MIPS_ENDIAN=
++ 	#endif
++ 	#endif
++ EOF
++-	eval "`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^CPU'`"
++-	test "x$CPU" != x && { echo "$CPU-unknown-linux-$LIBC"; exit; }
+++	cc_set_vars=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^CPU\|^MIPS_ENDIAN\|^LIBCABI'`
+++	eval "$cc_set_vars"
+++	test "x$CPU" != x && { echo "$CPU${MIPS_ENDIAN}-unknown-linux-$LIBCABI"; exit; }
++ 	;;
++     mips64el:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     openrisc*:Linux:*:*)
++-	echo or1k-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=or1k-unknown-linux-$LIBC
+++	;;
++     or32:Linux:*:* | or1k*:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     padre:Linux:*:*)
++-	echo sparc-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=sparc-unknown-linux-$LIBC
+++	;;
++     parisc64:Linux:*:* | hppa64:Linux:*:*)
++-	echo hppa64-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=hppa64-unknown-linux-$LIBC
+++	;;
++     parisc:Linux:*:* | hppa:Linux:*:*)
++ 	# Look for CPU level
++ 	case `grep '^cpu[^a-z]*:' /proc/cpuinfo 2>/dev/null | cut -d' ' -f2` in
++-	  PA7*) echo hppa1.1-unknown-linux-"$LIBC" ;;
++-	  PA8*) echo hppa2.0-unknown-linux-"$LIBC" ;;
++-	  *)    echo hppa-unknown-linux-"$LIBC" ;;
+++	  PA7*) GUESS=hppa1.1-unknown-linux-$LIBC ;;
+++	  PA8*) GUESS=hppa2.0-unknown-linux-$LIBC ;;
+++	  *)    GUESS=hppa-unknown-linux-$LIBC ;;
++ 	esac
++-	exit ;;
+++	;;
++     ppc64:Linux:*:*)
++-	echo powerpc64-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=powerpc64-unknown-linux-$LIBC
+++	;;
++     ppc:Linux:*:*)
++-	echo powerpc-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=powerpc-unknown-linux-$LIBC
+++	;;
++     ppc64le:Linux:*:*)
++-	echo powerpc64le-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=powerpc64le-unknown-linux-$LIBC
+++	;;
++     ppcle:Linux:*:*)
++-	echo powerpcle-unknown-linux-"$LIBC"
++-	exit ;;
++-    riscv32:Linux:*:* | riscv64:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=powerpcle-unknown-linux-$LIBC
+++	;;
+++    riscv32:Linux:*:* | riscv32be:Linux:*:* | riscv64:Linux:*:* | riscv64be:Linux:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     s390:Linux:*:* | s390x:Linux:*:*)
++-	echo "$UNAME_MACHINE"-ibm-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-ibm-linux-$LIBC
+++	;;
++     sh64*:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     sh*:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     sparc:Linux:*:* | sparc64:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     tile*:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     vax:Linux:*:*)
++-	echo "$UNAME_MACHINE"-dec-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-dec-linux-$LIBC
+++	;;
++     x86_64:Linux:*:*)
++-	echo "$UNAME_MACHINE"-pc-linux-"$LIBC"
++-	exit ;;
+++	set_cc_for_build
+++	CPU=$UNAME_MACHINE
+++	LIBCABI=$LIBC
+++	if test "$CC_FOR_BUILD" != no_compiler_found; then
+++	    ABI=64
+++	    sed 's/^	    //' << EOF > "$dummy.c"
+++	    #ifdef __i386__
+++	    ABI=x86
+++	    #else
+++	    #ifdef __ILP32__
+++	    ABI=x32
+++	    #endif
+++	    #endif
+++EOF
+++	    cc_set_abi=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^ABI' | sed 's, ,,g'`
+++	    eval "$cc_set_abi"
+++	    case $ABI in
+++		x86) CPU=i686 ;;
+++		x32) LIBCABI=${LIBC}x32 ;;
+++	    esac
+++	fi
+++	GUESS=$CPU-pc-linux-$LIBCABI
+++	;;
++     xtensa*:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     i*86:DYNIX/ptx:4*:*)
++ 	# ptx 4.0 does uname -s correctly, with DYNIX/ptx in there.
++ 	# earlier versions are messed up and put the nodename in both
++ 	# sysname and nodename.
++-	echo i386-sequent-sysv4
++-	exit ;;
+++	GUESS=i386-sequent-sysv4
+++	;;
++     i*86:UNIX_SV:4.2MP:2.*)
++ 	# Unixware is an offshoot of SVR4, but it has its own version
++ 	# number series starting with 2...
++ 	# I am not positive that other SVR4 systems won't match this,
++ 	# I just have to hope.  -- rms.
++ 	# Use sysv4.2uw... so that sysv4* matches it.
++-	echo "$UNAME_MACHINE"-pc-sysv4.2uw"$UNAME_VERSION"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-sysv4.2uw$UNAME_VERSION
+++	;;
++     i*86:OS/2:*:*)
++-	# If we were able to find `uname', then EMX Unix compatibility
+++	# If we were able to find 'uname', then EMX Unix compatibility
++ 	# is probably installed.
++-	echo "$UNAME_MACHINE"-pc-os2-emx
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-os2-emx
+++	;;
++     i*86:XTS-300:*:STOP)
++-	echo "$UNAME_MACHINE"-unknown-stop
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-stop
+++	;;
++     i*86:atheos:*:*)
++-	echo "$UNAME_MACHINE"-unknown-atheos
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-atheos
+++	;;
++     i*86:syllable:*:*)
++-	echo "$UNAME_MACHINE"-pc-syllable
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-syllable
+++	;;
++     i*86:LynxOS:2.*:* | i*86:LynxOS:3.[01]*:* | i*86:LynxOS:4.[02]*:*)
++-	echo i386-unknown-lynxos"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=i386-unknown-lynxos$UNAME_RELEASE
+++	;;
++     i*86:*DOS:*:*)
++-	echo "$UNAME_MACHINE"-pc-msdosdjgpp
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-msdosdjgpp
+++	;;
++     i*86:*:4.*:*)
++ 	UNAME_REL=`echo "$UNAME_RELEASE" | sed 's/\/MP$//'`
++ 	if grep Novell /usr/include/link.h >/dev/null 2>/dev/null; then
++-		echo "$UNAME_MACHINE"-univel-sysv"$UNAME_REL"
+++		GUESS=$UNAME_MACHINE-univel-sysv$UNAME_REL
++ 	else
++-		echo "$UNAME_MACHINE"-pc-sysv"$UNAME_REL"
+++		GUESS=$UNAME_MACHINE-pc-sysv$UNAME_REL
++ 	fi
++-	exit ;;
+++	;;
++     i*86:*:5:[678]*)
++ 	# UnixWare 7.x, OpenUNIX and OpenServer 6.
++ 	case `/bin/uname -X | grep "^Machine"` in
++@@ -1109,12 +1268,12 @@ EOF
++ 	    *Pentium)	     UNAME_MACHINE=i586 ;;
++ 	    *Pent*|*Celeron) UNAME_MACHINE=i686 ;;
++ 	esac
++-	echo "$UNAME_MACHINE-unknown-sysv${UNAME_RELEASE}${UNAME_SYSTEM}{$UNAME_VERSION}"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-sysv${UNAME_RELEASE}${UNAME_SYSTEM}${UNAME_VERSION}
+++	;;
++     i*86:*:3.2:*)
++ 	if test -f /usr/options/cb.name; then
++ 		UNAME_REL=`sed -n 's/.*Version //p' </usr/options/cb.name`
++-		echo "$UNAME_MACHINE"-pc-isc"$UNAME_REL"
+++		GUESS=$UNAME_MACHINE-pc-isc$UNAME_REL
++ 	elif /bin/uname -X 2>/dev/null >/dev/null ; then
++ 		UNAME_REL=`(/bin/uname -X|grep Release|sed -e 's/.*= //')`
++ 		(/bin/uname -X|grep i80486 >/dev/null) && UNAME_MACHINE=i486
++@@ -1124,11 +1283,11 @@ EOF
++ 			&& UNAME_MACHINE=i686
++ 		(/bin/uname -X|grep '^Machine.*Pentium Pro' >/dev/null) \
++ 			&& UNAME_MACHINE=i686
++-		echo "$UNAME_MACHINE"-pc-sco"$UNAME_REL"
+++		GUESS=$UNAME_MACHINE-pc-sco$UNAME_REL
++ 	else
++-		echo "$UNAME_MACHINE"-pc-sysv32
+++		GUESS=$UNAME_MACHINE-pc-sysv32
++ 	fi
++-	exit ;;
+++	;;
++     pc:*:*:*)
++ 	# Left here for compatibility:
++ 	# uname -m prints for DJGPP always 'pc', but it prints nothing about
++@@ -1136,31 +1295,31 @@ EOF
++ 	# Note: whatever this is, it MUST be the same as what config.sub
++ 	# prints for the "djgpp" host, or else GDB configure will decide that
++ 	# this is a cross-build.
++-	echo i586-pc-msdosdjgpp
++-	exit ;;
+++	GUESS=i586-pc-msdosdjgpp
+++	;;
++     Intel:Mach:3*:*)
++-	echo i386-pc-mach3
++-	exit ;;
+++	GUESS=i386-pc-mach3
+++	;;
++     paragon:*:*:*)
++-	echo i860-intel-osf1
++-	exit ;;
+++	GUESS=i860-intel-osf1
+++	;;
++     i860:*:4.*:*) # i860-SVR4
++ 	if grep Stardent /usr/include/sys/uadmin.h >/dev/null 2>&1 ; then
++-	  echo i860-stardent-sysv"$UNAME_RELEASE" # Stardent Vistra i860-SVR4
+++	  GUESS=i860-stardent-sysv$UNAME_RELEASE    # Stardent Vistra i860-SVR4
++ 	else # Add other i860-SVR4 vendors below as they are discovered.
++-	  echo i860-unknown-sysv"$UNAME_RELEASE"  # Unknown i860-SVR4
+++	  GUESS=i860-unknown-sysv$UNAME_RELEASE     # Unknown i860-SVR4
++ 	fi
++-	exit ;;
+++	;;
++     mini*:CTIX:SYS*5:*)
++ 	# "miniframe"
++-	echo m68010-convergent-sysv
++-	exit ;;
+++	GUESS=m68010-convergent-sysv
+++	;;
++     mc68k:UNIX:SYSTEM5:3.51m)
++-	echo m68k-convergent-sysv
++-	exit ;;
+++	GUESS=m68k-convergent-sysv
+++	;;
++     M680?0:D-NIX:5.3:*)
++-	echo m68k-diab-dnix
++-	exit ;;
+++	GUESS=m68k-diab-dnix
+++	;;
++     M68*:*:R3V[5678]*:*)
++ 	test -r /sysV68 && { echo 'm68k-motorola-sysv'; exit; } ;;
++     3[345]??:*:4.0:3.0 | 3[34]??A:*:4.0:3.0 | 3[34]??,*:*:4.0:3.0 | 3[34]??/*:*:4.0:3.0 | 4400:*:4.0:3.0 | 4850:*:4.0:3.0 | SKA40:*:4.0:3.0 | SDS2:*:4.0:3.0 | SHG2:*:4.0:3.0 | S7501*:*:4.0:3.0)
++@@ -1185,250 +1344,411 @@ EOF
++ 	/bin/uname -p 2>/dev/null | /bin/grep pteron >/dev/null \
++ 	    && { echo i586-ncr-sysv4.3"$OS_REL"; exit; } ;;
++     m68*:LynxOS:2.*:* | m68*:LynxOS:3.0*:*)
++-	echo m68k-unknown-lynxos"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-unknown-lynxos$UNAME_RELEASE
+++	;;
++     mc68030:UNIX_System_V:4.*:*)
++-	echo m68k-atari-sysv4
++-	exit ;;
+++	GUESS=m68k-atari-sysv4
+++	;;
++     TSUNAMI:LynxOS:2.*:*)
++-	echo sparc-unknown-lynxos"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sparc-unknown-lynxos$UNAME_RELEASE
+++	;;
++     rs6000:LynxOS:2.*:*)
++-	echo rs6000-unknown-lynxos"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=rs6000-unknown-lynxos$UNAME_RELEASE
+++	;;
++     PowerPC:LynxOS:2.*:* | PowerPC:LynxOS:3.[01]*:* | PowerPC:LynxOS:4.[02]*:*)
++-	echo powerpc-unknown-lynxos"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=powerpc-unknown-lynxos$UNAME_RELEASE
+++	;;
++     SM[BE]S:UNIX_SV:*:*)
++-	echo mips-dde-sysv"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=mips-dde-sysv$UNAME_RELEASE
+++	;;
++     RM*:ReliantUNIX-*:*:*)
++-	echo mips-sni-sysv4
++-	exit ;;
+++	GUESS=mips-sni-sysv4
+++	;;
++     RM*:SINIX-*:*:*)
++-	echo mips-sni-sysv4
++-	exit ;;
+++	GUESS=mips-sni-sysv4
+++	;;
++     *:SINIX-*:*:*)
++ 	if uname -p 2>/dev/null >/dev/null ; then
++ 		UNAME_MACHINE=`(uname -p) 2>/dev/null`
++-		echo "$UNAME_MACHINE"-sni-sysv4
+++		GUESS=$UNAME_MACHINE-sni-sysv4
++ 	else
++-		echo ns32k-sni-sysv
+++		GUESS=ns32k-sni-sysv
++ 	fi
++-	exit ;;
++-    PENTIUM:*:4.0*:*)	# Unisys `ClearPath HMP IX 4000' SVR4/MP effort
+++	;;
+++    PENTIUM:*:4.0*:*)	# Unisys 'ClearPath HMP IX 4000' SVR4/MP effort
++ 			# says <Richard.M.Bartel@ccMail.Census.GOV>
++-	echo i586-unisys-sysv4
++-	exit ;;
+++	GUESS=i586-unisys-sysv4
+++	;;
++     *:UNIX_System_V:4*:FTX*)
++ 	# From Gerald Hewes <hewes@openmarket.com>.
++ 	# How about differentiating between stratus architectures? -djm
++-	echo hppa1.1-stratus-sysv4
++-	exit ;;
+++	GUESS=hppa1.1-stratus-sysv4
+++	;;
++     *:*:*:FTX*)
++ 	# From seanf@swdc.stratus.com.
++-	echo i860-stratus-sysv4
++-	exit ;;
+++	GUESS=i860-stratus-sysv4
+++	;;
++     i*86:VOS:*:*)
++ 	# From Paul.Green@stratus.com.
++-	echo "$UNAME_MACHINE"-stratus-vos
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-stratus-vos
+++	;;
++     *:VOS:*:*)
++ 	# From Paul.Green@stratus.com.
++-	echo hppa1.1-stratus-vos
++-	exit ;;
+++	GUESS=hppa1.1-stratus-vos
+++	;;
++     mc68*:A/UX:*:*)
++-	echo m68k-apple-aux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-apple-aux$UNAME_RELEASE
+++	;;
++     news*:NEWS-OS:6*:*)
++-	echo mips-sony-newsos6
++-	exit ;;
+++	GUESS=mips-sony-newsos6
+++	;;
++     R[34]000:*System_V*:*:* | R4000:UNIX_SYSV:*:* | R*000:UNIX_SV:*:*)
++-	if [ -d /usr/nec ]; then
++-		echo mips-nec-sysv"$UNAME_RELEASE"
+++	if test -d /usr/nec; then
+++		GUESS=mips-nec-sysv$UNAME_RELEASE
++ 	else
++-		echo mips-unknown-sysv"$UNAME_RELEASE"
+++		GUESS=mips-unknown-sysv$UNAME_RELEASE
++ 	fi
++-	exit ;;
+++	;;
++     BeBox:BeOS:*:*)	# BeOS running on hardware made by Be, PPC only.
++-	echo powerpc-be-beos
++-	exit ;;
+++	GUESS=powerpc-be-beos
+++	;;
++     BeMac:BeOS:*:*)	# BeOS running on Mac or Mac clone, PPC only.
++-	echo powerpc-apple-beos
++-	exit ;;
+++	GUESS=powerpc-apple-beos
+++	;;
++     BePC:BeOS:*:*)	# BeOS running on Intel PC compatible.
++-	echo i586-pc-beos
++-	exit ;;
+++	GUESS=i586-pc-beos
+++	;;
++     BePC:Haiku:*:*)	# Haiku running on Intel PC compatible.
++-	echo i586-pc-haiku
++-	exit ;;
++-    x86_64:Haiku:*:*)
++-	echo x86_64-unknown-haiku
++-	exit ;;
+++	GUESS=i586-pc-haiku
+++	;;
+++    ppc:Haiku:*:*)	# Haiku running on Apple PowerPC
+++	GUESS=powerpc-apple-haiku
+++	;;
+++    *:Haiku:*:*)	# Haiku modern gcc (not bound by BeOS compat)
+++	GUESS=$UNAME_MACHINE-unknown-haiku
+++	;;
++     SX-4:SUPER-UX:*:*)
++-	echo sx4-nec-superux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sx4-nec-superux$UNAME_RELEASE
+++	;;
++     SX-5:SUPER-UX:*:*)
++-	echo sx5-nec-superux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sx5-nec-superux$UNAME_RELEASE
+++	;;
++     SX-6:SUPER-UX:*:*)
++-	echo sx6-nec-superux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sx6-nec-superux$UNAME_RELEASE
+++	;;
++     SX-7:SUPER-UX:*:*)
++-	echo sx7-nec-superux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sx7-nec-superux$UNAME_RELEASE
+++	;;
++     SX-8:SUPER-UX:*:*)
++-	echo sx8-nec-superux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sx8-nec-superux$UNAME_RELEASE
+++	;;
++     SX-8R:SUPER-UX:*:*)
++-	echo sx8r-nec-superux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sx8r-nec-superux$UNAME_RELEASE
+++	;;
++     SX-ACE:SUPER-UX:*:*)
++-	echo sxace-nec-superux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sxace-nec-superux$UNAME_RELEASE
+++	;;
++     Power*:Rhapsody:*:*)
++-	echo powerpc-apple-rhapsody"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=powerpc-apple-rhapsody$UNAME_RELEASE
+++	;;
++     *:Rhapsody:*:*)
++-	echo "$UNAME_MACHINE"-apple-rhapsody"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-apple-rhapsody$UNAME_RELEASE
+++	;;
+++    arm64:Darwin:*:*)
+++	GUESS=aarch64-apple-darwin$UNAME_RELEASE
+++	;;
++     *:Darwin:*:*)
++-	UNAME_PROCESSOR=`uname -p` || UNAME_PROCESSOR=unknown
++-	set_cc_for_build
++-	if test "$UNAME_PROCESSOR" = unknown ; then
++-	    UNAME_PROCESSOR=powerpc
+++	UNAME_PROCESSOR=`uname -p`
+++	case $UNAME_PROCESSOR in
+++	    unknown) UNAME_PROCESSOR=powerpc ;;
+++	esac
+++	if command -v xcode-select > /dev/null 2> /dev/null && \
+++		! xcode-select --print-path > /dev/null 2> /dev/null ; then
+++	    # Avoid executing cc if there is no toolchain installed as
+++	    # cc will be a stub that puts up a graphical alert
+++	    # prompting the user to install developer tools.
+++	    CC_FOR_BUILD=no_compiler_found
+++	else
+++	    set_cc_for_build
++ 	fi
++-	if test "`echo "$UNAME_RELEASE" | sed -e 's/\..*//'`" -le 10 ; then
++-	    if [ "$CC_FOR_BUILD" != no_compiler_found ]; then
++-		if (echo '#ifdef __LP64__'; echo IS_64BIT_ARCH; echo '#endif') | \
++-		       (CCOPTS="" $CC_FOR_BUILD -E - 2>/dev/null) | \
++-		       grep IS_64BIT_ARCH >/dev/null
++-		then
++-		    case $UNAME_PROCESSOR in
++-			i386) UNAME_PROCESSOR=x86_64 ;;
++-			powerpc) UNAME_PROCESSOR=powerpc64 ;;
++-		    esac
++-		fi
++-		# On 10.4-10.6 one might compile for PowerPC via gcc -arch ppc
++-		if (echo '#ifdef __POWERPC__'; echo IS_PPC; echo '#endif') | \
++-		       (CCOPTS="" $CC_FOR_BUILD -E - 2>/dev/null) | \
++-		       grep IS_PPC >/dev/null
++-		then
++-		    UNAME_PROCESSOR=powerpc
++-		fi
+++	if test "$CC_FOR_BUILD" != no_compiler_found; then
+++	    if (echo '#ifdef __LP64__'; echo IS_64BIT_ARCH; echo '#endif') | \
+++		   (CCOPTS="" $CC_FOR_BUILD -E - 2>/dev/null) | \
+++		   grep IS_64BIT_ARCH >/dev/null
+++	    then
+++		case $UNAME_PROCESSOR in
+++		    i386) UNAME_PROCESSOR=x86_64 ;;
+++		    powerpc) UNAME_PROCESSOR=powerpc64 ;;
+++		esac
+++	    fi
+++	    # On 10.4-10.6 one might compile for PowerPC via gcc -arch ppc
+++	    if (echo '#ifdef __POWERPC__'; echo IS_PPC; echo '#endif') | \
+++		   (CCOPTS="" $CC_FOR_BUILD -E - 2>/dev/null) | \
+++		   grep IS_PPC >/dev/null
+++	    then
+++		UNAME_PROCESSOR=powerpc
++ 	    fi
++ 	elif test "$UNAME_PROCESSOR" = i386 ; then
++-	    # Avoid executing cc on OS X 10.9, as it ships with a stub
++-	    # that puts up a graphical alert prompting to install
++-	    # developer tools.  Any system running Mac OS X 10.7 or
++-	    # later (Darwin 11 and later) is required to have a 64-bit
++-	    # processor. This is not true of the ARM version of Darwin
++-	    # that Apple uses in portable devices.
++-	    UNAME_PROCESSOR=x86_64
+++	    # uname -m returns i386 or x86_64
+++	    UNAME_PROCESSOR=$UNAME_MACHINE
++ 	fi
++-	echo "$UNAME_PROCESSOR"-apple-darwin"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_PROCESSOR-apple-darwin$UNAME_RELEASE
+++	;;
++     *:procnto*:*:* | *:QNX:[0123456789]*:*)
++ 	UNAME_PROCESSOR=`uname -p`
++ 	if test "$UNAME_PROCESSOR" = x86; then
++ 		UNAME_PROCESSOR=i386
++ 		UNAME_MACHINE=pc
++ 	fi
++-	echo "$UNAME_PROCESSOR"-"$UNAME_MACHINE"-nto-qnx"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_PROCESSOR-$UNAME_MACHINE-nto-qnx$UNAME_RELEASE
+++	;;
++     *:QNX:*:4*)
++-	echo i386-pc-qnx
++-	exit ;;
+++	GUESS=i386-pc-qnx
+++	;;
++     NEO-*:NONSTOP_KERNEL:*:*)
++-	echo neo-tandem-nsk"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=neo-tandem-nsk$UNAME_RELEASE
+++	;;
++     NSE-*:NONSTOP_KERNEL:*:*)
++-	echo nse-tandem-nsk"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=nse-tandem-nsk$UNAME_RELEASE
+++	;;
++     NSR-*:NONSTOP_KERNEL:*:*)
++-	echo nsr-tandem-nsk"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=nsr-tandem-nsk$UNAME_RELEASE
+++	;;
++     NSV-*:NONSTOP_KERNEL:*:*)
++-	echo nsv-tandem-nsk"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=nsv-tandem-nsk$UNAME_RELEASE
+++	;;
++     NSX-*:NONSTOP_KERNEL:*:*)
++-	echo nsx-tandem-nsk"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=nsx-tandem-nsk$UNAME_RELEASE
+++	;;
++     *:NonStop-UX:*:*)
++-	echo mips-compaq-nonstopux
++-	exit ;;
+++	GUESS=mips-compaq-nonstopux
+++	;;
++     BS2000:POSIX*:*:*)
++-	echo bs2000-siemens-sysv
++-	exit ;;
+++	GUESS=bs2000-siemens-sysv
+++	;;
++     DS/*:UNIX_System_V:*:*)
++-	echo "$UNAME_MACHINE"-"$UNAME_SYSTEM"-"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-$UNAME_SYSTEM-$UNAME_RELEASE
+++	;;
++     *:Plan9:*:*)
++ 	# "uname -m" is not consistent, so use $cputype instead. 386
++ 	# is converted to i386 for consistency with other x86
++ 	# operating systems.
++-	# shellcheck disable=SC2154
++-	if test "$cputype" = 386; then
+++	if test "${cputype-}" = 386; then
++ 	    UNAME_MACHINE=i386
++-	else
++-	    UNAME_MACHINE="$cputype"
+++	elif test "x${cputype-}" != x; then
+++	    UNAME_MACHINE=$cputype
++ 	fi
++-	echo "$UNAME_MACHINE"-unknown-plan9
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-plan9
+++	;;
++     *:TOPS-10:*:*)
++-	echo pdp10-unknown-tops10
++-	exit ;;
+++	GUESS=pdp10-unknown-tops10
+++	;;
++     *:TENEX:*:*)
++-	echo pdp10-unknown-tenex
++-	exit ;;
+++	GUESS=pdp10-unknown-tenex
+++	;;
++     KS10:TOPS-20:*:* | KL10:TOPS-20:*:* | TYPE4:TOPS-20:*:*)
++-	echo pdp10-dec-tops20
++-	exit ;;
+++	GUESS=pdp10-dec-tops20
+++	;;
++     XKL-1:TOPS-20:*:* | TYPE5:TOPS-20:*:*)
++-	echo pdp10-xkl-tops20
++-	exit ;;
+++	GUESS=pdp10-xkl-tops20
+++	;;
++     *:TOPS-20:*:*)
++-	echo pdp10-unknown-tops20
++-	exit ;;
+++	GUESS=pdp10-unknown-tops20
+++	;;
++     *:ITS:*:*)
++-	echo pdp10-unknown-its
++-	exit ;;
+++	GUESS=pdp10-unknown-its
+++	;;
++     SEI:*:*:SEIUX)
++-	echo mips-sei-seiux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=mips-sei-seiux$UNAME_RELEASE
+++	;;
++     *:DragonFly:*:*)
++-	echo "$UNAME_MACHINE"-unknown-dragonfly"`echo "$UNAME_RELEASE"|sed -e 's/[-(].*//'`"
++-	exit ;;
+++	DRAGONFLY_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
+++	GUESS=$UNAME_MACHINE-unknown-dragonfly$DRAGONFLY_REL
+++	;;
++     *:*VMS:*:*)
++ 	UNAME_MACHINE=`(uname -p) 2>/dev/null`
++-	case "$UNAME_MACHINE" in
++-	    A*) echo alpha-dec-vms ; exit ;;
++-	    I*) echo ia64-dec-vms ; exit ;;
++-	    V*) echo vax-dec-vms ; exit ;;
+++	case $UNAME_MACHINE in
+++	    A*) GUESS=alpha-dec-vms ;;
+++	    I*) GUESS=ia64-dec-vms ;;
+++	    V*) GUESS=vax-dec-vms ;;
++ 	esac ;;
++     *:XENIX:*:SysV)
++-	echo i386-pc-xenix
++-	exit ;;
+++	GUESS=i386-pc-xenix
+++	;;
++     i*86:skyos:*:*)
++-	echo "$UNAME_MACHINE"-pc-skyos"`echo "$UNAME_RELEASE" | sed -e 's/ .*$//'`"
++-	exit ;;
+++	SKYOS_REL=`echo "$UNAME_RELEASE" | sed -e 's/ .*$//'`
+++	GUESS=$UNAME_MACHINE-pc-skyos$SKYOS_REL
+++	;;
++     i*86:rdos:*:*)
++-	echo "$UNAME_MACHINE"-pc-rdos
++-	exit ;;
++-    i*86:AROS:*:*)
++-	echo "$UNAME_MACHINE"-pc-aros
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-rdos
+++	;;
+++    i*86:Fiwix:*:*)
+++	GUESS=$UNAME_MACHINE-pc-fiwix
+++	;;
+++    *:AROS:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-aros
+++	;;
++     x86_64:VMkernel:*:*)
++-	echo "$UNAME_MACHINE"-unknown-esx
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-esx
+++	;;
++     amd64:Isilon\ OneFS:*:*)
++-	echo x86_64-unknown-onefs
++-	exit ;;
+++	GUESS=x86_64-unknown-onefs
+++	;;
+++    *:Unleashed:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-unleashed$UNAME_RELEASE
+++	;;
+++    *:Ironclad:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-ironclad
+++	;;
++ esac
++ 
+++# Do we have a guess based on uname results?
+++if test "x$GUESS" != x; then
+++    echo "$GUESS"
+++    exit
+++fi
+++
+++# No uname command or uname output not recognized.
+++set_cc_for_build
+++cat > "$dummy.c" <<EOF
+++#ifdef _SEQUENT_
+++#include <sys/types.h>
+++#include <sys/utsname.h>
+++#endif
+++#if defined(ultrix) || defined(_ultrix) || defined(__ultrix) || defined(__ultrix__)
+++#if defined (vax) || defined (__vax) || defined (__vax__) || defined(mips) || defined(__mips) || defined(__mips__) || defined(MIPS) || defined(__MIPS__)
+++#include <signal.h>
+++#if defined(_SIZE_T_) || defined(SIGLOST)
+++#include <sys/utsname.h>
+++#endif
+++#endif
+++#endif
+++int
+++main ()
+++{
+++#if defined (sony)
+++#if defined (MIPSEB)
+++  /* BFD wants "bsd" instead of "newsos".  Perhaps BFD should be changed,
+++     I don't know....  */
+++  printf ("mips-sony-bsd\n"); exit (0);
+++#else
+++#include <sys/param.h>
+++  printf ("m68k-sony-newsos%s\n",
+++#ifdef NEWSOS4
+++  "4"
+++#else
+++  ""
+++#endif
+++  ); exit (0);
+++#endif
+++#endif
+++
+++#if defined (NeXT)
+++#if !defined (__ARCHITECTURE__)
+++#define __ARCHITECTURE__ "m68k"
+++#endif
+++  int version;
+++  version=`(hostinfo | sed -n 's/.*NeXT Mach \([0-9]*\).*/\1/p') 2>/dev/null`;
+++  if (version < 4)
+++    printf ("%s-next-nextstep%d\n", __ARCHITECTURE__, version);
+++  else
+++    printf ("%s-next-openstep%d\n", __ARCHITECTURE__, version);
+++  exit (0);
+++#endif
+++
+++#if defined (MULTIMAX) || defined (n16)
+++#if defined (UMAXV)
+++  printf ("ns32k-encore-sysv\n"); exit (0);
+++#else
+++#if defined (CMU)
+++  printf ("ns32k-encore-mach\n"); exit (0);
+++#else
+++  printf ("ns32k-encore-bsd\n"); exit (0);
+++#endif
+++#endif
+++#endif
+++
+++#if defined (__386BSD__)
+++  printf ("i386-pc-bsd\n"); exit (0);
+++#endif
+++
+++#if defined (sequent)
+++#if defined (i386)
+++  printf ("i386-sequent-dynix\n"); exit (0);
+++#endif
+++#if defined (ns32000)
+++  printf ("ns32k-sequent-dynix\n"); exit (0);
+++#endif
+++#endif
+++
+++#if defined (_SEQUENT_)
+++  struct utsname un;
+++
+++  uname(&un);
+++  if (strncmp(un.version, "V2", 2) == 0) {
+++    printf ("i386-sequent-ptx2\n"); exit (0);
+++  }
+++  if (strncmp(un.version, "V1", 2) == 0) { /* XXX is V1 correct? */
+++    printf ("i386-sequent-ptx1\n"); exit (0);
+++  }
+++  printf ("i386-sequent-ptx\n"); exit (0);
+++#endif
+++
+++#if defined (vax)
+++#if !defined (ultrix)
+++#include <sys/param.h>
+++#if defined (BSD)
+++#if BSD == 43
+++  printf ("vax-dec-bsd4.3\n"); exit (0);
+++#else
+++#if BSD == 199006
+++  printf ("vax-dec-bsd4.3reno\n"); exit (0);
+++#else
+++  printf ("vax-dec-bsd\n"); exit (0);
+++#endif
+++#endif
+++#else
+++  printf ("vax-dec-bsd\n"); exit (0);
+++#endif
+++#else
+++#if defined(_SIZE_T_) || defined(SIGLOST)
+++  struct utsname un;
+++  uname (&un);
+++  printf ("vax-dec-ultrix%s\n", un.release); exit (0);
+++#else
+++  printf ("vax-dec-ultrix\n"); exit (0);
+++#endif
+++#endif
+++#endif
+++#if defined(ultrix) || defined(_ultrix) || defined(__ultrix) || defined(__ultrix__)
+++#if defined(mips) || defined(__mips) || defined(__mips__) || defined(MIPS) || defined(__MIPS__)
+++#if defined(_SIZE_T_) || defined(SIGLOST)
+++  struct utsname *un;
+++  uname (&un);
+++  printf ("mips-dec-ultrix%s\n", un.release); exit (0);
+++#else
+++  printf ("mips-dec-ultrix\n"); exit (0);
+++#endif
+++#endif
+++#endif
+++
+++#if defined (alliant) && defined (i860)
+++  printf ("i860-alliant-bsd\n"); exit (0);
+++#endif
+++
+++  exit (1);
+++}
+++EOF
+++
+++$CC_FOR_BUILD -o "$dummy" "$dummy.c" 2>/dev/null && SYSTEM_NAME=`"$dummy"` &&
+++	{ echo "$SYSTEM_NAME"; exit; }
+++
+++# Apollos put the system type in the environment.
+++test -d /usr/apollo && { echo "$ISP-apollo-$SYSTYPE"; exit; }
+++
++ echo "$0: unable to guess system type" >&2
++ 
++-case "$UNAME_MACHINE:$UNAME_SYSTEM" in
+++case $UNAME_MACHINE:$UNAME_SYSTEM in
++     mips:Linux | mips64:Linux)
++ 	# If we got here on MIPS GNU/Linux, output extra information.
++ 	cat >&2 <<EOF
++@@ -1445,9 +1765,17 @@ This script (version $timestamp), has failed to recognize the
++ operating system you are using. If your script is old, overwrite *all*
++ copies of config.guess and config.sub with the latest versions from:
++ 
++-  https://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.guess
+++  https://git.savannah.gnu.org/cgit/config.git/plain/config.guess
++ and
++-  https://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.sub
+++  https://git.savannah.gnu.org/cgit/config.git/plain/config.sub
+++EOF
+++
+++our_year=`echo $timestamp | sed 's,-.*,,'`
+++thisyear=`date +%Y`
+++# shellcheck disable=SC2003
+++script_age=`expr "$thisyear" - "$our_year"`
+++if test "$script_age" -lt 3 ; then
+++   cat >&2 <<EOF
++ 
++ If $0 has already been updated, send the following data and any
++ information you think might be pertinent to config-patches@gnu.org to
++@@ -1475,6 +1803,7 @@ UNAME_RELEASE = "$UNAME_RELEASE"
++ UNAME_SYSTEM  = "$UNAME_SYSTEM"
++ UNAME_VERSION = "$UNAME_VERSION"
++ EOF
+++fi
++ 
++ exit 1
++ 
++diff --git a/config.sub b/config.sub
++index b51fb8c..4aaae46 100755
++--- a/config.sub
+++++ b/config.sub
++@@ -1,12 +1,14 @@
++ #! /bin/sh
++ # Configuration validation subroutine script.
++-#   Copyright 1992-2018 Free Software Foundation, Inc.
+++#   Copyright 1992-2024 Free Software Foundation, Inc.
++ 
++-timestamp='2018-08-29'
+++# shellcheck disable=SC2006,SC2268,SC2162 # see below for rationale
+++
+++timestamp='2024-05-27'
++ 
++ # This file is free software; you can redistribute it and/or modify it
++ # under the terms of the GNU General Public License as published by
++-# the Free Software Foundation; either version 3 of the License, or
+++# the Free Software Foundation, either version 3 of the License, or
++ # (at your option) any later version.
++ #
++ # This program is distributed in the hope that it will be useful, but
++@@ -33,7 +35,7 @@ timestamp='2018-08-29'
++ # Otherwise, we print the canonical config type on stdout and succeed.
++ 
++ # You can get the latest version of this script from:
++-# https://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.sub
+++# https://git.savannah.gnu.org/cgit/config.git/plain/config.sub
++ 
++ # This file is supposed to be the same for all GNU packages
++ # and recognize all the CPU types, system types and aliases
++@@ -50,6 +52,13 @@ timestamp='2018-08-29'
++ #	CPU_TYPE-MANUFACTURER-KERNEL-OPERATING_SYSTEM
++ # It is wrong to echo any other type of specification.
++ 
+++# The "shellcheck disable" line above the timestamp inhibits complaints
+++# about features and limitations of the classic Bourne shell that were
+++# superseded or lifted in POSIX.  However, this script identifies a wide
+++# variety of pre-POSIX systems that do not have POSIX shells at all, and
+++# even some reasonably current systems (Solaris 10 as case-in-point) still
+++# have a pre-POSIX /bin/sh.
+++
++ me=`echo "$0" | sed -e 's,.*/,,'`
++ 
++ usage="\
++@@ -67,13 +76,13 @@ Report bugs and patches to <config-patches@gnu.org>."
++ version="\
++ GNU config.sub ($timestamp)
++ 
++-Copyright 1992-2018 Free Software Foundation, Inc.
+++Copyright 1992-2024 Free Software Foundation, Inc.
++ 
++ This is free software; see the source for copying conditions.  There is NO
++ warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."
++ 
++ help="
++-Try \`$me --help' for more information."
+++Try '$me --help' for more information."
++ 
++ # Parse command line
++ while test $# -gt 0 ; do
++@@ -89,7 +98,7 @@ while test $# -gt 0 ; do
++     - )	# Use stdin as input.
++        break ;;
++     -* )
++-       echo "$me: invalid option $1$help"
+++       echo "$me: invalid option $1$help" >&2
++        exit 1 ;;
++ 
++     *local*)
++@@ -111,74 +120,154 @@ case $# in
++ esac
++ 
++ # Split fields of configuration type
++-IFS="-" read -r field1 field2 field3 field4 <<EOF
+++saved_IFS=$IFS
+++IFS="-" read field1 field2 field3 field4 <<EOF
++ $1
++ EOF
+++IFS=$saved_IFS
++ 
++ # Separate into logical components for further validation
++ case $1 in
++ 	*-*-*-*-*)
++-		echo Invalid configuration \`"$1"\': more than four components >&2
+++		echo "Invalid configuration '$1': more than four components" >&2
++ 		exit 1
++ 		;;
++ 	*-*-*-*)
++ 		basic_machine=$field1-$field2
++-		os=$field3-$field4
+++		basic_os=$field3-$field4
++ 		;;
++ 	*-*-*)
++ 		# Ambiguous whether COMPANY is present, or skipped and KERNEL-OS is two
++ 		# parts
++ 		maybe_os=$field2-$field3
++ 		case $maybe_os in
++-			nto-qnx* | linux-gnu* | linux-android* | linux-dietlibc \
++-			| linux-newlib* | linux-musl* | linux-uclibc* | uclinux-uclibc* \
++-			| uclinux-gnu* | kfreebsd*-gnu* | knetbsd*-gnu* | netbsd*-gnu* \
++-			| netbsd*-eabi* | kopensolaris*-gnu* | cloudabi*-eabi* \
++-			| storm-chaos* | os2-emx* | rtmk-nova*)
+++			  cloudabi*-eabi* \
+++			| kfreebsd*-gnu* \
+++			| knetbsd*-gnu* \
+++			| kopensolaris*-gnu* \
+++			| linux-* \
+++			| managarm-* \
+++			| netbsd*-eabi* \
+++			| netbsd*-gnu* \
+++			| nto-qnx* \
+++			| os2-emx* \
+++			| rtmk-nova* \
+++			| storm-chaos* \
+++			| uclinux-gnu* \
+++			| uclinux-uclibc* \
+++			| windows-* )
++ 				basic_machine=$field1
++-				os=$maybe_os
+++				basic_os=$maybe_os
++ 				;;
++ 			android-linux)
++ 				basic_machine=$field1-unknown
++-				os=linux-android
+++				basic_os=linux-android
++ 				;;
++ 			*)
++ 				basic_machine=$field1-$field2
++-				os=$field3
+++				basic_os=$field3
++ 				;;
++ 		esac
++ 		;;
++ 	*-*)
++-		# A lone config we happen to match not fitting any patern
++ 		case $field1-$field2 in
+++			# Shorthands that happen to contain a single dash
+++			convex-c[12] | convex-c3[248])
+++				basic_machine=$field2-convex
+++				basic_os=
+++				;;
++ 			decstation-3100)
++ 				basic_machine=mips-dec
++-				os=
+++				basic_os=
++ 				;;
++ 			*-*)
++ 				# Second component is usually, but not always the OS
++ 				case $field2 in
++-					# Prevent following clause from handling this valid os
+++					# Do not treat sunos as a manufacturer
++ 					sun*os*)
++ 						basic_machine=$field1
++-						os=$field2
+++						basic_os=$field2
++ 						;;
++ 					# Manufacturers
++-					dec* | mips* | sequent* | encore* | pc533* | sgi* | sony* \
++-					| att* | 7300* | 3300* | delta* | motorola* | sun[234]* \
++-					| unicom* | ibm* | next | hp | isi* | apollo | altos* \
++-					| convergent* | ncr* | news | 32* | 3600* | 3100* \
++-					| hitachi* | c[123]* | convex* | sun | crds | omron* | dg \
++-					| ultra | tti* | harris | dolphin | highlevel | gould \
++-					| cbm | ns | masscomp | apple | axis | knuth | cray \
++-					| microblaze* | sim | cisco \
++-					| oki | wec | wrs | winbond)
+++					  3100* \
+++					| 32* \
+++					| 3300* \
+++					| 3600* \
+++					| 7300* \
+++					| acorn \
+++					| altos* \
+++					| apollo \
+++					| apple \
+++					| atari \
+++					| att* \
+++					| axis \
+++					| be \
+++					| bull \
+++					| cbm \
+++					| ccur \
+++					| cisco \
+++					| commodore \
+++					| convergent* \
+++					| convex* \
+++					| cray \
+++					| crds \
+++					| dec* \
+++					| delta* \
+++					| dg \
+++					| digital \
+++					| dolphin \
+++					| encore* \
+++					| gould \
+++					| harris \
+++					| highlevel \
+++					| hitachi* \
+++					| hp \
+++					| ibm* \
+++					| intergraph \
+++					| isi* \
+++					| knuth \
+++					| masscomp \
+++					| microblaze* \
+++					| mips* \
+++					| motorola* \
+++					| ncr* \
+++					| news \
+++					| next \
+++					| ns \
+++					| oki \
+++					| omron* \
+++					| pc533* \
+++					| rebel \
+++					| rom68k \
+++					| rombug \
+++					| semi \
+++					| sequent* \
+++					| siemens \
+++					| sgi* \
+++					| siemens \
+++					| sim \
+++					| sni \
+++					| sony* \
+++					| stratus \
+++					| sun \
+++					| sun[234]* \
+++					| tektronix \
+++					| tti* \
+++					| ultra \
+++					| unicom* \
+++					| wec \
+++					| winbond \
+++					| wrs)
++ 						basic_machine=$field1-$field2
++-						os=
+++						basic_os=
+++						;;
+++					zephyr*)
+++						basic_machine=$field1-unknown
+++						basic_os=$field2
++ 						;;
++ 					*)
++ 						basic_machine=$field1
++-						os=$field2
+++						basic_os=$field2
++ 						;;
++ 				esac
++ 			;;
++@@ -190,450 +279,431 @@ case $1 in
++ 		case $field1 in
++ 			386bsd)
++ 				basic_machine=i386-pc
++-				os=bsd
+++				basic_os=bsd
++ 				;;
++ 			a29khif)
++ 				basic_machine=a29k-amd
++-				os=udi
+++				basic_os=udi
++ 				;;
++ 			adobe68k)
++ 				basic_machine=m68010-adobe
++-				os=scout
+++				basic_os=scout
++ 				;;
++ 			alliant)
++ 				basic_machine=fx80-alliant
++-				os=
+++				basic_os=
++ 				;;
++ 			altos | altos3068)
++ 				basic_machine=m68k-altos
++-				os=
+++				basic_os=
++ 				;;
++ 			am29k)
++ 				basic_machine=a29k-none
++-				os=bsd
+++				basic_os=bsd
++ 				;;
++ 			amdahl)
++ 				basic_machine=580-amdahl
++-				os=sysv
+++				basic_os=sysv
++ 				;;
++ 			amiga)
++ 				basic_machine=m68k-unknown
++-				os=
+++				basic_os=
++ 				;;
++ 			amigaos | amigados)
++ 				basic_machine=m68k-unknown
++-				os=amigaos
+++				basic_os=amigaos
++ 				;;
++ 			amigaunix | amix)
++ 				basic_machine=m68k-unknown
++-				os=sysv4
+++				basic_os=sysv4
++ 				;;
++ 			apollo68)
++ 				basic_machine=m68k-apollo
++-				os=sysv
+++				basic_os=sysv
++ 				;;
++ 			apollo68bsd)
++ 				basic_machine=m68k-apollo
++-				os=bsd
+++				basic_os=bsd
++ 				;;
++ 			aros)
++ 				basic_machine=i386-pc
++-				os=aros
+++				basic_os=aros
++ 				;;
++ 			aux)
++ 				basic_machine=m68k-apple
++-				os=aux
+++				basic_os=aux
++ 				;;
++ 			balance)
++ 				basic_machine=ns32k-sequent
++-				os=dynix
+++				basic_os=dynix
++ 				;;
++ 			blackfin)
++ 				basic_machine=bfin-unknown
++-				os=linux
+++				basic_os=linux
++ 				;;
++ 			cegcc)
++ 				basic_machine=arm-unknown
++-				os=cegcc
++-				;;
++-			convex-c1)
++-				basic_machine=c1-convex
++-				os=bsd
++-				;;
++-			convex-c2)
++-				basic_machine=c2-convex
++-				os=bsd
++-				;;
++-			convex-c32)
++-				basic_machine=c32-convex
++-				os=bsd
++-				;;
++-			convex-c34)
++-				basic_machine=c34-convex
++-				os=bsd
++-				;;
++-			convex-c38)
++-				basic_machine=c38-convex
++-				os=bsd
+++				basic_os=cegcc
++ 				;;
++ 			cray)
++ 				basic_machine=j90-cray
++-				os=unicos
+++				basic_os=unicos
++ 				;;
++ 			crds | unos)
++ 				basic_machine=m68k-crds
++-				os=
+++				basic_os=
++ 				;;
++ 			da30)
++ 				basic_machine=m68k-da30
++-				os=
+++				basic_os=
++ 				;;
++ 			decstation | pmax | pmin | dec3100 | decstatn)
++ 				basic_machine=mips-dec
++-				os=
+++				basic_os=
++ 				;;
++ 			delta88)
++ 				basic_machine=m88k-motorola
++-				os=sysv3
+++				basic_os=sysv3
++ 				;;
++ 			dicos)
++ 				basic_machine=i686-pc
++-				os=dicos
+++				basic_os=dicos
++ 				;;
++ 			djgpp)
++ 				basic_machine=i586-pc
++-				os=msdosdjgpp
+++				basic_os=msdosdjgpp
++ 				;;
++ 			ebmon29k)
++ 				basic_machine=a29k-amd
++-				os=ebmon
+++				basic_os=ebmon
++ 				;;
++ 			es1800 | OSE68k | ose68k | ose | OSE)
++ 				basic_machine=m68k-ericsson
++-				os=ose
+++				basic_os=ose
++ 				;;
++ 			gmicro)
++ 				basic_machine=tron-gmicro
++-				os=sysv
+++				basic_os=sysv
++ 				;;
++ 			go32)
++ 				basic_machine=i386-pc
++-				os=go32
+++				basic_os=go32
++ 				;;
++ 			h8300hms)
++ 				basic_machine=h8300-hitachi
++-				os=hms
+++				basic_os=hms
++ 				;;
++ 			h8300xray)
++ 				basic_machine=h8300-hitachi
++-				os=xray
+++				basic_os=xray
++ 				;;
++ 			h8500hms)
++ 				basic_machine=h8500-hitachi
++-				os=hms
+++				basic_os=hms
++ 				;;
++ 			harris)
++ 				basic_machine=m88k-harris
++-				os=sysv3
+++				basic_os=sysv3
++ 				;;
++-			hp300)
+++			hp300 | hp300hpux)
++ 				basic_machine=m68k-hp
+++				basic_os=hpux
++ 				;;
++ 			hp300bsd)
++ 				basic_machine=m68k-hp
++-				os=bsd
++-				;;
++-			hp300hpux)
++-				basic_machine=m68k-hp
++-				os=hpux
+++				basic_os=bsd
++ 				;;
++ 			hppaosf)
++ 				basic_machine=hppa1.1-hp
++-				os=osf
+++				basic_os=osf
++ 				;;
++ 			hppro)
++ 				basic_machine=hppa1.1-hp
++-				os=proelf
+++				basic_os=proelf
++ 				;;
++ 			i386mach)
++ 				basic_machine=i386-mach
++-				os=mach
++-				;;
++-			vsta)
++-				basic_machine=i386-pc
++-				os=vsta
+++				basic_os=mach
++ 				;;
++ 			isi68 | isi)
++ 				basic_machine=m68k-isi
++-				os=sysv
+++				basic_os=sysv
++ 				;;
++ 			m68knommu)
++ 				basic_machine=m68k-unknown
++-				os=linux
+++				basic_os=linux
++ 				;;
++ 			magnum | m3230)
++ 				basic_machine=mips-mips
++-				os=sysv
+++				basic_os=sysv
++ 				;;
++ 			merlin)
++ 				basic_machine=ns32k-utek
++-				os=sysv
+++				basic_os=sysv
++ 				;;
++ 			mingw64)
++ 				basic_machine=x86_64-pc
++-				os=mingw64
+++				basic_os=mingw64
++ 				;;
++ 			mingw32)
++ 				basic_machine=i686-pc
++-				os=mingw32
+++				basic_os=mingw32
++ 				;;
++ 			mingw32ce)
++ 				basic_machine=arm-unknown
++-				os=mingw32ce
+++				basic_os=mingw32ce
++ 				;;
++ 			monitor)
++ 				basic_machine=m68k-rom68k
++-				os=coff
+++				basic_os=coff
++ 				;;
++ 			morphos)
++ 				basic_machine=powerpc-unknown
++-				os=morphos
+++				basic_os=morphos
++ 				;;
++ 			moxiebox)
++ 				basic_machine=moxie-unknown
++-				os=moxiebox
+++				basic_os=moxiebox
++ 				;;
++ 			msdos)
++ 				basic_machine=i386-pc
++-				os=msdos
+++				basic_os=msdos
++ 				;;
++ 			msys)
++ 				basic_machine=i686-pc
++-				os=msys
+++				basic_os=msys
++ 				;;
++ 			mvs)
++ 				basic_machine=i370-ibm
++-				os=mvs
+++				basic_os=mvs
++ 				;;
++ 			nacl)
++ 				basic_machine=le32-unknown
++-				os=nacl
+++				basic_os=nacl
++ 				;;
++ 			ncr3000)
++ 				basic_machine=i486-ncr
++-				os=sysv4
+++				basic_os=sysv4
++ 				;;
++ 			netbsd386)
++ 				basic_machine=i386-pc
++-				os=netbsd
+++				basic_os=netbsd
++ 				;;
++ 			netwinder)
++ 				basic_machine=armv4l-rebel
++-				os=linux
+++				basic_os=linux
++ 				;;
++ 			news | news700 | news800 | news900)
++ 				basic_machine=m68k-sony
++-				os=newsos
+++				basic_os=newsos
++ 				;;
++ 			news1000)
++ 				basic_machine=m68030-sony
++-				os=newsos
+++				basic_os=newsos
++ 				;;
++ 			necv70)
++ 				basic_machine=v70-nec
++-				os=sysv
+++				basic_os=sysv
++ 				;;
++ 			nh3000)
++ 				basic_machine=m68k-harris
++-				os=cxux
+++				basic_os=cxux
++ 				;;
++ 			nh[45]000)
++ 				basic_machine=m88k-harris
++-				os=cxux
+++				basic_os=cxux
++ 				;;
++ 			nindy960)
++ 				basic_machine=i960-intel
++-				os=nindy
+++				basic_os=nindy
++ 				;;
++ 			mon960)
++ 				basic_machine=i960-intel
++-				os=mon960
+++				basic_os=mon960
++ 				;;
++ 			nonstopux)
++ 				basic_machine=mips-compaq
++-				os=nonstopux
+++				basic_os=nonstopux
++ 				;;
++ 			os400)
++ 				basic_machine=powerpc-ibm
++-				os=os400
+++				basic_os=os400
++ 				;;
++ 			OSE68000 | ose68000)
++ 				basic_machine=m68000-ericsson
++-				os=ose
+++				basic_os=ose
++ 				;;
++ 			os68k)
++ 				basic_machine=m68k-none
++-				os=os68k
+++				basic_os=os68k
++ 				;;
++ 			paragon)
++ 				basic_machine=i860-intel
++-				os=osf
+++				basic_os=osf
++ 				;;
++ 			parisc)
++ 				basic_machine=hppa-unknown
++-				os=linux
+++				basic_os=linux
+++				;;
+++			psp)
+++				basic_machine=mipsallegrexel-sony
+++				basic_os=psp
++ 				;;
++ 			pw32)
++ 				basic_machine=i586-unknown
++-				os=pw32
+++				basic_os=pw32
++ 				;;
++ 			rdos | rdos64)
++ 				basic_machine=x86_64-pc
++-				os=rdos
+++				basic_os=rdos
++ 				;;
++ 			rdos32)
++ 				basic_machine=i386-pc
++-				os=rdos
+++				basic_os=rdos
++ 				;;
++ 			rom68k)
++ 				basic_machine=m68k-rom68k
++-				os=coff
+++				basic_os=coff
++ 				;;
++ 			sa29200)
++ 				basic_machine=a29k-amd
++-				os=udi
+++				basic_os=udi
++ 				;;
++ 			sei)
++ 				basic_machine=mips-sei
++-				os=seiux
+++				basic_os=seiux
++ 				;;
++ 			sequent)
++ 				basic_machine=i386-sequent
++-				os=
+++				basic_os=
++ 				;;
++ 			sps7)
++ 				basic_machine=m68k-bull
++-				os=sysv2
+++				basic_os=sysv2
++ 				;;
++ 			st2000)
++ 				basic_machine=m68k-tandem
++-				os=
+++				basic_os=
++ 				;;
++ 			stratus)
++ 				basic_machine=i860-stratus
++-				os=sysv4
+++				basic_os=sysv4
++ 				;;
++ 			sun2)
++ 				basic_machine=m68000-sun
++-				os=
+++				basic_os=
++ 				;;
++ 			sun2os3)
++ 				basic_machine=m68000-sun
++-				os=sunos3
+++				basic_os=sunos3
++ 				;;
++ 			sun2os4)
++ 				basic_machine=m68000-sun
++-				os=sunos4
+++				basic_os=sunos4
++ 				;;
++ 			sun3)
++ 				basic_machine=m68k-sun
++-				os=
+++				basic_os=
++ 				;;
++ 			sun3os3)
++ 				basic_machine=m68k-sun
++-				os=sunos3
+++				basic_os=sunos3
++ 				;;
++ 			sun3os4)
++ 				basic_machine=m68k-sun
++-				os=sunos4
+++				basic_os=sunos4
++ 				;;
++ 			sun4)
++ 				basic_machine=sparc-sun
++-				os=
+++				basic_os=
++ 				;;
++ 			sun4os3)
++ 				basic_machine=sparc-sun
++-				os=sunos3
+++				basic_os=sunos3
++ 				;;
++ 			sun4os4)
++ 				basic_machine=sparc-sun
++-				os=sunos4
+++				basic_os=sunos4
++ 				;;
++ 			sun4sol2)
++ 				basic_machine=sparc-sun
++-				os=solaris2
+++				basic_os=solaris2
++ 				;;
++ 			sun386 | sun386i | roadrunner)
++ 				basic_machine=i386-sun
++-				os=
+++				basic_os=
++ 				;;
++ 			sv1)
++ 				basic_machine=sv1-cray
++-				os=unicos
+++				basic_os=unicos
++ 				;;
++ 			symmetry)
++ 				basic_machine=i386-sequent
++-				os=dynix
+++				basic_os=dynix
++ 				;;
++ 			t3e)
++ 				basic_machine=alphaev5-cray
++-				os=unicos
+++				basic_os=unicos
++ 				;;
++ 			t90)
++ 				basic_machine=t90-cray
++-				os=unicos
+++				basic_os=unicos
++ 				;;
++ 			toad1)
++ 				basic_machine=pdp10-xkl
++-				os=tops20
+++				basic_os=tops20
++ 				;;
++ 			tpf)
++ 				basic_machine=s390x-ibm
++-				os=tpf
+++				basic_os=tpf
++ 				;;
++ 			udi29k)
++ 				basic_machine=a29k-amd
++-				os=udi
+++				basic_os=udi
++ 				;;
++ 			ultra3)
++ 				basic_machine=a29k-nyu
++-				os=sym1
+++				basic_os=sym1
++ 				;;
++ 			v810 | necv810)
++ 				basic_machine=v810-nec
++-				os=none
+++				basic_os=none
++ 				;;
++ 			vaxv)
++ 				basic_machine=vax-dec
++-				os=sysv
+++				basic_os=sysv
++ 				;;
++ 			vms)
++ 				basic_machine=vax-dec
++-				os=vms
+++				basic_os=vms
+++				;;
+++			vsta)
+++				basic_machine=i386-pc
+++				basic_os=vsta
++ 				;;
++ 			vxworks960)
++ 				basic_machine=i960-wrs
++-				os=vxworks
+++				basic_os=vxworks
++ 				;;
++ 			vxworks68)
++ 				basic_machine=m68k-wrs
++-				os=vxworks
+++				basic_os=vxworks
++ 				;;
++ 			vxworks29k)
++ 				basic_machine=a29k-wrs
++-				os=vxworks
+++				basic_os=vxworks
++ 				;;
++ 			xbox)
++ 				basic_machine=i686-pc
++-				os=mingw32
+++				basic_os=mingw32
++ 				;;
++ 			ymp)
++ 				basic_machine=ymp-cray
++-				os=unicos
+++				basic_os=unicos
++ 				;;
++ 			*)
++ 				basic_machine=$1
++-				os=
+++				basic_os=
++ 				;;
++ 		esac
++ 		;;
++@@ -685,27 +755,38 @@ case $basic_machine in
++ 	bluegene*)
++ 		cpu=powerpc
++ 		vendor=ibm
++-		os=cnk
+++		basic_os=cnk
++ 		;;
++ 	decsystem10* | dec10*)
++ 		cpu=pdp10
++ 		vendor=dec
++-		os=tops10
+++		basic_os=tops10
++ 		;;
++ 	decsystem20* | dec20*)
++ 		cpu=pdp10
++ 		vendor=dec
++-		os=tops20
+++		basic_os=tops20
++ 		;;
++-	delta | 3300 | motorola-3300 | motorola-delta \
++-	      | 3300-motorola | delta-motorola)
+++	delta | 3300 | delta-motorola | 3300-motorola | motorola-delta | motorola-3300)
++ 		cpu=m68k
++ 		vendor=motorola
++ 		;;
++-	dpx2*)
+++	# This used to be dpx2*, but that gets the RS6000-based
+++	# DPX/20 and the x86-based DPX/2-100 wrong.  See
+++	# https://oldskool.silicium.org/stations/bull_dpx20.htm
+++	# https://www.feb-patrimoine.com/english/bull_dpx2.htm
+++	# https://www.feb-patrimoine.com/english/unix_and_bull.htm
+++	dpx2 | dpx2[23]00 | dpx2[23]xx)
++ 		cpu=m68k
++ 		vendor=bull
++-		os=sysv3
+++		;;
+++	dpx2100 | dpx21xx)
+++		cpu=i386
+++		vendor=bull
+++		;;
+++	dpx20)
+++		cpu=rs6000
+++		vendor=bull
++ 		;;
++ 	encore | umax | mmax)
++ 		cpu=ns32k
++@@ -714,7 +795,7 @@ case $basic_machine in
++ 	elxsi)
++ 		cpu=elxsi
++ 		vendor=elxsi
++-		os=${os:-bsd}
+++		basic_os=${basic_os:-bsd}
++ 		;;
++ 	fx2800)
++ 		cpu=i860
++@@ -727,7 +808,7 @@ case $basic_machine in
++ 	h3050r* | hiux*)
++ 		cpu=hppa1.1
++ 		vendor=hitachi
++-		os=hiuxwe2
+++		basic_os=hiuxwe2
++ 		;;
++ 	hp3k9[0-9][0-9] | hp9[0-9][0-9])
++ 		cpu=hppa1.0
++@@ -770,36 +851,36 @@ case $basic_machine in
++ 	i*86v32)
++ 		cpu=`echo "$1" | sed -e 's/86.*/86/'`
++ 		vendor=pc
++-		os=sysv32
+++		basic_os=sysv32
++ 		;;
++ 	i*86v4*)
++ 		cpu=`echo "$1" | sed -e 's/86.*/86/'`
++ 		vendor=pc
++-		os=sysv4
+++		basic_os=sysv4
++ 		;;
++ 	i*86v)
++ 		cpu=`echo "$1" | sed -e 's/86.*/86/'`
++ 		vendor=pc
++-		os=sysv
+++		basic_os=sysv
++ 		;;
++ 	i*86sol2)
++ 		cpu=`echo "$1" | sed -e 's/86.*/86/'`
++ 		vendor=pc
++-		os=solaris2
+++		basic_os=solaris2
++ 		;;
++ 	j90 | j90-cray)
++ 		cpu=j90
++ 		vendor=cray
++-		os=${os:-unicos}
+++		basic_os=${basic_os:-unicos}
++ 		;;
++ 	iris | iris4d)
++ 		cpu=mips
++ 		vendor=sgi
++-		case $os in
+++		case $basic_os in
++ 		    irix*)
++ 			;;
++ 		    *)
++-			os=irix4
+++			basic_os=irix4
++ 			;;
++ 		esac
++ 		;;
++@@ -810,26 +891,16 @@ case $basic_machine in
++ 	*mint | mint[0-9]* | *MiNT | *MiNT[0-9]*)
++ 		cpu=m68k
++ 		vendor=atari
++-		os=mint
+++		basic_os=mint
++ 		;;
++ 	news-3600 | risc-news)
++ 		cpu=mips
++ 		vendor=sony
++-		os=newsos
+++		basic_os=newsos
++ 		;;
++ 	next | m*-next)
++ 		cpu=m68k
++ 		vendor=next
++-		case $os in
++-		    nextstep* )
++-			;;
++-		    ns2*)
++-		      os=nextstep2
++-			;;
++-		    *)
++-		      os=nextstep3
++-			;;
++-		esac
++ 		;;
++ 	np1)
++ 		cpu=np1
++@@ -838,12 +909,12 @@ case $basic_machine in
++ 	op50n-* | op60c-*)
++ 		cpu=hppa1.1
++ 		vendor=oki
++-		os=proelf
+++		basic_os=proelf
++ 		;;
++ 	pa-hitachi)
++ 		cpu=hppa1.1
++ 		vendor=hitachi
++-		os=hiuxwe2
+++		basic_os=hiuxwe2
++ 		;;
++ 	pbd)
++ 		cpu=sparc
++@@ -880,12 +951,12 @@ case $basic_machine in
++ 	sde)
++ 		cpu=mipsisa32
++ 		vendor=sde
++-		os=${os:-elf}
+++		basic_os=${basic_os:-elf}
++ 		;;
++ 	simso-wrs)
++ 		cpu=sparclite
++ 		vendor=wrs
++-		os=vxworks
+++		basic_os=vxworks
++ 		;;
++ 	tower | tower-32)
++ 		cpu=m68k
++@@ -902,7 +973,7 @@ case $basic_machine in
++ 	w89k-*)
++ 		cpu=hppa1.1
++ 		vendor=winbond
++-		os=proelf
+++		basic_os=proelf
++ 		;;
++ 	none)
++ 		cpu=none
++@@ -918,11 +989,13 @@ case $basic_machine in
++ 		;;
++ 
++ 	*-*)
++-		IFS="-" read -r cpu vendor <<EOF
+++		saved_IFS=$IFS
+++		IFS="-" read cpu vendor <<EOF
++ $basic_machine
++ EOF
+++		IFS=$saved_IFS
++ 		;;
++-	# We use `pc' rather than `unknown'
+++	# We use 'pc' rather than 'unknown'
++ 	# because (1) that's what they normally are, and
++ 	# (2) the word "unknown" tends to confuse beginning users.
++ 	i*86 | x86_64)
++@@ -950,15 +1023,19 @@ unset -v basic_machine
++ 
++ # Decode basic machines in the full and proper CPU-Company form.
++ case $cpu-$vendor in
++-	# Here we handle the default manufacturer of certain CPU types in cannonical form. It is in
++-	# some cases the only manufacturer, in others, it is the most popular.
+++	# Here we handle the default manufacturer of certain CPU types in canonical form.
+++	# It is in some cases the only manufacturer, in others, it is the most popular.
+++	c[12]-convex | c[12]-unknown | c3[248]-convex | c3[248]-unknown)
+++		vendor=convex
+++		basic_os=${basic_os:-bsd}
+++		;;
++ 	craynv-unknown)
++ 		vendor=cray
++-		os=${os:-unicosmp}
+++		basic_os=${basic_os:-unicosmp}
++ 		;;
++ 	c90-unknown | c90-cray)
++ 		vendor=cray
++-		os=${os:-unicos}
+++		basic_os=${basic_os:-unicos}
++ 		;;
++ 	fx80-unknown)
++ 		vendor=alliant
++@@ -999,10 +1076,33 @@ case $cpu-$vendor in
++ 		;;
++ 
++ 	# Here we normalize CPU types with a missing or matching vendor
++-	dpx20-unknown | dpx20-bull)
++-		cpu=rs6000
++-		vendor=bull
++-		os=${os:-bosx}
+++	armh-unknown | armh-alt)
+++		cpu=armv7l
+++		vendor=alt
+++		basic_os=${basic_os:-linux-gnueabihf}
+++		;;
+++
+++	# Normalized CPU+vendor pairs that imply an OS, if not otherwise specified
+++	m68k-isi)
+++		basic_os=${basic_os:-sysv}
+++		;;
+++	m68k-sony)
+++		basic_os=${basic_os:-newsos}
+++		;;
+++	m68k-tektronix)
+++		basic_os=${basic_os:-bsd}
+++		;;
+++	m88k-harris)
+++		basic_os=${basic_os:-sysv3}
+++		;;
+++	i386-bull | m68k-bull)
+++		basic_os=${basic_os:-sysv3}
+++		;;
+++	rs6000-bull)
+++		basic_os=${basic_os:-bosx}
+++		;;
+++	mips-sni)
+++		basic_os=${basic_os:-sysv4}
++ 		;;
++ 
++ 	# Here we normalize CPU types irrespective of the vendor
++@@ -1011,7 +1111,7 @@ case $cpu-$vendor in
++ 		;;
++ 	blackfin-*)
++ 		cpu=bfin
++-		os=linux
+++		basic_os=${basic_os:-linux}
++ 		;;
++ 	c54x-*)
++ 		cpu=tic54x
++@@ -1024,7 +1124,7 @@ case $cpu-$vendor in
++ 		;;
++ 	e500v[12]-*)
++ 		cpu=powerpc
++-		os=$os"spe"
+++		basic_os=${basic_os}"spe"
++ 		;;
++ 	mips3*-*)
++ 		cpu=mips64
++@@ -1034,7 +1134,7 @@ case $cpu-$vendor in
++ 		;;
++ 	m68knommu-*)
++ 		cpu=m68k
++-		os=linux
+++		basic_os=${basic_os:-linux}
++ 		;;
++ 	m9s12z-* | m68hcs12z-* | hcs12z-* | s12z-*)
++ 		cpu=s12z
++@@ -1044,12 +1144,12 @@ case $cpu-$vendor in
++ 		;;
++ 	parisc-*)
++ 		cpu=hppa
++-		os=linux
+++		basic_os=${basic_os:-linux}
++ 		;;
++ 	pentium-* | p5-* | k5-* | k6-* | nexgen-* | viac3-*)
++ 		cpu=i586
++ 		;;
++-	pentiumpro-* | p6-* | 6x86-* | athlon-* | athalon_*-*)
+++	pentiumpro-* | p6-* | 6x86-* | athlon-* | athlon_*-*)
++ 		cpu=i686
++ 		;;
++ 	pentiumii-* | pentium2-* | pentiumiii-* | pentium3-*)
++@@ -1058,9 +1158,6 @@ case $cpu-$vendor in
++ 	pentium4-*)
++ 		cpu=i786
++ 		;;
++-	pc98-*)
++-		cpu=i386
++-		;;
++ 	ppc-* | ppcbe-*)
++ 		cpu=powerpc
++ 		;;
++@@ -1094,17 +1191,17 @@ case $cpu-$vendor in
++ 	tx39el-*)
++ 		cpu=mipstx39el
++ 		;;
++-	x64-*)
++-		cpu=x86_64
++-		;;
++ 	xscale-* | xscalee[bl]-*)
++ 		cpu=`echo "$cpu" | sed 's/^xscale/arm/'`
++ 		;;
+++	arm64-* | aarch64le-*)
+++		cpu=aarch64
+++		;;
++ 
++-	# Recognize the cannonical CPU Types that limit and/or modify the
+++	# Recognize the canonical CPU Types that limit and/or modify the
++ 	# company names they are paired with.
++ 	cr16-*)
++-		os=${os:-elf}
+++		basic_os=${basic_os:-elf}
++ 		;;
++ 	crisv32-* | etraxfs*-*)
++ 		cpu=crisv32
++@@ -1115,7 +1212,7 @@ case $cpu-$vendor in
++ 		vendor=axis
++ 		;;
++ 	crx-*)
++-		os=${os:-elf}
+++		basic_os=${basic_os:-elf}
++ 		;;
++ 	neo-tandem)
++ 		cpu=neo
++@@ -1137,119 +1234,243 @@ case $cpu-$vendor in
++ 		cpu=nsx
++ 		vendor=tandem
++ 		;;
++-	s390-*)
++-		cpu=s390
++-		vendor=ibm
++-		;;
++-	s390x-*)
++-		cpu=s390x
++-		vendor=ibm
+++	mipsallegrexel-sony)
+++		cpu=mipsallegrexel
+++		vendor=sony
++ 		;;
++ 	tile*-*)
++-		os=${os:-linux-gnu}
+++		basic_os=${basic_os:-linux-gnu}
++ 		;;
++ 
++ 	*)
++-		# Recognize the cannonical CPU types that are allowed with any
+++		# Recognize the canonical CPU types that are allowed with any
++ 		# company name.
++ 		case $cpu in
++-			1750a | 580 \
+++			  1750a \
+++			| 580 \
+++			| [cjt]90 \
++ 			| a29k \
++-			| aarch64 | aarch64_be \
+++			| aarch64 \
+++			| aarch64_be \
+++			| aarch64c \
++ 			| abacus \
++-			| alpha | alphaev[4-8] | alphaev56 | alphaev6[78] \
++-			| alpha64 | alpha64ev[4-8] | alpha64ev56 | alpha64ev6[78] \
++-			| alphapca5[67] | alpha64pca5[67] \
+++			| alpha \
+++			| alpha64 \
+++			| alpha64ev56 \
+++			| alpha64ev6[78] \
+++			| alpha64ev[4-8] \
+++			| alpha64pca5[67] \
+++			| alphaev56 \
+++			| alphaev6[78] \
+++			| alphaev[4-8] \
+++			| alphapca5[67] \
++ 			| am33_2.0 \
++-			| arc | arceb \
++-			| arm  | arm[lb]e | arme[lb] | armv* \
++-			| avr | avr32 \
+++			| amdgcn \
+++			| arc \
+++			| arc32 \
+++			| arc64 \
+++			| arceb \
+++			| arm \
+++			| arm64e \
+++			| arm64ec \
+++			| arm[lb]e \
+++			| arme[lb] \
+++			| armv* \
++ 			| asmjs \
+++			| avr \
+++			| avr32 \
++ 			| ba \
++-			| be32 | be64 \
++-			| bfin | bs2000 \
++-			| c[123]* | c30 | [cjt]90 | c4x \
++-			| c8051 | clipper | craynv | csky | cydra \
++-			| d10v | d30v | dlx | dsp16xx \
++-			| e2k | elxsi | epiphany \
++-			| f30[01] | f700 | fido | fr30 | frv | ft32 | fx80 \
++-			| h8300 | h8500 \
++-			| hppa | hppa1.[01] | hppa2.0 | hppa2.0[nw] | hppa64 \
+++			| be32 \
+++			| be64 \
+++			| bfin \
+++			| bpf \
+++			| bs2000 \
+++			| c30 \
+++			| c4x \
+++			| c8051 \
+++			| c[123]* \
+++			| clipper \
+++			| craynv \
+++			| csky \
+++			| cydra \
+++			| d10v \
+++			| d30v \
+++			| dlx \
+++			| dsp16xx \
+++			| e2k \
+++			| elxsi \
+++			| epiphany \
+++			| f30[01] \
+++			| f700 \
+++			| fido \
+++			| fr30 \
+++			| frv \
+++			| ft32 \
+++			| fx80 \
+++			| h8300 \
+++			| h8500 \
++ 			| hexagon \
++-			| i370 | i*86 | i860 | i960 | ia16 | ia64 \
++-			| ip2k | iq2000 \
+++			| hppa \
+++			| hppa1.[01] \
+++			| hppa2.0 \
+++			| hppa2.0[nw] \
+++			| hppa64 \
+++			| i*86 \
+++			| i370 \
+++			| i860 \
+++			| i960 \
+++			| ia16 \
+++			| ia64 \
+++			| ip2k \
+++			| iq2000 \
+++			| javascript \
++ 			| k1om \
++-			| le32 | le64 \
+++			| kvx \
+++			| le32 \
+++			| le64 \
++ 			| lm32 \
++-			| m32c | m32r | m32rle \
++-			| m5200 | m68000 | m680[012346]0 | m68360 | m683?2 | m68k | v70 | w65 \
++-			| m6811 | m68hc11 | m6812 | m68hc12 | m68hcs12x | nvptx | picochip \
++-			| m88110 | m88k | maxq | mb | mcore | mep | metag \
++-			| microblaze | microblazeel \
++-			| mips | mipsbe | mipseb | mipsel | mipsle \
++-			| mips16 \
++-			| mips64 | mips64el \
++-			| mips64octeon | mips64octeonel \
++-			| mips64orion | mips64orionel \
++-			| mips64r5900 | mips64r5900el \
++-			| mips64vr | mips64vrel \
++-			| mips64vr4100 | mips64vr4100el \
++-			| mips64vr4300 | mips64vr4300el \
++-			| mips64vr5000 | mips64vr5000el \
++-			| mips64vr5900 | mips64vr5900el \
++-			| mipsisa32 | mipsisa32el \
++-			| mipsisa32r2 | mipsisa32r2el \
++-			| mipsisa32r6 | mipsisa32r6el \
++-			| mipsisa64 | mipsisa64el \
++-			| mipsisa64r2 | mipsisa64r2el \
++-			| mipsisa64r6 | mipsisa64r6el \
++-			| mipsisa64sb1 | mipsisa64sb1el \
++-			| mipsisa64sr71k | mipsisa64sr71kel \
++-			| mipsr5900 | mipsr5900el \
++-			| mipstx39 | mipstx39el \
+++			| loongarch32 \
+++			| loongarch64 \
+++			| m32c \
+++			| m32r \
+++			| m32rle \
+++			| m5200 \
+++			| m68000 \
+++			| m680[012346]0 \
+++			| m6811 \
+++			| m6812 \
+++			| m68360 \
+++			| m683?2 \
+++			| m68hc11 \
+++			| m68hc12 \
+++			| m68hcs12x \
+++			| m68k \
+++			| m88110 \
+++			| m88k \
+++			| maxq \
+++			| mb \
+++			| mcore \
+++			| mep \
+++			| metag \
+++			| microblaze \
+++			| microblazeel \
+++			| mips* \
++ 			| mmix \
++-			| mn10200 | mn10300 \
+++			| mn10200 \
+++			| mn10300 \
++ 			| moxie \
++-			| mt \
++ 			| msp430 \
++-			| nds32 | nds32le | nds32be \
+++			| mt \
+++			| nanomips* \
+++			| nds32 \
+++			| nds32be \
+++			| nds32le \
++ 			| nfp \
++-			| nios | nios2 | nios2eb | nios2el \
++-			| none | np1 | ns16k | ns32k \
+++			| nios \
+++			| nios2 \
+++			| nios2eb \
+++			| nios2el \
+++			| none \
+++			| np1 \
+++			| ns16k \
+++			| ns32k \
+++			| nvptx \
++ 			| open8 \
++ 			| or1k* \
++ 			| or32 \
++ 			| orion \
++-			| pdp10 | pdp11 | pj | pjl | pn | power \
++-			| powerpc | powerpc64 | powerpc64le | powerpcle | powerpcspe \
+++			| pdp10 \
+++			| pdp11 \
+++			| picochip \
+++			| pj \
+++			| pjl \
+++			| pn \
+++			| power \
+++			| powerpc \
+++			| powerpc64 \
+++			| powerpc64le \
+++			| powerpcle \
+++			| powerpcspe \
++ 			| pru \
++ 			| pyramid \
++-			| riscv | riscv32 | riscv64 \
++-			| rl78 | romp | rs6000 | rx \
+++			| riscv \
+++			| riscv32 \
+++			| riscv32be \
+++			| riscv64 \
+++			| riscv64be \
+++			| rl78 \
+++			| romp \
+++			| rs6000 \
+++			| rx \
+++			| s390 \
+++			| s390x \
++ 			| score \
++-			| sh | sh[1234] | sh[24]a | sh[24]ae[lb] | sh[23]e | she[lb] | sh[lb]e \
++-			| sh[1234]e[lb] |  sh[12345][lb]e | sh[23]ele | sh64 | sh64le \
++-			| sparc | sparc64 | sparc64b | sparc64v | sparc86x | sparclet \
+++			| sh \
+++			| sh64 \
+++			| sh64le \
+++			| sh[12345][lb]e \
+++			| sh[1234] \
+++			| sh[1234]e[lb] \
+++			| sh[23]e \
+++			| sh[23]ele \
+++			| sh[24]a \
+++			| sh[24]ae[lb] \
+++			| sh[lb]e \
+++			| she[lb] \
+++			| shl \
+++			| sparc \
+++			| sparc64 \
+++			| sparc64b \
+++			| sparc64v \
+++			| sparc86x \
+++			| sparclet \
++ 			| sparclite \
++-			| sparcv8 | sparcv9 | sparcv9b | sparcv9v | sv1 | sx* \
+++			| sparcv8 \
+++			| sparcv9 \
+++			| sparcv9b \
+++			| sparcv9v \
++ 			| spu \
+++			| sv1 \
+++			| sx* \
++ 			| tahoe \
++-			| tic30 | tic4x | tic54x | tic55x | tic6x | tic80 \
+++			| thumbv7* \
+++			| tic30 \
+++			| tic4x \
+++			| tic54x \
+++			| tic55x \
+++			| tic6x \
+++			| tic80 \
++ 			| tron \
++ 			| ubicom32 \
++-			| v850 | v850e | v850e1 | v850es | v850e2 | v850e2v3 \
+++			| v70 \
+++			| v810 \
+++			| v850 \
+++			| v850e \
+++			| v850e1 \
+++			| v850e2 \
+++			| v850e2v3 \
+++			| v850es \
++ 			| vax \
+++			| vc4 \
++ 			| visium \
+++			| w65 \
++ 			| wasm32 \
+++			| wasm64 \
++ 			| we32k \
++-			| x86 | x86_64 | xc16x | xgate | xps100 \
++-			| xstormy16 | xtensa* \
+++			| x86 \
+++			| x86_64 \
+++			| xc16x \
+++			| xgate \
+++			| xps100 \
+++			| xstormy16 \
+++			| xtensa* \
++ 			| ymp \
++-			| z8k | z80)
+++			| z80 \
+++			| z8k)
++ 				;;
++ 
++ 			*)
++-				echo Invalid configuration \`"$1"\': machine \`"$cpu-$vendor"\' not recognized 1>&2
+++				echo "Invalid configuration '$1': machine '$cpu-$vendor' not recognized" 1>&2
++ 				exit 1
++ 				;;
++ 		esac
++@@ -1270,8 +1491,53 @@ esac
++ 
++ # Decode manufacturer-specific aliases for certain operating systems.
++ 
++-if [ x$os != x ]
+++if test x"$basic_os" != x
++ then
+++
+++# First recognize some ad-hoc cases, or perhaps split kernel-os, or else just
+++# set os.
+++obj=
+++case $basic_os in
+++	gnu/linux*)
+++		kernel=linux
+++		os=`echo "$basic_os" | sed -e 's|gnu/linux|gnu|'`
+++		;;
+++	os2-emx)
+++		kernel=os2
+++		os=`echo "$basic_os" | sed -e 's|os2-emx|emx|'`
+++		;;
+++	nto-qnx*)
+++		kernel=nto
+++		os=`echo "$basic_os" | sed -e 's|nto-qnx|qnx|'`
+++		;;
+++	*-*)
+++		saved_IFS=$IFS
+++		IFS="-" read kernel os <<EOF
+++$basic_os
+++EOF
+++		IFS=$saved_IFS
+++		;;
+++	# Default OS when just kernel was specified
+++	nto*)
+++		kernel=nto
+++		os=`echo "$basic_os" | sed -e 's|nto|qnx|'`
+++		;;
+++	linux*)
+++		kernel=linux
+++		os=`echo "$basic_os" | sed -e 's|linux|gnu|'`
+++		;;
+++	managarm*)
+++		kernel=managarm
+++		os=`echo "$basic_os" | sed -e 's|managarm|mlibc|'`
+++		;;
+++	*)
+++		kernel=
+++		os=$basic_os
+++		;;
+++esac
+++
+++# Now, normalize the OS (knowing we just have one component, it's not a kernel,
+++# etc.)
++ case $os in
++ 	# First match some system type aliases that might get confused
++ 	# with valid system types.
++@@ -1283,7 +1549,7 @@ case $os in
++ 		os=cnk
++ 		;;
++ 	solaris1 | solaris1.*)
++-		os=`echo $os | sed -e 's|solaris1|sunos4|'`
+++		os=`echo "$os" | sed -e 's|solaris1|sunos4|'`
++ 		;;
++ 	solaris)
++ 		os=solaris2
++@@ -1291,8 +1557,22 @@ case $os in
++ 	unixware*)
++ 		os=sysv4.2uw
++ 		;;
++-	gnu/linux*)
++-		os=`echo $os | sed -e 's|gnu/linux|linux-gnu|'`
+++	# The marketing names for NeXT's operating systems were
+++	# NeXTSTEP, NeXTSTEP 2, OpenSTEP 3, OpenSTEP 4.  'openstep' is
+++	# mapped to 'openstep3', but 'openstep1' and 'openstep2' are
+++	# mapped to 'nextstep' and 'nextstep2', consistent with the
+++	# treatment of SunOS/Solaris.
+++	ns | ns1 | nextstep | nextstep1 | openstep1)
+++		os=nextstep
+++		;;
+++	ns2 | nextstep2 | openstep2)
+++		os=nextstep2
+++		;;
+++	ns3 | nextstep3 | openstep | openstep3)
+++		os=openstep3
+++		;;
+++	ns4 | nextstep4 | openstep4)
+++		os=openstep4
++ 		;;
++ 	# es1800 is here to avoid being matched by es* (a different OS)
++ 	es1800*)
++@@ -1315,12 +1595,9 @@ case $os in
++ 		os=sco3.2v4
++ 		;;
++ 	sco3.2.[4-9]*)
++-		os=`echo $os | sed -e 's/sco3.2./sco3.2v/'`
+++		os=`echo "$os" | sed -e 's/sco3.2./sco3.2v/'`
++ 		;;
++-	sco3.2v[4-9]* | sco5v6*)
++-		# Don't forget version if it is 3.2v4 or newer.
++-		;;
++-	scout)
+++	sco*v* | scout)
++ 		# Don't match below
++ 		;;
++ 	sco*)
++@@ -1329,77 +1606,25 @@ case $os in
++ 	psos*)
++ 		os=psos
++ 		;;
++-	# Now accept the basic system types.
++-	# The portable systems comes first.
++-	# Each alternative MUST end in a * to match a version number.
++-	# sysv* is not here because it comes later, after sysvr4.
++-	gnu* | bsd* | mach* | minix* | genix* | ultrix* | irix* \
++-	     | *vms* | esix* | aix* | cnk* | sunos | sunos[34]*\
++-	     | hpux* | unos* | osf* | luna* | dgux* | auroraux* | solaris* \
++-	     | sym* | kopensolaris* | plan9* \
++-	     | amigaos* | amigados* | msdos* | newsos* | unicos* | aof* \
++-	     | aos* | aros* | cloudabi* | sortix* \
++-	     | nindy* | vxsim* | vxworks* | ebmon* | hms* | mvs* \
++-	     | clix* | riscos* | uniplus* | iris* | isc* | rtu* | xenix* \
++-	     | knetbsd* | mirbsd* | netbsd* \
++-	     | bitrig* | openbsd* | solidbsd* | libertybsd* \
++-	     | ekkobsd* | kfreebsd* | freebsd* | riscix* | lynxos* \
++-	     | bosx* | nextstep* | cxux* | aout* | elf* | oabi* \
++-	     | ptx* | coff* | ecoff* | winnt* | domain* | vsta* \
++-	     | udi* | eabi* | lites* | ieee* | go32* | aux* | hcos* \
++-	     | chorusrdb* | cegcc* | glidix* \
++-	     | cygwin* | msys* | pe* | moss* | proelf* | rtems* \
++-	     | midipix* | mingw32* | mingw64* | linux-gnu* | linux-android* \
++-	     | linux-newlib* | linux-musl* | linux-uclibc* \
++-	     | uxpv* | beos* | mpeix* | udk* | moxiebox* \
++-	     | interix* | uwin* | mks* | rhapsody* | darwin* \
++-	     | openstep* | oskit* | conix* | pw32* | nonstopux* \
++-	     | storm-chaos* | tops10* | tenex* | tops20* | its* \
++-	     | os2* | vos* | palmos* | uclinux* | nucleus* \
++-	     | morphos* | superux* | rtmk* | windiss* \
++-	     | powermax* | dnix* | nx6 | nx7 | sei* | dragonfly* \
++-	     | skyos* | haiku* | rdos* | toppers* | drops* | es* \
++-	     | onefs* | tirtos* | phoenix* | fuchsia* | redox* | bme* \
++-	     | midnightbsd*)
++-	# Remember, each alternative MUST END IN *, to match a version number.
++-		;;
++ 	qnx*)
++-		case $cpu in
++-		    x86 | i*86)
++-			;;
++-		    *)
++-			os=nto-$os
++-			;;
++-		esac
+++		os=qnx
++ 		;;
++ 	hiux*)
++ 		os=hiuxwe2
++ 		;;
++-	nto-qnx*)
++-		;;
++-	nto*)
++-		os=`echo $os | sed -e 's|nto|nto-qnx|'`
++-		;;
++-	sim | xray | os68k* | v88r* \
++-	    | windows* | osx | abug | netware* | os9* \
++-	    | macos* | mpw* | magic* | mmixware* | mon960* | lnews*)
++-		;;
++-	linux-dietlibc)
++-		os=linux-dietlibc
++-		;;
++-	linux*)
++-		os=`echo $os | sed -e 's|linux|linux-gnu|'`
++-		;;
++ 	lynx*178)
++ 		os=lynxos178
++ 		;;
++ 	lynx*5)
++ 		os=lynxos5
++ 		;;
+++	lynxos*)
+++		# don't get caught up in next wildcard
+++		;;
++ 	lynx*)
++ 		os=lynxos
++ 		;;
++-	mac*)
+++	mac[0-9]*)
++ 		os=`echo "$os" | sed -e 's|mac|macos|'`
++ 		;;
++ 	opened*)
++@@ -1419,6 +1644,7 @@ case $os in
++ 		;;
++ 	utek*)
++ 		os=bsd
+++		vendor=`echo "$vendor" | sed -e 's|^unknown$|tektronix|'`
++ 		;;
++ 	dynix*)
++ 		os=bsd
++@@ -1435,24 +1661,25 @@ case $os in
++ 	386bsd)
++ 		os=bsd
++ 		;;
++-	ctix* | uts*)
+++	ctix*)
++ 		os=sysv
+++		vendor=`echo "$vendor" | sed -e 's|^unknown$|convergent|'`
++ 		;;
++-	nova*)
++-		os=rtmk-nova
++-		;;
++-	ns2)
++-		os=nextstep2
+++	uts*)
+++		os=sysv
++ 		;;
++-	nsk*)
++-		os=nsk
+++	nova*)
+++		kernel=rtmk
+++		os=nova
++ 		;;
++ 	# Preserve the version number of sinix5.
++ 	sinix5.*)
++-		os=`echo $os | sed -e 's|sinix|sysv|'`
+++		os=`echo "$os" | sed -e 's|sinix|sysv|'`
+++		vendor=`echo "$vendor" | sed -e 's|^unknown$|sni|'`
++ 		;;
++ 	sinix*)
++ 		os=sysv4
+++		vendor=`echo "$vendor" | sed -e 's|^unknown$|sni|'`
++ 		;;
++ 	tpf*)
++ 		os=tpf
++@@ -1472,18 +1699,12 @@ case $os in
++ 	sysvr4)
++ 		os=sysv4
++ 		;;
++-	# This must come after sysvr4.
++-	sysv*)
++-		;;
++ 	ose*)
++ 		os=ose
++ 		;;
++ 	*mint | mint[0-9]* | *MiNT | MiNT[0-9]*)
++ 		os=mint
++ 		;;
++-	zvmoe)
++-		os=zvmoe
++-		;;
++ 	dicos*)
++ 		os=dicos
++ 		;;
++@@ -1496,23 +1717,21 @@ case $os in
++ 			os=eabi
++ 			;;
++ 		    *)
++-			os=elf
+++			os=
+++			obj=elf
++ 			;;
++ 		esac
++ 		;;
++-	nacl*)
++-		;;
++-	ios)
++-		;;
++-	none)
++-		;;
++-	*-eabi)
+++	aout* | coff* | elf* | pe*)
+++		# These are machine code file formats, not OSes
+++		obj=$os
+++		os=
++ 		;;
++ 	*)
++-		echo Invalid configuration \`"$1"\': system \`"$os"\' not recognized 1>&2
++-		exit 1
+++		# No normalization, but not necessarily accepted, that comes below.
++ 		;;
++ esac
+++
++ else
++ 
++ # Here we handle the default operating systems that come with various machines.
++@@ -1525,42 +1744,54 @@ else
++ # will signal an error saying that MANUFACTURER isn't an operating
++ # system, and we'll never get to this point.
++ 
+++kernel=
+++obj=
++ case $cpu-$vendor in
++ 	score-*)
++-		os=elf
+++		os=
+++		obj=elf
++ 		;;
++ 	spu-*)
++-		os=elf
+++		os=
+++		obj=elf
++ 		;;
++ 	*-acorn)
++ 		os=riscix1.2
++ 		;;
++ 	arm*-rebel)
++-		os=linux
+++		kernel=linux
+++		os=gnu
++ 		;;
++ 	arm*-semi)
++-		os=aout
+++		os=
+++		obj=aout
++ 		;;
++ 	c4x-* | tic4x-*)
++-		os=coff
+++		os=
+++		obj=coff
++ 		;;
++ 	c8051-*)
++-		os=elf
+++		os=
+++		obj=elf
++ 		;;
++ 	clipper-intergraph)
++ 		os=clix
++ 		;;
++ 	hexagon-*)
++-		os=elf
+++		os=
+++		obj=elf
++ 		;;
++ 	tic54x-*)
++-		os=coff
+++		os=
+++		obj=coff
++ 		;;
++ 	tic55x-*)
++-		os=coff
+++		os=
+++		obj=coff
++ 		;;
++ 	tic6x-*)
++-		os=coff
+++		os=
+++		obj=coff
++ 		;;
++ 	# This must come before the *-dec entry.
++ 	pdp10-*)
++@@ -1582,28 +1813,43 @@ case $cpu-$vendor in
++ 		os=sunos3
++ 		;;
++ 	m68*-cisco)
++-		os=aout
+++		os=
+++		obj=aout
++ 		;;
++ 	mep-*)
++-		os=elf
+++		os=
+++		obj=elf
+++		;;
+++	# The -sgi and -siemens entries must be before the mips- entry
+++	# or we get the wrong os.
+++	*-sgi)
+++		os=irix
+++		;;
+++	*-siemens)
+++		os=sysv4
++ 		;;
++ 	mips*-cisco)
++-		os=elf
+++		os=
+++		obj=elf
++ 		;;
++-	mips*-*)
++-		os=elf
+++	mips*-*|nanomips*-*)
+++		os=
+++		obj=elf
++ 		;;
++ 	or32-*)
++-		os=coff
+++		os=
+++		obj=coff
++ 		;;
++-	*-tti)	# must be before sparc entry or we get the wrong os.
+++	# This must be before the sparc-* entry or we get the wrong os.
+++	*-tti)
++ 		os=sysv3
++ 		;;
++ 	sparc-* | *-sun)
++ 		os=sunos4.1.1
++ 		;;
++ 	pru-*)
++-		os=elf
+++		os=
+++		obj=elf
++ 		;;
++ 	*-be)
++ 		os=beos
++@@ -1627,7 +1873,7 @@ case $cpu-$vendor in
++ 		os=hpux
++ 		;;
++ 	*-hitachi)
++-		os=hiux
+++		os=hiuxwe2
++ 		;;
++ 	i860-* | *-att | *-ncr | *-altos | *-motorola | *-convergent)
++ 		os=sysv
++@@ -1671,12 +1917,6 @@ case $cpu-$vendor in
++ 	*-encore)
++ 		os=bsd
++ 		;;
++-	*-sgi)
++-		os=irix
++-		;;
++-	*-siemens)
++-		os=sysv4
++-		;;
++ 	*-masscomp)
++ 		os=rtu
++ 		;;
++@@ -1684,10 +1924,12 @@ case $cpu-$vendor in
++ 		os=uxpv
++ 		;;
++ 	*-rom68k)
++-		os=coff
+++		os=
+++		obj=coff
++ 		;;
++ 	*-*bug)
++-		os=coff
+++		os=
+++		obj=coff
++ 		;;
++ 	*-apple)
++ 		os=macos
++@@ -1702,84 +1944,406 @@ case $cpu-$vendor in
++ 		os=none
++ 		;;
++ esac
+++
++ fi
++ 
+++# Now, validate our (potentially fixed-up) individual pieces (OS, OBJ).
+++
+++case $os in
+++	# Sometimes we do "kernel-libc", so those need to count as OSes.
+++	llvm* | musl* | newlib* | relibc* | uclibc*)
+++		;;
+++	# Likewise for "kernel-abi"
+++	eabi* | gnueabi*)
+++		;;
+++	# VxWorks passes extra cpu info in the 4th filed.
+++	simlinux | simwindows | spe)
+++		;;
+++	# See `case $cpu-$os` validation below
+++	ghcjs)
+++		;;
+++	# Now accept the basic system types.
+++	# Each alternative MUST end in a * to match a version number.
+++	  abug \
+++	| aix* \
+++	| amdhsa* \
+++	| amigados* \
+++	| amigaos* \
+++	| android* \
+++	| aof* \
+++	| aos* \
+++	| aros* \
+++	| atheos* \
+++	| auroraux* \
+++	| aux* \
+++	| beos* \
+++	| bitrig* \
+++	| bme* \
+++	| bosx* \
+++	| bsd* \
+++	| cegcc* \
+++	| chorusos* \
+++	| chorusrdb* \
+++	| clix* \
+++	| cloudabi* \
+++	| cnk* \
+++	| conix* \
+++	| cos* \
+++	| cxux* \
+++	| cygwin* \
+++	| darwin* \
+++	| dgux* \
+++	| dicos* \
+++	| dnix* \
+++	| domain* \
+++	| dragonfly* \
+++	| drops* \
+++	| ebmon* \
+++	| ecoff* \
+++	| ekkobsd* \
+++	| emscripten* \
+++	| emx* \
+++	| es* \
+++	| fiwix* \
+++	| freebsd* \
+++	| fuchsia* \
+++	| genix* \
+++	| genode* \
+++	| glidix* \
+++	| gnu* \
+++	| go32* \
+++	| haiku* \
+++	| hcos* \
+++	| hiux* \
+++	| hms* \
+++	| hpux* \
+++	| ieee* \
+++	| interix* \
+++	| ios* \
+++	| iris* \
+++	| irix* \
+++	| ironclad* \
+++	| isc* \
+++	| its* \
+++	| l4re* \
+++	| libertybsd* \
+++	| lites* \
+++	| lnews* \
+++	| luna* \
+++	| lynxos* \
+++	| mach* \
+++	| macos* \
+++	| magic* \
+++	| mbr* \
+++	| midipix* \
+++	| midnightbsd* \
+++	| mingw32* \
+++	| mingw64* \
+++	| minix* \
+++	| mint* \
+++	| mirbsd* \
+++	| mks* \
+++	| mlibc* \
+++	| mmixware* \
+++	| mon960* \
+++	| morphos* \
+++	| moss* \
+++	| moxiebox* \
+++	| mpeix* \
+++	| mpw* \
+++	| msdos* \
+++	| msys* \
+++	| mvs* \
+++	| nacl* \
+++	| netbsd* \
+++	| netware* \
+++	| newsos* \
+++	| nextstep* \
+++	| nindy* \
+++	| nonstopux* \
+++	| nova* \
+++	| nsk* \
+++	| nucleus* \
+++	| nx6 \
+++	| nx7 \
+++	| oabi* \
+++	| ohos* \
+++	| onefs* \
+++	| openbsd* \
+++	| openedition* \
+++	| openstep* \
+++	| os108* \
+++	| os2* \
+++	| os400* \
+++	| os68k* \
+++	| os9* \
+++	| ose* \
+++	| osf* \
+++	| oskit* \
+++	| osx* \
+++	| palmos* \
+++	| phoenix* \
+++	| plan9* \
+++	| powermax* \
+++	| powerunix* \
+++	| proelf* \
+++	| psos* \
+++	| psp* \
+++	| ptx* \
+++	| pw32* \
+++	| qnx* \
+++	| rdos* \
+++	| redox* \
+++	| rhapsody* \
+++	| riscix* \
+++	| riscos* \
+++	| rtems* \
+++	| rtmk* \
+++	| rtu* \
+++	| scout* \
+++	| secbsd* \
+++	| sei* \
+++	| serenity* \
+++	| sim* \
+++	| skyos* \
+++	| solaris* \
+++	| solidbsd* \
+++	| sortix* \
+++	| storm-chaos* \
+++	| sunos \
+++	| sunos[34]* \
+++	| superux* \
+++	| syllable* \
+++	| sym* \
+++	| sysv* \
+++	| tenex* \
+++	| tirtos* \
+++	| toppers* \
+++	| tops10* \
+++	| tops20* \
+++	| tpf* \
+++	| tvos* \
+++	| twizzler* \
+++	| uclinux* \
+++	| udi* \
+++	| udk* \
+++	| ultrix* \
+++	| unicos* \
+++	| uniplus* \
+++	| unleashed* \
+++	| unos* \
+++	| uwin* \
+++	| uxpv* \
+++	| v88r* \
+++	|*vms* \
+++	| vos* \
+++	| vsta* \
+++	| vxsim* \
+++	| vxworks* \
+++	| wasi* \
+++	| watchos* \
+++	| wince* \
+++	| windiss* \
+++	| windows* \
+++	| winnt* \
+++	| xenix* \
+++	| xray* \
+++	| zephyr* \
+++	| zvmoe* )
+++		;;
+++	# This one is extra strict with allowed versions
+++	sco3.2v2 | sco3.2v[4-9]* | sco5v6*)
+++		# Don't forget version if it is 3.2v4 or newer.
+++		;;
+++	# This refers to builds using the UEFI calling convention
+++	# (which depends on the architecture) and PE file format.
+++	# Note that this is both a different calling convention and
+++	# different file format than that of GNU-EFI
+++	# (x86_64-w64-mingw32).
+++	uefi)
+++		;;
+++	none)
+++		;;
+++	kernel* | msvc* )
+++		# Restricted further below
+++		;;
+++	'')
+++		if test x"$obj" = x
+++		then
+++			echo "Invalid configuration '$1': Blank OS only allowed with explicit machine code file format" 1>&2
+++		fi
+++		;;
+++	*)
+++		echo "Invalid configuration '$1': OS '$os' not recognized" 1>&2
+++		exit 1
+++		;;
+++esac
+++
+++case $obj in
+++	aout* | coff* | elf* | pe*)
+++		;;
+++	'')
+++		# empty is fine
+++		;;
+++	*)
+++		echo "Invalid configuration '$1': Machine code format '$obj' not recognized" 1>&2
+++		exit 1
+++		;;
+++esac
+++
+++# Here we handle the constraint that a (synthetic) cpu and os are
+++# valid only in combination with each other and nowhere else.
+++case $cpu-$os in
+++	# The "javascript-unknown-ghcjs" triple is used by GHC; we
+++	# accept it here in order to tolerate that, but reject any
+++	# variations.
+++	javascript-ghcjs)
+++		;;
+++	javascript-* | *-ghcjs)
+++		echo "Invalid configuration '$1': cpu '$cpu' is not valid with os '$os$obj'" 1>&2
+++		exit 1
+++		;;
+++esac
+++
+++# As a final step for OS-related things, validate the OS-kernel combination
+++# (given a valid OS), if there is a kernel.
+++case $kernel-$os-$obj in
+++	linux-gnu*- | linux-android*- | linux-dietlibc*- | linux-llvm*- \
+++		    | linux-mlibc*- | linux-musl*- | linux-newlib*- \
+++		    | linux-relibc*- | linux-uclibc*- | linux-ohos*- )
+++		;;
+++	uclinux-uclibc*- | uclinux-gnu*- )
+++		;;
+++	managarm-mlibc*- | managarm-kernel*- )
+++		;;
+++	windows*-msvc*-)
+++		;;
+++	-dietlibc*- | -llvm*- | -mlibc*- | -musl*- | -newlib*- | -relibc*- \
+++		    | -uclibc*- )
+++		# These are just libc implementations, not actual OSes, and thus
+++		# require a kernel.
+++		echo "Invalid configuration '$1': libc '$os' needs explicit kernel." 1>&2
+++		exit 1
+++		;;
+++	-kernel*- )
+++		echo "Invalid configuration '$1': '$os' needs explicit kernel." 1>&2
+++		exit 1
+++		;;
+++	*-kernel*- )
+++		echo "Invalid configuration '$1': '$kernel' does not support '$os'." 1>&2
+++		exit 1
+++		;;
+++	*-msvc*- )
+++		echo "Invalid configuration '$1': '$os' needs 'windows'." 1>&2
+++		exit 1
+++		;;
+++	kfreebsd*-gnu*- | knetbsd*-gnu*- | netbsd*-gnu*- | kopensolaris*-gnu*-)
+++		;;
+++	vxworks-simlinux- | vxworks-simwindows- | vxworks-spe-)
+++		;;
+++	nto-qnx*-)
+++		;;
+++	os2-emx-)
+++		;;
+++	rtmk-nova-)
+++		;;
+++	*-eabi*- | *-gnueabi*-)
+++		;;
+++	none--*)
+++		# None (no kernel, i.e. freestanding / bare metal),
+++		# can be paired with an machine code file format
+++		;;
+++	-*-)
+++		# Blank kernel with real OS is always fine.
+++		;;
+++	--*)
+++		# Blank kernel and OS with real machine code file format is always fine.
+++		;;
+++	*-*-*)
+++		echo "Invalid configuration '$1': Kernel '$kernel' not known to work with OS '$os'." 1>&2
+++		exit 1
+++		;;
+++esac
+++
++ # Here we handle the case where we know the os, and the CPU type, but not the
++ # manufacturer.  We pick the logical manufacturer.
++ case $vendor in
++ 	unknown)
++-		case $os in
++-			riscix*)
+++		case $cpu-$os in
+++			*-riscix*)
++ 				vendor=acorn
++ 				;;
++-			sunos*)
+++			*-sunos* | *-solaris*)
++ 				vendor=sun
++ 				;;
++-			cnk*|-aix*)
+++			*-cnk* | *-aix*)
++ 				vendor=ibm
++ 				;;
++-			beos*)
+++			*-beos*)
++ 				vendor=be
++ 				;;
++-			hpux*)
+++			*-hpux*)
++ 				vendor=hp
++ 				;;
++-			mpeix*)
+++			*-mpeix*)
++ 				vendor=hp
++ 				;;
++-			hiux*)
+++			*-hiux*)
++ 				vendor=hitachi
++ 				;;
++-			unos*)
+++			*-unos*)
++ 				vendor=crds
++ 				;;
++-			dgux*)
+++			*-dgux*)
++ 				vendor=dg
++ 				;;
++-			luna*)
+++			*-luna*)
++ 				vendor=omron
++ 				;;
++-			genix*)
+++			*-genix*)
++ 				vendor=ns
++ 				;;
++-			clix*)
+++			*-clix*)
++ 				vendor=intergraph
++ 				;;
++-			mvs* | opened*)
+++			*-mvs* | *-opened*)
+++				vendor=ibm
+++				;;
+++			*-os400*)
++ 				vendor=ibm
++ 				;;
++-			os400*)
+++			s390-* | s390x-*)
++ 				vendor=ibm
++ 				;;
++-			ptx*)
+++			*-ptx*)
++ 				vendor=sequent
++ 				;;
++-			tpf*)
+++			*-tpf*)
++ 				vendor=ibm
++ 				;;
++-			vxsim* | vxworks* | windiss*)
+++			*-vxsim* | *-vxworks* | *-windiss*)
++ 				vendor=wrs
++ 				;;
++-			aux*)
+++			*-aux*)
++ 				vendor=apple
++ 				;;
++-			hms*)
+++			*-hms*)
++ 				vendor=hitachi
++ 				;;
++-			mpw* | macos*)
+++			*-mpw* | *-macos*)
++ 				vendor=apple
++ 				;;
++-			*mint | mint[0-9]* | *MiNT | MiNT[0-9]*)
+++			*-*mint | *-mint[0-9]* | *-*MiNT | *-MiNT[0-9]*)
++ 				vendor=atari
++ 				;;
++-			vos*)
+++			*-vos*)
++ 				vendor=stratus
++ 				;;
++ 		esac
++ 		;;
++ esac
++ 
++-echo "$cpu-$vendor-$os"
+++echo "$cpu-$vendor${kernel:+-$kernel}${os:+-$os}${obj:+-$obj}"
++ exit
++ 
++ # Local variables:
+diff --git a/include/LibreOfficeKit/LibreOfficeKit.h b/include/LibreOfficeKit/LibreOfficeKit.h
+index 899fdc7a2..66ff0418e 100644
+--- a/include/LibreOfficeKit/LibreOfficeKit.h
++++ b/include/LibreOfficeKit/LibreOfficeKit.h
+@@ -21,7 +21,11 @@
+ # include <stdint.h>
+ #endif
+ 
+-#include <LibreOfficeKit/LibreOfficeKitTypes.h>
++#ifdef __APPLE__
++#include <TargetConditionals.h>
++#endif
++
++#include "LibreOfficeKitTypes.h"
+ 
+ #ifdef __cplusplus
+ extern "C"
+@@ -119,7 +123,7 @@ struct _LibreOfficeKitClass
+     /// @see lok::Office::setOption
+     void (*setOption) (LibreOfficeKit* pThis, const char* pOption, const char* pValue);
+ 
+-    /// @see lok::Document::dumpState
++    /// @see lok::Office::dumpState
+     /// @since LibreOffice 7.5
+     void (*dumpState) (LibreOfficeKit* pThis, const char* pOptions, char** pState);
+ 
+@@ -127,6 +131,37 @@ struct _LibreOfficeKitClass
+      */
+     char* (*extractRequest) (LibreOfficeKit* pThis,
+                            const char* pFilePath);
++
++    /// @see lok::Office::trimMemory
++    /// @since LibreOffice 7.6
++    void (*trimMemory) (LibreOfficeKit* pThis, int nTarget);
++
++    /// @see lok::Office::startURP
++    void* (*startURP)(LibreOfficeKit* pThis,
++                    void* pReceiveURPFromLOContext, void* pSendURPToLOContext,
++                    int (*fnReceiveURPFromLO)(void* pContext, const signed char* pBuffer, int nLen),
++                    int (*fnSendURPToLO)(void* pContext, signed char* pBuffer, int nLen));
++
++    /// @see lok::Office::stopURP
++    void (*stopURP)(LibreOfficeKit* pThis, void* pSendURPToLOContext);
++
++    /// @see lok::Office::joinThreads
++    int (*joinThreads)(LibreOfficeKit* pThis);
++
++    /// @see lok::Office::startThreads
++    void (*startThreads)(LibreOfficeKit* pThis);
++
++    /// @see lok::Office::setForkedChild
++    void (*setForkedChild)(LibreOfficeKit* pThis, bool bIsChild);
++
++    /** @see lok::Office::extractDocumentStructureRequest.
++     */
++    char* (*extractDocumentStructureRequest)(LibreOfficeKit* pThis, const char* pFilePath,
++                                             const char* pFilter);
++
++    /// @see lok::Office::registerAnyInputCallback()
++    void (*registerAnyInputCallback)(LibreOfficeKit* pThis,
++                                     LibreOfficeKitAnyInputCallback pCallback, void* pData);
+ };
+ 
+ #define LIBREOFFICEKIT_DOCUMENT_HAS(pDoc,member) LIBREOFFICEKIT_HAS_MEMBER(LibreOfficeKitDocumentClass,member,(pDoc)->pClass->nSize)
+@@ -352,18 +387,6 @@ struct _LibreOfficeKitDocumentClass
+                             const int width, const int height,
+                             const double dpiscale);
+ 
+-#ifdef IOS
+-    /// @see lok::Document::paintTileToCGContext().
+-    void (*paintTileToCGContext) (LibreOfficeKitDocument* pThis,
+-                                  void* rCGContext,
+-                                  const int nCanvasWidth,
+-                                  const int nCanvasHeight,
+-                                  const int nTilePosX,
+-                                  const int nTilePosY,
+-                                  const int nTileWidth,
+-                                  const int nTileHeight);
+-#endif // IOS
+-
+ // CERTIFICATE AND SIGNING
+ 
+     /// @see lok::Document::insertCertificate().
+@@ -501,6 +524,41 @@ struct _LibreOfficeKitDocumentClass
+     /// @see lok::Document::setViewTimezone().
+     void (*setViewTimezone) (LibreOfficeKitDocument* pThis, int nId, const char* timezone);
+ 
++    /// @see lok::Document::setAccessibilityState().
++    void (*setAccessibilityState) (LibreOfficeKitDocument* pThis, int nId, bool nEnabled);
++
++    /// @see lok::Document::getA11yFocusedParagraph.
++    char* (*getA11yFocusedParagraph) (LibreOfficeKitDocument* pThis);
++
++    /// @see lok::Document::getA11yCaretPosition.
++    int (*getA11yCaretPosition) (LibreOfficeKitDocument* pThis);
++
++    /// @see lok::Document::setViewReadOnly().
++    void (*setViewReadOnly) (LibreOfficeKitDocument* pThis, int nId, const bool readOnly);
++
++    /// @see lok::Document::setAllowChangeComments().
++    void (*setAllowChangeComments) (LibreOfficeKitDocument* pThis, int nId, const bool allow);
++
++    /// @see lok::Document::getPresentationInfo
++    char* (*getPresentationInfo) (LibreOfficeKitDocument* pThis);
++
++    /// @see lok::Document::createSlideRenderer
++    bool (*createSlideRenderer) (
++        LibreOfficeKitDocument* pThis,
++        const char* pSlideHash,
++        int nSlideNumber, unsigned* nViewWidth, unsigned* nViewHeight,
++        bool bRenderBackground, bool bRenderMasterPage);
++
++    /// @see lok::Document::postSlideshowCleanup
++    void (*postSlideshowCleanup)(LibreOfficeKitDocument* pThis);
++
++    /// @see lok::Document::renderNextSlideLayer
++    bool (*renderNextSlideLayer)(
++        LibreOfficeKitDocument* pThis, unsigned char* pBuffer, bool* bIsBitmapLayer, double* pScale, char** pJsonMessage);
++
++    /// @see lok::Document::setViewOption
++    void (*setViewOption)(LibreOfficeKitDocument* pThis, const char* pOption, const char* pValue);
++
+ #endif // defined LOK_USE_UNSTABLE_API || defined LIBO_INTERNAL_ONLY
+ };
+ 
+diff --git a/include/LibreOfficeKit/LibreOfficeKit.h-old b/include/LibreOfficeKit/LibreOfficeKit.h-old
+new file mode 100644
+index 000000000..2465b1e8a
+--- /dev/null
++++ b/include/LibreOfficeKit/LibreOfficeKit.h-old
+@@ -0,0 +1,545 @@
++/* -*- Mode: C; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- */
++/*
++ * This file is part of the LibreOffice project.
++ *
++ * This Source Code Form is subject to the terms of the Mozilla Public
++ * License, v. 2.0. If a copy of the MPL was not distributed with this
++ * file, You can obtain one at http://mozilla.org/MPL/2.0/.
++ */
++
++#ifndef INCLUDED_LIBREOFFICEKIT_LIBREOFFICEKIT_H
++#define INCLUDED_LIBREOFFICEKIT_LIBREOFFICEKIT_H
++
++#include <stddef.h>
++
++// the unstable API needs C99's bool
++// TODO remove the C99 types from the API before making stable
++#if defined LOK_USE_UNSTABLE_API || defined LIBO_INTERNAL_ONLY
++# ifndef _WIN32
++#  include <stdbool.h>
++# endif
++# include <stdint.h>
++#endif
++
++#include <LibreOfficeKit/LibreOfficeKitTypes.h>
++
++#ifdef __cplusplus
++extern "C"
++{
++#endif
++
++typedef struct _LibreOfficeKit LibreOfficeKit;
++typedef struct _LibreOfficeKitClass LibreOfficeKitClass;
++
++typedef struct _LibreOfficeKitDocument LibreOfficeKitDocument;
++typedef struct _LibreOfficeKitDocumentClass LibreOfficeKitDocumentClass;
++
++// Do we have an extended member in this struct ?
++#define LIBREOFFICEKIT_HAS_MEMBER(strct,member,nSize) \
++    (offsetof(strct, member) < (nSize))
++
++#define LIBREOFFICEKIT_HAS(pKit,member) LIBREOFFICEKIT_HAS_MEMBER(LibreOfficeKitClass,member,(pKit)->pClass->nSize)
++
++struct _LibreOfficeKit
++{
++    LibreOfficeKitClass* pClass;
++};
++
++struct _LibreOfficeKitClass
++{
++    size_t  nSize;
++
++    void (*destroy) (LibreOfficeKit* pThis);
++
++    LibreOfficeKitDocument* (*documentLoad) (LibreOfficeKit* pThis,
++                                             const char* pURL);
++
++    char* (*getError) (LibreOfficeKit* pThis);
++
++    /// @since LibreOffice 5.0
++    LibreOfficeKitDocument* (*documentLoadWithOptions) (LibreOfficeKit* pThis,
++                                                        const char* pURL,
++                                                        const char* pOptions);
++    /// @since LibreOffice 5.2
++    void (*freeError) (char* pFree);
++
++    /// @since LibreOffice 6.0
++    void (*registerCallback) (LibreOfficeKit* pThis,
++                              LibreOfficeKitCallback pCallback,
++                              void* pData);
++
++    /** @see lok::Office::getFilterTypes().
++        @since LibreOffice 6.0
++     */
++    char* (*getFilterTypes) (LibreOfficeKit* pThis);
++
++    /** @see lok::Office::setOptionalFeatures().
++        @since LibreOffice 6.0
++     */
++    void (*setOptionalFeatures)(LibreOfficeKit* pThis, unsigned long long features);
++
++    /** @see lok::Office::setDocumentPassword().
++        @since LibreOffice 6.0
++     */
++    void (*setDocumentPassword) (LibreOfficeKit* pThis,
++            char const* pURL,
++            char const* pPassword);
++
++    /** @see lok::Office::getVersionInfo().
++        @since LibreOffice 6.0
++     */
++    char* (*getVersionInfo) (LibreOfficeKit* pThis);
++
++    /** @see lok::Office::runMacro().
++        @since LibreOffice 6.0
++     */
++    int (*runMacro) (LibreOfficeKit *pThis, const char* pURL);
++
++    /** @see lok::Office::signDocument().
++        @since LibreOffice 6.2
++     */
++     bool (*signDocument) (LibreOfficeKit* pThis,
++                           const char* pUrl,
++                           const unsigned char* pCertificateBinary,
++                           const int nCertificateBinarySize,
++                           const unsigned char* pPrivateKeyBinary,
++                           const int nPrivateKeyBinarySize);
++
++    /// @see lok::Office::runLoop()
++    void (*runLoop) (LibreOfficeKit* pThis,
++                     LibreOfficeKitPollCallback pPollCallback,
++                     LibreOfficeKitWakeCallback pWakeCallback,
++                     void* pData);
++
++    /// @see lok::Office::sendDialogEvent
++    void (*sendDialogEvent) (LibreOfficeKit* pThis,
++                            unsigned long long int nLOKWindowId,
++                            const char* pArguments);
++
++    /// @see lok::Office::setOption
++    void (*setOption) (LibreOfficeKit* pThis, const char* pOption, const char* pValue);
++
++    /// @see lok::Document::dumpState
++    /// @since LibreOffice 7.5
++    void (*dumpState) (LibreOfficeKit* pThis, const char* pOptions, char** pState);
++
++    /** @see lok::Office::extractRequest.
++     */
++    char* (*extractRequest) (LibreOfficeKit* pThis,
++                           const char* pFilePath);
++
++    /// @see lok::Office::trimMemory
++    /// @since LibreOffice 7.6
++    void (*trimMemory) (LibreOfficeKit* pThis, int nTarget);
++
++    /// @see lok::Office::startURP
++    void* (*startURP)(LibreOfficeKit* pThis,
++                    void* pReceiveURPFromLOContext, void* pSendURPToLOContext,
++                    int (*fnReceiveURPFromLO)(void* pContext, const signed char* pBuffer, int nLen),
++                    int (*fnSendURPToLO)(void* pContext, signed char* pBuffer, int nLen));
++
++    /// @see lok::Office::stopURP
++    void (*stopURP)(LibreOfficeKit* pThis, void* pSendURPToLOContext);
++
++    /// @see lok::Office::joinThreads
++    int (*joinThreads)(LibreOfficeKit* pThis);
++
++    /// @see lok::Office::startThreads
++    void (*startThreads)(LibreOfficeKit* pThis);
++
++    /// @see lok::Office::setForkedChild
++    void (*setForkedChild)(LibreOfficeKit* pThis, bool bIsChild);
++
++    /** @see lok::Office::extractDocumentStructureRequest.
++     */
++    char* (*extractDocumentStructureRequest)(LibreOfficeKit* pThis, const char* pFilePath,
++                                             const char* pFilter);
++
++};
++
++#define LIBREOFFICEKIT_DOCUMENT_HAS(pDoc,member) LIBREOFFICEKIT_HAS_MEMBER(LibreOfficeKitDocumentClass,member,(pDoc)->pClass->nSize)
++
++struct _LibreOfficeKitDocument
++{
++    LibreOfficeKitDocumentClass* pClass;
++};
++
++struct _LibreOfficeKitDocumentClass
++{
++    size_t  nSize;
++
++    void (*destroy) (LibreOfficeKitDocument* pThis);
++
++    int (*saveAs) (LibreOfficeKitDocument* pThis,
++                   const char* pUrl,
++                   const char* pFormat,
++                   const char* pFilterOptions);
++
++    /** @see lok::Document::getDocumentType().
++        @since LibreOffice 6.0
++     */
++    int (*getDocumentType) (LibreOfficeKitDocument* pThis);
++
++#if defined LOK_USE_UNSTABLE_API || defined LIBO_INTERNAL_ONLY
++    /// @see lok::Document::getParts().
++    int (*getParts) (LibreOfficeKitDocument* pThis);
++
++    /// @see lok::Document::getPartPageRectangles().
++    char* (*getPartPageRectangles) (LibreOfficeKitDocument* pThis);
++
++    /// @see lok::Document::getPart().
++    int (*getPart) (LibreOfficeKitDocument* pThis);
++
++    /// @see lok::Document::setPart().
++    void (*setPart) (LibreOfficeKitDocument* pThis,
++                     int nPart);
++
++    /// @see lok::Document::getPartName().
++    char* (*getPartName) (LibreOfficeKitDocument* pThis,
++                          int nPart);
++
++    /// @see lok::Document::setPartMode().
++    void (*setPartMode) (LibreOfficeKitDocument* pThis,
++                         int nMode);
++
++    /// @see lok::Document::paintTile().
++    void (*paintTile) (LibreOfficeKitDocument* pThis,
++                       unsigned char* pBuffer,
++                       const int nCanvasWidth,
++                       const int nCanvasHeight,
++                       const int nTilePosX,
++                       const int nTilePosY,
++                       const int nTileWidth,
++                       const int nTileHeight);
++
++    /// @see lok::Document::getTileMode().
++    int (*getTileMode) (LibreOfficeKitDocument* pThis);
++
++    /// @see lok::Document::getDocumentSize().
++    void (*getDocumentSize) (LibreOfficeKitDocument* pThis,
++                             long* pWidth,
++                             long* pHeight);
++
++    /// @see lok::Document::initializeForRendering().
++    void (*initializeForRendering) (LibreOfficeKitDocument* pThis,
++                                    const char* pArguments);
++
++    /// @see lok::Document::registerCallback().
++    void (*registerCallback) (LibreOfficeKitDocument* pThis,
++                              LibreOfficeKitCallback pCallback,
++                              void* pData);
++
++    /// @see lok::Document::postKeyEvent
++    void (*postKeyEvent) (LibreOfficeKitDocument* pThis,
++                          int nType,
++                          int nCharCode,
++                          int nKeyCode);
++
++    /// @see lok::Document::postMouseEvent
++    void (*postMouseEvent) (LibreOfficeKitDocument* pThis,
++                            int nType,
++                            int nX,
++                            int nY,
++                            int nCount,
++                            int nButtons,
++                            int nModifier);
++
++    /// @see lok::Document::postUnoCommand
++    void (*postUnoCommand) (LibreOfficeKitDocument* pThis,
++                            const char* pCommand,
++                            const char* pArguments,
++                            bool bNotifyWhenFinished);
++
++    /// @see lok::Document::setTextSelection
++    void (*setTextSelection) (LibreOfficeKitDocument* pThis,
++                              int nType,
++                              int nX,
++                              int nY);
++
++    /// @see lok::Document::getTextSelection
++    char* (*getTextSelection) (LibreOfficeKitDocument* pThis,
++                               const char* pMimeType,
++                               char** pUsedMimeType);
++
++    /// @see lok::Document::paste().
++    bool (*paste) (LibreOfficeKitDocument* pThis,
++                   const char* pMimeType,
++                   const char* pData,
++                   size_t nSize);
++
++    /// @see lok::Document::setGraphicSelection
++    void (*setGraphicSelection) (LibreOfficeKitDocument* pThis,
++                                 int nType,
++                                 int nX,
++                                 int nY);
++
++    /// @see lok::Document::resetSelection
++    void (*resetSelection) (LibreOfficeKitDocument* pThis);
++
++    /// @see lok::Document::getCommandValues().
++    char* (*getCommandValues) (LibreOfficeKitDocument* pThis, const char* pCommand);
++
++    /// @see lok::Document::setClientZoom().
++    void (*setClientZoom) (LibreOfficeKitDocument* pThis,
++            int nTilePixelWidth,
++            int nTilePixelHeight,
++            int nTileTwipWidth,
++            int nTileTwipHeight);
++
++    /// @see lok::Document::setVisibleArea).
++    void (*setClientVisibleArea) (LibreOfficeKitDocument* pThis, int nX, int nY, int nWidth, int nHeight);
++
++    /// @see lok::Document::createView().
++    int (*createView) (LibreOfficeKitDocument* pThis);
++    /// @see lok::Document::destroyView().
++    void (*destroyView) (LibreOfficeKitDocument* pThis, int nId);
++    /// @see lok::Document::setView().
++    void (*setView) (LibreOfficeKitDocument* pThis, int nId);
++    /// @see lok::Document::getView().
++    int (*getView) (LibreOfficeKitDocument* pThis);
++    /// @see lok::Document::getViewsCount().
++    int (*getViewsCount) (LibreOfficeKitDocument* pThis);
++
++    /// @see lok::Document::renderFont().
++    unsigned char* (*renderFont) (LibreOfficeKitDocument* pThis,
++                       const char* pFontName,
++                       const char* pChar,
++                       int* pFontWidth,
++                       int* pFontHeight);
++
++    /// @see lok::Document::getPartHash().
++    char* (*getPartHash) (LibreOfficeKitDocument* pThis,
++                          int nPart);
++
++    /// Paints a tile from a specific part.
++    /// @see lok::Document::paintTile().
++    void (*paintPartTile) (LibreOfficeKitDocument* pThis,
++                           unsigned char* pBuffer,
++                           const int nPart,
++                           const int nMode,
++                           const int nCanvasWidth,
++                           const int nCanvasHeight,
++                           const int nTilePosX,
++                           const int nTilePosY,
++                           const int nTileWidth,
++                           const int nTileHeight);
++
++    /// @see lok::Document::getViewIds().
++    bool (*getViewIds) (LibreOfficeKitDocument* pThis,
++                       int* pArray,
++                       size_t nSize);
++
++    /// @see lok::Document::setOutlineState).
++    void (*setOutlineState) (LibreOfficeKitDocument* pThis, bool bColumn, int nLevel, int nIndex, bool bHidden);
++
++    /// Paints window with given id to the buffer
++    /// @see lok::Document::paintWindow().
++    void (*paintWindow) (LibreOfficeKitDocument* pThis, unsigned nWindowId,
++                         unsigned char* pBuffer,
++                         const int x, const int y,
++                         const int width, const int height);
++
++    /// @see lok::Document::postWindow().
++    void (*postWindow) (LibreOfficeKitDocument* pThis, unsigned nWindowId, int nAction, const char* pData);
++
++    /// @see lok::Document::postWindowKeyEvent().
++    void (*postWindowKeyEvent) (LibreOfficeKitDocument* pThis,
++                                unsigned nWindowId,
++                                int nType,
++                                int nCharCode,
++                                int nKeyCode);
++
++    /// @see lok::Document::postWindowMouseEvent().
++    void (*postWindowMouseEvent) (LibreOfficeKitDocument* pThis,
++                                  unsigned nWindowId,
++                                  int nType,
++                                  int nX,
++                                  int nY,
++                                  int nCount,
++                                  int nButtons,
++                                  int nModifier);
++
++    /// @see lok::Document::setViewLanguage().
++    void (*setViewLanguage) (LibreOfficeKitDocument* pThis, int nId, const char* language);
++
++    /// @see lok::Document::postWindowExtTextInputEvent
++    void (*postWindowExtTextInputEvent) (LibreOfficeKitDocument* pThis,
++                                         unsigned nWindowId,
++                                         int nType,
++                                         const char* pText);
++
++    /// @see lok::Document::getPartInfo().
++    char* (*getPartInfo) (LibreOfficeKitDocument* pThis, int nPart);
++
++    /// Paints window with given id to the buffer with the give DPI scale
++    /// (every pixel is dpiscale-times larger).
++    /// @see lok::Document::paintWindow().
++    void (*paintWindowDPI) (LibreOfficeKitDocument* pThis, unsigned nWindowId,
++                            unsigned char* pBuffer,
++                            const int x, const int y,
++                            const int width, const int height,
++                            const double dpiscale);
++
++#ifdef IOS
++    /// @see lok::Document::paintTileToCGContext().
++    void (*paintTileToCGContext) (LibreOfficeKitDocument* pThis,
++                                  void* rCGContext,
++                                  const int nCanvasWidth,
++                                  const int nCanvasHeight,
++                                  const int nTilePosX,
++                                  const int nTilePosY,
++                                  const int nTileWidth,
++                                  const int nTileHeight);
++#endif // IOS
++
++// CERTIFICATE AND SIGNING
++
++    /// @see lok::Document::insertCertificate().
++    bool (*insertCertificate) (LibreOfficeKitDocument* pThis,
++                                const unsigned char* pCertificateBinary,
++                                const int nCertificateBinarySize,
++                                const unsigned char* pPrivateKeyBinary,
++                                const int nPrivateKeyBinarySize);
++
++    /// @see lok::Document::addCertificate().
++    bool (*addCertificate) (LibreOfficeKitDocument* pThis,
++                                const unsigned char* pCertificateBinary,
++                                const int nCertificateBinarySize);
++
++    /// @see lok::Document::getSignatureState().
++    int (*getSignatureState) (LibreOfficeKitDocument* pThis);
++// END CERTIFICATE AND SIGNING
++
++    /// @see lok::Document::renderShapeSelection
++    size_t (*renderShapeSelection)(LibreOfficeKitDocument* pThis, char** pOutput);
++
++    /// @see lok::Document::postWindowGestureEvent().
++    void (*postWindowGestureEvent) (LibreOfficeKitDocument* pThis,
++                                  unsigned nWindowId,
++                                  const char* pType,
++                                  int nX,
++                                  int nY,
++                                  int nOffset);
++
++    /// @see lok::Document::createViewWithOptions().
++    int (*createViewWithOptions) (LibreOfficeKitDocument* pThis, const char* pOptions);
++
++    /// @see lok::Document::selectPart().
++    void (*selectPart) (LibreOfficeKitDocument* pThis, int nPart, int nSelect);
++
++    /// @see lok::Document::moveSelectedParts().
++    void (*moveSelectedParts) (LibreOfficeKitDocument* pThis, int nPosition, bool bDuplicate);
++
++    /// Resize window with given id.
++    /// @see lok::Document::resizeWindow().
++    void (*resizeWindow) (LibreOfficeKitDocument* pThis, unsigned nWindowId,
++                          const int width, const int height);
++
++    /// Pass a nullptr terminated array of mime-type strings
++    /// @see lok::Document::getClipboard for more details
++    int (*getClipboard) (LibreOfficeKitDocument* pThis,
++                         const char **pMimeTypes,
++                         size_t      *pOutCount,
++                         char      ***pOutMimeTypes,
++                         size_t     **pOutSizes,
++                         char      ***pOutStreams);
++
++    /// @see lok::Document::setClipboard
++    int (*setClipboard) (LibreOfficeKitDocument* pThis,
++                         const size_t   nInCount,
++                         const char   **pInMimeTypes,
++                         const size_t  *pInSizes,
++                         const char   **pInStreams);
++
++    /// @see lok::Document::getSelectionType
++    int (*getSelectionType) (LibreOfficeKitDocument* pThis);
++
++    /// @see lok::Document::removeTextContext
++    void (*removeTextContext) (LibreOfficeKitDocument* pThis,
++                               unsigned nWindowId,
++                               int nBefore,
++                               int nAfter);
++
++    /// @see lok::Document::sendDialogEvent
++    void (*sendDialogEvent) (LibreOfficeKitDocument* pThis,
++                            unsigned long long int nLOKWindowId,
++                            const char* pArguments);
++
++    /// @see lok::Document::renderFontOrientation().
++    unsigned char* (*renderFontOrientation) (LibreOfficeKitDocument* pThis,
++                       const char* pFontName,
++                       const char* pChar,
++                       int* pFontWidth,
++                       int* pFontHeight,
++                       int pOrientation);
++
++    /// Switches view to viewId if viewId >= 0, and paints window
++    /// @see lok::Document::paintWindowDPI().
++    void (*paintWindowForView) (LibreOfficeKitDocument* pThis, unsigned nWindowId,
++                                unsigned char* pBuffer,
++                                const int x, const int y,
++                                const int width, const int height,
++                                const double dpiscale,
++                                int viewId);
++
++    /// @see lok::Document::completeFunction().
++    void (*completeFunction) (LibreOfficeKitDocument* pThis, const char* pFunctionName);
++
++    /// @see lok::Document::setWindowTextSelection
++    void (*setWindowTextSelection) (LibreOfficeKitDocument* pThis,
++                                    unsigned nWindowId,
++                                    bool bSwap,
++                                    int nX,
++                                    int nY);
++
++    /// @see lok::Document::sendFormFieldEvent
++    void (*sendFormFieldEvent) (LibreOfficeKitDocument* pThis,
++                                const char* pArguments);
++
++    /// @see lok::Document::setBlockedCommandList
++    void (*setBlockedCommandList) (LibreOfficeKitDocument* pThis,
++                                int nViewId,
++                                const char* blockedCommandList);
++
++    /// @see lok::Document::renderSearchResult
++    bool (*renderSearchResult) (LibreOfficeKitDocument* pThis,
++                                const char* pSearchResult,
++                                unsigned char** pBitmapBuffer,
++                                int* pWidth, int* pHeight, size_t* pByteSize);
++
++    /// @see lok::Document::sendContentControlEvent().
++    void (*sendContentControlEvent)(LibreOfficeKitDocument* pThis, const char* pArguments);
++
++    /// @see lok::Document::getSelectionTypeAndText
++    /// @since LibreOffice 7.4
++    int (*getSelectionTypeAndText) (LibreOfficeKitDocument* pThis,
++                                    const char* pMimeType,
++                                    char** pText,
++                                    char** pUsedMimeType);
++
++    /// @see lok::Document::getDataArea().
++    void (*getDataArea) (LibreOfficeKitDocument* pThis,
++                         long nPart,
++                         long* pCol,
++                         long* pRow);
++
++    /// @see lok::Document::getEditMode().
++    int (*getEditMode) (LibreOfficeKitDocument* pThis);
++
++    /// @see lok::Document::setViewTimezone().
++    void (*setViewTimezone) (LibreOfficeKitDocument* pThis, int nId, const char* timezone);
++
++    ///添加新函数 为online
++    /// @see lok::Document::setViewOption
++    void (*setViewOption)(LibreOfficeKitDocument* pThis, const char* pOption, const char* pValue);
++
++#endif // defined LOK_USE_UNSTABLE_API || defined LIBO_INTERNAL_ONLY
++};
++
++#ifdef __cplusplus
++}
++#endif
++
++#endif // INCLUDED_LIBREOFFICEKIT_LIBREOFFICEKIT_H
++
++/* vim:set shiftwidth=4 softtabstop=4 expandtab: */
+diff --git a/include/LibreOfficeKit/LibreOfficeKit.hxx b/include/LibreOfficeKit/LibreOfficeKit.hxx
+index 035a0923c..f6f581c1c 100644
+--- a/include/LibreOfficeKit/LibreOfficeKit.hxx
++++ b/include/LibreOfficeKit/LibreOfficeKit.hxx
+@@ -9,9 +9,9 @@
+ 
+ #pragma once
+ 
+-#include <LibreOfficeKit/LibreOfficeKit.h>
+-#include <LibreOfficeKit/LibreOfficeKitEnums.h>
+-#include <LibreOfficeKit/LibreOfficeKitInit.h>
++#include "LibreOfficeKit.h"
++#include "LibreOfficeKitEnums.h"
++#include "LibreOfficeKitInit.h"
+ 
+ /*
+  * The reasons this C++ code is not as pretty as it could be are:
+@@ -84,10 +84,11 @@ public:
+     }
+ 
+     /**
+-     * Get the logical rectangle of each part in the document.
++     * Get the extent of each page in the document.
+      *
+-     * A part refers to an individual page in Writer and has no relevant for
+-     * Calc or Impress.
++     * This function is relevant for Writer documents only. It is a
++     * mistake that the API has "part" in its name as Writer documents
++     * don't have parts.
+      *
+      * @return a rectangle list, using the same format as
+      * LOK_CALLBACK_TEXT_SELECTION.
+@@ -663,34 +664,6 @@ public:
+         mpDoc->pClass->postWindowExtTextInputEvent(mpDoc, nWindowId, nType, pText);
+     }
+ 
+-#ifdef IOS
+-    /**
+-     * Renders a subset of the document to a Core Graphics context.
+-     *
+-     * Note that the buffer size and the tile size implicitly supports
+-     * rendering at different zoom levels, as the number of rendered pixels and
+-     * the rendered rectangle of the document are independent.
+-     *
+-     * @param rCGContext the CGContextRef, cast to a void*.
+-     * @param nCanvasHeight number of pixels in a column of pBuffer.
+-     * @param nTilePosX logical X position of the top left corner of the rendered rectangle, in TWIPs.
+-     * @param nTilePosY logical Y position of the top left corner of the rendered rectangle, in TWIPs.
+-     * @param nTileWidth logical width of the rendered rectangle, in TWIPs.
+-     * @param nTileHeight logical height of the rendered rectangle, in TWIPs.
+-     */
+-    void paintTileToCGContext(void* rCGContext,
+-                              const int nCanvasWidth,
+-                              const int nCanvasHeight,
+-                              const int nTilePosX,
+-                              const int nTilePosY,
+-                              const int nTileWidth,
+-                              const int nTileHeight)
+-    {
+-        return mpDoc->pClass->paintTileToCGContext(mpDoc, rCGContext, nCanvasWidth, nCanvasHeight,
+-                                                   nTilePosX, nTilePosY, nTileWidth, nTileHeight);
+-    }
+-#endif // IOS
+-
+     /**
+      *  Insert certificate (in binary form) to the certificate store.
+      */
+@@ -886,6 +859,90 @@ public:
+         mpDoc->pClass->setViewTimezone(mpDoc, nId, timezone);
+     }
+ 
++    /** Set if the view should be treated as readonly or not.
++     *
++     * @param nId view ID
++     * @param readOnly
++    */
++    void setViewReadOnly(int nId, const bool readOnly)
++    {
++        mpDoc->pClass->setViewReadOnly(mpDoc, nId, readOnly);
++    }
++
++    /** Set if the view can edit comments on readonly mode or not.
++     *
++     * @param nId view ID
++     * @param allow
++    */
++    void setAllowChangeComments(int nId, const bool allow)
++    {
++        mpDoc->pClass->setAllowChangeComments(mpDoc, nId, allow);
++    }
++
++    /**
++     * Enable/Disable accessibility support for the window with the specified nId.
++     *
++     * @param nId a view ID, returned by createView().
++     * @param nEnabled true/false
++     */
++    void setAccessibilityState(int nId, bool nEnabled)
++    {
++        mpDoc->pClass->setAccessibilityState(mpDoc, nId, nEnabled);
++    }
++
++    /**
++     *  Get the current focused paragraph info:
++     *  {
++     *      "content": paragraph content
++     *      "start": selection start
++     *      "end": selection end
++     *  }
++     */
++    char* getA11yFocusedParagraph()
++    {
++        return mpDoc->pClass->getA11yFocusedParagraph(mpDoc);
++    }
++
++    /// Get the current text cursor position.
++    int getA11yCaretPosition()
++    {
++        return mpDoc->pClass->getA11yCaretPosition(mpDoc);
++    }
++
++    /// Get the information about the current presentation (Impress only).
++    char* getPresentationInfo()
++    {
++        return mpDoc->pClass->getPresentationInfo(mpDoc);
++    }
++
++    /// Create a slide renderer in core for the input slide.
++    bool createSlideRenderer(
++        const char* pSlideHash,
++        int nSlideNumber, unsigned* nViewWidth, unsigned* nViewHeight,
++        bool bRenderBackground, bool bRenderMasterPage)
++    {
++        return mpDoc->pClass->createSlideRenderer(
++            mpDoc, pSlideHash, nSlideNumber, nViewWidth, nViewHeight, bRenderBackground, bRenderMasterPage);
++    }
++
++    /// Clean-up the slideshow (slide renderer)
++    void postSlideshowCleanup()
++    {
++        mpDoc->pClass->postSlideshowCleanup(mpDoc);
++    }
++
++    /// Render the slide layer
++    bool renderNextSlideLayer(unsigned char* pBuffer, bool* bIsBitmapLayer, double* pScale, char** pJsonMessage)
++    {
++        return mpDoc->pClass->renderNextSlideLayer(mpDoc, pBuffer, bIsBitmapLayer, pScale, pJsonMessage);
++    }
++
++    /// Set named view options
++    void setViewOption(const char* pOption, const char* pValue)
++    {
++        mpDoc->pClass->setViewOption(mpDoc, pOption, pValue);
++    }
++
+ #endif // defined LOK_USE_UNSTABLE_API || defined LIBO_INTERNAL_ONLY
+ };
+ 
+@@ -1043,14 +1100,13 @@ public:
+      * @since LibreOffice 6.0
+      * @param pURL macro url to run
+      */
+-
+     bool runMacro( const char* pURL)
+     {
+         return mpThis->pClass->runMacro( mpThis, pURL );
+     }
+ 
+     /**
+-     * Exports the document and signes its content.
++     * Exports the document and signs its content.
+      */
+     bool signDocument(const char* pURL,
+                        const unsigned char* pCertificateBinary, const int nCertificateBinarySize,
+@@ -1146,6 +1202,91 @@ public:
+     {
+         return mpThis->pClass->extractRequest(mpThis, pFilePath);
+     }
++
++    /**
++     * Trim memory usage.
++     *
++     * LibreOfficeKit caches lots of information from large pixmaps
++     * to view and calculation results. When a view has not been
++     * used for some time, depending on the load on memory it can
++     * be useful to free up memory.
++     *
++     * @param nTarget - a negative number means the app is back
++     * in active use, and to re-fill caches, a large positive
++     * number (>=1000) encourages immediate maximum memory saving.
++     */
++    void trimMemory (int nTarget)
++    {
++        mpThis->pClass->trimMemory(mpThis, nTarget);
++    }
++
++    /**
++     * Start a UNO acceptor using the function pointers provides to read and write data to/from the acceptor.
++     *
++     * @param pReceiveURPFromLOContext A pointer that will be passed to your fnRecieveURPFromLO function
++     * @param pSendURPToLOContext A pointer that will be passed to your fnSendURPToLO function
++     * @param fnReceiveURPFromLO A function pointer that LO should use to pass URP back to the caller
++     * @param fnSendURPToLO A function pointer pointer that the caller should use to pass URP to LO
++     */
++    void* startURP(void* pReceiveURPFromLOContext, void* pSendURPToLOContext,
++                   int (*fnReceiveURPFromLO)(void* pContext, const signed char* pBuffer, int nLen),
++                   int (*fnSendURPToLO)(void* pContext, signed char* pBuffer, int nLen))
++    {
++        return mpThis->pClass->startURP(mpThis, pReceiveURPFromLOContext, pSendURPToLOContext,
++                                        fnReceiveURPFromLO, fnSendURPToLO);
++    }
++
++    /**
++     * Stop a function based URP connection you previously started with startURP
++     *
++     * @param pURPContext the context returned by startURP  when starting the connection
++     */
++    void stopURP(void* pURPContext)
++    {
++        mpThis->pClass->stopURP(mpThis, pURPContext);
++    }
++
++    /**
++     * Joins all threads if possible to get down to a single process
++     * which can be forked from safely.
++     *
++     * @returns non-zero for successful join, 0 for failure.
++     */
++    int joinThreads()
++    {
++        return mpThis->pClass->joinThreads(mpThis);
++    }
++
++    /**
++     * Starts all threads that are necessary to continue working
++     * after a joinThreads().
++     */
++    void startThreads()
++    {
++        mpThis->pClass->startThreads(mpThis);
++    }
++
++    /**
++     * Informs that this process is either a parent, or a child
++     * process post-fork, allowing improved resource sharing.
++     */
++    void setForkedChild(bool bIsChild)
++    {
++        return mpThis->pClass->setForkedChild(mpThis, bIsChild);
++    }
++
++    char* extractDocumentStructureRequest(const char* pFilePath, const char* pFilter)
++    {
++        return mpThis->pClass->extractDocumentStructureRequest(mpThis, pFilePath, pFilter);
++    }
++
++    /**
++     * Registers a callback that can determine if there are any pending input events.
++     */
++    void registerAnyInputCallback(LibreOfficeKitAnyInputCallback pCallback, void* pData)
++    {
++        return mpThis->pClass->registerAnyInputCallback(mpThis, pCallback, pData);
++    }
+ };
+ 
+ /// Factory method to create a lok::Office instance.
+diff --git a/include/LibreOfficeKit/LibreOfficeKit.hxx-old b/include/LibreOfficeKit/LibreOfficeKit.hxx-old
+new file mode 100644
+index 000000000..4fb3608c1
+--- /dev/null
++++ b/include/LibreOfficeKit/LibreOfficeKit.hxx-old
+@@ -0,0 +1,1196 @@
++/* -*- Mode: C++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- */
++/*
++ * This file is part of the LibreOffice project.
++ *
++ * This Source Code Form is subject to the terms of the Mozilla Public
++ * License, v. 2.0. If a copy of the MPL was not distributed with this
++ * file, You can obtain one at http://mozilla.org/MPL/2.0/.
++ */
++
++#pragma once
++
++#include <LibreOfficeKit/LibreOfficeKit.h>
++#include <LibreOfficeKit/LibreOfficeKitEnums.h>
++#include <LibreOfficeKit/LibreOfficeKitInit.h>
++
++/*
++ * The reasons this C++ code is not as pretty as it could be are:
++ *  a) provide a pure C API - that's useful for some people
++ *  b) allow ABI stability - C++ vtables are not good for that.
++ *  c) avoid C++ types as part of the API.
++ */
++namespace lok
++{
++
++/// The lok::Document class represents one loaded document instance.
++class Document
++{
++private:
++    LibreOfficeKitDocument* mpDoc;
++
++public:
++    /// A lok::Document is typically created by the lok::Office::documentLoad() method.
++    Document(LibreOfficeKitDocument* pDoc) :
++        mpDoc(pDoc)
++    {}
++
++    ~Document()
++    {
++        mpDoc->pClass->destroy(mpDoc);
++    }
++
++    /**
++     添加函数为online 解决报错
++     kit/ChildSession.cpp:1255:29: 错误：‘using element_type = class lok::Document’ {aka ‘class lok::Document’} has no member named ‘setViewOption’
++ 1255 |         getLOKitDocument()->setViewOption("dpiscale", dpiScale.c_str());
++      |                             ^~~~~~~~~~~~~
++kit/ChildSession.cpp:1256:29: 错误：‘using element_type = class lok::Document’ {aka ‘class lok::Document’} has no member named ‘setViewOption’
++ 1256 |         getLOKitDocument()->setViewOption("zoom", zoom.c_str());
++      |                             ^~~~~~~~~~~~~
++     **/
++    void setViewOption(const char* pOption, const char* pValue)
++    {
++        if (mpDoc && mpDoc->pClass && mpDoc->pClass->setViewOption)
++            mpDoc->pClass->setViewOption(mpDoc, pOption, pValue);
++    }
++    
++    /**
++     * Stores the document's persistent data to a URL and
++     * continues to be a representation of the old URL.
++     *
++     * @param pUrl the location where to store the document
++     * @param pFormat the format to use while exporting, when omitted, then deducted from pURL's extension
++     * @param pFilterOptions options for the export filter, e.g. SkipImages.
++     *        Another useful FilterOption is "TakeOwnership".  It is consumed
++     *        by the saveAs() itself, and when provided, the document identity
++     *        changes to the provided pUrl - meaning that '.uno:ModifiedStatus'
++     *        is triggered as with the "Save As..." in the UI.
++     *        "TakeOwnership" mode must not be used when saving to PNG or PDF.
++     */
++    bool saveAs(const char* pUrl, const char* pFormat = NULL, const char* pFilterOptions = NULL)
++    {
++        return mpDoc->pClass->saveAs(mpDoc, pUrl, pFormat, pFilterOptions) != 0;
++    }
++
++    /// Gives access to the underlying C pointer.
++    LibreOfficeKitDocument *get() { return mpDoc; }
++
++    /**
++     * Get document type.
++     *
++     * @since LibreOffice 6.0
++     * @return an element of the LibreOfficeKitDocumentType enum.
++     */
++    int getDocumentType()
++    {
++        return mpDoc->pClass->getDocumentType(mpDoc);
++    }
++
++#if defined LOK_USE_UNSTABLE_API || defined LIBO_INTERNAL_ONLY
++    /**
++     * Get number of part that the document contains.
++     *
++     * Part refers to either individual sheets in a Calc, or slides in Impress,
++     * and has no relevance for Writer.
++     */
++    int getParts()
++    {
++        return mpDoc->pClass->getParts(mpDoc);
++    }
++
++    /**
++     * Get the logical rectangle of each part in the document.
++     *
++     * A part refers to an individual page in Writer and has no relevant for
++     * Calc or Impress.
++     *
++     * @return a rectangle list, using the same format as
++     * LOK_CALLBACK_TEXT_SELECTION.
++     */
++    char* getPartPageRectangles()
++    {
++        return mpDoc->pClass->getPartPageRectangles(mpDoc);
++    }
++
++    /// Get the current part of the document.
++    int getPart()
++    {
++        return mpDoc->pClass->getPart(mpDoc);
++    }
++
++    /// Set the current part of the document.
++    void setPart(int nPart)
++    {
++        mpDoc->pClass->setPart(mpDoc, nPart);
++    }
++
++    /// Get the current part's name.
++    char* getPartName(int nPart)
++    {
++        return mpDoc->pClass->getPartName(mpDoc, nPart);
++    }
++
++    /// Get the current part's hash.
++    char* getPartHash(int nPart)
++    {
++        return mpDoc->pClass->getPartHash(mpDoc, nPart);
++    }
++
++    void setPartMode(int nMode)
++    {
++        mpDoc->pClass->setPartMode(mpDoc, nMode);
++    }
++
++    int getEditMode()
++    {
++        return mpDoc->pClass->getEditMode(mpDoc);
++    }
++
++    /**
++     * Renders a subset of the document to a pre-allocated buffer.
++     *
++     * Note that the buffer size and the tile size implicitly supports
++     * rendering at different zoom levels, as the number of rendered pixels and
++     * the rendered rectangle of the document are independent.
++     *
++     * @param pBuffer pointer to the buffer, its size is determined by nCanvasWidth and nCanvasHeight.
++     * @param nCanvasWidth number of pixels in a row of pBuffer.
++     * @param nCanvasHeight number of pixels in a column of pBuffer.
++     * @param nTilePosX logical X position of the top left corner of the rendered rectangle, in TWIPs.
++     * @param nTilePosY logical Y position of the top left corner of the rendered rectangle, in TWIPs.
++     * @param nTileWidth logical width of the rendered rectangle, in TWIPs.
++     * @param nTileHeight logical height of the rendered rectangle, in TWIPs.
++     */
++    void paintTile(unsigned char* pBuffer,
++                          const int nCanvasWidth,
++                          const int nCanvasHeight,
++                          const int nTilePosX,
++                          const int nTilePosY,
++                          const int nTileWidth,
++                          const int nTileHeight)
++    {
++        return mpDoc->pClass->paintTile(mpDoc, pBuffer, nCanvasWidth, nCanvasHeight,
++                                nTilePosX, nTilePosY, nTileWidth, nTileHeight);
++    }
++
++    /**
++     * Renders a window (dialog, popup, etc.) with give id
++     *
++     * @param nWindowId
++     * @param pBuffer Buffer with enough memory allocated to render any dialog
++     * @param x x-coordinate from where the dialog should start painting
++     * @param y y-coordinate from where the dialog should start painting
++     * @param width The width of the dialog image to be painted
++     * @param height The height of the dialog image to be painted
++     * @param dpiscale The dpi scale value used by the client.  Please note
++     *                 that the x, y, width, height are supposed to be the
++     *                 values with dpiscale applied (ie. dialog covering
++     *                 100x100 "normal" pixels with dpiscale '2' will have
++     *                 200x200 width x height), so that it is easy to compute
++     *                 the buffer sizes etc.
++     */
++    void paintWindow(unsigned nWindowId,
++                     unsigned char* pBuffer,
++                     const int x,
++                     const int y,
++                     const int width,
++                     const int height,
++                     const double dpiscale = 1.0,
++                     const int viewId = -1)
++    {
++        return mpDoc->pClass->paintWindowForView(mpDoc, nWindowId, pBuffer, x, y,
++                                                 width, height, dpiscale, viewId);
++    }
++
++    /**
++     * Posts a command to the window (dialog, popup, etc.) with given id
++     *
++     * @param nWindowid
++     */
++    void postWindow(unsigned nWindowId, int nAction, const char* pData = nullptr)
++    {
++        return mpDoc->pClass->postWindow(mpDoc, nWindowId, nAction, pData);
++    }
++
++    /**
++     * Gets the tile mode: the pixel format used for the pBuffer of paintTile().
++     *
++     * @return an element of the LibreOfficeKitTileMode enum.
++     */
++    int getTileMode()
++    {
++        return mpDoc->pClass->getTileMode(mpDoc);
++    }
++
++    /// Get the document sizes in TWIPs.
++    void getDocumentSize(long* pWidth, long* pHeight)
++    {
++        mpDoc->pClass->getDocumentSize(mpDoc, pWidth, pHeight);
++    }
++
++    /// Get the data area (in Calc last row and column).
++    void getDataArea(long nPart, long* pCol, long* pRow)
++    {
++        mpDoc->pClass->getDataArea(mpDoc, nPart, pCol, pRow);
++    }
++
++    /**
++     * Initialize document for rendering.
++     *
++     * Sets the rendering and document parameters to default values that are
++     * needed to render the document correctly using tiled rendering. This
++     * method has to be called right after documentLoad() in case any of the
++     * tiled rendering methods are to be used later.
++     *
++     * Example argument string for text documents:
++     *
++     * {
++     *     ".uno:HideWhitespace":
++     *     {
++     *         "type": "boolean",
++     *         "value": "true"
++     *     }
++     * }
++     *
++     * @param pArguments arguments of the rendering
++     */
++    void initializeForRendering(const char* pArguments = NULL)
++    {
++        mpDoc->pClass->initializeForRendering(mpDoc, pArguments);
++    }
++
++    /**
++     * Registers a callback. LOK will invoke this function when it wants to
++     * inform the client about events.
++     *
++     * @param pCallback the callback to invoke
++     * @param pData the user data, will be passed to the callback on invocation
++     */
++    void registerCallback(LibreOfficeKitCallback pCallback, void* pData)
++    {
++        mpDoc->pClass->registerCallback(mpDoc, pCallback, pData);
++    }
++
++    /**
++     * Posts a keyboard event to the focused frame.
++     *
++     * @param nType Event type, like press or release.
++     * @param nCharCode contains the Unicode character generated by this event or 0
++     * @param nKeyCode contains the integer code representing the key of the event (non-zero for control keys)
++     */
++    void postKeyEvent(int nType, int nCharCode, int nKeyCode)
++    {
++        mpDoc->pClass->postKeyEvent(mpDoc, nType, nCharCode, nKeyCode);
++    }
++
++    /**
++     * Posts a keyboard event to the dialog
++     *
++     * @param nWindowId
++     * @param nType Event type, like press or release.
++     * @param nCharCode contains the Unicode character generated by this event or 0
++     * @param nKeyCode contains the integer code representing the key of the event (non-zero for control keys)
++     */
++    void postWindowKeyEvent(unsigned nWindowId, int nType, int nCharCode, int nKeyCode)
++    {
++        mpDoc->pClass->postWindowKeyEvent(mpDoc, nWindowId, nType, nCharCode, nKeyCode);
++    }
++
++    /**
++     * Posts a mouse event to the document.
++     *
++     * @param nType Event type, like down, move or up.
++     * @param nX horizontal position in document coordinates
++     * @param nY vertical position in document coordinates
++     * @param nCount number of clicks: 1 for single click, 2 for double click
++     * @param nButtons: which mouse buttons: 1 for left, 2 for middle, 4 right
++     * @param nModifier: which keyboard modifier: (see include/vcl/vclenum.hxx for possible values)
++     */
++    void postMouseEvent(int nType, int nX, int nY, int nCount, int nButtons, int nModifier)
++    {
++        mpDoc->pClass->postMouseEvent(mpDoc, nType, nX, nY, nCount, nButtons, nModifier);
++    }
++
++    /**
++     * Posts a mouse event to the window with given id.
++     *
++     * @param nWindowId
++     * @param nType Event type, like down, move or up.
++     * @param nX horizontal position in document coordinates
++     * @param nY vertical position in document coordinates
++     * @param nCount number of clicks: 1 for single click, 2 for double click
++     * @param nButtons: which mouse buttons: 1 for left, 2 for middle, 4 right
++     * @param nModifier: which keyboard modifier: (see include/vcl/vclenum.hxx for possible values)
++     */
++    void postWindowMouseEvent(unsigned nWindowId, int nType, int nX, int nY, int nCount, int nButtons, int nModifier)
++    {
++        mpDoc->pClass->postWindowMouseEvent(mpDoc, nWindowId, nType, nX, nY, nCount, nButtons, nModifier);
++    }
++
++    /**
++     * Posts a dialog event for the window with given id
++     *
++     * @param nWindowId id of the window to notify
++     * @param pArguments arguments of the event.
++     */
++    void sendDialogEvent(unsigned long long int nWindowId, const char* pArguments = NULL)
++    {
++        mpDoc->pClass->sendDialogEvent(mpDoc, nWindowId, pArguments);
++    }
++
++    /**
++     * Posts a UNO command to the document.
++     *
++     * Example argument string:
++     *
++     * {
++     *     "SearchItem.SearchString":
++     *     {
++     *         "type": "string",
++     *         "value": "foobar"
++     *     },
++     *     "SearchItem.Backward":
++     *     {
++     *         "type": "boolean",
++     *         "value": "false"
++     *     }
++     * }
++     *
++     * @param pCommand uno command to be posted to the document, like ".uno:Bold"
++     * @param pArguments arguments of the uno command.
++     */
++    void postUnoCommand(const char* pCommand, const char* pArguments = NULL, bool bNotifyWhenFinished = false)
++    {
++        mpDoc->pClass->postUnoCommand(mpDoc, pCommand, pArguments, bNotifyWhenFinished);
++    }
++
++    /**
++     * Sets the start or end of a text selection.
++     *
++     * @param nType @see LibreOfficeKitSetTextSelectionType
++     * @param nX horizontal position in document coordinates
++     * @param nY vertical position in document coordinates
++     */
++    void setTextSelection(int nType, int nX, int nY)
++    {
++        mpDoc->pClass->setTextSelection(mpDoc, nType, nX, nY);
++    }
++
++    /**
++     * Gets the currently selected text.
++     *
++     * @param pMimeType suggests the return format, for example text/plain;charset=utf-8.
++     * @param pUsedMimeType output parameter to inform about the determined format (suggested one or plain text).
++     */
++    char* getTextSelection(const char* pMimeType, char** pUsedMimeType = NULL)
++    {
++        return mpDoc->pClass->getTextSelection(mpDoc, pMimeType, pUsedMimeType);
++    }
++
++    /**
++     * Gets the type of the selected content.
++     *
++     * In most cases it is more efficient to use getSelectionTypeAndText().
++     *
++     * @return an element of the LibreOfficeKitSelectionType enum.
++     */
++    int getSelectionType()
++    {
++        return mpDoc->pClass->getSelectionType(mpDoc);
++    }
++
++    /**
++     * Gets the type of the selected content and possibly its text.
++     *
++     * This function is a more efficient combination of getSelectionType() and getTextSelection().
++     * It returns the same as getSelectionType(), and additionally if the return value is
++     * LOK_SELTYPE_TEXT then it also returns the same as getTextSelection(), otherwise
++     * pText and pUsedMimeType are unchanged.
++     *
++     * @param pMimeType suggests the return format, for example text/plain;charset=utf-8.
++     * @param pText the currently selected text
++     * @param pUsedMimeType output parameter to inform about the determined format (suggested one or plain text).
++     * @return an element of the LibreOfficeKitSelectionType enum.
++     * @since LibreOffice 7.4
++     */
++    int getSelectionTypeAndText(const char* pMimeType, char** pText, char** pUsedMimeType = NULL)
++    {
++        if (LIBREOFFICEKIT_DOCUMENT_HAS(mpDoc, getSelectionTypeAndText))
++            return mpDoc->pClass->getSelectionTypeAndText(mpDoc, pMimeType, pText, pUsedMimeType);
++        int type = mpDoc->pClass->getSelectionType(mpDoc);
++        if(type == LOK_SELTYPE_TEXT && pText)
++            *pText = mpDoc->pClass->getTextSelection(mpDoc, pMimeType, pUsedMimeType);
++        return type;
++    }
++
++    /**
++     * Gets the content on the clipboard for the current view as a series of binary streams.
++     *
++     * NB. returns a complete set of possible selection types if nullptr is passed for pMimeTypes.
++     *
++     * @param pMimeTypes passes in a nullptr terminated list of mime types to fetch
++     * @param pOutCount     returns the size of the other @pOut arrays
++     * @param pOutMimeTypes returns an array of mime types
++     * @param pOutSizes     returns the size of each pOutStream
++     * @param pOutStreams   the content of each mime-type, of length in @pOutSizes
++     *
++     * @returns: true on success, false on error.
++     */
++    bool getClipboard(const char **pMimeTypes,
++                      size_t      *pOutCount,
++                      char      ***pOutMimeTypes,
++                      size_t     **pOutSizes,
++                      char      ***pOutStreams)
++    {
++        return mpDoc->pClass->getClipboard(mpDoc, pMimeTypes, pOutCount, pOutMimeTypes, pOutSizes, pOutStreams);
++    }
++
++    /**
++     * Populates the clipboard for this view with multiple types of content.
++     *
++     * @param nInCount the number of types to paste
++     * @param pInMimeTypes array of mime type strings
++     * @param pInSizes array of sizes of the data to paste
++     * @param pInStreams array containing the data of the various types
++     *
++     * @return if the supplied data was populated successfully.
++     */
++    bool setClipboard(const size_t  nInCount,
++                      const char  **pInMimeTypes,
++                      const size_t *pInSizes,
++                      const char  **pInStreams)
++    {
++        return mpDoc->pClass->setClipboard(mpDoc, nInCount, pInMimeTypes, pInSizes, pInStreams);
++    }
++
++    /**
++     * Pastes content at the current cursor position.
++     *
++     * @param pMimeType format of pData, for example text/plain;charset=utf-8.
++     * @param pData the actual data to be pasted.
++     * @return if the supplied data was pasted successfully.
++     */
++    bool paste(const char* pMimeType, const char* pData, size_t nSize)
++    {
++        return mpDoc->pClass->paste(mpDoc, pMimeType, pData, nSize);
++    }
++
++    /**
++     * Adjusts the graphic selection.
++     *
++     * @param nType @see LibreOfficeKitSetGraphicSelectionType
++     * @param nX horizontal position in document coordinates
++     * @param nY vertical position in document coordinates
++     */
++    void setGraphicSelection(int nType, int nX, int nY)
++    {
++        mpDoc->pClass->setGraphicSelection(mpDoc, nType, nX, nY);
++    }
++
++    /**
++     * Gets rid of any text or graphic selection.
++     */
++    void resetSelection()
++    {
++        mpDoc->pClass->resetSelection(mpDoc);
++    }
++
++    /**
++     * Returns a json mapping of the possible values for the given command
++     * e.g. {commandName: ".uno:StyleApply", commandValues: {"familyName1" : ["list of style names in the family1"], etc.}}
++     * @param pCommand a UNO command for which the possible values are requested
++     * @return {commandName: unoCmd, commandValues: {possible_values}}
++     */
++    char* getCommandValues(const char* pCommand)
++    {
++        return mpDoc->pClass->getCommandValues(mpDoc, pCommand);
++    }
++
++    /**
++     * Save the client's view so that we can compute the right zoom level
++     * for the mouse events. This only affects CALC.
++     * @param nTilePixelWidth - tile width in pixels
++     * @param nTilePixelHeight - tile height in pixels
++     * @param nTileTwipWidth - tile width in twips
++     * @param nTileTwipHeight - tile height in twips
++     */
++    void setClientZoom(
++            int nTilePixelWidth,
++            int nTilePixelHeight,
++            int nTileTwipWidth,
++            int nTileTwipHeight)
++    {
++        mpDoc->pClass->setClientZoom(mpDoc, nTilePixelWidth, nTilePixelHeight, nTileTwipWidth, nTileTwipHeight);
++    }
++
++    /**
++     * Inform core about the currently visible area of the document on the
++     * client, so that it can perform e.g. page down (which depends on the
++     * visible height) in a sane way.
++     *
++     * @param nX - top left corner horizontal position
++     * @param nY - top left corner vertical position
++     * @param nWidth - area width
++     * @param nHeight - area height
++     */
++    void setClientVisibleArea(int nX, int nY, int nWidth, int nHeight)
++    {
++        mpDoc->pClass->setClientVisibleArea(mpDoc, nX, nY, nWidth, nHeight);
++    }
++
++    /**
++     * Show/Hide a single row/column header outline for Calc documents.
++     *
++     * @param bColumn - if we are dealing with a column or row group
++     * @param nLevel - the level to which the group belongs
++     * @param nIndex - the group entry index
++     * @param bHidden - the new group state (collapsed/expanded)
++     */
++    void setOutlineState(bool bColumn, int nLevel, int nIndex, bool bHidden)
++    {
++        mpDoc->pClass->setOutlineState(mpDoc, bColumn, nLevel, nIndex, bHidden);
++    }
++
++    /**
++     * Create a new view for an existing document with
++     * options similar to documentLoadWithOptions.
++     * By default a loaded document has 1 view.
++     * @return the ID of the new view.
++     */
++    int createView(const char* pOptions = nullptr)
++    {
++        if (LIBREOFFICEKIT_DOCUMENT_HAS(mpDoc, createViewWithOptions))
++            return mpDoc->pClass->createViewWithOptions(mpDoc, pOptions);
++        else
++            return mpDoc->pClass->createView(mpDoc);
++    }
++
++    /**
++     * Destroy a view of an existing document.
++     * @param nId a view ID, returned by createView().
++     */
++    void destroyView(int nId)
++    {
++        mpDoc->pClass->destroyView(mpDoc, nId);
++    }
++
++    /**
++     * Set an existing view of an existing document as current.
++     * @param nId a view ID, returned by createView().
++     */
++    void setView(int nId)
++    {
++        mpDoc->pClass->setView(mpDoc, nId);
++    }
++
++    /**
++     * Get the current view.
++     * @return a view ID, previously returned by createView().
++     */
++    int getView()
++    {
++        return mpDoc->pClass->getView(mpDoc);
++    }
++
++    /**
++     * Get number of views of this document.
++     */
++    int getViewsCount()
++    {
++        return mpDoc->pClass->getViewsCount(mpDoc);
++    }
++
++    /**
++     * Paints a font name or character if provided to be displayed in the font list
++     * @param pFontName the font to be painted
++     */
++    unsigned char* renderFont(const char *pFontName,
++                          const char *pChar,
++                          int *pFontWidth,
++                          int *pFontHeight,
++                          int pOrientation=0)
++    {
++        if (LIBREOFFICEKIT_DOCUMENT_HAS(mpDoc, renderFontOrientation))
++            return mpDoc->pClass->renderFontOrientation(mpDoc, pFontName, pChar, pFontWidth, pFontHeight, pOrientation);
++        else
++            return mpDoc->pClass->renderFont(mpDoc, pFontName, pChar, pFontWidth, pFontHeight);
++    }
++
++    /**
++     * Renders a subset of the document's part to a pre-allocated buffer.
++     *
++     * @param nPart the part number of the document of which the tile is painted.
++     * @see paintTile.
++     */
++    void paintPartTile(unsigned char* pBuffer,
++                              const int nPart,
++                              const int nMode,
++                              const int nCanvasWidth,
++                              const int nCanvasHeight,
++                              const int nTilePosX,
++                              const int nTilePosY,
++                              const int nTileWidth,
++                              const int nTileHeight)
++    {
++        return mpDoc->pClass->paintPartTile(mpDoc, pBuffer, nPart, nMode,
++                                            nCanvasWidth, nCanvasHeight,
++                                            nTilePosX, nTilePosY,
++                                            nTileWidth, nTileHeight);
++    }
++
++    /**
++     * Returns the viewID for each existing view. Since viewIDs are not reused,
++     * viewIDs are not the same as the index of the view in the view array over
++     * time. Use getViewsCount() to know the minimal nSize that's large enough.
++     *
++     * @param pArray the array to write the viewIDs into
++     * @param nSize the size of pArray
++     * @returns true if pArray was large enough and result is written, false
++     * otherwise.
++     */
++    bool getViewIds(int* pArray,
++                           size_t nSize)
++    {
++        return mpDoc->pClass->getViewIds(mpDoc, pArray, nSize);
++    }
++
++    /**
++     * Set the language tag of the window with the specified nId.
++     *
++     * @param nId a view ID, returned by createView().
++     * @param language Bcp47 languageTag, like en-US or so.
++     */
++    void setViewLanguage(int nId, const char* language)
++    {
++        mpDoc->pClass->setViewLanguage(mpDoc, nId, language);
++    }
++
++    /**
++     * Post the text input from external input window, like IME, to given windowId
++     *
++     * @param nWindowId Specify the window id to post the input event to. If
++     * nWindow is 0, the event is posted into the document
++     * @param nType see LibreOfficeKitExtTextInputType
++     * @param pText Text for LOK_EXT_TEXTINPUT
++     */
++    void postWindowExtTextInputEvent(unsigned nWindowId, int nType, const char* pText)
++    {
++        mpDoc->pClass->postWindowExtTextInputEvent(mpDoc, nWindowId, nType, pText);
++    }
++
++#ifdef IOS
++    /**
++     * Renders a subset of the document to a Core Graphics context.
++     *
++     * Note that the buffer size and the tile size implicitly supports
++     * rendering at different zoom levels, as the number of rendered pixels and
++     * the rendered rectangle of the document are independent.
++     *
++     * @param rCGContext the CGContextRef, cast to a void*.
++     * @param nCanvasHeight number of pixels in a column of pBuffer.
++     * @param nTilePosX logical X position of the top left corner of the rendered rectangle, in TWIPs.
++     * @param nTilePosY logical Y position of the top left corner of the rendered rectangle, in TWIPs.
++     * @param nTileWidth logical width of the rendered rectangle, in TWIPs.
++     * @param nTileHeight logical height of the rendered rectangle, in TWIPs.
++     */
++    void paintTileToCGContext(void* rCGContext,
++                              const int nCanvasWidth,
++                              const int nCanvasHeight,
++                              const int nTilePosX,
++                              const int nTilePosY,
++                              const int nTileWidth,
++                              const int nTileHeight)
++    {
++        return mpDoc->pClass->paintTileToCGContext(mpDoc, rCGContext, nCanvasWidth, nCanvasHeight,
++                                                   nTilePosX, nTilePosY, nTileWidth, nTileHeight);
++    }
++#endif // IOS
++
++    /**
++     *  Insert certificate (in binary form) to the certificate store.
++     */
++    bool insertCertificate(const unsigned char* pCertificateBinary,
++                           const int pCertificateBinarySize,
++                           const unsigned char* pPrivateKeyBinary,
++                           const int nPrivateKeyBinarySize)
++    {
++        return mpDoc->pClass->insertCertificate(mpDoc,
++                                                pCertificateBinary, pCertificateBinarySize,
++                                                pPrivateKeyBinary, nPrivateKeyBinarySize);
++    }
++
++    /**
++     *  Add the certificate (in binary form) to the certificate store.
++     *
++     */
++    bool addCertificate(const unsigned char* pCertificateBinary,
++                         const int pCertificateBinarySize)
++    {
++        return mpDoc->pClass->addCertificate(mpDoc,
++                                             pCertificateBinary, pCertificateBinarySize);
++    }
++
++    /**
++     *  Verify signature of the document.
++     *
++     *  Check possible values in include/sfx2/signaturestate.hxx
++     */
++    int getSignatureState()
++    {
++        return mpDoc->pClass->getSignatureState(mpDoc);
++    }
++
++    /**
++     * Gets an image of the selected shapes.
++     * @param pOutput contains the result; use free to deallocate.
++     * @return the size of *pOutput in bytes.
++     */
++    size_t renderShapeSelection(char** pOutput)
++    {
++        return mpDoc->pClass->renderShapeSelection(mpDoc, pOutput);
++    }
++
++    /**
++     * Posts a gesture event to the window with given id.
++     *
++     * @param nWindowId
++     * @param pType Event type, like panStart, panEnd, panUpdate.
++     * @param nX horizontal position in document coordinates
++     * @param nY vertical position in document coordinates
++     * @param nOffset difference value from when the gesture started to current value
++     */
++    void postWindowGestureEvent(unsigned nWindowId,
++                              const char* pType,
++                              int nX, int nY, int nOffset)
++    {
++        return mpDoc->pClass->postWindowGestureEvent(mpDoc, nWindowId, pType, nX, nY, nOffset);
++    }
++
++    /// Set a part's selection mode.
++    /// nSelect is 0 to deselect, 1 to select, and 2 to toggle.
++    void selectPart(int nPart, int nSelect)
++    {
++        mpDoc->pClass->selectPart(mpDoc, nPart, nSelect);
++    }
++
++    /// Moves the selected pages/slides to a new position.
++    /// nPosition is the new position where the selection
++    /// should go. bDuplicate when true will copy instead of move.
++    void moveSelectedParts(int nPosition, bool bDuplicate)
++    {
++        mpDoc->pClass->moveSelectedParts(mpDoc, nPosition, bDuplicate);
++    }
++
++    /**
++     * Resize a window (dialog, popup, etc.) with give id.
++     *
++     * @param nWindowId
++     * @param width The width of the window.
++     * @param height The height of the window.
++     */
++    void resizeWindow(unsigned nWindowId,
++                      const int width,
++                      const int height)
++    {
++        return mpDoc->pClass->resizeWindow(mpDoc, nWindowId, width, height);
++    }
++
++    /**
++     * For deleting many characters all at once
++     *
++     * @param nWindowId Specify the window id to post the input event to. If
++     * nWindow is 0, the event is posted into the document
++     * @param nBefore The characters to be deleted before the cursor position
++     * @param nAfter The characters to be deleted after the cursor position
++     */
++    void removeTextContext(unsigned nWindowId, int nBefore, int nAfter)
++    {
++        mpDoc->pClass->removeTextContext(mpDoc, nWindowId, nBefore, nAfter);
++    }
++
++    /**
++     * Select the Calc function to be pasted into the formula input box
++     *
++     * @param nIndex is the index of the selected function
++     */
++    void completeFunction(const char* pFunctionName)
++    {
++        mpDoc->pClass->completeFunction(mpDoc, pFunctionName);
++    }
++
++    /**
++     * Sets the start or end of a text selection for a dialog.
++     *
++     * @param nWindowId
++     * @param bSwap swap anchor and cursor position of current selection
++     * @param nX horizontal position in document coordinates
++     * @param nY vertical position in document coordinates
++     */
++    void setWindowTextSelection(unsigned nWindowId, bool bSwap, int nX, int nY)
++    {
++        mpDoc->pClass->setWindowTextSelection(mpDoc, nWindowId, bSwap, nX, nY);
++    }
++
++    /**
++     * Posts an event for the form field at the cursor position.
++     *
++     * @param pArguments arguments of the event.
++     */
++    void sendFormFieldEvent(const char* pArguments)
++    {
++        mpDoc->pClass->sendFormFieldEvent(mpDoc, pArguments);
++    }
++
++    void setBlockedCommandList(int nViewId, const char* blockedCommandList)
++    {
++        mpDoc->pClass->setBlockedCommandList(mpDoc, nViewId, blockedCommandList);
++    }
++    /**
++     * Render input search result to a bitmap buffer.
++     *
++     * @param pSearchResult payload containing the search result data
++     * @param pBitmapBuffer contains the bitmap; use free to deallocate.
++     * @param nWidth output bitmap width
++     * @param nHeight output bitmap height
++     * @param nByteSize output bitmap byte size
++     * @return true if successful
++     */
++    bool renderSearchResult(const char* pSearchResult, unsigned char** pBitmapBuffer,
++                            int* pWidth, int* pHeight, size_t* pByteSize)
++    {
++        return mpDoc->pClass->renderSearchResult(mpDoc, pSearchResult, pBitmapBuffer, pWidth, pHeight, pByteSize);
++    }
++
++    /**
++     * Posts an event for the content control at the cursor position.
++     *
++     * @param pArguments arguments of the event.
++     *
++     * Examples:
++     * To select the 3rd list item of the drop-down:
++     * {
++     *     "type": "drop-down",
++     *     "selected": "2"
++     * }
++     *
++     * To change a picture place-holder:
++     * {
++     *     "type": "picture",
++     *     "changed": "file:///path/to/test.png"
++     * }
++     *
++     * To select a date of the current date content control:
++     * {
++     *     "type": "date",
++     *     "selected": "2022-05-29T00:00:00Z"
++     * }
++     */
++    void sendContentControlEvent(const char* pArguments)
++    {
++        mpDoc->pClass->sendContentControlEvent(mpDoc, pArguments);
++    }
++
++    /**
++     * Set the timezone of the window with the specified nId.
++     *
++     * @param nId a view ID, returned by createView().
++     * @param timezone a timezone in the tzfile(5) format (e.g. Pacific/Auckland).
++     */
++    void setViewTimezone(int nId, const char* timezone)
++    {
++        mpDoc->pClass->setViewTimezone(mpDoc, nId, timezone);
++    }
++
++#endif // defined LOK_USE_UNSTABLE_API || defined LIBO_INTERNAL_ONLY
++};
++
++/// The lok::Office class represents one started LibreOfficeKit instance.
++class Office
++{
++private:
++    LibreOfficeKit* mpThis;
++
++public:
++    /// A lok::Office is typically created by the lok_cpp_init() function.
++    Office(LibreOfficeKit* pThis) :
++        mpThis(pThis)
++    {}
++
++    ~Office()
++    {
++        mpThis->pClass->destroy(mpThis);
++    }
++
++    /**
++     * Loads a document from a URL.
++     *
++     * @param pUrl the URL of the document to load
++     * @param pFilterOptions options for the import filter, e.g. SkipImages.
++     *        Another useful FilterOption is "Language=...".  It is consumed
++     *        by the documentLoad() itself, and when provided, LibreOfficeKit
++     *        switches the language accordingly first.
++     * @since pFilterOptions argument added in LibreOffice 5.0
++     */
++    Document* documentLoad(const char* pUrl, const char* pFilterOptions = NULL)
++    {
++        LibreOfficeKitDocument* pDoc = NULL;
++
++        if (LIBREOFFICEKIT_HAS(mpThis, documentLoadWithOptions))
++            pDoc = mpThis->pClass->documentLoadWithOptions(mpThis, pUrl, pFilterOptions);
++        else
++            pDoc = mpThis->pClass->documentLoad(mpThis, pUrl);
++
++        if (pDoc == NULL)
++            return NULL;
++
++        return new Document(pDoc);
++    }
++
++    /// Returns the last error as a string, the returned pointer has to be freed by the caller.
++    char* getError()
++    {
++        return mpThis->pClass->getError(mpThis);
++    }
++
++    /**
++     * Frees the memory pointed to by pFree.
++     *
++     * @since LibreOffice 5.2
++     */
++    void freeError(char* pFree)
++    {
++        mpThis->pClass->freeError(pFree);
++    }
++
++    /**
++     * Registers a callback. LOK will invoke this function when it wants to
++     * inform the client about events.
++     *
++     * @since LibreOffice 6.0
++     * @param pCallback the callback to invoke
++     * @param pData the user data, will be passed to the callback on invocation
++     */
++    void registerCallback(LibreOfficeKitCallback pCallback, void* pData)
++    {
++        mpThis->pClass->registerCallback(mpThis, pCallback, pData);
++    }
++
++    /**
++     * Returns details of filter types.
++     *
++     * Example returned string:
++     *
++     * {
++     *     "writer8": {
++     *         "MediaType": "application/vnd.oasis.opendocument.text"
++     *     },
++     *     "calc8": {
++     *         "MediaType": "application/vnd.oasis.opendocument.spreadsheet"
++     *     }
++     * }
++     *
++     * @since LibreOffice 6.0
++     */
++    char* getFilterTypes()
++    {
++        return mpThis->pClass->getFilterTypes(mpThis);
++    }
++
++    /**
++     * Set bitmask of optional features supported by the client.
++     *
++     * @since LibreOffice 6.0
++     * @see LibreOfficeKitOptionalFeatures
++     */
++    void setOptionalFeatures(unsigned long long features)
++    {
++        return mpThis->pClass->setOptionalFeatures(mpThis, features);
++    }
++
++    /**
++     * Set password required for loading or editing a document.
++     *
++     * Loading the document is blocked until the password is provided.
++     *
++     * @param pURL      the URL of the document, as sent to the callback
++     * @param pPassword the password, nullptr indicates no password
++     *
++     * In response to LOK_CALLBACK_DOCUMENT_PASSWORD, a valid password
++     * will continue loading the document, an invalid password will
++     * result in another LOK_CALLBACK_DOCUMENT_PASSWORD request,
++     * and a NULL password will abort loading the document.
++     *
++     * In response to LOK_CALLBACK_DOCUMENT_PASSWORD_TO_MODIFY, a valid
++     * password will continue loading the document, an invalid password will
++     * result in another LOK_CALLBACK_DOCUMENT_PASSWORD_TO_MODIFY request,
++     * and a NULL password will continue loading the document in read-only
++     * mode.
++     *
++     * @since LibreOffice 6.0
++     */
++    void setDocumentPassword(char const* pURL, char const* pPassword)
++    {
++        mpThis->pClass->setDocumentPassword(mpThis, pURL, pPassword);
++    }
++
++    /**
++     * Get version information of the LOKit process
++     *
++     * @since LibreOffice 6.0
++     * @returns JSON string containing version information in format:
++     * {ProductName: <>, ProductVersion: <>, ProductExtension: <>, BuildId: <>}
++     *
++     * Eg: {"ProductName": "LibreOffice",
++     * "ProductVersion": "5.3",
++     * "ProductExtension": ".0.0.alpha0",
++     * "BuildId": "<full 40 char git hash>"}
++     */
++    char* getVersionInfo()
++    {
++        return mpThis->pClass->getVersionInfo(mpThis);
++    }
++
++    /**
++     * Run a macro.
++     *
++     * Same syntax as on command line is permissible (ie. the macro:// URI forms)
++     *
++     * @since LibreOffice 6.0
++     * @param pURL macro url to run
++     */
++
++    bool runMacro( const char* pURL)
++    {
++        return mpThis->pClass->runMacro( mpThis, pURL );
++    }
++
++    /**
++     * Exports the document and signes its content.
++     */
++    bool signDocument(const char* pURL,
++                       const unsigned char* pCertificateBinary, const int nCertificateBinarySize,
++                       const unsigned char* pPrivateKeyBinary, const int nPrivateKeyBinarySize)
++    {
++        return mpThis->pClass->signDocument(mpThis, pURL,
++                                            pCertificateBinary, nCertificateBinarySize,
++                                            pPrivateKeyBinary, nPrivateKeyBinarySize);
++    }
++
++    /**
++     * Runs the main-loop in the current thread. To trigger this
++     * mode you need to putenv a SAL_LOK_OPTIONS containing 'unipoll'.
++     * The @pPollCallback is called to poll for events from the Kit client
++     * and the @pWakeCallback can be called by internal LibreOfficeKit threads
++     * to wake the caller of 'runLoop' ie. the main thread.
++     *
++     * it is expected that runLoop does not return until Kit exit.
++     *
++     * @pData is a context/closure passed to both methods.
++     */
++    void runLoop(LibreOfficeKitPollCallback pPollCallback,
++                 LibreOfficeKitWakeCallback pWakeCallback,
++                 void* pData)
++    {
++        mpThis->pClass->runLoop(mpThis, pPollCallback, pWakeCallback, pData);
++    }
++
++    /**
++     * Posts a dialog event for the window with given id
++     *
++     * @param nWindowId id of the window to notify
++     * @param pArguments arguments of the event.
++     */
++    void sendDialogEvent(unsigned long long int nWindowId, const char* pArguments = NULL)
++    {
++        mpThis->pClass->sendDialogEvent(mpThis, nWindowId, pArguments);
++    }
++
++    /**
++     * Generic function to toggle and tweak various things in the core LO
++     *
++     * The currently available option names and their allowed values are:
++     *
++     * "profilezonerecording": "start" or "stop"
++     * Start or stop recording profile zone trace data in the process.
++     *
++     * "sallogoverride": "<string>"
++     * Override the SAL_LOG environment variable
++     *
++     * For the syntax of the string see the documentation for "Basic
++     * logging functionality" in LibreOffice internal API
++     * documentation (include/sal/log.hxx). If the logging selector
++     * has been set by this function to a non-empty value, that is used
++     * instead of the environment variable SAL_LOG.
++     *
++     * The parameter is not copied so you should pass a value that
++     * points to memory that will stay valid until you call setOption
++     * with this option name the next time.
++     *
++     * If you pass nullptr or an empty string as value, the
++     * environment variable SAL_LOG is again used as by default. You
++     * can switch back and forth as you like.
++     *
++     * "addfont": "<string>"
++     *
++     * Adds the font at the URL given.
++     *
++     * @param pOption the option name
++     * @param pValue its value
++     */
++    void setOption(const char* pOption, const char* pValue)
++    {
++        mpThis->pClass->setOption(mpThis, pOption, pValue);
++    }
++
++    /**
++     * Debugging tool for triggering a dump of internal state.
++     *
++     * LibreOfficeKit can get into an unhelpful state at run-time when
++     * in heavy use. This provides a critical tool for inspecting
++     * relevant internal state.
++     *
++     * @param pOption future expansion - string options.
++     * @param pState - heap allocated, C string containing the state dump.
++     */
++    void dumpState(const char* pOption, char** pState)
++    {
++        mpThis->pClass->dumpState(mpThis, pOption, pState);
++    }
++
++    char* extractRequest(const char* pFilePath)
++    {
++        return mpThis->pClass->extractRequest(mpThis, pFilePath);
++    }
++
++    /**
++     * 添加stopURP函数，在online项目中使用，解决报错：
++     * kit/ChildSession.cpp:138:34: 错误：‘using element_type = class lok::Office’ {aka ‘class lok::Office’} has no member named ‘stopURP’
++  138 |         _docManager->getLOKit()->stopURP(_URPContext);
++      |
++     * 结束      
++     **/
++    void stopURP(void* sendURPContext) {
++        if (mpThis && mpThis->pClass && mpThis->pClass->stopURP) {
++            mpThis->pClass->stopURP(mpThis, sendURPContext);
++        }
++    }
++    char* extractDocumentStructureRequest(const char* filePath, const char* filter) {
++        if (mpThis && mpThis->pClass && mpThis->pClass->extractDocumentStructureRequest) {
++            return mpThis->pClass->extractDocumentStructureRequest(mpThis, filePath, filter);
++        }
++        return nullptr;
++    }
++};
++
++/// Factory method to create a lok::Office instance.
++inline Office* lok_cpp_init(const char* pInstallPath, const char* pUserProfileUrl = NULL)
++{
++    LibreOfficeKit* pThis = lok_init_2(pInstallPath, pUserProfileUrl);
++    if (pThis == NULL || pThis->pClass->nSize == 0)
++        return NULL;
++    return new ::lok::Office(pThis);
++}
++
++}
++
++/* vim:set shiftwidth=4 softtabstop=4 expandtab: */
+diff --git a/include/LibreOfficeKit/LibreOfficeKitTypes.h b/include/LibreOfficeKit/LibreOfficeKitTypes.h
+index 5f4e3d4d8..edfb5c533 100644
+--- a/include/LibreOfficeKit/LibreOfficeKitTypes.h
++++ b/include/LibreOfficeKit/LibreOfficeKitTypes.h
+@@ -27,6 +27,10 @@ typedef void (*LibreOfficeKitCallback)(int nType, const char* pPayload, void* pD
+ typedef int (*LibreOfficeKitPollCallback)(void* pData, int timeoutUs);
+ typedef void (*LibreOfficeKitWakeCallback)(void* pData);
+ 
++
++/// @see lok::Office::registerAnyInputCallback()
++typedef bool (*LibreOfficeKitAnyInputCallback)(void* pData, int nMostUrgentPriority);
++
+ #ifdef __cplusplus
+ }
+ #endif
+diff --git a/jvmfwk/inc/vendorbase.hxx b/jvmfwk/inc/vendorbase.hxx
+index 4a0190eb0..c0008c5ff 100644
+--- a/jvmfwk/inc/vendorbase.hxx
++++ b/jvmfwk/inc/vendorbase.hxx
+@@ -75,9 +75,11 @@ OpenJDK at least, but probably not true for Lemotes JDK */
+ #define JFW_PLUGIN_ARCH "alpha"
+ #elif defined AARCH64
+ #define JFW_PLUGIN_ARCH "aarch64"
+-#else // SPARC, INTEL, POWERPC, MIPS, MIPS64, ARM, IA64, M68K, HPPA, ALPHA
++#elif defined LOONGARCH64
++#define JFW_PLUGIN_ARCH "loongarch64"
++#else // SPARC, INTEL, POWERPC, MIPS, MIPS64, ARM, IA64, M68K, HPPA, ALPHA, LOONGARCH64
+ #error unknown platform
+-#endif // SPARC, INTEL, POWERPC, MIPS, MIPS64, ARM, IA64, M68K, HPPA, ALPHA
++#endif // SPARC, INTEL, POWERPC, MIPS, MIPS64, ARM, IA64, M68K, HPPA, ALPHA, LOONGARCH64
+ 
+ class MalformedVersionException final : public std::exception
+ {
+diff --git a/solenv/gbuild/platform/LINUX_LOONGARCH64_GCC.mk b/solenv/gbuild/platform/LINUX_LOONGARCH64_GCC.mk
+new file mode 100644
+index 000000000..15cb0bb6f
+--- /dev/null
++++ b/solenv/gbuild/platform/LINUX_LOONGARCH64_GCC.mk
+@@ -0,0 +1,12 @@
++# -*- Mode: makefile-gmake; tab-width: 4; indent-tabs-mode: t; fill-column: 100 -*-
++#
++# This file is part of the LibreOffice project.
++#
++# This Source Code Form is subject to the terms of the Mozilla Public
++# License, v. 2.0. If a copy of the MPL was not distributed with this
++# file, You can obtain one at http://mozilla.org/MPL/2.0/.
++#
++
++include $(GBUILDDIR)/platform/linux.mk
++
++# vim: set noet sw=4 ts=4:
+-- 
+2.41.3
+
diff --git a/docker/from-source/0001-add-loong64-support.patch-old b/docker/from-source/0001-add-loong64-support.patch-old
new file mode 100644
index 0000000..8d3e679
--- /dev/null
+++ b/docker/from-source/0001-add-loong64-support.patch-old
@@ -0,0 +1,22075 @@
+From 0171b388054c86613639b025adb5099c2eb16450 Mon Sep 17 00:00:00 2001
+From: Your Name <sdsad>
+Date: Sat, 7 Jun 2025 10:18:19 +0800
+Subject: [PATCH] add loong64 support
+
+Signed-off-by: Your Name <sdsad>
+Change-Id: I7f0735b89b4fc0a794b01b948941117f1730c286
+---
+ Makefile.fetch                                |    8 +-
+ bin/oss-fuzz-setup.sh                         |    2 +-
+ bridges/Library_cpp_uno.mk                    |    9 +
+ .../cpp_uno/gcc3_linux_loongarch64/call.hxx   |   33 +
+ .../cpp_uno/gcc3_linux_loongarch64/call.s     |  125 +
+ .../gcc3_linux_loongarch64/cpp2uno.cxx        |  559 ++
+ .../cpp_uno/gcc3_linux_loongarch64/except.cxx |  251 +
+ .../cpp_uno/gcc3_linux_loongarch64/share.hxx  |   85 +
+ .../gcc3_linux_loongarch64/uno2cpp.cxx        |  546 ++
+ config.guess                                  | 1274 ++--
+ config.sub                                    |  993 ++-
+ configure.ac                                  |    7 +-
+ download.lst                                  |   12 +-
+ external/config.guess                         | 1815 +++++
+ external/config.sub                           | 2354 +++++++
+ external/libcmis/0003-update-config.patch     | 5818 +++++++++++++++++
+ external/libcmis/UnpackedTarball_libcmis.mk   |    1 +
+ external/nss/ExternalProject_nss.mk           |    1 +
+ external/python3/ExternalPackage_python3.mk   |   12 +-
+ external/python3/README                       |    6 +-
+ external/python3/UnpackedTarball_python3.mk   |    8 -
+ ...zlib.patch.0 => internal-zlib.patch.0-old} |    0
+ ...atch.1 => python-3.3.0-darwin.patch.1-old} |    0
+ ...=> python-3.5.tweak.strip.soabi.patch-old} |    0
+ fontconfig-update-config.patch                | 4507 +++++++++++++
+ include/LibreOfficeKit/LibreOfficeKit.h       |   86 +-
+ include/LibreOfficeKit/LibreOfficeKit.h-old   |  545 ++
+ include/LibreOfficeKit/LibreOfficeKit.hxx     |  213 +-
+ include/LibreOfficeKit/LibreOfficeKit.hxx-old | 1196 ++++
+ include/LibreOfficeKit/LibreOfficeKitTypes.h  |    4 +
+ jvmfwk/inc/vendorbase.hxx                     |    6 +-
+ .../gbuild/platform/LINUX_LOONGARCH64_GCC.mk  |   12 +
+ 32 files changed, 19595 insertions(+), 893 deletions(-)
+ create mode 100644 bridges/source/cpp_uno/gcc3_linux_loongarch64/call.hxx
+ create mode 100644 bridges/source/cpp_uno/gcc3_linux_loongarch64/call.s
+ create mode 100644 bridges/source/cpp_uno/gcc3_linux_loongarch64/cpp2uno.cxx
+ create mode 100644 bridges/source/cpp_uno/gcc3_linux_loongarch64/except.cxx
+ create mode 100644 bridges/source/cpp_uno/gcc3_linux_loongarch64/share.hxx
+ create mode 100644 bridges/source/cpp_uno/gcc3_linux_loongarch64/uno2cpp.cxx
+ create mode 100644 external/config.guess
+ create mode 100644 external/config.sub
+ create mode 100644 external/libcmis/0003-update-config.patch
+ rename external/python3/{internal-zlib.patch.0 => internal-zlib.patch.0-old} (100%)
+ rename external/python3/{python-3.3.0-darwin.patch.1 => python-3.3.0-darwin.patch.1-old} (100%)
+ rename external/python3/{python-3.5.tweak.strip.soabi.patch => python-3.5.tweak.strip.soabi.patch-old} (100%)
+ create mode 100644 fontconfig-update-config.patch
+ create mode 100644 include/LibreOfficeKit/LibreOfficeKit.h-old
+ create mode 100644 include/LibreOfficeKit/LibreOfficeKit.hxx-old
+ create mode 100644 solenv/gbuild/platform/LINUX_LOONGARCH64_GCC.mk
+
+diff --git a/Makefile.fetch b/Makefile.fetch
+index 3dd9f4b79..b1f777e74 100644
+--- a/Makefile.fetch
++++ b/Makefile.fetch
+@@ -108,7 +108,6 @@ $(WORKDIR)/download: $(BUILDDIR)/config_$(gb_Side).mk $(SRCDIR)/download.lst $(S
+ 		$(call fetch_Optional,BREAKPAD,BREAKPAD_TARBALL) \
+ 		$(call fetch_Optional,BSH,BSH_TARBALL) \
+ 		$(call fetch_Optional,BZIP2,BZIP2_TARBALL) \
+-		$(call fetch_Optional,CAIRO,CAIRO_TARBALL) \
+ 		$(call fetch_Optional,CAIRO,PIXMAN_TARBALL) \
+ 		$(call fetch_Optional,CDR,CDR_TARBALL) \
+ 		$(call fetch_Optional,CLUCENE,CLUCENE_TARBALL) \
+@@ -124,7 +123,6 @@ $(WORKDIR)/download: $(BUILDDIR)/config_$(gb_Side).mk $(SRCDIR)/download.lst $(S
+ 		$(call fetch_Optional,ETONYEK,ETONYEK_TARBALL) \
+ 		$(call fetch_Optional,EXPAT,EXPAT_TARBALL) \
+ 		$(call fetch_Optional,FIREBIRD,FIREBIRD_TARBALL) \
+-		$(call fetch_Optional,FONTCONFIG,FONTCONFIG_TARBALL) \
+ 		$(call fetch_Optional,FREEHAND,FREEHAND_TARBALL) \
+ 		$(call fetch_Optional,FREETYPE,FREETYPE_TARBALL) \
+ 		$(call fetch_Optional,EPOXY,EPOXY_TARBALL) \
+@@ -209,7 +207,6 @@ $(WORKDIR)/download: $(BUILDDIR)/config_$(gb_Side).mk $(SRCDIR)/download.lst $(S
+ 		$(call fetch_Optional,POPPLER,POPPLER_TARBALL) \
+ 		$(call fetch_Optional,POPPLER,POPPLER_DATA_TARBALL) \
+ 		$(call fetch_Optional,POSTGRESQL,POSTGRESQL_TARBALL) \
+-		$(call fetch_Optional,PYTHON,PYTHON_TARBALL) \
+ 		$(call fetch_Optional,QXP,QXP_TARBALL) \
+ 		$(call fetch_Optional,REDLAND,RAPTOR_TARBALL) \
+ 		$(call fetch_Optional,REDLAND,RASQAL_TARBALL) \
+@@ -230,6 +227,11 @@ $(WORKDIR)/download: $(BUILDDIR)/config_$(gb_Side).mk $(SRCDIR)/download.lst $(S
+ 		$(call fetch_Optional,ZLIB,ZLIB_TARBALL) \
+ 		$(call fetch_Optional,ZMF,ZMF_TARBALL) \
+ 	,$(call fetch_Download_item,https://dev-www.libreoffice.org/src,$(item)))
++	$(foreach item, \
++        $(call fetch_Optional,FONTCONFIG,FONTCONFIG_TARBALL) \
++		$(call fetch_Optional,PYTHON,PYTHON_TARBALL) \
++        $(call fetch_Optional,CAIRO,CAIRO_TARBALL) \
++    ,$(call fetch_Download_item,https://gitee.com/zeweiy/libtool/releases/download/2.4.6,$(item)))
+ 	$(foreach item, \
+ 		$(call fetch_Optional,OPENSYMBOL,OPENSYMBOL_TTF) \
+ 		$(call fetch_Optional,ODFVALIDATOR,ODFVALIDATOR_JAR) \
+diff --git a/bin/oss-fuzz-setup.sh b/bin/oss-fuzz-setup.sh
+index b2b0be8a0..16b177945 100755
+--- a/bin/oss-fuzz-setup.sh
++++ b/bin/oss-fuzz-setup.sh
+@@ -64,7 +64,7 @@ curl --no-progress-meter -S \
+     -C - -O https://dev-www.libreoffice.org/src/$LIBXSLT_TARBALL \
+     -C - -O https://dev-www.libreoffice.org/src/$HUNSPELL_TARBALL \
+     -C - -O https://dev-www.libreoffice.org/src/$FREETYPE_TARBALL \
+-    -C - -O https://dev-www.libreoffice.org/src/$FONTCONFIG_TARBALL \
++    -C - -O https://gitee.com/zeweiy/libtool/releases/download/2.4.6/$FONTCONFIG_TARBALL \
+     -C - -O https://dev-www.libreoffice.org/src/$EPOXY_TARBALL \
+     -C - -O https://dev-www.libreoffice.org/src/$EPUBGEN_TARBALL \
+     -C - -O https://dev-www.libreoffice.org/src/$LIBNUMBERTEXT_TARBALL \
+diff --git a/bridges/Library_cpp_uno.mk b/bridges/Library_cpp_uno.mk
+index 3a31bf69f..a76d2b855 100644
+--- a/bridges/Library_cpp_uno.mk
++++ b/bridges/Library_cpp_uno.mk
+@@ -111,6 +111,15 @@ bridge_noopt_objects := cpp2uno uno2cpp
+ bridge_exception_objects := except
+ endif
+ 
++else ifeq ($(CPUNAME),LOONGARCH64)
++
++ifneq ($(filter LINUX,$(OS)),)
++bridges_SELECTED_BRIDGE := gcc3_linux_loongarch64
++bridge_asm_objects := call
++bridge_noopt_objects := cpp2uno uno2cpp
++bridge_exception_objects := except
++endif
++
+ else ifeq ($(CPUNAME),POWERPC)
+ 
+ ifneq ($(filter DRAGONFLY FREEBSD LINUX NETBSD OPENBSD,$(OS)),)
+diff --git a/bridges/source/cpp_uno/gcc3_linux_loongarch64/call.hxx b/bridges/source/cpp_uno/gcc3_linux_loongarch64/call.hxx
+new file mode 100644
+index 000000000..51b9772c0
+--- /dev/null
++++ b/bridges/source/cpp_uno/gcc3_linux_loongarch64/call.hxx
+@@ -0,0 +1,33 @@
++/* -*- Mode: C++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4; fill-column: 100 -*- */
++/*
++ * This file is part of the LibreOffice project.
++ *
++ * This Source Code Form is subject to the terms of the Mozilla Public
++ * License, v. 2.0. If a copy of the MPL was not distributed with this
++ * file, You can obtain one at http://mozilla.org/MPL/2.0/.
++ *
++ * This file incorporates work covered by the following license notice:
++ *
++ *   Licensed to the Apache Software Foundation (ASF) under one or more
++ *   contributor license agreements. See the NOTICE file distributed
++ *   with this work for additional information regarding copyright
++ *   ownership. The ASF licenses this file to you under the Apache
++ *   License, Version 2.0 (the "License"); you may not use this file
++ *   except in compliance with the License. You may obtain a copy of
++ *   the License at http://www.apache.org/licenses/LICENSE-2.0 .
++ */
++
++#pragma once
++
++#include <sal/config.h>
++
++#include <sal/types.h>
++
++namespace
++{
++extern "C" typelib_TypeClass
++cpp_vtable_call(sal_Int32 nFunctionIndex, sal_Int32 nVtableOffset, void** gpreg, void** fpreg,
++                void** ovrflw, sal_uInt64* pRegisterReturn /* space for register return */);
++}
++
++/* vim:set shiftwidth=4 softtabstop=4 expandtab cinoptions=b1,g0,N-s cinkeys+=0=break: */
+diff --git a/bridges/source/cpp_uno/gcc3_linux_loongarch64/call.s b/bridges/source/cpp_uno/gcc3_linux_loongarch64/call.s
+new file mode 100644
+index 000000000..b8388508e
+--- /dev/null
++++ b/bridges/source/cpp_uno/gcc3_linux_loongarch64/call.s
+@@ -0,0 +1,125 @@
++/* -*- tab-width: 4; indent-tabs-mode: nil; fill-column: 100 -*- */
++/*
++ * This file is part of the LibreOffice project.
++ *
++ * This Source Code Form is subject to the terms of the Mozilla Public
++ * License, v. 2.0. If a copy of the MPL was not distributed with this
++ * file, You can obtain one at http://mozilla.org/MPL/2.0/.
++ *
++ * This file incorporates work covered by the following license notice:
++ *
++ *   Licensed to the Apache Software Foundation (ASF) under one or more
++ *   contributor license agreements. See the NOTICE file distributed
++ *   with this work for additional information regarding copyright
++ *   ownership. The ASF licenses this file to you under the Apache
++ *   License, Version 2.0 (the "License"); you may not use this file
++ *   except in compliance with the License. You may obtain a copy of
++ *   the License at http://www.apache.org/licenses/LICENSE-2.0 .
++ */
++
++        .text
++        .globl	privateSnippetExecutor
++.LFB0 = .
++        .cfi_startproc
++        .cfi_personality 0x80,DW.ref.__gxx_personality_v0
++        .cfi_lsda 0,.LLSDA0
++        .type	privateSnippetExecutor, @function
++privateSnippetExecutor:
++        addi.d	$sp,$sp,-160
++        .cfi_def_cfa_offset 160
++        st.d	$ra,$sp,152
++        .cfi_offset 1, -8
++.LEHB0 = .
++        // Save the float point registers
++        fst.d	$f0,$sp,80
++        fst.d	$f1,$sp,88
++        fst.d	$f2,$sp,96
++        fst.d	$f3,$sp,104
++        fst.d	$f4,$sp,112
++        fst.d	$f5,$sp,120
++        fst.d	$f6,$sp,128
++        fst.d	$f7,$sp,136
++        // Save the general purpose registers
++        st.d	$a0,$sp,16
++        st.d	$a1,$sp,24
++        st.d	$a2,$sp,32
++        st.d	$a3,$sp,40
++        st.d	$a4,$sp,48
++        st.d	$a5,$sp,56
++        st.d	$a6,$sp,64
++        st.d	$a7,$sp,72
++        // Load arguments
++        // a0=index
++        move	$a0,$t6
++        // a1=offset
++        move	$a1,$t7
++        // a2=gpregptr
++        addi.d	$a2,$sp,16
++        // a3=fpregptr
++        addi.d	$a3,$sp,80
++        // a4=ovrflw
++        addi.d	$a4,$sp,160
++        // a5=retregptr
++        move	$a5,$sp
++
++        // Call cpp_vtable_call
++        jirl	$ra,$t5,0
++
++.LEHE0 = .
++        // Perform return value
++        fld.d	$f0,$sp,0
++        fld.d	$f1,$sp,8
++        ld.d	$a0,$sp,0
++        ld.d	$a1,$sp,8
++
++        ld.d	$ra,$sp,152
++        .cfi_restore 1
++        addi.d	$sp,$sp,160
++        .cfi_def_cfa_offset 0
++        jr	$ra
++        .cfi_endproc
++
++.LFE0:
++        .globl	__gxx_personality_v0
++        .section	.gcc_except_table,"aw",@progbits
++        .align	3
++.LLSDA0:
++        .byte	0xff
++        .byte	0x80
++        .uleb128 .LLSDATT0-.LLSDATTD0
++.LLSDATTD0:
++        .byte	0x1
++        .uleb128 .LLSDACSE0-.LLSDACSB0
++.LLSDACSB0:
++        .uleb128 .LEHB0-.LFB0
++        .uleb128 .LEHE0-.LEHB0
++        .uleb128 0
++        .uleb128 0
++.LLSDACSE0:
++        .byte	0x7f
++        .byte	0
++        .align	3
++        .8byte	DW.ref._ZTIi
++.LLSDATT0:
++        .byte	0x1
++        .byte	0
++        .text
++        .size	privateSnippetExecutor, .-privateSnippetExecutor
++        .hidden	DW.ref._ZTIi
++        .weak	DW.ref._ZTIi
++        .section	.data.DW.ref._ZTIi,"awG",@progbits,DW.ref._ZTIi,comdat
++        .align	3
++        .type	DW.ref._ZTIi, @object
++        .size	DW.ref._ZTIi, 8
++DW.ref._ZTIi:
++        .dword	_ZTIi
++        .hidden	DW.ref.__gxx_personality_v0
++        .weak	DW.ref.__gxx_personality_v0
++        .section	.data.DW.ref.__gxx_personality_v0,"awG",@progbits,DW.ref.__gxx_personality_v0,comdat
++        .align	3
++        .type	DW.ref.__gxx_personality_v0, @object
++        .size	DW.ref.__gxx_personality_v0, 8
++DW.ref.__gxx_personality_v0:
++        .dword	__gxx_personality_v0
++
++/* vim:set shiftwidth=4 softtabstop=4 expandtab cinoptions=b1,g0,N-s cinkeys+=0=break: */
+diff --git a/bridges/source/cpp_uno/gcc3_linux_loongarch64/cpp2uno.cxx b/bridges/source/cpp_uno/gcc3_linux_loongarch64/cpp2uno.cxx
+new file mode 100644
+index 000000000..0273b39da
+--- /dev/null
++++ b/bridges/source/cpp_uno/gcc3_linux_loongarch64/cpp2uno.cxx
+@@ -0,0 +1,559 @@
++/* -*- Mode: C++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4; fill-column: 100 -*- */
++/*
++ * This file is part of the LibreOffice project.
++ *
++ * This Source Code Form is subject to the terms of the Mozilla Public
++ * License, v. 2.0. If a copy of the MPL was not distributed with this
++ * file, You can obtain one at http://mozilla.org/MPL/2.0/.
++ *
++ * This file incorporates work covered by the following license notice:
++ *
++ *   Licensed to the Apache Software Foundation (ASF) under one or more
++ *   contributor license agreements. See the NOTICE file distributed
++ *   with this work for additional information regarding copyright
++ *   ownership. The ASF licenses this file to you under the Apache
++ *   License, Version 2.0 (the "License"); you may not use this file
++ *   except in compliance with the License. You may obtain a copy of
++ *   the License at http://www.apache.org/licenses/LICENSE-2.0 .
++ */
++
++#include <com/sun/star/uno/genfunc.hxx>
++#include <sal/log.hxx>
++#include <typelib/typedescription.hxx>
++#include <uno/data.h>
++#include <osl/endian.h>
++#include "bridge.hxx"
++#include "cppinterfaceproxy.hxx"
++#include "types.hxx"
++#include "vtablefactory.hxx"
++#include "call.hxx"
++#include "share.hxx"
++
++#include <stdio.h>
++#include <string.h>
++
++using namespace com::sun::star::uno;
++
++namespace CPPU_CURRENT_NAMESPACE
++{
++bool is_complex_struct(const typelib_TypeDescription* type)
++{
++    const typelib_CompoundTypeDescription* p
++        = reinterpret_cast<const typelib_CompoundTypeDescription*>(type);
++    for (sal_Int32 i = 0; i < p->nMembers; ++i)
++    {
++        if (p->ppTypeRefs[i]->eTypeClass == typelib_TypeClass_STRUCT
++            || p->ppTypeRefs[i]->eTypeClass == typelib_TypeClass_EXCEPTION)
++        {
++            typelib_TypeDescription* t = 0;
++            TYPELIB_DANGER_GET(&t, p->ppTypeRefs[i]);
++            bool b = is_complex_struct(t);
++            TYPELIB_DANGER_RELEASE(t);
++            if (b)
++            {
++                return true;
++            }
++        }
++        else if (!bridges::cpp_uno::shared::isSimpleType(p->ppTypeRefs[i]->eTypeClass))
++            return true;
++    }
++    if (p->pBaseTypeDescription != 0)
++        return is_complex_struct(&p->pBaseTypeDescription->aBase);
++    return false;
++}
++
++bool return_in_hidden_param(typelib_TypeDescriptionReference* pTypeRef)
++{
++    if (bridges::cpp_uno::shared::isSimpleType(pTypeRef))
++        return false;
++    else if (pTypeRef->eTypeClass == typelib_TypeClass_STRUCT
++             || pTypeRef->eTypeClass == typelib_TypeClass_EXCEPTION)
++    {
++        typelib_TypeDescription* pTypeDescr = 0;
++        TYPELIB_DANGER_GET(&pTypeDescr, pTypeRef);
++
++        //A Composite Type not larger than 16 bytes is returned in up to two GPRs
++        bool bRet = pTypeDescr->nSize > 16 || is_complex_struct(pTypeDescr);
++
++        TYPELIB_DANGER_RELEASE(pTypeDescr);
++        return bRet;
++    }
++    return true;
++}
++}
++
++namespace
++{
++static typelib_TypeClass
++cpp2uno_call(bridges::cpp_uno::shared::CppInterfaceProxy* pThis,
++             const typelib_TypeDescription* pMemberTypeDescr,
++             typelib_TypeDescriptionReference* pReturnTypeRef, // 0 indicates void return
++             sal_Int32 nParams, typelib_MethodParameter* pParams, void** gpreg, void** fpreg,
++             void** ovrflw, sal_uInt64* pRegisterReturn /* space for register return */)
++{
++    unsigned int nREG = 0;
++
++    // return
++    typelib_TypeDescription* pReturnTypeDescr = 0;
++    if (pReturnTypeRef)
++        TYPELIB_DANGER_GET(&pReturnTypeDescr, pReturnTypeRef);
++
++    void* pUnoReturn = 0;
++    void* pCppReturn = 0; // complex return ptr: if != 0 && != pUnoReturn, reconversion need
++
++    if (pReturnTypeDescr)
++    {
++        if (CPPU_CURRENT_NAMESPACE::return_in_hidden_param(pReturnTypeRef))
++        {
++            pCppReturn = gpreg[nREG]; // complex return via ptr (pCppReturn)
++            nREG++;
++
++            pUnoReturn = (bridges::cpp_uno::shared::relatesToInterfaceType(pReturnTypeDescr)
++                              ? alloca(pReturnTypeDescr->nSize)
++                              : pCppReturn); // direct way
++        }
++        else
++        {
++            pUnoReturn = pRegisterReturn; // direct way for simple types
++        }
++    }
++
++    // pop this
++    nREG++;
++
++    // stack space
++    static_assert(sizeof(void*) == sizeof(sal_Int64), "### unexpected size!");
++    // parameters
++    void** pUnoArgs = (void**)alloca(4 * sizeof(void*) * nParams);
++    void** pCppArgs = pUnoArgs + nParams;
++    // indices of values this have to be converted (interface conversion cpp<=>uno)
++    sal_Int32* pTempIndices = (sal_Int32*)(pUnoArgs + (2 * nParams));
++    // type descriptions for reconversions
++    typelib_TypeDescription** ppTempParamTypeDescr
++        = (typelib_TypeDescription**)(pUnoArgs + (3 * nParams));
++
++    sal_Int32 nTempIndices = 0;
++
++    for (sal_Int32 nPos = 0; nPos < nParams; ++nPos)
++    {
++        const typelib_MethodParameter& rParam = pParams[nPos];
++
++        typelib_TypeDescription* pParamTypeDescr = 0;
++        TYPELIB_DANGER_GET(&pParamTypeDescr, rParam.pTypeRef);
++
++        if (!rParam.bOut && bridges::cpp_uno::shared::isSimpleType(pParamTypeDescr)) // value
++        {
++            switch (pParamTypeDescr->eTypeClass)
++            {
++                case typelib_TypeClass_FLOAT:
++                case typelib_TypeClass_DOUBLE:
++                    if (nREG < MAX_FP_REGS)
++                    {
++                        pCppArgs[nPos] = &(fpreg[nREG]);
++                        pUnoArgs[nPos] = &(fpreg[nREG]);
++                    }
++                    else
++                    {
++                        pCppArgs[nPos] = &(ovrflw[nREG - MAX_FP_REGS]);
++                        pUnoArgs[nPos] = &(ovrflw[nREG - MAX_FP_REGS]);
++                    }
++                    nREG++;
++                    break;
++
++                default:
++                    if (nREG < MAX_GP_REGS)
++                    {
++                        pCppArgs[nPos] = &(gpreg[nREG]);
++                        pUnoArgs[nPos] = &(gpreg[nREG]);
++                    }
++                    else
++                    {
++                        pCppArgs[nPos] = &(ovrflw[nREG - MAX_GP_REGS]);
++                        pUnoArgs[nPos] = &(ovrflw[nREG - MAX_GP_REGS]);
++                    }
++                    nREG++;
++                    break;
++            }
++            // no longer needed
++            TYPELIB_DANGER_RELEASE(pParamTypeDescr);
++        }
++        else // ptr to complex value | ref
++        {
++            void* pCppStack;
++            if (nREG < MAX_GP_REGS)
++            {
++                pCppArgs[nPos] = pCppStack = gpreg[nREG];
++            }
++            else
++            {
++                pCppArgs[nPos] = pCppStack = ovrflw[nREG - MAX_GP_REGS];
++            }
++            nREG++;
++
++            if (!rParam.bIn) // is pure out
++            {
++                // uno out is unconstructed mem!
++                pUnoArgs[nPos] = alloca(pParamTypeDescr->nSize);
++                pTempIndices[nTempIndices] = nPos;
++                // will be released at reconversion
++                ppTempParamTypeDescr[nTempIndices++] = pParamTypeDescr;
++            }
++            // is in/inout
++            else if (bridges::cpp_uno::shared::relatesToInterfaceType(pParamTypeDescr))
++            {
++                uno_copyAndConvertData(pUnoArgs[nPos] = alloca(pParamTypeDescr->nSize), pCppStack,
++                                       pParamTypeDescr, pThis->getBridge()->getCpp2Uno());
++                pTempIndices[nTempIndices] = nPos; // has to be reconverted
++                // will be released at reconversion
++                ppTempParamTypeDescr[nTempIndices++] = pParamTypeDescr;
++            }
++            else // direct way
++            {
++                pUnoArgs[nPos] = pCppStack;
++                // no longer needed
++                TYPELIB_DANGER_RELEASE(pParamTypeDescr);
++            }
++        }
++    }
++    // ExceptionHolder
++    uno_Any aUnoExc; // Any will be constructed by callee
++    uno_Any* pUnoExc = &aUnoExc;
++
++    // invoke uno dispatch call
++    (*pThis->getUnoI()->pDispatcher)(pThis->getUnoI(), pMemberTypeDescr, pUnoReturn, pUnoArgs,
++                                     &pUnoExc);
++    // in case an exception occurred...
++    if (pUnoExc)
++    {
++        // destruct temporary in/inout params
++        for (; nTempIndices--;)
++        {
++            sal_Int32 nIndex = pTempIndices[nTempIndices];
++
++            if (pParams[nIndex].bIn) // is in/inout => was constructed
++                uno_destructData(pUnoArgs[nIndex], ppTempParamTypeDescr[nTempIndices], 0);
++            TYPELIB_DANGER_RELEASE(ppTempParamTypeDescr[nTempIndices]);
++        }
++        if (pReturnTypeDescr)
++            TYPELIB_DANGER_RELEASE(pReturnTypeDescr);
++
++        CPPU_CURRENT_NAMESPACE::raiseException(&aUnoExc, pThis->getBridge()->getUno2Cpp());
++        // has to destruct the any
++        // is here for dummy
++        return typelib_TypeClass_VOID;
++    }
++    else // else no exception occurred...
++    {
++        // temporary params
++        for (; nTempIndices--;)
++        {
++            sal_Int32 nIndex = pTempIndices[nTempIndices];
++            typelib_TypeDescription* pParamTypeDescr = ppTempParamTypeDescr[nTempIndices];
++
++            if (pParams[nIndex].bOut) // inout/out
++            {
++                // convert and assign
++                uno_destructData(pCppArgs[nIndex], pParamTypeDescr, cpp_release);
++                uno_copyAndConvertData(pCppArgs[nIndex], pUnoArgs[nIndex], pParamTypeDescr,
++                                       pThis->getBridge()->getUno2Cpp());
++            }
++            // destroy temp uno param
++            uno_destructData(pUnoArgs[nIndex], pParamTypeDescr, 0);
++
++            TYPELIB_DANGER_RELEASE(pParamTypeDescr);
++        }
++        // return
++        if (pCppReturn) // has complex return
++        {
++            if (pUnoReturn != pCppReturn) // needs reconversion
++            {
++                uno_copyAndConvertData(pCppReturn, pUnoReturn, pReturnTypeDescr,
++                                       pThis->getBridge()->getUno2Cpp());
++                // destroy temp uno return
++                uno_destructData(pUnoReturn, pReturnTypeDescr, 0);
++            }
++            // complex return ptr is set to return reg
++            *(void**)pRegisterReturn = pCppReturn;
++        }
++        if (pReturnTypeDescr)
++        {
++            typelib_TypeClass eRet = (typelib_TypeClass)pReturnTypeDescr->eTypeClass;
++            TYPELIB_DANGER_RELEASE(pReturnTypeDescr);
++            return eRet;
++        }
++        else
++            return typelib_TypeClass_VOID;
++    }
++}
++
++/**
++   * is called on incoming vtable calls
++   * (called by asm snippets)
++   */
++typelib_TypeClass cpp_vtable_call(sal_Int32 nFunctionIndex, sal_Int32 nVtableOffset, void** gpreg,
++                                  void** fpreg, void** ovrflw,
++                                  sal_uInt64* pRegisterReturn /* space for register return */)
++{
++    static_assert(sizeof(sal_Int64) == sizeof(void*), "### unexpected!");
++
++    // gpreg:  [ret *], this, [other gpr params]
++    // fpreg:  [fpr params]
++    // ovrflw: [gpr or fpr params (properly aligned)]
++    void* pThis;
++    if (nFunctionIndex & 0x80000000)
++    {
++        nFunctionIndex &= 0x7fffffff;
++        pThis = gpreg[1];
++    }
++    else
++    {
++        pThis = gpreg[0];
++    }
++    pThis = static_cast<char*>(pThis) - nVtableOffset;
++    bridges::cpp_uno::shared::CppInterfaceProxy* pCppI
++        = bridges::cpp_uno::shared::CppInterfaceProxy::castInterfaceToProxy(pThis);
++    typelib_InterfaceTypeDescription* pTypeDescr = pCppI->getTypeDescr();
++
++    if (nFunctionIndex >= pTypeDescr->nMapFunctionIndexToMemberIndex)
++    {
++        SAL_WARN("bridges", "illegal " << OUString::unacquired(&pTypeDescr->aBase.pTypeName)
++                                       << " vtable index " << nFunctionIndex << "/"
++                                       << pTypeDescr->nMapFunctionIndexToMemberIndex);
++        throw RuntimeException(("illegal " + OUString::unacquired(&pTypeDescr->aBase.pTypeName)
++                                + " vtable index " + OUString::number(nFunctionIndex) + "/"
++                                + OUString::number(pTypeDescr->nMapFunctionIndexToMemberIndex)),
++                               (XInterface*)pThis);
++    }
++
++    // determine called method
++    sal_Int32 nMemberPos = pTypeDescr->pMapFunctionIndexToMemberIndex[nFunctionIndex];
++    assert(nMemberPos < pTypeDescr->nAllMembers);
++
++    TypeDescription aMemberDescr(pTypeDescr->ppAllMembers[nMemberPos]);
++
++    typelib_TypeClass eRet;
++    switch (aMemberDescr.get()->eTypeClass)
++    {
++        case typelib_TypeClass_INTERFACE_ATTRIBUTE:
++        {
++            typelib_TypeDescriptionReference* pAttrTypeRef
++                = reinterpret_cast<typelib_InterfaceAttributeTypeDescription*>(aMemberDescr.get())
++                      ->pAttributeTypeRef;
++
++            if (pTypeDescr->pMapMemberIndexToFunctionIndex[nMemberPos] == nFunctionIndex)
++            {
++                // is GET method
++                eRet = cpp2uno_call(pCppI, aMemberDescr.get(), pAttrTypeRef, 0, 0, // no params
++                                    gpreg, fpreg, ovrflw, pRegisterReturn);
++            }
++            else
++            {
++                // is SET method
++                typelib_MethodParameter aParam;
++                aParam.pTypeRef = pAttrTypeRef;
++                aParam.bIn = sal_True;
++                aParam.bOut = sal_False;
++
++                eRet = cpp2uno_call(pCppI, aMemberDescr.get(),
++                                    0, // indicates void return
++                                    1, &aParam, gpreg, fpreg, ovrflw, pRegisterReturn);
++            }
++            break;
++        }
++        case typelib_TypeClass_INTERFACE_METHOD:
++        {
++            // is METHOD
++            switch (nFunctionIndex)
++            {
++                case 1: // acquire()
++                    pCppI->acquireProxy(); // non virtual call!
++                    eRet = typelib_TypeClass_VOID;
++                    break;
++                case 2: // release()
++                    pCppI->releaseProxy(); // non virtual call!
++                    eRet = typelib_TypeClass_VOID;
++                    break;
++                case 0: // queryInterface() opt
++                {
++                    typelib_TypeDescription* pTD = 0;
++                    TYPELIB_DANGER_GET(&pTD, reinterpret_cast<Type*>(gpreg[2])->getTypeLibType());
++                    if (pTD)
++                    {
++                        XInterface* pInterface = 0;
++                        (*pCppI->getBridge()->getCppEnv()->getRegisteredInterface)(
++                            pCppI->getBridge()->getCppEnv(), (void**)&pInterface,
++                            pCppI->getOid().pData,
++                            reinterpret_cast<typelib_InterfaceTypeDescription*>(pTD));
++
++                        if (pInterface)
++                        {
++                            ::uno_any_construct(reinterpret_cast<uno_Any*>(gpreg[0]), &pInterface,
++                                                pTD, cpp_acquire);
++
++                            pInterface->release();
++                            TYPELIB_DANGER_RELEASE(pTD);
++
++                            reinterpret_cast<void**>(pRegisterReturn)[0] = gpreg[0];
++                            eRet = typelib_TypeClass_ANY;
++                            break;
++                        }
++                        TYPELIB_DANGER_RELEASE(pTD);
++                    }
++                } // else perform queryInterface()
++                default:
++                    typelib_InterfaceMethodTypeDescription* pMethodTD
++                        = reinterpret_cast<typelib_InterfaceMethodTypeDescription*>(
++                            aMemberDescr.get());
++
++                    eRet = cpp2uno_call(pCppI, aMemberDescr.get(), pMethodTD->pReturnTypeRef,
++                                        pMethodTD->nParams, pMethodTD->pParams, gpreg, fpreg,
++                                        ovrflw, pRegisterReturn);
++            }
++            break;
++        }
++        default:
++        {
++            throw RuntimeException("no member description found!", (XInterface*)pThis);
++        }
++    }
++
++    return eRet;
++}
++
++extern "C" void privateSnippetExecutor(...);
++
++int const codeSnippetSize = 0x34;
++
++unsigned char* codeSnippet(unsigned char* code, sal_Int32 functionIndex, sal_Int32 vtableOffset,
++                           bool bHasHiddenParam)
++{
++    if (bHasHiddenParam)
++        functionIndex |= 0x80000000;
++
++    unsigned int* p = (unsigned int*)code;
++
++    assert((((unsigned long)code) & 0x3) == 0); //aligned to 4 otherwise a mistake
++
++    /* generate this code */
++    /*
++       # index
++        0:   14000012        lu12i.w $t6,0x0
++        4:   34420000        ori     $t6,$t6,0x0
++       # privateSnippetExecutor
++        8:   14000014        lu12i.w $t8,0x0
++        c:   03800294        ori     $t8,$t8,0x0
++       10:   16000014        lu32i.d $t8,0x0
++       14:   03000294        lu52i.d $t8,$t8,0x0
++       # cpp_vtable_call
++       18:   14000011        lu12i.w $t5,0x0
++       1c:   03800231        ori     $t5,$t5,0x0
++       20:   16000011        lu32i.d $t5,0x0
++       24:   03000231        lu52i.d $t5,$t5,0x0
++       # offset
++       28:   14000013        lu12i.w $t7,0x0
++       2c:   03800273        ori     $t7,$t7,0x0
++       30:   4c000280        jr      $t8
++     */
++
++    *p++ = 0x14000012 | (((functionIndex >> 12) & 0x000fffff) << 5);
++    *p++ = 0x03800252 | ((functionIndex & 0x00000fff) << 10);
++    *p++ = 0x14000014 | (((((unsigned long)privateSnippetExecutor) >> 12) & 0x000fffff) << 5);
++    *p++ = 0x03800294 | ((((unsigned long)privateSnippetExecutor) & 0x00000fff) << 10);
++    *p++ = 0x16000014 | (((((unsigned long)privateSnippetExecutor) >> 32) & 0x000fffff) << 5);
++    *p++ = 0x03000294 | (((((unsigned long)privateSnippetExecutor) >> 52) & 0x00000fff) << 10);
++    *p++ = 0x14000011 | (((((unsigned long)cpp_vtable_call) >> 12) & 0x000fffff) << 5);
++    *p++ = 0x03800231 | ((((unsigned long)cpp_vtable_call) & 0x00000fff) << 10);
++    *p++ = 0x16000011 | (((((unsigned long)cpp_vtable_call) >> 32) & 0x000fffff) << 5);
++    *p++ = 0x03000231 | (((((unsigned long)cpp_vtable_call) >> 52) & 0x00000fff) << 10);
++    *p++ = 0x14000013 | (((vtableOffset >> 12) & 0x000fffff) << 5);
++    *p++ = 0x03800273 | ((vtableOffset & 0x00000fff) << 10);
++    *p++ = 0x4c000280;
++    return (code + codeSnippetSize);
++}
++}
++
++void bridges::cpp_uno::shared::VtableFactory::flushCode(unsigned char const* bptr,
++                                                        unsigned char const* eptr)
++{
++    asm volatile("ibar 0" :::);
++}
++
++struct bridges::cpp_uno::shared::VtableFactory::Slot
++{
++    void* fn;
++};
++
++bridges::cpp_uno::shared::VtableFactory::Slot*
++bridges::cpp_uno::shared::VtableFactory::mapBlockToVtable(void* block)
++{
++    return static_cast<Slot*>(block) + 2;
++}
++
++std::size_t bridges::cpp_uno::shared::VtableFactory::getBlockSize(sal_Int32 slotCount)
++{
++    return (slotCount + 2) * sizeof(Slot) + slotCount * codeSnippetSize;
++}
++
++bridges::cpp_uno::shared::VtableFactory::Slot*
++bridges::cpp_uno::shared::VtableFactory::initializeBlock(void* block, sal_Int32 slotCount,
++                                                         sal_Int32,
++                                                         typelib_InterfaceTypeDescription*)
++{
++    Slot* slots = mapBlockToVtable(block);
++    slots[-2].fn = 0; //null
++    slots[-1].fn = 0; //destructor
++    return slots + slotCount;
++}
++
++unsigned char* bridges::cpp_uno::shared::VtableFactory::addLocalFunctions(
++    Slot** slots, unsigned char* code, sal_PtrDiff writetoexecdiff,
++    typelib_InterfaceTypeDescription const* type, sal_Int32 functionOffset, sal_Int32 functionCount,
++    sal_Int32 vtableOffset)
++{
++    (*slots) -= functionCount;
++    Slot* s = *slots;
++
++    for (sal_Int32 i = 0; i < type->nMembers; ++i)
++    {
++        typelib_TypeDescription* member = 0;
++        TYPELIB_DANGER_GET(&member, type->ppMembers[i]);
++        assert(member != 0);
++        switch (member->eTypeClass)
++        {
++            case typelib_TypeClass_INTERFACE_ATTRIBUTE:
++                // Getter:
++                (s++)->fn = code + writetoexecdiff;
++                code = codeSnippet(
++                    code, functionOffset++, vtableOffset,
++                    CPPU_CURRENT_NAMESPACE::return_in_hidden_param(
++                        reinterpret_cast<typelib_InterfaceAttributeTypeDescription*>(member)
++                            ->pAttributeTypeRef));
++
++                // Setter:
++                if (!reinterpret_cast<typelib_InterfaceAttributeTypeDescription*>(member)
++                         ->bReadOnly)
++                {
++                    (s++)->fn = code + writetoexecdiff;
++                    code = codeSnippet(code, functionOffset++, vtableOffset, false);
++                }
++                break;
++
++            case typelib_TypeClass_INTERFACE_METHOD:
++                (s++)->fn = code + writetoexecdiff;
++                code = codeSnippet(
++                    code, functionOffset++, vtableOffset,
++                    CPPU_CURRENT_NAMESPACE::return_in_hidden_param(
++                        reinterpret_cast<typelib_InterfaceMethodTypeDescription*>(member)
++                            ->pReturnTypeRef));
++                break;
++
++            default:
++                assert(false);
++                break;
++        }
++        TYPELIB_DANGER_RELEASE(member);
++    }
++    return code;
++}
++
++/* vim:set shiftwidth=4 softtabstop=4 expandtab cinoptions=b1,g0,N-s cinkeys+=0=break: */
+diff --git a/bridges/source/cpp_uno/gcc3_linux_loongarch64/except.cxx b/bridges/source/cpp_uno/gcc3_linux_loongarch64/except.cxx
+new file mode 100644
+index 000000000..b69c52b1f
+--- /dev/null
++++ b/bridges/source/cpp_uno/gcc3_linux_loongarch64/except.cxx
+@@ -0,0 +1,251 @@
++/* -*- Mode: C++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4; fill-column: 100 -*- */
++/*
++ * This file is part of the LibreOffice project.
++ *
++ * This Source Code Form is subject to the terms of the Mozilla Public
++ * License, v. 2.0. If a copy of the MPL was not distributed with this
++ * file, You can obtain one at http://mozilla.org/MPL/2.0/.
++ *
++ * This file incorporates work covered by the following license notice:
++ *
++ *   Licensed to the Apache Software Foundation (ASF) under one or more
++ *   contributor license agreements. See the NOTICE file distributed
++ *   with this work for additional information regarding copyright
++ *   ownership. The ASF licenses this file to you under the Apache
++ *   License, Version 2.0 (the "License"); you may not use this file
++ *   except in compliance with the License. You may obtain a copy of
++ *   the License at http://www.apache.org/licenses/LICENSE-2.0 .
++ */
++#include <stdio.h>
++#include <string.h>
++#include <dlfcn.h>
++#include <cxxabi.h>
++#include <rtl/strbuf.hxx>
++#include <rtl/ustrbuf.hxx>
++#include <sal/log.hxx>
++#include <osl/mutex.hxx>
++
++#include <com/sun/star/uno/genfunc.hxx>
++#include <typelib/typedescription.hxx>
++#include <uno/any2.h>
++
++#include <unordered_map>
++#include "share.hxx"
++
++using namespace ::std;
++using namespace ::osl;
++using namespace ::com::sun::star::uno;
++using namespace ::__cxxabiv1;
++
++namespace CPPU_CURRENT_NAMESPACE
++{
++void dummy_can_throw_anything(char const*) {}
++
++static OUString toUNOname(char const* p)
++{
++    // example: N3com3sun4star4lang24IllegalArgumentExceptionE
++
++    OUStringBuffer buf(64);
++    assert('N' == *p);
++    ++p; // skip N
++
++    while ('E' != *p)
++    {
++        // read chars count
++        long n = (*p++ - '0');
++        while ('0' <= *p && '9' >= *p)
++        {
++            n *= 10;
++            n += (*p++ - '0');
++        }
++        buf.appendAscii(p, n);
++        p += n;
++        if ('E' != *p)
++            buf.append('.');
++    }
++
++    return buf.makeStringAndClear();
++}
++
++class RTTI
++{
++    typedef std::unordered_map<OUString, type_info*> t_rtti_map;
++
++    Mutex m_mutex;
++    t_rtti_map m_rttis;
++    t_rtti_map m_generatedRttis;
++
++    void* m_hApp;
++
++public:
++    RTTI();
++    ~RTTI();
++
++    type_info* getRTTI(typelib_CompoundTypeDescription*);
++};
++
++RTTI::RTTI()
++    : m_hApp(dlopen(0, RTLD_LAZY))
++{
++}
++
++RTTI::~RTTI() { dlclose(m_hApp); }
++
++type_info* RTTI::getRTTI(typelib_CompoundTypeDescription* pTypeDescr)
++{
++    type_info* rtti;
++
++    OUString const& unoName = *(OUString const*)&pTypeDescr->aBase.pTypeName;
++
++    MutexGuard guard(m_mutex);
++    t_rtti_map::const_iterator iRttiFind(m_rttis.find(unoName));
++    if (iRttiFind == m_rttis.end())
++    {
++        // RTTI symbol
++        OStringBuffer buf(64);
++        buf.append("_ZTIN");
++        sal_Int32 index = 0;
++        do
++        {
++            OUString token(unoName.getToken(0, '.', index));
++            buf.append(token.getLength());
++            OString c_token(OUStringToOString(token, RTL_TEXTENCODING_ASCII_US));
++            buf.append(c_token);
++        } while (index >= 0);
++        buf.append('E');
++
++        OString symName(buf.makeStringAndClear());
++        rtti = (type_info*)dlsym(m_hApp, symName.getStr());
++
++        if (rtti)
++        {
++            pair<t_rtti_map::iterator, bool> insertion(
++                m_rttis.insert(t_rtti_map::value_type(unoName, rtti)));
++            assert(insertion.second && "### inserting new rtti failed?!");
++        }
++        else
++        {
++            // try to lookup the symbol in the generated rtti map
++            t_rtti_map::const_iterator iFind(m_generatedRttis.find(unoName));
++            if (iFind == m_generatedRttis.end())
++            {
++                // we must generate it !
++                // symbol and rtti-name is nearly identical,
++                // the symbol is prefixed with _ZTI
++                char const* rttiName = symName.getStr() + 4;
++                if (pTypeDescr->pBaseTypeDescription)
++                {
++                    // ensure availability of base
++                    type_info* base_rtti = getRTTI(
++                        (typelib_CompoundTypeDescription*)pTypeDescr->pBaseTypeDescription);
++                    rtti
++                        = new __si_class_type_info(strdup(rttiName), (__class_type_info*)base_rtti);
++                }
++                else
++                {
++                    // this class has no base class
++                    rtti = new __class_type_info(strdup(rttiName));
++                }
++
++                pair<t_rtti_map::iterator, bool> insertion(
++                    m_generatedRttis.insert(t_rtti_map::value_type(unoName, rtti)));
++                assert(insertion.second && "### inserting new generated rtti failed?!");
++            }
++            else // taking already generated rtti
++            {
++                rtti = iFind->second;
++            }
++        }
++    }
++    else
++    {
++        rtti = iRttiFind->second;
++    }
++
++    return rtti;
++}
++
++static void deleteException(void* pExc)
++{
++    __cxa_exception const* header = ((__cxa_exception const*)pExc - 1);
++    typelib_TypeDescription* pTD = 0;
++    OUString unoName(toUNOname(header->exceptionType->name()));
++    ::typelib_typedescription_getByName(&pTD, unoName.pData);
++    assert(pTD && "### unknown exception type! leaving out destruction => leaking!!!");
++    if (pTD)
++    {
++        ::uno_destructData(pExc, pTD, cpp_release);
++        ::typelib_typedescription_release(pTD);
++    }
++}
++
++void raiseException(uno_Any* pUnoExc, uno_Mapping* pUno2Cpp)
++{
++    void* pCppExc;
++    type_info* rtti;
++
++    {
++        // construct cpp exception object
++        typelib_TypeDescription* pTypeDescr = 0;
++        TYPELIB_DANGER_GET(&pTypeDescr, pUnoExc->pType);
++        assert(pTypeDescr);
++        if (!pTypeDescr)
++        {
++            throw RuntimeException(OUString("cannot get typedescription for type ")
++                                   + OUString::unacquired(&pUnoExc->pType->pTypeName));
++        }
++
++        pCppExc = __cxa_allocate_exception(pTypeDescr->nSize);
++        ::uno_copyAndConvertData(pCppExc, pUnoExc->pData, pTypeDescr, pUno2Cpp);
++
++        // destruct uno exception
++        ::uno_any_destruct(pUnoExc, 0);
++        // avoiding locked counts
++        static RTTI rtti_data;
++        rtti = (type_info*)rtti_data.getRTTI((typelib_CompoundTypeDescription*)pTypeDescr);
++        TYPELIB_DANGER_RELEASE(pTypeDescr);
++        assert(rtti && "### no rtti for throwing exception!");
++        if (!rtti)
++        {
++            throw RuntimeException(OUString("no rtti for type ")
++                                   + OUString::unacquired(&pUnoExc->pType->pTypeName));
++        }
++    }
++
++    __cxa_throw(pCppExc, rtti, deleteException);
++}
++
++void fillUnoException(uno_Any* pUnoExc, uno_Mapping* pCpp2Uno)
++{
++    __cxa_exception* header = __cxa_get_globals()->caughtExceptions;
++    if (!header)
++    {
++        RuntimeException aRE("no exception header!");
++        Type const& rType = cppu::UnoType<decltype(aRE)>::get();
++        uno_type_any_constructAndConvert(pUnoExc, &aRE, rType.getTypeLibType(), pCpp2Uno);
++        SAL_WARN("bridges", aRE.Message);
++        return;
++    }
++
++    std::type_info* exceptionType = __cxa_current_exception_type();
++
++    typelib_TypeDescription* pExcTypeDescr = 0;
++    OUString unoName(toUNOname(exceptionType->name()));
++    typelib_typedescription_getByName(&pExcTypeDescr, unoName.pData);
++    if (0 == pExcTypeDescr)
++    {
++        RuntimeException aRE(OUString("exception type not found: ") + unoName);
++        Type const& rType = cppu::UnoType<decltype(aRE)>::get();
++        uno_type_any_constructAndConvert(pUnoExc, &aRE, rType.getTypeLibType(), pCpp2Uno);
++        SAL_WARN("bridges", aRE.Message);
++    }
++    else
++    {
++        // construct uno exception any
++        uno_any_constructAndConvert(pUnoExc, header->adjustedPtr, pExcTypeDescr, pCpp2Uno);
++        typelib_typedescription_release(pExcTypeDescr);
++    }
++}
++}
++
++/* vim:set shiftwidth=4 softtabstop=4 expandtab cinoptions=b1,g0,N-s cinkeys+=0=break: */
+diff --git a/bridges/source/cpp_uno/gcc3_linux_loongarch64/share.hxx b/bridges/source/cpp_uno/gcc3_linux_loongarch64/share.hxx
+new file mode 100644
+index 000000000..331ed789e
+--- /dev/null
++++ b/bridges/source/cpp_uno/gcc3_linux_loongarch64/share.hxx
+@@ -0,0 +1,85 @@
++/* -*- Mode: C++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4; fill-column: 100 -*- */
++/*
++ * This file is part of the LibreOffice project.
++ *
++ * This Source Code Form is subject to the terms of the Mozilla Public
++ * License, v. 2.0. If a copy of the MPL was not distributed with this
++ * file, You can obtain one at http://mozilla.org/MPL/2.0/.
++ *
++ * This file incorporates work covered by the following license notice:
++ *
++ *   Licensed to the Apache Software Foundation (ASF) under one or more
++ *   contributor license agreements. See the NOTICE file distributed
++ *   with this work for additional information regarding copyright
++ *   ownership. The ASF licenses this file to you under the Apache
++ *   License, Version 2.0 (the "License"); you may not use this file
++ *   except in compliance with the License. You may obtain a copy of
++ *   the License at http://www.apache.org/licenses/LICENSE-2.0 .
++ */
++#pragma once
++
++#include "uno/mapping.h"
++
++#include <typeinfo>
++#include <exception>
++#include <cstddef>
++
++#define MAX_GP_REGS (8)
++#define MAX_FP_REGS (8)
++
++namespace CPPU_CURRENT_NAMESPACE
++{
++void dummy_can_throw_anything(char const*);
++
++// ----- following decl from libstdc++-v3/libsupc++/unwind-cxx.h and unwind.h
++
++struct _Unwind_Exception
++{
++    unsigned exception_class __attribute__((__mode__(__DI__)));
++    void* exception_cleanup;
++    unsigned private_1 __attribute__((__mode__(__word__)));
++    unsigned private_2 __attribute__((__mode__(__word__)));
++} __attribute__((__aligned__));
++
++struct __cxa_exception
++{
++    std::type_info* exceptionType;
++    void (*exceptionDestructor)(void*);
++
++    void (*unexpectedHandler)(); // std::unexpected_handler dropped from C++17
++    std::terminate_handler terminateHandler;
++
++    __cxa_exception* nextException;
++
++    int handlerCount;
++
++    int handlerSwitchValue;
++    const unsigned char* actionRecord;
++    const unsigned char* languageSpecificData;
++    void* catchTemp;
++    void* adjustedPtr;
++
++    _Unwind_Exception unwindHeader;
++};
++
++extern "C" void* __cxa_allocate_exception(std::size_t thrown_size) throw();
++extern "C" void __cxa_throw(void* thrown_exception, std::type_info* tinfo, void (*dest)(void*))
++    __attribute__((noreturn));
++
++struct __cxa_eh_globals
++{
++    __cxa_exception* caughtExceptions;
++    unsigned int uncaughtExceptions;
++};
++
++extern "C" __cxa_eh_globals* __cxa_get_globals() throw();
++extern "C" std::type_info* __cxa_current_exception_type() throw();
++
++void raiseException(uno_Any* pUnoExc, uno_Mapping* pUno2Cpp);
++
++void fillUnoException(uno_Any*, uno_Mapping* pCpp2Uno);
++
++bool return_in_hidden_param(typelib_TypeDescriptionReference* pTypeRef);
++}
++
++/* vim:set shiftwidth=4 softtabstop=4 expandtab cinoptions=b1,g0,N-s cinkeys+=0=break: */
+diff --git a/bridges/source/cpp_uno/gcc3_linux_loongarch64/uno2cpp.cxx b/bridges/source/cpp_uno/gcc3_linux_loongarch64/uno2cpp.cxx
+new file mode 100644
+index 000000000..0004794ce
+--- /dev/null
++++ b/bridges/source/cpp_uno/gcc3_linux_loongarch64/uno2cpp.cxx
+@@ -0,0 +1,546 @@
++/* -*- Mode: C++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4; fill-column: 100 -*- */
++/*
++ * This file is part of the LibreOffice project.
++ *
++ * This Source Code Form is subject to the terms of the Mozilla Public
++ * License, v. 2.0. If a copy of the MPL was not distributed with this
++ * file, You can obtain one at http://mozilla.org/MPL/2.0/.
++ *
++ * This file incorporates work covered by the following license notice:
++ *
++ *   Licensed to the Apache Software Foundation (ASF) under one or more
++ *   contributor license agreements. See the NOTICE file distributed
++ *   with this work for additional information regarding copyright
++ *   ownership. The ASF licenses this file to you under the Apache
++ *   License, Version 2.0 (the "License"); you may not use this file
++ *   except in compliance with the License. You may obtain a copy of
++ *   the License at http://www.apache.org/licenses/LICENSE-2.0 .
++ */
++
++#include <sal/config.h>
++
++#include <exception>
++#include <malloc.h>
++#include <cstring>
++#include <typeinfo>
++
++#include <com/sun/star/uno/Exception.hpp>
++#include <com/sun/star/uno/RuntimeException.hpp>
++#include <com/sun/star/uno/genfunc.hxx>
++#include <o3tl/runtimetooustring.hxx>
++#include <uno/data.h>
++
++#include "bridge.hxx"
++#include "types.hxx"
++#include "unointerfaceproxy.hxx"
++#include "vtables.hxx"
++
++#include "share.hxx"
++
++#define INSERT_FLOAT_DOUBLE(pSV, nr, pFPR, pDS)                                                    \
++    if (nr < MAX_FP_REGS)                                                                          \
++        pFPR[nr++] = *reinterpret_cast<double*>(pSV);                                              \
++    else                                                                                           \
++        *pDS++ = *reinterpret_cast<sal_uInt64*>(pSV); // verbatim!
++
++#define INSERT_INT64(pSV, nr, pGPR, pDS)                                                           \
++    if (nr < MAX_GP_REGS)                                                                          \
++        pGPR[nr++] = *reinterpret_cast<sal_Int64*>(pSV);                                           \
++    else                                                                                           \
++        *pDS++ = *reinterpret_cast<sal_Int64*>(pSV);
++
++#define INSERT_INT32(pSV, nr, pGPR, pDS)                                                           \
++    if (nr < MAX_GP_REGS)                                                                          \
++        pGPR[nr++] = *reinterpret_cast<sal_Int32*>(pSV);                                           \
++    else                                                                                           \
++        *pDS++ = *reinterpret_cast<sal_Int32*>(pSV);
++
++#define INSERT_INT16(pSV, nr, pGPR, pDS)                                                           \
++    if (nr < MAX_GP_REGS)                                                                          \
++        pGPR[nr++] = *reinterpret_cast<sal_Int16*>(pSV);                                           \
++    else                                                                                           \
++        *pDS++ = *reinterpret_cast<sal_Int16*>(pSV);
++
++#define INSERT_UINT16(pSV, nr, pGPR, pDS)                                                          \
++    if (nr < MAX_GP_REGS)                                                                          \
++        pGPR[nr++] = *reinterpret_cast<sal_uInt16*>(pSV);                                          \
++    else                                                                                           \
++        *pDS++ = *reinterpret_cast<sal_uInt16*>(pSV);
++
++#define INSERT_INT8(pSV, nr, pGPR, pDS)                                                            \
++    if (nr < MAX_GP_REGS)                                                                          \
++        pGPR[nr++] = *reinterpret_cast<sal_Int8*>(pSV);                                            \
++    else                                                                                           \
++        *pDS++ = *reinterpret_cast<sal_Int8*>(pSV);
++
++using namespace ::com::sun::star::uno;
++
++namespace
++{
++bool isReturnInFPR(const typelib_TypeDescription* pTypeDescr, sal_uInt32& nSize)
++{
++    const typelib_CompoundTypeDescription* p
++        = reinterpret_cast<const typelib_CompoundTypeDescription*>(pTypeDescr);
++
++    for (sal_Int32 i = 0; i < p->nMembers; ++i)
++    {
++        typelib_TypeDescriptionReference* pTypeInStruct = p->ppTypeRefs[i];
++
++        switch (pTypeInStruct->eTypeClass)
++        {
++            case typelib_TypeClass_STRUCT:
++            case typelib_TypeClass_EXCEPTION:
++            {
++                typelib_TypeDescription* t = 0;
++                TYPELIB_DANGER_GET(&t, pTypeInStruct);
++                bool isFPR = isReturnInFPR(t, nSize);
++                TYPELIB_DANGER_RELEASE(t);
++                if (!isFPR)
++                    return false;
++            }
++            break;
++            case typelib_TypeClass_FLOAT:
++            case typelib_TypeClass_DOUBLE:
++                if (nSize >= 16)
++                    return false;
++                nSize += 8;
++                break;
++            default:
++                return false;
++        }
++    }
++    return true;
++}
++
++void fillReturn(const typelib_TypeDescription* pTypeDescr, sal_Int64* gret, double* fret,
++                void* pRegisterReturn)
++{
++    sal_uInt32 nSize = 0;
++    if (isReturnInFPR(pTypeDescr, nSize))
++    {
++        reinterpret_cast<double*>(pRegisterReturn)[0] = fret[0];
++        reinterpret_cast<double*>(pRegisterReturn)[1] = fret[1];
++    }
++    else
++    {
++        reinterpret_cast<sal_Int64*>(pRegisterReturn)[0] = gret[0];
++        reinterpret_cast<sal_Int64*>(pRegisterReturn)[1] = gret[1];
++    }
++}
++
++static void callVirtualMethod(void* pAdjustedThisPtr, sal_Int32 nVtableIndex, void* pRegisterReturn,
++                              typelib_TypeDescriptionReference* pReturnTypeRef, bool bSimpleReturn,
++                              sal_uInt64* pStack, sal_uInt32 nStack, sal_uInt64* pGPR, double* pFPR,
++                              sal_uInt32 nREG)
++{
++    // Should not happen, but...
++    static_assert(MAX_GP_REGS == MAX_FP_REGS, "must be the same size");
++    if (nREG > MAX_GP_REGS)
++        nREG = MAX_GP_REGS;
++
++    // Get pointer to method
++    sal_uInt64 pMethod = *((sal_uInt64*)pAdjustedThisPtr);
++    pMethod += 8 * nVtableIndex;
++    void* mfunc = (void*)*((sal_uInt64*)pMethod);
++    // Load parameters to stack, if necessary
++    sal_uInt64* pCallStack = NULL;
++    if (nStack)
++    {
++        // 16-bytes aligned
++        sal_uInt32 nStackBytes = ((nStack + 1) >> 1) * 16;
++        pCallStack = (sal_uInt64*)__builtin_alloca(nStackBytes);
++        std::memcpy(pCallStack, pStack, nStackBytes);
++    }
++
++    sal_Int64 gret[2];
++    double fret[2];
++    asm volatile(
++        // Fill the general purpose registers
++        "ld.d $r4,%[gpr],0 \n\t"
++        "ld.d $r5,%[gpr],8 \n\t"
++        "ld.d $r6,%[gpr],16 \n\t"
++        "ld.d $r7,%[gpr],24 \n\t"
++        "ld.d $r8,%[gpr],32 \n\t"
++        "ld.d $r9,%[gpr],40 \n\t"
++        "ld.d $r10,%[gpr],48 \n\t"
++        "ld.d $r11,%[gpr],56 \n\t"
++        // Fill the floating pointer registers
++        "fld.d $f0,%[fpr],0 \n\t"
++        "fld.d $f1,%[fpr],8 \n\t"
++        "fld.d $f2,%[fpr],16 \n\t"
++        "fld.d $f3,%[fpr],24 \n\t"
++        "fld.d $f4,%[fpr],32 \n\t"
++        "fld.d $f5,%[fpr],40 \n\t"
++        "fld.d $f6,%[fpr],48 \n\t"
++        "fld.d $f7,%[fpr],56 \n\t"
++        // Perform the call
++        "jirl $ra,%[mfunc],0 \n\t"
++        // Fill the return values
++        "move %[gret1], $a0 \n\t"
++        "move %[gret2], $a1 \n\t"
++        "fmov.d %[fret1], $f0 \n\t"
++        "fmov.d %[fret2], $f1 \n\t"
++        : [gret1] "=r"(gret[0]), [gret2] "=r"(gret[1]), [fret1] "=f"(fret[0]), [fret2] "=f"(fret[1])
++        : [gpr] "r"(pGPR), [fpr] "r"(pFPR), [mfunc] "r"(mfunc),
++          [stack] "m"(
++              pCallStack) // dummy input to prevent the compiler from optimizing the alloca out
++        : "$r4", "$r5", "$r6", "$r7", "$r8", "$r9", "$r10", "$r11", "$r1", "$f0", "$f1", "$f2",
++          "$f3", "$f4", "$f5", "$f6", "$f7", "memory");
++
++    switch (pReturnTypeRef->eTypeClass)
++    {
++        case typelib_TypeClass_HYPER:
++        case typelib_TypeClass_UNSIGNED_HYPER:
++        case typelib_TypeClass_LONG:
++        case typelib_TypeClass_UNSIGNED_LONG:
++        case typelib_TypeClass_ENUM:
++        case typelib_TypeClass_CHAR:
++        case typelib_TypeClass_SHORT:
++        case typelib_TypeClass_UNSIGNED_SHORT:
++        case typelib_TypeClass_BOOLEAN:
++        case typelib_TypeClass_BYTE:
++            *reinterpret_cast<sal_Int64*>(pRegisterReturn) = gret[0];
++            break;
++        case typelib_TypeClass_FLOAT:
++        case typelib_TypeClass_DOUBLE:
++            *reinterpret_cast<double*>(pRegisterReturn) = fret[0];
++            break;
++        case typelib_TypeClass_STRUCT:
++        case typelib_TypeClass_EXCEPTION:
++        {
++            sal_Int32 const nRetSize = pReturnTypeRef->pType->nSize;
++            if (bSimpleReturn && nRetSize <= 16 && nRetSize > 0)
++            {
++                typelib_TypeDescription* pTypeDescr = 0;
++                TYPELIB_DANGER_GET(&pTypeDescr, pReturnTypeRef);
++                fillReturn(pTypeDescr, gret, fret, pRegisterReturn);
++                TYPELIB_DANGER_RELEASE(pTypeDescr);
++            }
++            break;
++        }
++        default:
++            break;
++    }
++}
++
++static void cpp_call(bridges::cpp_uno::shared::UnoInterfaceProxy* pThis,
++                     bridges::cpp_uno::shared::VtableSlot aVtableSlot,
++                     typelib_TypeDescriptionReference* pReturnTypeRef, sal_Int32 nParams,
++                     typelib_MethodParameter* pParams, void* pUnoReturn, void* pUnoArgs[],
++                     uno_Any** ppUnoExc)
++{
++    // max space for: [complex ret ptr], values|ptr ...
++    sal_uInt64* pStack = (sal_uInt64*)__builtin_alloca(((nParams + 3) * sizeof(sal_Int64)));
++    sal_uInt64* pStackStart = pStack;
++
++    sal_uInt64 pGPR[MAX_GP_REGS];
++    double pFPR[MAX_FP_REGS];
++    sal_uInt32 nREG = 0;
++
++    // return
++    typelib_TypeDescription* pReturnTypeDescr = 0;
++    TYPELIB_DANGER_GET(&pReturnTypeDescr, pReturnTypeRef);
++    assert(pReturnTypeDescr);
++
++    void* pCppReturn = 0; // if != 0 && != pUnoReturn, needs reconversion
++
++    bool bSimpleReturn = true;
++    if (pReturnTypeDescr)
++    {
++        if (CPPU_CURRENT_NAMESPACE::return_in_hidden_param(pReturnTypeRef))
++        {
++            bSimpleReturn = false;
++            // complex return via ptr
++            pCppReturn = bridges::cpp_uno::shared::relatesToInterfaceType(pReturnTypeDescr)
++                             ? __builtin_alloca(pReturnTypeDescr->nSize)
++                             : pUnoReturn;
++            INSERT_INT64(&pCppReturn, nREG, pGPR, pStack);
++        }
++        else
++        {
++            pCppReturn = pUnoReturn; // direct way for simple types
++        }
++    }
++
++    // push this
++    void* pAdjustedThisPtr = reinterpret_cast<void**>(pThis->getCppI()) + aVtableSlot.offset;
++    INSERT_INT64(&pAdjustedThisPtr, nREG, pGPR, pStack);
++
++    // args
++    void** pCppArgs = (void**)alloca(3 * sizeof(void*) * nParams);
++    // indices of values this have to be converted (interface conversion cpp<=>uno)
++    sal_Int32* pTempIndices = (sal_Int32*)(pCppArgs + nParams);
++    // type descriptions for reconversions
++    typelib_TypeDescription** ppTempParamTypeDescr
++        = (typelib_TypeDescription**)(pCppArgs + (2 * nParams));
++
++    sal_Int32 nTempIndices = 0;
++
++    for (sal_Int32 nPos = 0; nPos < nParams; ++nPos)
++    {
++        const typelib_MethodParameter& rParam = pParams[nPos];
++        typelib_TypeDescription* pParamTypeDescr = 0;
++        TYPELIB_DANGER_GET(&pParamTypeDescr, rParam.pTypeRef);
++
++        if (!rParam.bOut && bridges::cpp_uno::shared::isSimpleType(pParamTypeDescr))
++        {
++            uno_copyAndConvertData(pCppArgs[nPos] = alloca(8), pUnoArgs[nPos], pParamTypeDescr,
++                                   pThis->getBridge()->getUno2Cpp());
++
++            switch (pParamTypeDescr->eTypeClass)
++            {
++                case typelib_TypeClass_LONG:
++                case typelib_TypeClass_UNSIGNED_LONG:
++                    INSERT_INT64(pCppArgs[nPos], nREG, pGPR, pStack);
++                    break;
++                case typelib_TypeClass_ENUM:
++                    INSERT_INT32(pCppArgs[nPos], nREG, pGPR, pStack);
++                    break;
++                case typelib_TypeClass_CHAR:
++                case typelib_TypeClass_SHORT:
++                    INSERT_INT16(pCppArgs[nPos], nREG, pGPR, pStack);
++                    break;
++                case typelib_TypeClass_UNSIGNED_SHORT:
++                    INSERT_UINT16(pCppArgs[nPos], nREG, pGPR, pStack);
++                    break;
++                case typelib_TypeClass_BOOLEAN:
++                case typelib_TypeClass_BYTE:
++                    INSERT_INT8(pCppArgs[nPos], nREG, pGPR, pStack);
++                    break;
++                case typelib_TypeClass_FLOAT:
++                case typelib_TypeClass_DOUBLE:
++                    INSERT_FLOAT_DOUBLE(pCppArgs[nPos], nREG, pFPR, pStack);
++                    break;
++                case typelib_TypeClass_HYPER:
++                case typelib_TypeClass_UNSIGNED_HYPER:
++                    INSERT_INT64(pCppArgs[nPos], nREG, pGPR, pStack);
++                    break;
++                default:
++                    break;
++            }
++
++            // no longer needed
++            TYPELIB_DANGER_RELEASE(pParamTypeDescr);
++        }
++        else // ptr to complex value | ref
++        {
++            if (!rParam.bIn) // is pure out
++            {
++                // cpp out is constructed mem, uno out is not!
++                uno_constructData(pCppArgs[nPos] = alloca(pParamTypeDescr->nSize), pParamTypeDescr);
++                pTempIndices[nTempIndices] = nPos; // default constructed for cpp call
++                // will be released at reconversion
++                ppTempParamTypeDescr[nTempIndices++] = pParamTypeDescr;
++            }
++            // is in/inout
++            else if (bridges::cpp_uno::shared::relatesToInterfaceType(pParamTypeDescr))
++            {
++                uno_copyAndConvertData(pCppArgs[nPos] = alloca(pParamTypeDescr->nSize),
++                                       pUnoArgs[nPos], pParamTypeDescr,
++                                       pThis->getBridge()->getUno2Cpp());
++
++                pTempIndices[nTempIndices] = nPos; // has to be reconverted
++                // will be released at reconversion
++                ppTempParamTypeDescr[nTempIndices++] = pParamTypeDescr;
++            }
++            else // direct way
++            {
++                pCppArgs[nPos] = pUnoArgs[nPos];
++                // no longer needed
++                TYPELIB_DANGER_RELEASE(pParamTypeDescr);
++            }
++            INSERT_INT64(&(pCppArgs[nPos]), nREG, pGPR, pStack);
++        }
++    }
++
++    try
++    {
++        try
++        {
++            callVirtualMethod(pAdjustedThisPtr, aVtableSlot.index, pCppReturn, pReturnTypeRef,
++                              bSimpleReturn, pStackStart, (pStack - pStackStart), pGPR, pFPR, nREG);
++        }
++        catch (css::uno::Exception&)
++        {
++            throw;
++        }
++        catch (std::exception& e)
++        {
++            throw css::uno::RuntimeException("C++ code threw "
++                                             + o3tl::runtimeToOUString(typeid(e).name()) + ": "
++                                             + o3tl::runtimeToOUString(e.what()));
++        }
++        catch (...)
++        {
++            throw css::uno::RuntimeException("C++ code threw unknown exception");
++        }
++        // NO exception occurred...
++        *ppUnoExc = 0;
++
++        // reconvert temporary params
++        for (; nTempIndices--;)
++        {
++            sal_Int32 nIndex = pTempIndices[nTempIndices];
++            typelib_TypeDescription* pParamTypeDescr = ppTempParamTypeDescr[nTempIndices];
++
++            if (pParams[nIndex].bIn)
++            {
++                if (pParams[nIndex].bOut) // inout
++                {
++                    uno_destructData(pUnoArgs[nIndex], pParamTypeDescr, 0); // destroy uno value
++                    uno_copyAndConvertData(pUnoArgs[nIndex], pCppArgs[nIndex], pParamTypeDescr,
++                                           pThis->getBridge()->getCpp2Uno());
++                }
++            }
++            else // pure out
++            {
++                uno_copyAndConvertData(pUnoArgs[nIndex], pCppArgs[nIndex], pParamTypeDescr,
++                                       pThis->getBridge()->getCpp2Uno());
++            }
++            // destroy temp cpp param => cpp: every param was constructed
++            uno_destructData(pCppArgs[nIndex], pParamTypeDescr, cpp_release);
++
++            TYPELIB_DANGER_RELEASE(pParamTypeDescr);
++        }
++        // return value
++        if (pCppReturn && pUnoReturn != pCppReturn)
++        {
++            uno_copyAndConvertData(pUnoReturn, pCppReturn, pReturnTypeDescr,
++                                   pThis->getBridge()->getCpp2Uno());
++            uno_destructData(pCppReturn, pReturnTypeDescr, cpp_release);
++        }
++    }
++    catch (...)
++    {
++        // fill uno exception
++        CPPU_CURRENT_NAMESPACE::fillUnoException(*ppUnoExc, pThis->getBridge()->getCpp2Uno());
++
++        // temporary params
++        for (; nTempIndices--;)
++        {
++            sal_Int32 nIndex = pTempIndices[nTempIndices];
++            // destroy temp cpp param => cpp: every param was constructed
++            uno_destructData(pCppArgs[nIndex], ppTempParamTypeDescr[nTempIndices], cpp_release);
++            TYPELIB_DANGER_RELEASE(ppTempParamTypeDescr[nTempIndices]);
++        }
++        // return type
++        if (pReturnTypeDescr)
++            TYPELIB_DANGER_RELEASE(pReturnTypeDescr);
++    }
++}
++}
++
++namespace bridges::cpp_uno::shared
++{
++void unoInterfaceProxyDispatch(uno_Interface* pUnoI, const typelib_TypeDescription* pMemberDescr,
++                               void* pReturn, void* pArgs[], uno_Any** ppException)
++{
++    // is my surrogate
++    bridges::cpp_uno::shared::UnoInterfaceProxy* pThis
++        = static_cast<bridges::cpp_uno::shared::UnoInterfaceProxy*>(pUnoI);
++    //typelib_InterfaceTypeDescription * pTypeDescr = pThis->pTypeDescr;
++
++    switch (pMemberDescr->eTypeClass)
++    {
++        case typelib_TypeClass_INTERFACE_ATTRIBUTE:
++        {
++            VtableSlot aVtableSlot(getVtableSlot(
++                reinterpret_cast<typelib_InterfaceAttributeTypeDescription const*>(pMemberDescr)));
++
++            if (pReturn)
++            {
++                // dependent dispatch
++                cpp_call(
++                    pThis, aVtableSlot,
++                    ((typelib_InterfaceAttributeTypeDescription*)pMemberDescr)->pAttributeTypeRef,
++                    0, 0, // no params
++                    pReturn, pArgs, ppException);
++            }
++            else
++            {
++                // is SET
++                typelib_MethodParameter aParam;
++                aParam.pTypeRef
++                    = ((typelib_InterfaceAttributeTypeDescription*)pMemberDescr)->pAttributeTypeRef;
++                aParam.bIn = sal_True;
++                aParam.bOut = sal_False;
++
++                typelib_TypeDescriptionReference* pReturnTypeRef = 0;
++                OUString aVoidName("void");
++                typelib_typedescriptionreference_new(&pReturnTypeRef, typelib_TypeClass_VOID,
++                                                     aVoidName.pData);
++
++                // dependent dispatch
++                aVtableSlot.index += 1; //get then set method
++                cpp_call(pThis, aVtableSlot, pReturnTypeRef, 1, &aParam, pReturn, pArgs,
++                         ppException);
++
++                typelib_typedescriptionreference_release(pReturnTypeRef);
++            }
++
++            break;
++        }
++        case typelib_TypeClass_INTERFACE_METHOD:
++        {
++            VtableSlot aVtableSlot(getVtableSlot(
++                reinterpret_cast<typelib_InterfaceMethodTypeDescription const*>(pMemberDescr)));
++            switch (aVtableSlot.index)
++            {
++                // standard calls
++                case 1: // acquire uno interface
++                    (*pUnoI->acquire)(pUnoI);
++                    *ppException = 0;
++                    break;
++                case 2: // release uno interface
++                    (*pUnoI->release)(pUnoI);
++                    *ppException = 0;
++                    break;
++                case 0: // queryInterface() opt
++                {
++                    typelib_TypeDescription* pTD = 0;
++                    TYPELIB_DANGER_GET(&pTD, reinterpret_cast<Type*>(pArgs[0])->getTypeLibType());
++                    if (pTD)
++                    {
++                        uno_Interface* pInterface = 0;
++                        (*pThis->pBridge->getUnoEnv()->getRegisteredInterface)(
++                            pThis->pBridge->getUnoEnv(), (void**)&pInterface, pThis->oid.pData,
++                            (typelib_InterfaceTypeDescription*)pTD);
++
++                        if (pInterface)
++                        {
++                            ::uno_any_construct(reinterpret_cast<uno_Any*>(pReturn), &pInterface,
++                                                pTD, 0);
++                            (*pInterface->release)(pInterface);
++                            TYPELIB_DANGER_RELEASE(pTD);
++                            *ppException = 0;
++                            break;
++                        }
++                        TYPELIB_DANGER_RELEASE(pTD);
++                    }
++                } // else perform queryInterface()
++                default:
++                    // dependent dispatch
++                    cpp_call(
++                        pThis, aVtableSlot,
++                        ((typelib_InterfaceMethodTypeDescription*)pMemberDescr)->pReturnTypeRef,
++                        ((typelib_InterfaceMethodTypeDescription*)pMemberDescr)->nParams,
++                        ((typelib_InterfaceMethodTypeDescription*)pMemberDescr)->pParams, pReturn,
++                        pArgs, ppException);
++            }
++            break;
++        }
++        default:
++        {
++            ::com::sun::star::uno::RuntimeException aExc(
++                "illegal member type description!",
++                ::com::sun::star::uno::Reference<::com::sun::star::uno::XInterface>());
++
++            Type const& rExcType = cppu::UnoType<decltype(aExc)>::get();
++            // binary identical null reference
++            ::uno_type_any_construct(*ppException, &aExc, rExcType.getTypeLibType(), 0);
++        }
++    }
++}
++}
++
++/* vim:set shiftwidth=4 softtabstop=4 expandtab cinoptions=b1,g0,N-s cinkeys+=0=break: */
+diff --git a/config.guess b/config.guess
+index 76b022d3d..48a684601 100644
+--- a/config.guess
++++ b/config.guess
+@@ -1,12 +1,14 @@
+ #! /bin/sh
+ # Attempt to guess a canonical system name.
+-#   Copyright 1992-2020 Free Software Foundation, Inc.
++#   Copyright 1992-2024 Free Software Foundation, Inc.
+ 
+-timestamp='2020-08-06'
++# shellcheck disable=SC2006,SC2268 # see below for rationale
++
++timestamp='2024-07-27'
+ 
+ # This file is free software; you can redistribute it and/or modify it
+ # under the terms of the GNU General Public License as published by
+-# the Free Software Foundation; either version 3 of the License, or
++# the Free Software Foundation, either version 3 of the License, or
+ # (at your option) any later version.
+ #
+ # This program is distributed in the hope that it will be useful, but
+@@ -27,17 +29,25 @@ timestamp='2020-08-06'
+ # Originally written by Per Bothner; maintained since 2000 by Ben Elliston.
+ #
+ # You can get the latest version of this script from:
+-# https://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.guess
++# https://git.savannah.gnu.org/cgit/config.git/plain/config.guess
+ #
+ # Please send patches to <config-patches@gnu.org>.
+ 
+ 
++# The "shellcheck disable" line above the timestamp inhibits complaints
++# about features and limitations of the classic Bourne shell that were
++# superseded or lifted in POSIX.  However, this script identifies a wide
++# variety of pre-POSIX systems that do not have POSIX shells at all, and
++# even some reasonably current systems (Solaris 10 as case-in-point) still
++# have a pre-POSIX /bin/sh.
++
++
+ me=`echo "$0" | sed -e 's,.*/,,'`
+ 
+ usage="\
+ Usage: $0 [OPTION]
+ 
+-Output the configuration name of the system \`$me' is run on.
++Output the configuration name of the system '$me' is run on.
+ 
+ Options:
+   -h, --help         print this help, then exit
+@@ -50,13 +60,13 @@ version="\
+ GNU config.guess ($timestamp)
+ 
+ Originally written by Per Bothner.
+-Copyright 1992-2020 Free Software Foundation, Inc.
++Copyright 1992-2024 Free Software Foundation, Inc.
+ 
+ This is free software; see the source for copying conditions.  There is NO
+ warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."
+ 
+ help="
+-Try \`$me --help' for more information."
++Try '$me --help' for more information."
+ 
+ # Parse command line
+ while test $# -gt 0 ; do
+@@ -84,13 +94,16 @@ if test $# != 0; then
+   exit 1
+ fi
+ 
++# Just in case it came from the environment.
++GUESS=
++
+ # CC_FOR_BUILD -- compiler used by this script. Note that the use of a
+ # compiler to aid in system detection is discouraged as it requires
+ # temporary files to be created and, as you can see below, it is a
+ # headache to deal with in a portable fashion.
+ 
+-# Historically, `CC_FOR_BUILD' used to be named `HOST_CC'. We still
+-# use `HOST_CC' if defined, but it is deprecated.
++# Historically, 'CC_FOR_BUILD' used to be named 'HOST_CC'. We still
++# use 'HOST_CC' if defined, but it is deprecated.
+ 
+ # Portable tmp directory creation inspired by the Autoconf team.
+ 
+@@ -102,7 +115,7 @@ set_cc_for_build() {
+     # prevent multiple calls if $tmp is already set
+     test "$tmp" && return 0
+     : "${TMPDIR=/tmp}"
+-    # shellcheck disable=SC2039
++    # shellcheck disable=SC2039,SC3028
+     { tmp=`(umask 077 && mktemp -d "$TMPDIR/cgXXXXXX") 2>/dev/null` && test -n "$tmp" && test -d "$tmp" ; } ||
+ 	{ test -n "$RANDOM" && tmp=$TMPDIR/cg$$-$RANDOM && (umask 077 && mkdir "$tmp" 2>/dev/null) ; } ||
+ 	{ tmp=$TMPDIR/cg-$$ && (umask 077 && mkdir "$tmp" 2>/dev/null) && echo "Warning: creating insecure temp directory" >&2 ; } ||
+@@ -110,9 +123,9 @@ set_cc_for_build() {
+     dummy=$tmp/dummy
+     case ${CC_FOR_BUILD-},${HOST_CC-},${CC-} in
+ 	,,)    echo "int x;" > "$dummy.c"
+-	       for driver in cc gcc c89 c99 ; do
++	       for driver in cc gcc c17 c99 c89 ; do
+ 		   if ($driver -c -o "$dummy.o" "$dummy.c") >/dev/null 2>&1 ; then
+-		       CC_FOR_BUILD="$driver"
++		       CC_FOR_BUILD=$driver
+ 		       break
+ 		   fi
+ 	       done
+@@ -133,40 +146,57 @@ fi
+ 
+ UNAME_MACHINE=`(uname -m) 2>/dev/null` || UNAME_MACHINE=unknown
+ UNAME_RELEASE=`(uname -r) 2>/dev/null` || UNAME_RELEASE=unknown
+-UNAME_SYSTEM=`(uname -s) 2>/dev/null`  || UNAME_SYSTEM=unknown
++UNAME_SYSTEM=`(uname -s) 2>/dev/null` || UNAME_SYSTEM=unknown
+ UNAME_VERSION=`(uname -v) 2>/dev/null` || UNAME_VERSION=unknown
+ 
+-case "$UNAME_SYSTEM" in
++case $UNAME_SYSTEM in
+ Linux|GNU|GNU/*)
+-	# If the system lacks a compiler, then just pick glibc.
+-	# We could probably try harder.
+-	LIBC=gnu
++	LIBC=unknown
+ 
+ 	set_cc_for_build
+ 	cat <<-EOF > "$dummy.c"
++	#if defined(__ANDROID__)
++	LIBC=android
++	#else
+ 	#include <features.h>
+ 	#if defined(__UCLIBC__)
+ 	LIBC=uclibc
+ 	#elif defined(__dietlibc__)
+ 	LIBC=dietlibc
+-	#else
++	#elif defined(__GLIBC__)
+ 	LIBC=gnu
++	#elif defined(__LLVM_LIBC__)
++	LIBC=llvm
++	#else
++	#include <stdarg.h>
++	/* First heuristic to detect musl libc.  */
++	#ifdef __DEFINED_va_list
++	LIBC=musl
++	#endif
++	#endif
+ 	#endif
+ 	EOF
+-	eval "`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^LIBC' | sed 's, ,,g'`"
++	cc_set_libc=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^LIBC' | sed 's, ,,g'`
++	eval "$cc_set_libc"
+ 
+-	# If ldd exists, use it to detect musl libc.
+-	if command -v ldd >/dev/null && \
+-		ldd --version 2>&1 | grep -q ^musl
+-	then
+-	    LIBC=musl
++	# Second heuristic to detect musl libc.
++	if [ "$LIBC" = unknown ] &&
++	   command -v ldd >/dev/null &&
++	   ldd --version 2>&1 | grep -q ^musl; then
++		LIBC=musl
++	fi
++
++	# If the system lacks a compiler, then just pick glibc.
++	# We could probably try harder.
++	if [ "$LIBC" = unknown ]; then
++		LIBC=gnu
+ 	fi
+ 	;;
+ esac
+ 
+ # Note: order is significant - the case branches are not exclusive.
+ 
+-case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++case $UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION in
+     *:NetBSD:*:*)
+ 	# NetBSD (nbsd) targets should (where applicable) match one or
+ 	# more of the tuples: *-*-netbsdelf*, *-*-netbsdaout*,
+@@ -178,12 +208,12 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
+ 	#
+ 	# Note: NetBSD doesn't particularly care about the vendor
+ 	# portion of the name.  We always set it to "unknown".
+-	sysctl="sysctl -n hw.machine_arch"
+ 	UNAME_MACHINE_ARCH=`(uname -p 2>/dev/null || \
+-	    "/sbin/$sysctl" 2>/dev/null || \
+-	    "/usr/sbin/$sysctl" 2>/dev/null || \
++	    /sbin/sysctl -n hw.machine_arch 2>/dev/null || \
++	    /usr/sbin/sysctl -n hw.machine_arch 2>/dev/null || \
+ 	    echo unknown)`
+-	case "$UNAME_MACHINE_ARCH" in
++	case $UNAME_MACHINE_ARCH in
++	    aarch64eb) machine=aarch64_be-unknown ;;
+ 	    armeb) machine=armeb-unknown ;;
+ 	    arm*) machine=arm-unknown ;;
+ 	    sh3el) machine=shl-unknown ;;
+@@ -192,13 +222,13 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
+ 	    earmv*)
+ 		arch=`echo "$UNAME_MACHINE_ARCH" | sed -e 's,^e\(armv[0-9]\).*$,\1,'`
+ 		endian=`echo "$UNAME_MACHINE_ARCH" | sed -ne 's,^.*\(eb\)$,\1,p'`
+-		machine="${arch}${endian}"-unknown
++		machine=${arch}${endian}-unknown
+ 		;;
+-	    *) machine="$UNAME_MACHINE_ARCH"-unknown ;;
++	    *) machine=$UNAME_MACHINE_ARCH-unknown ;;
+ 	esac
+ 	# The Operating System including object format, if it has switched
+ 	# to ELF recently (or will in the future) and ABI.
+-	case "$UNAME_MACHINE_ARCH" in
++	case $UNAME_MACHINE_ARCH in
+ 	    earm*)
+ 		os=netbsdelf
+ 		;;
+@@ -219,7 +249,7 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
+ 		;;
+ 	esac
+ 	# Determine ABI tags.
+-	case "$UNAME_MACHINE_ARCH" in
++	case $UNAME_MACHINE_ARCH in
+ 	    earm*)
+ 		expr='s/^earmv[0-9]/-eabi/;s/eb$//'
+ 		abi=`echo "$UNAME_MACHINE_ARCH" | sed -e "$expr"`
+@@ -230,7 +260,7 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
+ 	# thus, need a distinct triplet. However, they do not need
+ 	# kernel version information, so it can be replaced with a
+ 	# suitable tag, in the style of linux-gnu.
+-	case "$UNAME_VERSION" in
++	case $UNAME_VERSION in
+ 	    Debian*)
+ 		release='-gnu'
+ 		;;
+@@ -241,51 +271,57 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
+ 	# Since CPU_TYPE-MANUFACTURER-KERNEL-OPERATING_SYSTEM:
+ 	# contains redundant information, the shorter form:
+ 	# CPU_TYPE-MANUFACTURER-OPERATING_SYSTEM is used.
+-	echo "$machine-${os}${release}${abi-}"
+-	exit ;;
++	GUESS=$machine-${os}${release}${abi-}
++	;;
+     *:Bitrig:*:*)
+ 	UNAME_MACHINE_ARCH=`arch | sed 's/Bitrig.//'`
+-	echo "$UNAME_MACHINE_ARCH"-unknown-bitrig"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=$UNAME_MACHINE_ARCH-unknown-bitrig$UNAME_RELEASE
++	;;
+     *:OpenBSD:*:*)
+ 	UNAME_MACHINE_ARCH=`arch | sed 's/OpenBSD.//'`
+-	echo "$UNAME_MACHINE_ARCH"-unknown-openbsd"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=$UNAME_MACHINE_ARCH-unknown-openbsd$UNAME_RELEASE
++	;;
++    *:SecBSD:*:*)
++	UNAME_MACHINE_ARCH=`arch | sed 's/SecBSD.//'`
++	GUESS=$UNAME_MACHINE_ARCH-unknown-secbsd$UNAME_RELEASE
++	;;
+     *:LibertyBSD:*:*)
+ 	UNAME_MACHINE_ARCH=`arch | sed 's/^.*BSD\.//'`
+-	echo "$UNAME_MACHINE_ARCH"-unknown-libertybsd"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=$UNAME_MACHINE_ARCH-unknown-libertybsd$UNAME_RELEASE
++	;;
+     *:MidnightBSD:*:*)
+-	echo "$UNAME_MACHINE"-unknown-midnightbsd"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-midnightbsd$UNAME_RELEASE
++	;;
+     *:ekkoBSD:*:*)
+-	echo "$UNAME_MACHINE"-unknown-ekkobsd"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-ekkobsd$UNAME_RELEASE
++	;;
+     *:SolidBSD:*:*)
+-	echo "$UNAME_MACHINE"-unknown-solidbsd"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-solidbsd$UNAME_RELEASE
++	;;
+     *:OS108:*:*)
+-	echo "$UNAME_MACHINE"-unknown-os108_"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-os108_$UNAME_RELEASE
++	;;
+     macppc:MirBSD:*:*)
+-	echo powerpc-unknown-mirbsd"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=powerpc-unknown-mirbsd$UNAME_RELEASE
++	;;
+     *:MirBSD:*:*)
+-	echo "$UNAME_MACHINE"-unknown-mirbsd"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-mirbsd$UNAME_RELEASE
++	;;
+     *:Sortix:*:*)
+-	echo "$UNAME_MACHINE"-unknown-sortix
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-sortix
++	;;
+     *:Twizzler:*:*)
+-	echo "$UNAME_MACHINE"-unknown-twizzler
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-twizzler
++	;;
+     *:Redox:*:*)
+-	echo "$UNAME_MACHINE"-unknown-redox
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-redox
++	;;
+     mips:OSF1:*.*)
+-	echo mips-dec-osf1
+-	exit ;;
++	GUESS=mips-dec-osf1
++	;;
+     alpha:OSF1:*:*)
++	# Reset EXIT trap before exiting to avoid spurious non-zero exit code.
++	trap '' 0
+ 	case $UNAME_RELEASE in
+ 	*4.0)
+ 		UNAME_RELEASE=`/usr/sbin/sizer -v | awk '{print $3}'`
+@@ -299,7 +335,7 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
+ 	# covers most systems running today.  This code pipes the CPU
+ 	# types through head -n 1, so we only detect the type of CPU 0.
+ 	ALPHA_CPU_TYPE=`/usr/sbin/psrinfo -v | sed -n -e 's/^  The alpha \(.*\) processor.*$/\1/p' | head -n 1`
+-	case "$ALPHA_CPU_TYPE" in
++	case $ALPHA_CPU_TYPE in
+ 	    "EV4 (21064)")
+ 		UNAME_MACHINE=alpha ;;
+ 	    "EV4.5 (21064)")
+@@ -336,117 +372,121 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
+ 	# A Tn.n version is a released field test version.
+ 	# A Xn.n version is an unreleased experimental baselevel.
+ 	# 1.2 uses "1.2" for uname -r.
+-	echo "$UNAME_MACHINE"-dec-osf"`echo "$UNAME_RELEASE" | sed -e 's/^[PVTX]//' | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz`"
+-	# Reset EXIT trap before exiting to avoid spurious non-zero exit code.
+-	exitcode=$?
+-	trap '' 0
+-	exit $exitcode ;;
++	OSF_REL=`echo "$UNAME_RELEASE" | sed -e 's/^[PVTX]//' | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz`
++	GUESS=$UNAME_MACHINE-dec-osf$OSF_REL
++	;;
+     Amiga*:UNIX_System_V:4.0:*)
+-	echo m68k-unknown-sysv4
+-	exit ;;
++	GUESS=m68k-unknown-sysv4
++	;;
+     *:[Aa]miga[Oo][Ss]:*:*)
+-	echo "$UNAME_MACHINE"-unknown-amigaos
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-amigaos
++	;;
+     *:[Mm]orph[Oo][Ss]:*:*)
+-	echo "$UNAME_MACHINE"-unknown-morphos
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-morphos
++	;;
+     *:OS/390:*:*)
+-	echo i370-ibm-openedition
+-	exit ;;
++	GUESS=i370-ibm-openedition
++	;;
+     *:z/VM:*:*)
+-	echo s390-ibm-zvmoe
+-	exit ;;
++	GUESS=s390-ibm-zvmoe
++	;;
+     *:OS400:*:*)
+-	echo powerpc-ibm-os400
+-	exit ;;
++	GUESS=powerpc-ibm-os400
++	;;
+     arm:RISC*:1.[012]*:*|arm:riscix:1.[012]*:*)
+-	echo arm-acorn-riscix"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=arm-acorn-riscix$UNAME_RELEASE
++	;;
+     arm*:riscos:*:*|arm*:RISCOS:*:*)
+-	echo arm-unknown-riscos
+-	exit ;;
++	GUESS=arm-unknown-riscos
++	;;
+     SR2?01:HI-UX/MPP:*:* | SR8000:HI-UX/MPP:*:*)
+-	echo hppa1.1-hitachi-hiuxmpp
+-	exit ;;
++	GUESS=hppa1.1-hitachi-hiuxmpp
++	;;
+     Pyramid*:OSx*:*:* | MIS*:OSx*:*:* | MIS*:SMP_DC-OSx*:*:*)
+ 	# akee@wpdis03.wpafb.af.mil (Earle F. Ake) contributed MIS and NILE.
+-	if test "`(/bin/universe) 2>/dev/null`" = att ; then
+-		echo pyramid-pyramid-sysv3
+-	else
+-		echo pyramid-pyramid-bsd
+-	fi
+-	exit ;;
++	case `(/bin/universe) 2>/dev/null` in
++	    att) GUESS=pyramid-pyramid-sysv3 ;;
++	    *)   GUESS=pyramid-pyramid-bsd   ;;
++	esac
++	;;
+     NILE*:*:*:dcosx)
+-	echo pyramid-pyramid-svr4
+-	exit ;;
++	GUESS=pyramid-pyramid-svr4
++	;;
+     DRS?6000:unix:4.0:6*)
+-	echo sparc-icl-nx6
+-	exit ;;
++	GUESS=sparc-icl-nx6
++	;;
+     DRS?6000:UNIX_SV:4.2*:7* | DRS?6000:isis:4.2*:7*)
+ 	case `/usr/bin/uname -p` in
+-	    sparc) echo sparc-icl-nx7; exit ;;
+-	esac ;;
++	    sparc) GUESS=sparc-icl-nx7 ;;
++	esac
++	;;
+     s390x:SunOS:*:*)
+-	echo "$UNAME_MACHINE"-ibm-solaris2"`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`"
+-	exit ;;
++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
++	GUESS=$UNAME_MACHINE-ibm-solaris2$SUN_REL
++	;;
+     sun4H:SunOS:5.*:*)
+-	echo sparc-hal-solaris2"`echo "$UNAME_RELEASE"|sed -e 's/[^.]*//'`"
+-	exit ;;
++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
++	GUESS=sparc-hal-solaris2$SUN_REL
++	;;
+     sun4*:SunOS:5.*:* | tadpole*:SunOS:5.*:*)
+-	echo sparc-sun-solaris2"`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`"
+-	exit ;;
++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
++	GUESS=sparc-sun-solaris2$SUN_REL
++	;;
+     i86pc:AuroraUX:5.*:* | i86xen:AuroraUX:5.*:*)
+-	echo i386-pc-auroraux"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=i386-pc-auroraux$UNAME_RELEASE
++	;;
+     i86pc:SunOS:5.*:* | i86xen:SunOS:5.*:*)
+ 	set_cc_for_build
+ 	SUN_ARCH=i386
+ 	# If there is a compiler, see if it is configured for 64-bit objects.
+ 	# Note that the Sun cc does not turn __LP64__ into 1 like gcc does.
+ 	# This test works for both compilers.
+-	if [ "$CC_FOR_BUILD" != no_compiler_found ]; then
++	if test "$CC_FOR_BUILD" != no_compiler_found; then
+ 	    if (echo '#ifdef __amd64'; echo IS_64BIT_ARCH; echo '#endif') | \
+-		(CCOPTS="" $CC_FOR_BUILD -E - 2>/dev/null) | \
++		(CCOPTS="" $CC_FOR_BUILD -m64 -E - 2>/dev/null) | \
+ 		grep IS_64BIT_ARCH >/dev/null
+ 	    then
+ 		SUN_ARCH=x86_64
+ 	    fi
+ 	fi
+-	echo "$SUN_ARCH"-pc-solaris2"`echo "$UNAME_RELEASE"|sed -e 's/[^.]*//'`"
+-	exit ;;
++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
++	GUESS=$SUN_ARCH-pc-solaris2$SUN_REL
++	;;
+     sun4*:SunOS:6*:*)
+ 	# According to config.sub, this is the proper way to canonicalize
+ 	# SunOS6.  Hard to guess exactly what SunOS6 will be like, but
+ 	# it's likely to be more like Solaris than SunOS4.
+-	echo sparc-sun-solaris3"`echo "$UNAME_RELEASE"|sed -e 's/[^.]*//'`"
+-	exit ;;
++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
++	GUESS=sparc-sun-solaris3$SUN_REL
++	;;
+     sun4*:SunOS:*:*)
+-	case "`/usr/bin/arch -k`" in
++	case `/usr/bin/arch -k` in
+ 	    Series*|S4*)
+ 		UNAME_RELEASE=`uname -v`
+ 		;;
+ 	esac
+-	# Japanese Language versions have a version number like `4.1.3-JL'.
+-	echo sparc-sun-sunos"`echo "$UNAME_RELEASE"|sed -e 's/-/_/'`"
+-	exit ;;
++	# Japanese Language versions have a version number like '4.1.3-JL'.
++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/-/_/'`
++	GUESS=sparc-sun-sunos$SUN_REL
++	;;
+     sun3*:SunOS:*:*)
+-	echo m68k-sun-sunos"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=m68k-sun-sunos$UNAME_RELEASE
++	;;
+     sun*:*:4.2BSD:*)
+ 	UNAME_RELEASE=`(sed 1q /etc/motd | awk '{print substr($5,1,3)}') 2>/dev/null`
+ 	test "x$UNAME_RELEASE" = x && UNAME_RELEASE=3
+-	case "`/bin/arch`" in
++	case `/bin/arch` in
+ 	    sun3)
+-		echo m68k-sun-sunos"$UNAME_RELEASE"
++		GUESS=m68k-sun-sunos$UNAME_RELEASE
+ 		;;
+ 	    sun4)
+-		echo sparc-sun-sunos"$UNAME_RELEASE"
++		GUESS=sparc-sun-sunos$UNAME_RELEASE
+ 		;;
+ 	esac
+-	exit ;;
++	;;
+     aushp:SunOS:*:*)
+-	echo sparc-auspex-sunos"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=sparc-auspex-sunos$UNAME_RELEASE
++	;;
+     # The situation for MiNT is a little confusing.  The machine name
+     # can be virtually everything (everything which is not
+     # "atarist" or "atariste" at least should have a processor
+@@ -456,41 +496,41 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
+     # MiNT.  But MiNT is downward compatible to TOS, so this should
+     # be no problem.
+     atarist[e]:*MiNT:*:* | atarist[e]:*mint:*:* | atarist[e]:*TOS:*:*)
+-	echo m68k-atari-mint"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=m68k-atari-mint$UNAME_RELEASE
++	;;
+     atari*:*MiNT:*:* | atari*:*mint:*:* | atarist[e]:*TOS:*:*)
+-	echo m68k-atari-mint"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=m68k-atari-mint$UNAME_RELEASE
++	;;
+     *falcon*:*MiNT:*:* | *falcon*:*mint:*:* | *falcon*:*TOS:*:*)
+-	echo m68k-atari-mint"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=m68k-atari-mint$UNAME_RELEASE
++	;;
+     milan*:*MiNT:*:* | milan*:*mint:*:* | *milan*:*TOS:*:*)
+-	echo m68k-milan-mint"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=m68k-milan-mint$UNAME_RELEASE
++	;;
+     hades*:*MiNT:*:* | hades*:*mint:*:* | *hades*:*TOS:*:*)
+-	echo m68k-hades-mint"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=m68k-hades-mint$UNAME_RELEASE
++	;;
+     *:*MiNT:*:* | *:*mint:*:* | *:*TOS:*:*)
+-	echo m68k-unknown-mint"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=m68k-unknown-mint$UNAME_RELEASE
++	;;
+     m68k:machten:*:*)
+-	echo m68k-apple-machten"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=m68k-apple-machten$UNAME_RELEASE
++	;;
+     powerpc:machten:*:*)
+-	echo powerpc-apple-machten"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=powerpc-apple-machten$UNAME_RELEASE
++	;;
+     RISC*:Mach:*:*)
+-	echo mips-dec-mach_bsd4.3
+-	exit ;;
++	GUESS=mips-dec-mach_bsd4.3
++	;;
+     RISC*:ULTRIX:*:*)
+-	echo mips-dec-ultrix"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=mips-dec-ultrix$UNAME_RELEASE
++	;;
+     VAX*:ULTRIX*:*:*)
+-	echo vax-dec-ultrix"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=vax-dec-ultrix$UNAME_RELEASE
++	;;
+     2020:CLIX:*:* | 2430:CLIX:*:*)
+-	echo clipper-intergraph-clix"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=clipper-intergraph-clix$UNAME_RELEASE
++	;;
+     mips:*:*:UMIPS | mips:*:*:RISCos)
+ 	set_cc_for_build
+ 	sed 's/^	//' << EOF > "$dummy.c"
+@@ -518,82 +558,84 @@ EOF
+ 	  dummyarg=`echo "$UNAME_RELEASE" | sed -n 's/\([0-9]*\).*/\1/p'` &&
+ 	  SYSTEM_NAME=`"$dummy" "$dummyarg"` &&
+ 	    { echo "$SYSTEM_NAME"; exit; }
+-	echo mips-mips-riscos"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=mips-mips-riscos$UNAME_RELEASE
++	;;
+     Motorola:PowerMAX_OS:*:*)
+-	echo powerpc-motorola-powermax
+-	exit ;;
++	GUESS=powerpc-motorola-powermax
++	;;
+     Motorola:*:4.3:PL8-*)
+-	echo powerpc-harris-powermax
+-	exit ;;
++	GUESS=powerpc-harris-powermax
++	;;
+     Night_Hawk:*:*:PowerMAX_OS | Synergy:PowerMAX_OS:*:*)
+-	echo powerpc-harris-powermax
+-	exit ;;
++	GUESS=powerpc-harris-powermax
++	;;
+     Night_Hawk:Power_UNIX:*:*)
+-	echo powerpc-harris-powerunix
+-	exit ;;
++	GUESS=powerpc-harris-powerunix
++	;;
+     m88k:CX/UX:7*:*)
+-	echo m88k-harris-cxux7
+-	exit ;;
++	GUESS=m88k-harris-cxux7
++	;;
+     m88k:*:4*:R4*)
+-	echo m88k-motorola-sysv4
+-	exit ;;
++	GUESS=m88k-motorola-sysv4
++	;;
+     m88k:*:3*:R3*)
+-	echo m88k-motorola-sysv3
+-	exit ;;
++	GUESS=m88k-motorola-sysv3
++	;;
+     AViiON:dgux:*:*)
+ 	# DG/UX returns AViiON for all architectures
+ 	UNAME_PROCESSOR=`/usr/bin/uname -p`
+-	if [ "$UNAME_PROCESSOR" = mc88100 ] || [ "$UNAME_PROCESSOR" = mc88110 ]
++	if test "$UNAME_PROCESSOR" = mc88100 || test "$UNAME_PROCESSOR" = mc88110
+ 	then
+-	    if [ "$TARGET_BINARY_INTERFACE"x = m88kdguxelfx ] || \
+-	       [ "$TARGET_BINARY_INTERFACE"x = x ]
++	    if test "$TARGET_BINARY_INTERFACE"x = m88kdguxelfx || \
++	       test "$TARGET_BINARY_INTERFACE"x = x
+ 	    then
+-		echo m88k-dg-dgux"$UNAME_RELEASE"
++		GUESS=m88k-dg-dgux$UNAME_RELEASE
+ 	    else
+-		echo m88k-dg-dguxbcs"$UNAME_RELEASE"
++		GUESS=m88k-dg-dguxbcs$UNAME_RELEASE
+ 	    fi
+ 	else
+-	    echo i586-dg-dgux"$UNAME_RELEASE"
++	    GUESS=i586-dg-dgux$UNAME_RELEASE
+ 	fi
+-	exit ;;
++	;;
+     M88*:DolphinOS:*:*)	# DolphinOS (SVR3)
+-	echo m88k-dolphin-sysv3
+-	exit ;;
++	GUESS=m88k-dolphin-sysv3
++	;;
+     M88*:*:R3*:*)
+ 	# Delta 88k system running SVR3
+-	echo m88k-motorola-sysv3
+-	exit ;;
++	GUESS=m88k-motorola-sysv3
++	;;
+     XD88*:*:*:*) # Tektronix XD88 system running UTekV (SVR3)
+-	echo m88k-tektronix-sysv3
+-	exit ;;
++	GUESS=m88k-tektronix-sysv3
++	;;
+     Tek43[0-9][0-9]:UTek:*:*) # Tektronix 4300 system running UTek (BSD)
+-	echo m68k-tektronix-bsd
+-	exit ;;
++	GUESS=m68k-tektronix-bsd
++	;;
+     *:IRIX*:*:*)
+-	echo mips-sgi-irix"`echo "$UNAME_RELEASE"|sed -e 's/-/_/g'`"
+-	exit ;;
++	IRIX_REL=`echo "$UNAME_RELEASE" | sed -e 's/-/_/g'`
++	GUESS=mips-sgi-irix$IRIX_REL
++	;;
+     ????????:AIX?:[12].1:2)   # AIX 2.2.1 or AIX 2.1.1 is RT/PC AIX.
+-	echo romp-ibm-aix     # uname -m gives an 8 hex-code CPU id
+-	exit ;;               # Note that: echo "'`uname -s`'" gives 'AIX '
++	GUESS=romp-ibm-aix    # uname -m gives an 8 hex-code CPU id
++	;;                    # Note that: echo "'`uname -s`'" gives 'AIX '
+     i*86:AIX:*:*)
+-	echo i386-ibm-aix
+-	exit ;;
++	GUESS=i386-ibm-aix
++	;;
+     ia64:AIX:*:*)
+-	if [ -x /usr/bin/oslevel ] ; then
++	if test -x /usr/bin/oslevel ; then
+ 		IBM_REV=`/usr/bin/oslevel`
+ 	else
+-		IBM_REV="$UNAME_VERSION.$UNAME_RELEASE"
++		IBM_REV=$UNAME_VERSION.$UNAME_RELEASE
+ 	fi
+-	echo "$UNAME_MACHINE"-ibm-aix"$IBM_REV"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-ibm-aix$IBM_REV
++	;;
+     *:AIX:2:3)
+ 	if grep bos325 /usr/include/stdio.h >/dev/null 2>&1; then
+ 		set_cc_for_build
+ 		sed 's/^		//' << EOF > "$dummy.c"
+ 		#include <sys/systemcfg.h>
+ 
+-		main()
++		int
++		main ()
+ 			{
+ 			if (!__power_pc())
+ 				exit(1);
+@@ -603,16 +645,16 @@ EOF
+ EOF
+ 		if $CC_FOR_BUILD -o "$dummy" "$dummy.c" && SYSTEM_NAME=`"$dummy"`
+ 		then
+-			echo "$SYSTEM_NAME"
++			GUESS=$SYSTEM_NAME
+ 		else
+-			echo rs6000-ibm-aix3.2.5
++			GUESS=rs6000-ibm-aix3.2.5
+ 		fi
+ 	elif grep bos324 /usr/include/stdio.h >/dev/null 2>&1; then
+-		echo rs6000-ibm-aix3.2.4
++		GUESS=rs6000-ibm-aix3.2.4
+ 	else
+-		echo rs6000-ibm-aix3.2
++		GUESS=rs6000-ibm-aix3.2
+ 	fi
+-	exit ;;
++	;;
+     *:AIX:*:[4567])
+ 	IBM_CPU_ID=`/usr/sbin/lsdev -C -c processor -S available | sed 1q | awk '{ print $1 }'`
+ 	if /usr/sbin/lsattr -El "$IBM_CPU_ID" | grep ' POWER' >/dev/null 2>&1; then
+@@ -620,56 +662,56 @@ EOF
+ 	else
+ 		IBM_ARCH=powerpc
+ 	fi
+-	if [ -x /usr/bin/lslpp ] ; then
+-		IBM_REV=`/usr/bin/lslpp -Lqc bos.rte.libc |
++	if test -x /usr/bin/lslpp ; then
++		IBM_REV=`/usr/bin/lslpp -Lqc bos.rte.libc | \
+ 			   awk -F: '{ print $3 }' | sed s/[0-9]*$/0/`
+ 	else
+-		IBM_REV="$UNAME_VERSION.$UNAME_RELEASE"
++		IBM_REV=$UNAME_VERSION.$UNAME_RELEASE
+ 	fi
+-	echo "$IBM_ARCH"-ibm-aix"$IBM_REV"
+-	exit ;;
++	GUESS=$IBM_ARCH-ibm-aix$IBM_REV
++	;;
+     *:AIX:*:*)
+-	echo rs6000-ibm-aix
+-	exit ;;
++	GUESS=rs6000-ibm-aix
++	;;
+     ibmrt:4.4BSD:*|romp-ibm:4.4BSD:*)
+-	echo romp-ibm-bsd4.4
+-	exit ;;
++	GUESS=romp-ibm-bsd4.4
++	;;
+     ibmrt:*BSD:*|romp-ibm:BSD:*)            # covers RT/PC BSD and
+-	echo romp-ibm-bsd"$UNAME_RELEASE"   # 4.3 with uname added to
+-	exit ;;                             # report: romp-ibm BSD 4.3
++	GUESS=romp-ibm-bsd$UNAME_RELEASE    # 4.3 with uname added to
++	;;                                  # report: romp-ibm BSD 4.3
+     *:BOSX:*:*)
+-	echo rs6000-bull-bosx
+-	exit ;;
++	GUESS=rs6000-bull-bosx
++	;;
+     DPX/2?00:B.O.S.:*:*)
+-	echo m68k-bull-sysv3
+-	exit ;;
++	GUESS=m68k-bull-sysv3
++	;;
+     9000/[34]??:4.3bsd:1.*:*)
+-	echo m68k-hp-bsd
+-	exit ;;
++	GUESS=m68k-hp-bsd
++	;;
+     hp300:4.4BSD:*:* | 9000/[34]??:4.3bsd:2.*:*)
+-	echo m68k-hp-bsd4.4
+-	exit ;;
++	GUESS=m68k-hp-bsd4.4
++	;;
+     9000/[34678]??:HP-UX:*:*)
+-	HPUX_REV=`echo "$UNAME_RELEASE"|sed -e 's/[^.]*.[0B]*//'`
+-	case "$UNAME_MACHINE" in
++	HPUX_REV=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*.[0B]*//'`
++	case $UNAME_MACHINE in
+ 	    9000/31?)            HP_ARCH=m68000 ;;
+ 	    9000/[34]??)         HP_ARCH=m68k ;;
+ 	    9000/[678][0-9][0-9])
+-		if [ -x /usr/bin/getconf ]; then
++		if test -x /usr/bin/getconf; then
+ 		    sc_cpu_version=`/usr/bin/getconf SC_CPU_VERSION 2>/dev/null`
+ 		    sc_kernel_bits=`/usr/bin/getconf SC_KERNEL_BITS 2>/dev/null`
+-		    case "$sc_cpu_version" in
++		    case $sc_cpu_version in
+ 		      523) HP_ARCH=hppa1.0 ;; # CPU_PA_RISC1_0
+ 		      528) HP_ARCH=hppa1.1 ;; # CPU_PA_RISC1_1
+ 		      532)                      # CPU_PA_RISC2_0
+-			case "$sc_kernel_bits" in
++			case $sc_kernel_bits in
+ 			  32) HP_ARCH=hppa2.0n ;;
+ 			  64) HP_ARCH=hppa2.0w ;;
+ 			  '') HP_ARCH=hppa2.0 ;;   # HP-UX 10.20
+ 			esac ;;
+ 		    esac
+ 		fi
+-		if [ "$HP_ARCH" = "" ]; then
++		if test "$HP_ARCH" = ""; then
+ 		    set_cc_for_build
+ 		    sed 's/^		//' << EOF > "$dummy.c"
+ 
+@@ -677,7 +719,8 @@ EOF
+ 		#include <stdlib.h>
+ 		#include <unistd.h>
+ 
+-		int main ()
++		int
++		main ()
+ 		{
+ 		#if defined(_SC_KERNEL_BITS)
+ 		    long bits = sysconf(_SC_KERNEL_BITS);
+@@ -708,7 +751,7 @@ EOF
+ 		    test -z "$HP_ARCH" && HP_ARCH=hppa
+ 		fi ;;
+ 	esac
+-	if [ "$HP_ARCH" = hppa2.0w ]
++	if test "$HP_ARCH" = hppa2.0w
+ 	then
+ 	    set_cc_for_build
+ 
+@@ -729,12 +772,12 @@ EOF
+ 		HP_ARCH=hppa64
+ 	    fi
+ 	fi
+-	echo "$HP_ARCH"-hp-hpux"$HPUX_REV"
+-	exit ;;
++	GUESS=$HP_ARCH-hp-hpux$HPUX_REV
++	;;
+     ia64:HP-UX:*:*)
+-	HPUX_REV=`echo "$UNAME_RELEASE"|sed -e 's/[^.]*.[0B]*//'`
+-	echo ia64-hp-hpux"$HPUX_REV"
+-	exit ;;
++	HPUX_REV=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*.[0B]*//'`
++	GUESS=ia64-hp-hpux$HPUX_REV
++	;;
+     3050*:HI-UX:*:*)
+ 	set_cc_for_build
+ 	sed 's/^	//' << EOF > "$dummy.c"
+@@ -764,36 +807,36 @@ EOF
+ EOF
+ 	$CC_FOR_BUILD -o "$dummy" "$dummy.c" && SYSTEM_NAME=`"$dummy"` &&
+ 		{ echo "$SYSTEM_NAME"; exit; }
+-	echo unknown-hitachi-hiuxwe2
+-	exit ;;
++	GUESS=unknown-hitachi-hiuxwe2
++	;;
+     9000/7??:4.3bsd:*:* | 9000/8?[79]:4.3bsd:*:*)
+-	echo hppa1.1-hp-bsd
+-	exit ;;
++	GUESS=hppa1.1-hp-bsd
++	;;
+     9000/8??:4.3bsd:*:*)
+-	echo hppa1.0-hp-bsd
+-	exit ;;
++	GUESS=hppa1.0-hp-bsd
++	;;
+     *9??*:MPE/iX:*:* | *3000*:MPE/iX:*:*)
+-	echo hppa1.0-hp-mpeix
+-	exit ;;
++	GUESS=hppa1.0-hp-mpeix
++	;;
+     hp7??:OSF1:*:* | hp8?[79]:OSF1:*:*)
+-	echo hppa1.1-hp-osf
+-	exit ;;
++	GUESS=hppa1.1-hp-osf
++	;;
+     hp8??:OSF1:*:*)
+-	echo hppa1.0-hp-osf
+-	exit ;;
++	GUESS=hppa1.0-hp-osf
++	;;
+     i*86:OSF1:*:*)
+-	if [ -x /usr/sbin/sysversion ] ; then
+-	    echo "$UNAME_MACHINE"-unknown-osf1mk
++	if test -x /usr/sbin/sysversion ; then
++	    GUESS=$UNAME_MACHINE-unknown-osf1mk
+ 	else
+-	    echo "$UNAME_MACHINE"-unknown-osf1
++	    GUESS=$UNAME_MACHINE-unknown-osf1
+ 	fi
+-	exit ;;
++	;;
+     parisc*:Lites*:*:*)
+-	echo hppa1.1-hp-lites
+-	exit ;;
++	GUESS=hppa1.1-hp-lites
++	;;
+     C1*:ConvexOS:*:* | convex:ConvexOS:C1*:*)
+-	echo c1-convex-bsd
+-	exit ;;
++	GUESS=c1-convex-bsd
++	;;
+     C2*:ConvexOS:*:* | convex:ConvexOS:C2*:*)
+ 	if getsysinfo -f scalar_acc
+ 	then echo c32-convex-bsd
+@@ -801,17 +844,18 @@ EOF
+ 	fi
+ 	exit ;;
+     C34*:ConvexOS:*:* | convex:ConvexOS:C34*:*)
+-	echo c34-convex-bsd
+-	exit ;;
++	GUESS=c34-convex-bsd
++	;;
+     C38*:ConvexOS:*:* | convex:ConvexOS:C38*:*)
+-	echo c38-convex-bsd
+-	exit ;;
++	GUESS=c38-convex-bsd
++	;;
+     C4*:ConvexOS:*:* | convex:ConvexOS:C4*:*)
+-	echo c4-convex-bsd
+-	exit ;;
++	GUESS=c4-convex-bsd
++	;;
+     CRAY*Y-MP:*:*:*)
+-	echo ymp-cray-unicos"$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'
+-	exit ;;
++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
++	GUESS=ymp-cray-unicos$CRAY_REL
++	;;
+     CRAY*[A-Z]90:*:*:*)
+ 	echo "$UNAME_MACHINE"-cray-unicos"$UNAME_RELEASE" \
+ 	| sed -e 's/CRAY.*\([A-Z]90\)/\1/' \
+@@ -819,112 +863,153 @@ EOF
+ 	      -e 's/\.[^.]*$/.X/'
+ 	exit ;;
+     CRAY*TS:*:*:*)
+-	echo t90-cray-unicos"$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'
+-	exit ;;
++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
++	GUESS=t90-cray-unicos$CRAY_REL
++	;;
+     CRAY*T3E:*:*:*)
+-	echo alphaev5-cray-unicosmk"$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'
+-	exit ;;
++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
++	GUESS=alphaev5-cray-unicosmk$CRAY_REL
++	;;
+     CRAY*SV1:*:*:*)
+-	echo sv1-cray-unicos"$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'
+-	exit ;;
++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
++	GUESS=sv1-cray-unicos$CRAY_REL
++	;;
+     *:UNICOS/mp:*:*)
+-	echo craynv-cray-unicosmp"$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'
+-	exit ;;
++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
++	GUESS=craynv-cray-unicosmp$CRAY_REL
++	;;
+     F30[01]:UNIX_System_V:*:* | F700:UNIX_System_V:*:*)
+ 	FUJITSU_PROC=`uname -m | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz`
+ 	FUJITSU_SYS=`uname -p | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz | sed -e 's/\///'`
+ 	FUJITSU_REL=`echo "$UNAME_RELEASE" | sed -e 's/ /_/'`
+-	echo "${FUJITSU_PROC}-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}"
+-	exit ;;
++	GUESS=${FUJITSU_PROC}-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}
++	;;
+     5000:UNIX_System_V:4.*:*)
+ 	FUJITSU_SYS=`uname -p | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz | sed -e 's/\///'`
+ 	FUJITSU_REL=`echo "$UNAME_RELEASE" | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz | sed -e 's/ /_/'`
+-	echo "sparc-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}"
+-	exit ;;
++	GUESS=sparc-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}
++	;;
+     i*86:BSD/386:*:* | i*86:BSD/OS:*:* | *:Ascend\ Embedded/OS:*:*)
+-	echo "$UNAME_MACHINE"-pc-bsdi"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-pc-bsdi$UNAME_RELEASE
++	;;
+     sparc*:BSD/OS:*:*)
+-	echo sparc-unknown-bsdi"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=sparc-unknown-bsdi$UNAME_RELEASE
++	;;
+     *:BSD/OS:*:*)
+-	echo "$UNAME_MACHINE"-unknown-bsdi"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-bsdi$UNAME_RELEASE
++	;;
+     arm:FreeBSD:*:*)
+ 	UNAME_PROCESSOR=`uname -p`
+ 	set_cc_for_build
+ 	if echo __ARM_PCS_VFP | $CC_FOR_BUILD -E - 2>/dev/null \
+ 	    | grep -q __ARM_PCS_VFP
+ 	then
+-	    echo "${UNAME_PROCESSOR}"-unknown-freebsd"`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'`"-gnueabi
++	    FREEBSD_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
++	    GUESS=$UNAME_PROCESSOR-unknown-freebsd$FREEBSD_REL-gnueabi
+ 	else
+-	    echo "${UNAME_PROCESSOR}"-unknown-freebsd"`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'`"-gnueabihf
++	    FREEBSD_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
++	    GUESS=$UNAME_PROCESSOR-unknown-freebsd$FREEBSD_REL-gnueabihf
+ 	fi
+-	exit ;;
++	;;
+     *:FreeBSD:*:*)
+-	UNAME_PROCESSOR=`/usr/bin/uname -p`
+-	case "$UNAME_PROCESSOR" in
++	UNAME_PROCESSOR=`uname -p`
++	case $UNAME_PROCESSOR in
+ 	    amd64)
+ 		UNAME_PROCESSOR=x86_64 ;;
+ 	    i386)
+ 		UNAME_PROCESSOR=i586 ;;
+ 	esac
+-	echo "$UNAME_PROCESSOR"-unknown-freebsd"`echo "$UNAME_RELEASE"|sed -e 's/[-(].*//'`"
+-	exit ;;
++	FREEBSD_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
++	GUESS=$UNAME_PROCESSOR-unknown-freebsd$FREEBSD_REL
++	;;
+     i*:CYGWIN*:*)
+-	echo "$UNAME_MACHINE"-pc-cygwin
+-	exit ;;
++	GUESS=$UNAME_MACHINE-pc-cygwin
++	;;
+     *:MINGW64*:*)
+-	echo "$UNAME_MACHINE"-pc-mingw64
+-	exit ;;
++	GUESS=$UNAME_MACHINE-pc-mingw64
++	;;
+     *:MINGW*:*)
+-	echo "$UNAME_MACHINE"-pc-mingw32
+-	exit ;;
++	GUESS=$UNAME_MACHINE-pc-mingw32
++	;;
+     *:MSYS*:*)
+-	echo "$UNAME_MACHINE"-pc-msys
+-	exit ;;
++	GUESS=$UNAME_MACHINE-pc-msys
++	;;
+     i*:PW*:*)
+-	echo "$UNAME_MACHINE"-pc-pw32
+-	exit ;;
++	GUESS=$UNAME_MACHINE-pc-pw32
++	;;
++    *:SerenityOS:*:*)
++        GUESS=$UNAME_MACHINE-pc-serenity
++        ;;
+     *:Interix*:*)
+-	case "$UNAME_MACHINE" in
++	case $UNAME_MACHINE in
+ 	    x86)
+-		echo i586-pc-interix"$UNAME_RELEASE"
+-		exit ;;
++		GUESS=i586-pc-interix$UNAME_RELEASE
++		;;
+ 	    authenticamd | genuineintel | EM64T)
+-		echo x86_64-unknown-interix"$UNAME_RELEASE"
+-		exit ;;
++		GUESS=x86_64-unknown-interix$UNAME_RELEASE
++		;;
+ 	    IA64)
+-		echo ia64-unknown-interix"$UNAME_RELEASE"
+-		exit ;;
++		GUESS=ia64-unknown-interix$UNAME_RELEASE
++		;;
+ 	esac ;;
+     i*:UWIN*:*)
+-	echo "$UNAME_MACHINE"-pc-uwin
+-	exit ;;
++	GUESS=$UNAME_MACHINE-pc-uwin
++	;;
+     amd64:CYGWIN*:*:* | x86_64:CYGWIN*:*:*)
+-	echo x86_64-pc-cygwin
+-	exit ;;
++	GUESS=x86_64-pc-cygwin
++	;;
+     prep*:SunOS:5.*:*)
+-	echo powerpcle-unknown-solaris2"`echo "$UNAME_RELEASE"|sed -e 's/[^.]*//'`"
+-	exit ;;
++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
++	GUESS=powerpcle-unknown-solaris2$SUN_REL
++	;;
+     *:GNU:*:*)
+ 	# the GNU system
+-	echo "`echo "$UNAME_MACHINE"|sed -e 's,[-/].*$,,'`-unknown-$LIBC`echo "$UNAME_RELEASE"|sed -e 's,/.*$,,'`"
+-	exit ;;
++	GNU_ARCH=`echo "$UNAME_MACHINE" | sed -e 's,[-/].*$,,'`
++	GNU_REL=`echo "$UNAME_RELEASE" | sed -e 's,/.*$,,'`
++	GUESS=$GNU_ARCH-unknown-$LIBC$GNU_REL
++	;;
+     *:GNU/*:*:*)
+ 	# other systems with GNU libc and userland
+-	echo "$UNAME_MACHINE-unknown-`echo "$UNAME_SYSTEM" | sed 's,^[^/]*/,,' | tr "[:upper:]" "[:lower:]"``echo "$UNAME_RELEASE"|sed -e 's/[-(].*//'`-$LIBC"
+-	exit ;;
++	GNU_SYS=`echo "$UNAME_SYSTEM" | sed 's,^[^/]*/,,' | tr "[:upper:]" "[:lower:]"`
++	GNU_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
++	GUESS=$UNAME_MACHINE-unknown-$GNU_SYS$GNU_REL-$LIBC
++	;;
++    x86_64:[Mm]anagarm:*:*|i?86:[Mm]anagarm:*:*)
++	GUESS="$UNAME_MACHINE-pc-managarm-mlibc"
++	;;
++    *:[Mm]anagarm:*:*)
++	GUESS="$UNAME_MACHINE-unknown-managarm-mlibc"
++	;;
+     *:Minix:*:*)
+-	echo "$UNAME_MACHINE"-unknown-minix
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-minix
++	;;
+     aarch64:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	set_cc_for_build
++	CPU=$UNAME_MACHINE
++	LIBCABI=$LIBC
++	if test "$CC_FOR_BUILD" != no_compiler_found; then
++	    ABI=64
++	    sed 's/^	    //' << EOF > "$dummy.c"
++	    #ifdef __ARM_EABI__
++	    #ifdef __ARM_PCS_VFP
++	    ABI=eabihf
++	    #else
++	    ABI=eabi
++	    #endif
++	    #endif
++EOF
++	    cc_set_abi=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^ABI' | sed 's, ,,g'`
++	    eval "$cc_set_abi"
++	    case $ABI in
++		eabi | eabihf) CPU=armv8l; LIBCABI=$LIBC$ABI ;;
++	    esac
++	fi
++	GUESS=$CPU-unknown-linux-$LIBCABI
++	;;
+     aarch64_be:Linux:*:*)
+ 	UNAME_MACHINE=aarch64_be
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     alpha:Linux:*:*)
+ 	case `sed -n '/^cpu model/s/^.*: \(.*\)/\1/p' /proc/cpuinfo 2>/dev/null` in
+ 	  EV5)   UNAME_MACHINE=alphaev5 ;;
+@@ -937,60 +1022,72 @@ EOF
+ 	esac
+ 	objdump --private-headers /bin/sh | grep -q ld.so.1
+ 	if test "$?" = 0 ; then LIBC=gnulibc1 ; fi
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
+-    arc:Linux:*:* | arceb:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    arc:Linux:*:* | arceb:Linux:*:* | arc32:Linux:*:* | arc64:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     arm*:Linux:*:*)
+ 	set_cc_for_build
+ 	if echo __ARM_EABI__ | $CC_FOR_BUILD -E - 2>/dev/null \
+ 	    | grep -q __ARM_EABI__
+ 	then
+-	    echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++	    GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+ 	else
+ 	    if echo __ARM_PCS_VFP | $CC_FOR_BUILD -E - 2>/dev/null \
+ 		| grep -q __ARM_PCS_VFP
+ 	    then
+-		echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"eabi
++		GUESS=$UNAME_MACHINE-unknown-linux-${LIBC}eabi
+ 	    else
+-		echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"eabihf
++		GUESS=$UNAME_MACHINE-unknown-linux-${LIBC}eabihf
+ 	    fi
+ 	fi
+-	exit ;;
++	;;
+     avr32*:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     cris:Linux:*:*)
+-	echo "$UNAME_MACHINE"-axis-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-axis-linux-$LIBC
++	;;
+     crisv32:Linux:*:*)
+-	echo "$UNAME_MACHINE"-axis-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-axis-linux-$LIBC
++	;;
+     e2k:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     frv:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     hexagon:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     i*86:Linux:*:*)
+-	echo "$UNAME_MACHINE"-pc-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-pc-linux-$LIBC
++	;;
+     ia64:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     k1om:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    kvx:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    kvx:cos:*:*)
++	GUESS=$UNAME_MACHINE-unknown-cos
++	;;
++    kvx:mbr:*:*)
++	GUESS=$UNAME_MACHINE-unknown-mbr
++	;;
++    loongarch32:Linux:*:* | loongarch64:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     m32r*:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     m68*:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     mips:Linux:*:* | mips64:Linux:*:*)
+ 	set_cc_for_build
+ 	IS_GLIBC=0
+@@ -1035,123 +1132,135 @@ EOF
+ 	#endif
+ 	#endif
+ EOF
+-	eval "`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^CPU\|^MIPS_ENDIAN\|^LIBCABI'`"
++	cc_set_vars=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^CPU\|^MIPS_ENDIAN\|^LIBCABI'`
++	eval "$cc_set_vars"
+ 	test "x$CPU" != x && { echo "$CPU${MIPS_ENDIAN}-unknown-linux-$LIBCABI"; exit; }
+ 	;;
+     mips64el:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     openrisc*:Linux:*:*)
+-	echo or1k-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=or1k-unknown-linux-$LIBC
++	;;
+     or32:Linux:*:* | or1k*:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     padre:Linux:*:*)
+-	echo sparc-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=sparc-unknown-linux-$LIBC
++	;;
+     parisc64:Linux:*:* | hppa64:Linux:*:*)
+-	echo hppa64-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=hppa64-unknown-linux-$LIBC
++	;;
+     parisc:Linux:*:* | hppa:Linux:*:*)
+ 	# Look for CPU level
+ 	case `grep '^cpu[^a-z]*:' /proc/cpuinfo 2>/dev/null | cut -d' ' -f2` in
+-	  PA7*) echo hppa1.1-unknown-linux-"$LIBC" ;;
+-	  PA8*) echo hppa2.0-unknown-linux-"$LIBC" ;;
+-	  *)    echo hppa-unknown-linux-"$LIBC" ;;
++	  PA7*) GUESS=hppa1.1-unknown-linux-$LIBC ;;
++	  PA8*) GUESS=hppa2.0-unknown-linux-$LIBC ;;
++	  *)    GUESS=hppa-unknown-linux-$LIBC ;;
+ 	esac
+-	exit ;;
++	;;
+     ppc64:Linux:*:*)
+-	echo powerpc64-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=powerpc64-unknown-linux-$LIBC
++	;;
+     ppc:Linux:*:*)
+-	echo powerpc-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=powerpc-unknown-linux-$LIBC
++	;;
+     ppc64le:Linux:*:*)
+-	echo powerpc64le-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=powerpc64le-unknown-linux-$LIBC
++	;;
+     ppcle:Linux:*:*)
+-	echo powerpcle-unknown-linux-"$LIBC"
+-	exit ;;
+-    riscv32:Linux:*:* | riscv64:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=powerpcle-unknown-linux-$LIBC
++	;;
++    riscv32:Linux:*:* | riscv32be:Linux:*:* | riscv64:Linux:*:* | riscv64be:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     s390:Linux:*:* | s390x:Linux:*:*)
+-	echo "$UNAME_MACHINE"-ibm-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-ibm-linux-$LIBC
++	;;
+     sh64*:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     sh*:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     sparc:Linux:*:* | sparc64:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     tile*:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     vax:Linux:*:*)
+-	echo "$UNAME_MACHINE"-dec-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-dec-linux-$LIBC
++	;;
+     x86_64:Linux:*:*)
+ 	set_cc_for_build
++	CPU=$UNAME_MACHINE
+ 	LIBCABI=$LIBC
+-	if [ "$CC_FOR_BUILD" != no_compiler_found ]; then
+-	    if (echo '#ifdef __ILP32__'; echo IS_X32; echo '#endif') | \
+-		(CCOPTS="" $CC_FOR_BUILD -E - 2>/dev/null) | \
+-		grep IS_X32 >/dev/null
+-	    then
+-		LIBCABI="$LIBC"x32
+-	    fi
++	if test "$CC_FOR_BUILD" != no_compiler_found; then
++	    ABI=64
++	    sed 's/^	    //' << EOF > "$dummy.c"
++	    #ifdef __i386__
++	    ABI=x86
++	    #else
++	    #ifdef __ILP32__
++	    ABI=x32
++	    #endif
++	    #endif
++EOF
++	    cc_set_abi=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^ABI' | sed 's, ,,g'`
++	    eval "$cc_set_abi"
++	    case $ABI in
++		x86) CPU=i686 ;;
++		x32) LIBCABI=${LIBC}x32 ;;
++	    esac
+ 	fi
+-	echo "$UNAME_MACHINE"-pc-linux-"$LIBCABI"
+-	exit ;;
++	GUESS=$CPU-pc-linux-$LIBCABI
++	;;
+     xtensa*:Linux:*:*)
+-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
+     i*86:DYNIX/ptx:4*:*)
+ 	# ptx 4.0 does uname -s correctly, with DYNIX/ptx in there.
+ 	# earlier versions are messed up and put the nodename in both
+ 	# sysname and nodename.
+-	echo i386-sequent-sysv4
+-	exit ;;
++	GUESS=i386-sequent-sysv4
++	;;
+     i*86:UNIX_SV:4.2MP:2.*)
+ 	# Unixware is an offshoot of SVR4, but it has its own version
+ 	# number series starting with 2...
+ 	# I am not positive that other SVR4 systems won't match this,
+ 	# I just have to hope.  -- rms.
+ 	# Use sysv4.2uw... so that sysv4* matches it.
+-	echo "$UNAME_MACHINE"-pc-sysv4.2uw"$UNAME_VERSION"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-pc-sysv4.2uw$UNAME_VERSION
++	;;
+     i*86:OS/2:*:*)
+-	# If we were able to find `uname', then EMX Unix compatibility
++	# If we were able to find 'uname', then EMX Unix compatibility
+ 	# is probably installed.
+-	echo "$UNAME_MACHINE"-pc-os2-emx
+-	exit ;;
++	GUESS=$UNAME_MACHINE-pc-os2-emx
++	;;
+     i*86:XTS-300:*:STOP)
+-	echo "$UNAME_MACHINE"-unknown-stop
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-stop
++	;;
+     i*86:atheos:*:*)
+-	echo "$UNAME_MACHINE"-unknown-atheos
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-atheos
++	;;
+     i*86:syllable:*:*)
+-	echo "$UNAME_MACHINE"-pc-syllable
+-	exit ;;
++	GUESS=$UNAME_MACHINE-pc-syllable
++	;;
+     i*86:LynxOS:2.*:* | i*86:LynxOS:3.[01]*:* | i*86:LynxOS:4.[02]*:*)
+-	echo i386-unknown-lynxos"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=i386-unknown-lynxos$UNAME_RELEASE
++	;;
+     i*86:*DOS:*:*)
+-	echo "$UNAME_MACHINE"-pc-msdosdjgpp
+-	exit ;;
++	GUESS=$UNAME_MACHINE-pc-msdosdjgpp
++	;;
+     i*86:*:4.*:*)
+ 	UNAME_REL=`echo "$UNAME_RELEASE" | sed 's/\/MP$//'`
+ 	if grep Novell /usr/include/link.h >/dev/null 2>/dev/null; then
+-		echo "$UNAME_MACHINE"-univel-sysv"$UNAME_REL"
++		GUESS=$UNAME_MACHINE-univel-sysv$UNAME_REL
+ 	else
+-		echo "$UNAME_MACHINE"-pc-sysv"$UNAME_REL"
++		GUESS=$UNAME_MACHINE-pc-sysv$UNAME_REL
+ 	fi
+-	exit ;;
++	;;
+     i*86:*:5:[678]*)
+ 	# UnixWare 7.x, OpenUNIX and OpenServer 6.
+ 	case `/bin/uname -X | grep "^Machine"` in
+@@ -1159,12 +1268,12 @@ EOF
+ 	    *Pentium)	     UNAME_MACHINE=i586 ;;
+ 	    *Pent*|*Celeron) UNAME_MACHINE=i686 ;;
+ 	esac
+-	echo "$UNAME_MACHINE-unknown-sysv${UNAME_RELEASE}${UNAME_SYSTEM}${UNAME_VERSION}"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-sysv${UNAME_RELEASE}${UNAME_SYSTEM}${UNAME_VERSION}
++	;;
+     i*86:*:3.2:*)
+ 	if test -f /usr/options/cb.name; then
+ 		UNAME_REL=`sed -n 's/.*Version //p' </usr/options/cb.name`
+-		echo "$UNAME_MACHINE"-pc-isc"$UNAME_REL"
++		GUESS=$UNAME_MACHINE-pc-isc$UNAME_REL
+ 	elif /bin/uname -X 2>/dev/null >/dev/null ; then
+ 		UNAME_REL=`(/bin/uname -X|grep Release|sed -e 's/.*= //')`
+ 		(/bin/uname -X|grep i80486 >/dev/null) && UNAME_MACHINE=i486
+@@ -1174,11 +1283,11 @@ EOF
+ 			&& UNAME_MACHINE=i686
+ 		(/bin/uname -X|grep '^Machine.*Pentium Pro' >/dev/null) \
+ 			&& UNAME_MACHINE=i686
+-		echo "$UNAME_MACHINE"-pc-sco"$UNAME_REL"
++		GUESS=$UNAME_MACHINE-pc-sco$UNAME_REL
+ 	else
+-		echo "$UNAME_MACHINE"-pc-sysv32
++		GUESS=$UNAME_MACHINE-pc-sysv32
+ 	fi
+-	exit ;;
++	;;
+     pc:*:*:*)
+ 	# Left here for compatibility:
+ 	# uname -m prints for DJGPP always 'pc', but it prints nothing about
+@@ -1186,31 +1295,31 @@ EOF
+ 	# Note: whatever this is, it MUST be the same as what config.sub
+ 	# prints for the "djgpp" host, or else GDB configure will decide that
+ 	# this is a cross-build.
+-	echo i586-pc-msdosdjgpp
+-	exit ;;
++	GUESS=i586-pc-msdosdjgpp
++	;;
+     Intel:Mach:3*:*)
+-	echo i386-pc-mach3
+-	exit ;;
++	GUESS=i386-pc-mach3
++	;;
+     paragon:*:*:*)
+-	echo i860-intel-osf1
+-	exit ;;
++	GUESS=i860-intel-osf1
++	;;
+     i860:*:4.*:*) # i860-SVR4
+ 	if grep Stardent /usr/include/sys/uadmin.h >/dev/null 2>&1 ; then
+-	  echo i860-stardent-sysv"$UNAME_RELEASE" # Stardent Vistra i860-SVR4
++	  GUESS=i860-stardent-sysv$UNAME_RELEASE    # Stardent Vistra i860-SVR4
+ 	else # Add other i860-SVR4 vendors below as they are discovered.
+-	  echo i860-unknown-sysv"$UNAME_RELEASE"  # Unknown i860-SVR4
++	  GUESS=i860-unknown-sysv$UNAME_RELEASE     # Unknown i860-SVR4
+ 	fi
+-	exit ;;
++	;;
+     mini*:CTIX:SYS*5:*)
+ 	# "miniframe"
+-	echo m68010-convergent-sysv
+-	exit ;;
++	GUESS=m68010-convergent-sysv
++	;;
+     mc68k:UNIX:SYSTEM5:3.51m)
+-	echo m68k-convergent-sysv
+-	exit ;;
++	GUESS=m68k-convergent-sysv
++	;;
+     M680?0:D-NIX:5.3:*)
+-	echo m68k-diab-dnix
+-	exit ;;
++	GUESS=m68k-diab-dnix
++	;;
+     M68*:*:R3V[5678]*:*)
+ 	test -r /sysV68 && { echo 'm68k-motorola-sysv'; exit; } ;;
+     3[345]??:*:4.0:3.0 | 3[34]??A:*:4.0:3.0 | 3[34]??,*:*:4.0:3.0 | 3[34]??/*:*:4.0:3.0 | 4400:*:4.0:3.0 | 4850:*:4.0:3.0 | SKA40:*:4.0:3.0 | SDS2:*:4.0:3.0 | SHG2:*:4.0:3.0 | S7501*:*:4.0:3.0)
+@@ -1235,116 +1344,119 @@ EOF
+ 	/bin/uname -p 2>/dev/null | /bin/grep pteron >/dev/null \
+ 	    && { echo i586-ncr-sysv4.3"$OS_REL"; exit; } ;;
+     m68*:LynxOS:2.*:* | m68*:LynxOS:3.0*:*)
+-	echo m68k-unknown-lynxos"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=m68k-unknown-lynxos$UNAME_RELEASE
++	;;
+     mc68030:UNIX_System_V:4.*:*)
+-	echo m68k-atari-sysv4
+-	exit ;;
++	GUESS=m68k-atari-sysv4
++	;;
+     TSUNAMI:LynxOS:2.*:*)
+-	echo sparc-unknown-lynxos"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=sparc-unknown-lynxos$UNAME_RELEASE
++	;;
+     rs6000:LynxOS:2.*:*)
+-	echo rs6000-unknown-lynxos"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=rs6000-unknown-lynxos$UNAME_RELEASE
++	;;
+     PowerPC:LynxOS:2.*:* | PowerPC:LynxOS:3.[01]*:* | PowerPC:LynxOS:4.[02]*:*)
+-	echo powerpc-unknown-lynxos"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=powerpc-unknown-lynxos$UNAME_RELEASE
++	;;
+     SM[BE]S:UNIX_SV:*:*)
+-	echo mips-dde-sysv"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=mips-dde-sysv$UNAME_RELEASE
++	;;
+     RM*:ReliantUNIX-*:*:*)
+-	echo mips-sni-sysv4
+-	exit ;;
++	GUESS=mips-sni-sysv4
++	;;
+     RM*:SINIX-*:*:*)
+-	echo mips-sni-sysv4
+-	exit ;;
++	GUESS=mips-sni-sysv4
++	;;
+     *:SINIX-*:*:*)
+ 	if uname -p 2>/dev/null >/dev/null ; then
+ 		UNAME_MACHINE=`(uname -p) 2>/dev/null`
+-		echo "$UNAME_MACHINE"-sni-sysv4
++		GUESS=$UNAME_MACHINE-sni-sysv4
+ 	else
+-		echo ns32k-sni-sysv
++		GUESS=ns32k-sni-sysv
+ 	fi
+-	exit ;;
+-    PENTIUM:*:4.0*:*)	# Unisys `ClearPath HMP IX 4000' SVR4/MP effort
++	;;
++    PENTIUM:*:4.0*:*)	# Unisys 'ClearPath HMP IX 4000' SVR4/MP effort
+ 			# says <Richard.M.Bartel@ccMail.Census.GOV>
+-	echo i586-unisys-sysv4
+-	exit ;;
++	GUESS=i586-unisys-sysv4
++	;;
+     *:UNIX_System_V:4*:FTX*)
+ 	# From Gerald Hewes <hewes@openmarket.com>.
+ 	# How about differentiating between stratus architectures? -djm
+-	echo hppa1.1-stratus-sysv4
+-	exit ;;
++	GUESS=hppa1.1-stratus-sysv4
++	;;
+     *:*:*:FTX*)
+ 	# From seanf@swdc.stratus.com.
+-	echo i860-stratus-sysv4
+-	exit ;;
++	GUESS=i860-stratus-sysv4
++	;;
+     i*86:VOS:*:*)
+ 	# From Paul.Green@stratus.com.
+-	echo "$UNAME_MACHINE"-stratus-vos
+-	exit ;;
++	GUESS=$UNAME_MACHINE-stratus-vos
++	;;
+     *:VOS:*:*)
+ 	# From Paul.Green@stratus.com.
+-	echo hppa1.1-stratus-vos
+-	exit ;;
++	GUESS=hppa1.1-stratus-vos
++	;;
+     mc68*:A/UX:*:*)
+-	echo m68k-apple-aux"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=m68k-apple-aux$UNAME_RELEASE
++	;;
+     news*:NEWS-OS:6*:*)
+-	echo mips-sony-newsos6
+-	exit ;;
++	GUESS=mips-sony-newsos6
++	;;
+     R[34]000:*System_V*:*:* | R4000:UNIX_SYSV:*:* | R*000:UNIX_SV:*:*)
+-	if [ -d /usr/nec ]; then
+-		echo mips-nec-sysv"$UNAME_RELEASE"
++	if test -d /usr/nec; then
++		GUESS=mips-nec-sysv$UNAME_RELEASE
+ 	else
+-		echo mips-unknown-sysv"$UNAME_RELEASE"
++		GUESS=mips-unknown-sysv$UNAME_RELEASE
+ 	fi
+-	exit ;;
++	;;
+     BeBox:BeOS:*:*)	# BeOS running on hardware made by Be, PPC only.
+-	echo powerpc-be-beos
+-	exit ;;
++	GUESS=powerpc-be-beos
++	;;
+     BeMac:BeOS:*:*)	# BeOS running on Mac or Mac clone, PPC only.
+-	echo powerpc-apple-beos
+-	exit ;;
++	GUESS=powerpc-apple-beos
++	;;
+     BePC:BeOS:*:*)	# BeOS running on Intel PC compatible.
+-	echo i586-pc-beos
+-	exit ;;
++	GUESS=i586-pc-beos
++	;;
+     BePC:Haiku:*:*)	# Haiku running on Intel PC compatible.
+-	echo i586-pc-haiku
+-	exit ;;
+-    x86_64:Haiku:*:*)
+-	echo x86_64-unknown-haiku
+-	exit ;;
++	GUESS=i586-pc-haiku
++	;;
++    ppc:Haiku:*:*)	# Haiku running on Apple PowerPC
++	GUESS=powerpc-apple-haiku
++	;;
++    *:Haiku:*:*)	# Haiku modern gcc (not bound by BeOS compat)
++	GUESS=$UNAME_MACHINE-unknown-haiku
++	;;
+     SX-4:SUPER-UX:*:*)
+-	echo sx4-nec-superux"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=sx4-nec-superux$UNAME_RELEASE
++	;;
+     SX-5:SUPER-UX:*:*)
+-	echo sx5-nec-superux"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=sx5-nec-superux$UNAME_RELEASE
++	;;
+     SX-6:SUPER-UX:*:*)
+-	echo sx6-nec-superux"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=sx6-nec-superux$UNAME_RELEASE
++	;;
+     SX-7:SUPER-UX:*:*)
+-	echo sx7-nec-superux"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=sx7-nec-superux$UNAME_RELEASE
++	;;
+     SX-8:SUPER-UX:*:*)
+-	echo sx8-nec-superux"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=sx8-nec-superux$UNAME_RELEASE
++	;;
+     SX-8R:SUPER-UX:*:*)
+-	echo sx8r-nec-superux"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=sx8r-nec-superux$UNAME_RELEASE
++	;;
+     SX-ACE:SUPER-UX:*:*)
+-	echo sxace-nec-superux"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=sxace-nec-superux$UNAME_RELEASE
++	;;
+     Power*:Rhapsody:*:*)
+-	echo powerpc-apple-rhapsody"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=powerpc-apple-rhapsody$UNAME_RELEASE
++	;;
+     *:Rhapsody:*:*)
+-	echo "$UNAME_MACHINE"-apple-rhapsody"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-apple-rhapsody$UNAME_RELEASE
++	;;
+     arm64:Darwin:*:*)
+-	echo aarch64-apple-darwin"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=aarch64-apple-darwin$UNAME_RELEASE
++	;;
+     *:Darwin:*:*)
+ 	UNAME_PROCESSOR=`uname -p`
+ 	case $UNAME_PROCESSOR in
+@@ -1359,7 +1471,7 @@ EOF
+ 	else
+ 	    set_cc_for_build
+ 	fi
+-	if [ "$CC_FOR_BUILD" != no_compiler_found ]; then
++	if test "$CC_FOR_BUILD" != no_compiler_found; then
+ 	    if (echo '#ifdef __LP64__'; echo IS_64BIT_ARCH; echo '#endif') | \
+ 		   (CCOPTS="" $CC_FOR_BUILD -E - 2>/dev/null) | \
+ 		   grep IS_64BIT_ARCH >/dev/null
+@@ -1380,109 +1492,122 @@ EOF
+ 	    # uname -m returns i386 or x86_64
+ 	    UNAME_PROCESSOR=$UNAME_MACHINE
+ 	fi
+-	echo "$UNAME_PROCESSOR"-apple-darwin"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=$UNAME_PROCESSOR-apple-darwin$UNAME_RELEASE
++	;;
+     *:procnto*:*:* | *:QNX:[0123456789]*:*)
+ 	UNAME_PROCESSOR=`uname -p`
+ 	if test "$UNAME_PROCESSOR" = x86; then
+ 		UNAME_PROCESSOR=i386
+ 		UNAME_MACHINE=pc
+ 	fi
+-	echo "$UNAME_PROCESSOR"-"$UNAME_MACHINE"-nto-qnx"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=$UNAME_PROCESSOR-$UNAME_MACHINE-nto-qnx$UNAME_RELEASE
++	;;
+     *:QNX:*:4*)
+-	echo i386-pc-qnx
+-	exit ;;
++	GUESS=i386-pc-qnx
++	;;
+     NEO-*:NONSTOP_KERNEL:*:*)
+-	echo neo-tandem-nsk"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=neo-tandem-nsk$UNAME_RELEASE
++	;;
+     NSE-*:NONSTOP_KERNEL:*:*)
+-	echo nse-tandem-nsk"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=nse-tandem-nsk$UNAME_RELEASE
++	;;
+     NSR-*:NONSTOP_KERNEL:*:*)
+-	echo nsr-tandem-nsk"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=nsr-tandem-nsk$UNAME_RELEASE
++	;;
+     NSV-*:NONSTOP_KERNEL:*:*)
+-	echo nsv-tandem-nsk"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=nsv-tandem-nsk$UNAME_RELEASE
++	;;
+     NSX-*:NONSTOP_KERNEL:*:*)
+-	echo nsx-tandem-nsk"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=nsx-tandem-nsk$UNAME_RELEASE
++	;;
+     *:NonStop-UX:*:*)
+-	echo mips-compaq-nonstopux
+-	exit ;;
++	GUESS=mips-compaq-nonstopux
++	;;
+     BS2000:POSIX*:*:*)
+-	echo bs2000-siemens-sysv
+-	exit ;;
++	GUESS=bs2000-siemens-sysv
++	;;
+     DS/*:UNIX_System_V:*:*)
+-	echo "$UNAME_MACHINE"-"$UNAME_SYSTEM"-"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-$UNAME_SYSTEM-$UNAME_RELEASE
++	;;
+     *:Plan9:*:*)
+ 	# "uname -m" is not consistent, so use $cputype instead. 386
+ 	# is converted to i386 for consistency with other x86
+ 	# operating systems.
+-	# shellcheck disable=SC2154
+-	if test "$cputype" = 386; then
++	if test "${cputype-}" = 386; then
+ 	    UNAME_MACHINE=i386
+-	else
+-	    UNAME_MACHINE="$cputype"
++	elif test "x${cputype-}" != x; then
++	    UNAME_MACHINE=$cputype
+ 	fi
+-	echo "$UNAME_MACHINE"-unknown-plan9
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-plan9
++	;;
+     *:TOPS-10:*:*)
+-	echo pdp10-unknown-tops10
+-	exit ;;
++	GUESS=pdp10-unknown-tops10
++	;;
+     *:TENEX:*:*)
+-	echo pdp10-unknown-tenex
+-	exit ;;
++	GUESS=pdp10-unknown-tenex
++	;;
+     KS10:TOPS-20:*:* | KL10:TOPS-20:*:* | TYPE4:TOPS-20:*:*)
+-	echo pdp10-dec-tops20
+-	exit ;;
++	GUESS=pdp10-dec-tops20
++	;;
+     XKL-1:TOPS-20:*:* | TYPE5:TOPS-20:*:*)
+-	echo pdp10-xkl-tops20
+-	exit ;;
++	GUESS=pdp10-xkl-tops20
++	;;
+     *:TOPS-20:*:*)
+-	echo pdp10-unknown-tops20
+-	exit ;;
++	GUESS=pdp10-unknown-tops20
++	;;
+     *:ITS:*:*)
+-	echo pdp10-unknown-its
+-	exit ;;
++	GUESS=pdp10-unknown-its
++	;;
+     SEI:*:*:SEIUX)
+-	echo mips-sei-seiux"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=mips-sei-seiux$UNAME_RELEASE
++	;;
+     *:DragonFly:*:*)
+-	echo "$UNAME_MACHINE"-unknown-dragonfly"`echo "$UNAME_RELEASE"|sed -e 's/[-(].*//'`"
+-	exit ;;
++	DRAGONFLY_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
++	GUESS=$UNAME_MACHINE-unknown-dragonfly$DRAGONFLY_REL
++	;;
+     *:*VMS:*:*)
+ 	UNAME_MACHINE=`(uname -p) 2>/dev/null`
+-	case "$UNAME_MACHINE" in
+-	    A*) echo alpha-dec-vms ; exit ;;
+-	    I*) echo ia64-dec-vms ; exit ;;
+-	    V*) echo vax-dec-vms ; exit ;;
++	case $UNAME_MACHINE in
++	    A*) GUESS=alpha-dec-vms ;;
++	    I*) GUESS=ia64-dec-vms ;;
++	    V*) GUESS=vax-dec-vms ;;
+ 	esac ;;
+     *:XENIX:*:SysV)
+-	echo i386-pc-xenix
+-	exit ;;
++	GUESS=i386-pc-xenix
++	;;
+     i*86:skyos:*:*)
+-	echo "$UNAME_MACHINE"-pc-skyos"`echo "$UNAME_RELEASE" | sed -e 's/ .*$//'`"
+-	exit ;;
++	SKYOS_REL=`echo "$UNAME_RELEASE" | sed -e 's/ .*$//'`
++	GUESS=$UNAME_MACHINE-pc-skyos$SKYOS_REL
++	;;
+     i*86:rdos:*:*)
+-	echo "$UNAME_MACHINE"-pc-rdos
+-	exit ;;
+-    i*86:AROS:*:*)
+-	echo "$UNAME_MACHINE"-pc-aros
+-	exit ;;
++	GUESS=$UNAME_MACHINE-pc-rdos
++	;;
++    i*86:Fiwix:*:*)
++	GUESS=$UNAME_MACHINE-pc-fiwix
++	;;
++    *:AROS:*:*)
++	GUESS=$UNAME_MACHINE-unknown-aros
++	;;
+     x86_64:VMkernel:*:*)
+-	echo "$UNAME_MACHINE"-unknown-esx
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-esx
++	;;
+     amd64:Isilon\ OneFS:*:*)
+-	echo x86_64-unknown-onefs
+-	exit ;;
++	GUESS=x86_64-unknown-onefs
++	;;
+     *:Unleashed:*:*)
+-	echo "$UNAME_MACHINE"-unknown-unleashed"$UNAME_RELEASE"
+-	exit ;;
++	GUESS=$UNAME_MACHINE-unknown-unleashed$UNAME_RELEASE
++	;;
++    *:Ironclad:*:*)
++	GUESS=$UNAME_MACHINE-unknown-ironclad
++	;;
+ esac
+ 
++# Do we have a guess based on uname results?
++if test "x$GUESS" != x; then
++    echo "$GUESS"
++    exit
++fi
++
+ # No uname command or uname output not recognized.
+ set_cc_for_build
+ cat > "$dummy.c" <<EOF
+@@ -1498,6 +1623,7 @@ cat > "$dummy.c" <<EOF
+ #endif
+ #endif
+ #endif
++int
+ main ()
+ {
+ #if defined (sony)
+@@ -1614,7 +1740,7 @@ main ()
+ }
+ EOF
+ 
+-$CC_FOR_BUILD -o "$dummy" "$dummy.c" 2>/dev/null && SYSTEM_NAME=`$dummy` &&
++$CC_FOR_BUILD -o "$dummy" "$dummy.c" 2>/dev/null && SYSTEM_NAME=`"$dummy"` &&
+ 	{ echo "$SYSTEM_NAME"; exit; }
+ 
+ # Apollos put the system type in the environment.
+@@ -1622,7 +1748,7 @@ test -d /usr/apollo && { echo "$ISP-apollo-$SYSTYPE"; exit; }
+ 
+ echo "$0: unable to guess system type" >&2
+ 
+-case "$UNAME_MACHINE:$UNAME_SYSTEM" in
++case $UNAME_MACHINE:$UNAME_SYSTEM in
+     mips:Linux | mips64:Linux)
+ 	# If we got here on MIPS GNU/Linux, output extra information.
+ 	cat >&2 <<EOF
+@@ -1639,14 +1765,16 @@ This script (version $timestamp), has failed to recognize the
+ operating system you are using. If your script is old, overwrite *all*
+ copies of config.guess and config.sub with the latest versions from:
+ 
+-  https://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.guess
++  https://git.savannah.gnu.org/cgit/config.git/plain/config.guess
+ and
+-  https://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.sub
++  https://git.savannah.gnu.org/cgit/config.git/plain/config.sub
+ EOF
+ 
+-year=`echo $timestamp | sed 's,-.*,,'`
++our_year=`echo $timestamp | sed 's,-.*,,'`
++thisyear=`date +%Y`
+ # shellcheck disable=SC2003
+-if test "`expr "\`date +%Y\`" - "$year"`" -lt 3 ; then
++script_age=`expr "$thisyear" - "$our_year"`
++if test "$script_age" -lt 3 ; then
+    cat >&2 <<EOF
+ 
+ If $0 has already been updated, send the following data and any
+diff --git a/config.sub b/config.sub
+index acbba51cc..4aaae46f6 100644
+--- a/config.sub
++++ b/config.sub
+@@ -1,12 +1,14 @@
+ #! /bin/sh
+ # Configuration validation subroutine script.
+-#   Copyright 1992-2020 Free Software Foundation, Inc.
++#   Copyright 1992-2024 Free Software Foundation, Inc.
+ 
+-timestamp='2020-08-06'
++# shellcheck disable=SC2006,SC2268,SC2162 # see below for rationale
++
++timestamp='2024-05-27'
+ 
+ # This file is free software; you can redistribute it and/or modify it
+ # under the terms of the GNU General Public License as published by
+-# the Free Software Foundation; either version 3 of the License, or
++# the Free Software Foundation, either version 3 of the License, or
+ # (at your option) any later version.
+ #
+ # This program is distributed in the hope that it will be useful, but
+@@ -33,7 +35,7 @@ timestamp='2020-08-06'
+ # Otherwise, we print the canonical config type on stdout and succeed.
+ 
+ # You can get the latest version of this script from:
+-# https://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.sub
++# https://git.savannah.gnu.org/cgit/config.git/plain/config.sub
+ 
+ # This file is supposed to be the same for all GNU packages
+ # and recognize all the CPU types, system types and aliases
+@@ -50,6 +52,13 @@ timestamp='2020-08-06'
+ #	CPU_TYPE-MANUFACTURER-KERNEL-OPERATING_SYSTEM
+ # It is wrong to echo any other type of specification.
+ 
++# The "shellcheck disable" line above the timestamp inhibits complaints
++# about features and limitations of the classic Bourne shell that were
++# superseded or lifted in POSIX.  However, this script identifies a wide
++# variety of pre-POSIX systems that do not have POSIX shells at all, and
++# even some reasonably current systems (Solaris 10 as case-in-point) still
++# have a pre-POSIX /bin/sh.
++
+ me=`echo "$0" | sed -e 's,.*/,,'`
+ 
+ usage="\
+@@ -67,13 +76,13 @@ Report bugs and patches to <config-patches@gnu.org>."
+ version="\
+ GNU config.sub ($timestamp)
+ 
+-Copyright 1992-2020 Free Software Foundation, Inc.
++Copyright 1992-2024 Free Software Foundation, Inc.
+ 
+ This is free software; see the source for copying conditions.  There is NO
+ warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."
+ 
+ help="
+-Try \`$me --help' for more information."
++Try '$me --help' for more information."
+ 
+ # Parse command line
+ while test $# -gt 0 ; do
+@@ -111,15 +120,16 @@ case $# in
+ esac
+ 
+ # Split fields of configuration type
+-# shellcheck disable=SC2162
++saved_IFS=$IFS
+ IFS="-" read field1 field2 field3 field4 <<EOF
+ $1
+ EOF
++IFS=$saved_IFS
+ 
+ # Separate into logical components for further validation
+ case $1 in
+ 	*-*-*-*-*)
+-		echo Invalid configuration \`"$1"\': more than four components >&2
++		echo "Invalid configuration '$1': more than four components" >&2
+ 		exit 1
+ 		;;
+ 	*-*-*-*)
+@@ -131,10 +141,21 @@ case $1 in
+ 		# parts
+ 		maybe_os=$field2-$field3
+ 		case $maybe_os in
+-			nto-qnx* | linux-* | uclinux-uclibc* \
+-			| uclinux-gnu* | kfreebsd*-gnu* | knetbsd*-gnu* | netbsd*-gnu* \
+-			| netbsd*-eabi* | kopensolaris*-gnu* | cloudabi*-eabi* \
+-			| storm-chaos* | os2-emx* | rtmk-nova*)
++			  cloudabi*-eabi* \
++			| kfreebsd*-gnu* \
++			| knetbsd*-gnu* \
++			| kopensolaris*-gnu* \
++			| linux-* \
++			| managarm-* \
++			| netbsd*-eabi* \
++			| netbsd*-gnu* \
++			| nto-qnx* \
++			| os2-emx* \
++			| rtmk-nova* \
++			| storm-chaos* \
++			| uclinux-gnu* \
++			| uclinux-uclibc* \
++			| windows-* )
+ 				basic_machine=$field1
+ 				basic_os=$maybe_os
+ 				;;
+@@ -149,8 +170,12 @@ case $1 in
+ 		esac
+ 		;;
+ 	*-*)
+-		# A lone config we happen to match not fitting any pattern
+ 		case $field1-$field2 in
++			# Shorthands that happen to contain a single dash
++			convex-c[12] | convex-c3[248])
++				basic_machine=$field2-convex
++				basic_os=
++				;;
+ 			decstation-3100)
+ 				basic_machine=mips-dec
+ 				basic_os=
+@@ -158,24 +183,88 @@ case $1 in
+ 			*-*)
+ 				# Second component is usually, but not always the OS
+ 				case $field2 in
+-					# Prevent following clause from handling this valid os
++					# Do not treat sunos as a manufacturer
+ 					sun*os*)
+ 						basic_machine=$field1
+ 						basic_os=$field2
+ 						;;
+ 					# Manufacturers
+-					dec* | mips* | sequent* | encore* | pc533* | sgi* | sony* \
+-					| att* | 7300* | 3300* | delta* | motorola* | sun[234]* \
+-					| unicom* | ibm* | next | hp | isi* | apollo | altos* \
+-					| convergent* | ncr* | news | 32* | 3600* | 3100* \
+-					| hitachi* | c[123]* | convex* | sun | crds | omron* | dg \
+-					| ultra | tti* | harris | dolphin | highlevel | gould \
+-					| cbm | ns | masscomp | apple | axis | knuth | cray \
+-					| microblaze* | sim | cisco \
+-					| oki | wec | wrs | winbond)
++					  3100* \
++					| 32* \
++					| 3300* \
++					| 3600* \
++					| 7300* \
++					| acorn \
++					| altos* \
++					| apollo \
++					| apple \
++					| atari \
++					| att* \
++					| axis \
++					| be \
++					| bull \
++					| cbm \
++					| ccur \
++					| cisco \
++					| commodore \
++					| convergent* \
++					| convex* \
++					| cray \
++					| crds \
++					| dec* \
++					| delta* \
++					| dg \
++					| digital \
++					| dolphin \
++					| encore* \
++					| gould \
++					| harris \
++					| highlevel \
++					| hitachi* \
++					| hp \
++					| ibm* \
++					| intergraph \
++					| isi* \
++					| knuth \
++					| masscomp \
++					| microblaze* \
++					| mips* \
++					| motorola* \
++					| ncr* \
++					| news \
++					| next \
++					| ns \
++					| oki \
++					| omron* \
++					| pc533* \
++					| rebel \
++					| rom68k \
++					| rombug \
++					| semi \
++					| sequent* \
++					| siemens \
++					| sgi* \
++					| siemens \
++					| sim \
++					| sni \
++					| sony* \
++					| stratus \
++					| sun \
++					| sun[234]* \
++					| tektronix \
++					| tti* \
++					| ultra \
++					| unicom* \
++					| wec \
++					| winbond \
++					| wrs)
+ 						basic_machine=$field1-$field2
+ 						basic_os=
+ 						;;
++					zephyr*)
++						basic_machine=$field1-unknown
++						basic_os=$field2
++						;;
+ 					*)
+ 						basic_machine=$field1
+ 						basic_os=$field2
+@@ -256,26 +345,6 @@ case $1 in
+ 				basic_machine=arm-unknown
+ 				basic_os=cegcc
+ 				;;
+-			convex-c1)
+-				basic_machine=c1-convex
+-				basic_os=bsd
+-				;;
+-			convex-c2)
+-				basic_machine=c2-convex
+-				basic_os=bsd
+-				;;
+-			convex-c32)
+-				basic_machine=c32-convex
+-				basic_os=bsd
+-				;;
+-			convex-c34)
+-				basic_machine=c34-convex
+-				basic_os=bsd
+-				;;
+-			convex-c38)
+-				basic_machine=c38-convex
+-				basic_os=bsd
+-				;;
+ 			cray)
+ 				basic_machine=j90-cray
+ 				basic_os=unicos
+@@ -698,15 +767,26 @@ case $basic_machine in
+ 		vendor=dec
+ 		basic_os=tops20
+ 		;;
+-	delta | 3300 | motorola-3300 | motorola-delta \
+-	      | 3300-motorola | delta-motorola)
++	delta | 3300 | delta-motorola | 3300-motorola | motorola-delta | motorola-3300)
+ 		cpu=m68k
+ 		vendor=motorola
+ 		;;
+-	dpx2*)
++	# This used to be dpx2*, but that gets the RS6000-based
++	# DPX/20 and the x86-based DPX/2-100 wrong.  See
++	# https://oldskool.silicium.org/stations/bull_dpx20.htm
++	# https://www.feb-patrimoine.com/english/bull_dpx2.htm
++	# https://www.feb-patrimoine.com/english/unix_and_bull.htm
++	dpx2 | dpx2[23]00 | dpx2[23]xx)
+ 		cpu=m68k
+ 		vendor=bull
+-		basic_os=sysv3
++		;;
++	dpx2100 | dpx21xx)
++		cpu=i386
++		vendor=bull
++		;;
++	dpx20)
++		cpu=rs6000
++		vendor=bull
+ 		;;
+ 	encore | umax | mmax)
+ 		cpu=ns32k
+@@ -821,18 +901,6 @@ case $basic_machine in
+ 	next | m*-next)
+ 		cpu=m68k
+ 		vendor=next
+-		case $basic_os in
+-		    openstep*)
+-		        ;;
+-		    nextstep*)
+-			;;
+-		    ns2*)
+-		      basic_os=nextstep2
+-			;;
+-		    *)
+-		      basic_os=nextstep3
+-			;;
+-		esac
+ 		;;
+ 	np1)
+ 		cpu=np1
+@@ -921,12 +989,13 @@ case $basic_machine in
+ 		;;
+ 
+ 	*-*)
+-		# shellcheck disable=SC2162
++		saved_IFS=$IFS
+ 		IFS="-" read cpu vendor <<EOF
+ $basic_machine
+ EOF
++		IFS=$saved_IFS
+ 		;;
+-	# We use `pc' rather than `unknown'
++	# We use 'pc' rather than 'unknown'
+ 	# because (1) that's what they normally are, and
+ 	# (2) the word "unknown" tends to confuse beginning users.
+ 	i*86 | x86_64)
+@@ -954,15 +1023,19 @@ unset -v basic_machine
+ 
+ # Decode basic machines in the full and proper CPU-Company form.
+ case $cpu-$vendor in
+-	# Here we handle the default manufacturer of certain CPU types in canonical form. It is in
+-	# some cases the only manufacturer, in others, it is the most popular.
++	# Here we handle the default manufacturer of certain CPU types in canonical form.
++	# It is in some cases the only manufacturer, in others, it is the most popular.
++	c[12]-convex | c[12]-unknown | c3[248]-convex | c3[248]-unknown)
++		vendor=convex
++		basic_os=${basic_os:-bsd}
++		;;
+ 	craynv-unknown)
+ 		vendor=cray
+ 		basic_os=${basic_os:-unicosmp}
+ 		;;
+ 	c90-unknown | c90-cray)
+ 		vendor=cray
+-		basic_os=${Basic_os:-unicos}
++		basic_os=${basic_os:-unicos}
+ 		;;
+ 	fx80-unknown)
+ 		vendor=alliant
+@@ -1003,11 +1076,34 @@ case $cpu-$vendor in
+ 		;;
+ 
+ 	# Here we normalize CPU types with a missing or matching vendor
+-	dpx20-unknown | dpx20-bull)
+-		cpu=rs6000
+-		vendor=bull
++	armh-unknown | armh-alt)
++		cpu=armv7l
++		vendor=alt
++		basic_os=${basic_os:-linux-gnueabihf}
++		;;
++
++	# Normalized CPU+vendor pairs that imply an OS, if not otherwise specified
++	m68k-isi)
++		basic_os=${basic_os:-sysv}
++		;;
++	m68k-sony)
++		basic_os=${basic_os:-newsos}
++		;;
++	m68k-tektronix)
++		basic_os=${basic_os:-bsd}
++		;;
++	m88k-harris)
++		basic_os=${basic_os:-sysv3}
++		;;
++	i386-bull | m68k-bull)
++		basic_os=${basic_os:-sysv3}
++		;;
++	rs6000-bull)
+ 		basic_os=${basic_os:-bosx}
+ 		;;
++	mips-sni)
++		basic_os=${basic_os:-sysv4}
++		;;
+ 
+ 	# Here we normalize CPU types irrespective of the vendor
+ 	amd64-*)
+@@ -1015,7 +1111,7 @@ case $cpu-$vendor in
+ 		;;
+ 	blackfin-*)
+ 		cpu=bfin
+-		basic_os=linux
++		basic_os=${basic_os:-linux}
+ 		;;
+ 	c54x-*)
+ 		cpu=tic54x
+@@ -1038,7 +1134,7 @@ case $cpu-$vendor in
+ 		;;
+ 	m68knommu-*)
+ 		cpu=m68k
+-		basic_os=linux
++		basic_os=${basic_os:-linux}
+ 		;;
+ 	m9s12z-* | m68hcs12z-* | hcs12z-* | s12z-*)
+ 		cpu=s12z
+@@ -1048,12 +1144,12 @@ case $cpu-$vendor in
+ 		;;
+ 	parisc-*)
+ 		cpu=hppa
+-		basic_os=linux
++		basic_os=${basic_os:-linux}
+ 		;;
+ 	pentium-* | p5-* | k5-* | k6-* | nexgen-* | viac3-*)
+ 		cpu=i586
+ 		;;
+-	pentiumpro-* | p6-* | 6x86-* | athlon-* | athalon_*-*)
++	pentiumpro-* | p6-* | 6x86-* | athlon-* | athlon_*-*)
+ 		cpu=i686
+ 		;;
+ 	pentiumii-* | pentium2-* | pentiumiii-* | pentium3-*)
+@@ -1062,9 +1158,6 @@ case $cpu-$vendor in
+ 	pentium4-*)
+ 		cpu=i786
+ 		;;
+-	pc98-*)
+-		cpu=i386
+-		;;
+ 	ppc-* | ppcbe-*)
+ 		cpu=powerpc
+ 		;;
+@@ -1098,13 +1191,10 @@ case $cpu-$vendor in
+ 	tx39el-*)
+ 		cpu=mipstx39el
+ 		;;
+-	x64-*)
+-		cpu=x86_64
+-		;;
+ 	xscale-* | xscalee[bl]-*)
+ 		cpu=`echo "$cpu" | sed 's/^xscale/arm/'`
+ 		;;
+-	arm64-*)
++	arm64-* | aarch64le-*)
+ 		cpu=aarch64
+ 		;;
+ 
+@@ -1156,108 +1246,231 @@ case $cpu-$vendor in
+ 		# Recognize the canonical CPU types that are allowed with any
+ 		# company name.
+ 		case $cpu in
+-			1750a | 580 \
++			  1750a \
++			| 580 \
++			| [cjt]90 \
+ 			| a29k \
+-			| aarch64 | aarch64_be \
++			| aarch64 \
++			| aarch64_be \
++			| aarch64c \
+ 			| abacus \
+-			| alpha | alphaev[4-8] | alphaev56 | alphaev6[78] \
+-			| alpha64 | alpha64ev[4-8] | alpha64ev56 | alpha64ev6[78] \
+-			| alphapca5[67] | alpha64pca5[67] \
++			| alpha \
++			| alpha64 \
++			| alpha64ev56 \
++			| alpha64ev6[78] \
++			| alpha64ev[4-8] \
++			| alpha64pca5[67] \
++			| alphaev56 \
++			| alphaev6[78] \
++			| alphaev[4-8] \
++			| alphapca5[67] \
+ 			| am33_2.0 \
+ 			| amdgcn \
+-			| arc | arceb \
+-			| arm | arm[lb]e | arme[lb] | armv* \
+-			| avr | avr32 \
++			| arc \
++			| arc32 \
++			| arc64 \
++			| arceb \
++			| arm \
++			| arm64e \
++			| arm64ec \
++			| arm[lb]e \
++			| arme[lb] \
++			| armv* \
+ 			| asmjs \
++			| avr \
++			| avr32 \
+ 			| ba \
+-			| be32 | be64 \
+-			| bfin | bpf | bs2000 \
+-			| c[123]* | c30 | [cjt]90 | c4x \
+-			| c8051 | clipper | craynv | csky | cydra \
+-			| d10v | d30v | dlx | dsp16xx \
+-			| e2k | elxsi | epiphany \
+-			| f30[01] | f700 | fido | fr30 | frv | ft32 | fx80 \
+-			| h8300 | h8500 \
+-			| hppa | hppa1.[01] | hppa2.0 | hppa2.0[nw] | hppa64 \
++			| be32 \
++			| be64 \
++			| bfin \
++			| bpf \
++			| bs2000 \
++			| c30 \
++			| c4x \
++			| c8051 \
++			| c[123]* \
++			| clipper \
++			| craynv \
++			| csky \
++			| cydra \
++			| d10v \
++			| d30v \
++			| dlx \
++			| dsp16xx \
++			| e2k \
++			| elxsi \
++			| epiphany \
++			| f30[01] \
++			| f700 \
++			| fido \
++			| fr30 \
++			| frv \
++			| ft32 \
++			| fx80 \
++			| h8300 \
++			| h8500 \
+ 			| hexagon \
+-			| i370 | i*86 | i860 | i960 | ia16 | ia64 \
+-			| ip2k | iq2000 \
++			| hppa \
++			| hppa1.[01] \
++			| hppa2.0 \
++			| hppa2.0[nw] \
++			| hppa64 \
++			| i*86 \
++			| i370 \
++			| i860 \
++			| i960 \
++			| ia16 \
++			| ia64 \
++			| ip2k \
++			| iq2000 \
++			| javascript \
+ 			| k1om \
+-			| le32 | le64 \
++			| kvx \
++			| le32 \
++			| le64 \
+ 			| lm32 \
+-			| m32c | m32r | m32rle \
+-			| m5200 | m68000 | m680[012346]0 | m68360 | m683?2 | m68k \
+-			| m6811 | m68hc11 | m6812 | m68hc12 | m68hcs12x \
+-			| m88110 | m88k | maxq | mb | mcore | mep | metag \
+-			| microblaze | microblazeel \
+-			| mips | mipsbe | mipseb | mipsel | mipsle \
+-			| mips16 \
+-			| mips64 | mips64eb | mips64el \
+-			| mips64octeon | mips64octeonel \
+-			| mips64orion | mips64orionel \
+-			| mips64r5900 | mips64r5900el \
+-			| mips64vr | mips64vrel \
+-			| mips64vr4100 | mips64vr4100el \
+-			| mips64vr4300 | mips64vr4300el \
+-			| mips64vr5000 | mips64vr5000el \
+-			| mips64vr5900 | mips64vr5900el \
+-			| mipsisa32 | mipsisa32el \
+-			| mipsisa32r2 | mipsisa32r2el \
+-			| mipsisa32r6 | mipsisa32r6el \
+-			| mipsisa64 | mipsisa64el \
+-			| mipsisa64r2 | mipsisa64r2el \
+-			| mipsisa64r6 | mipsisa64r6el \
+-			| mipsisa64sb1 | mipsisa64sb1el \
+-			| mipsisa64sr71k | mipsisa64sr71kel \
+-			| mipsr5900 | mipsr5900el \
+-			| mipstx39 | mipstx39el \
++			| loongarch32 \
++			| loongarch64 \
++			| m32c \
++			| m32r \
++			| m32rle \
++			| m5200 \
++			| m68000 \
++			| m680[012346]0 \
++			| m6811 \
++			| m6812 \
++			| m68360 \
++			| m683?2 \
++			| m68hc11 \
++			| m68hc12 \
++			| m68hcs12x \
++			| m68k \
++			| m88110 \
++			| m88k \
++			| maxq \
++			| mb \
++			| mcore \
++			| mep \
++			| metag \
++			| microblaze \
++			| microblazeel \
++			| mips* \
+ 			| mmix \
+-			| mn10200 | mn10300 \
++			| mn10200 \
++			| mn10300 \
+ 			| moxie \
+-			| mt \
+ 			| msp430 \
+-			| nds32 | nds32le | nds32be \
++			| mt \
++			| nanomips* \
++			| nds32 \
++			| nds32be \
++			| nds32le \
+ 			| nfp \
+-			| nios | nios2 | nios2eb | nios2el \
+-			| none | np1 | ns16k | ns32k | nvptx \
++			| nios \
++			| nios2 \
++			| nios2eb \
++			| nios2el \
++			| none \
++			| np1 \
++			| ns16k \
++			| ns32k \
++			| nvptx \
+ 			| open8 \
+ 			| or1k* \
+ 			| or32 \
+ 			| orion \
++			| pdp10 \
++			| pdp11 \
+ 			| picochip \
+-			| pdp10 | pdp11 | pj | pjl | pn | power \
+-			| powerpc | powerpc64 | powerpc64le | powerpcle | powerpcspe \
++			| pj \
++			| pjl \
++			| pn \
++			| power \
++			| powerpc \
++			| powerpc64 \
++			| powerpc64le \
++			| powerpcle \
++			| powerpcspe \
+ 			| pru \
+ 			| pyramid \
+-			| riscv | riscv32 | riscv64 \
+-			| rl78 | romp | rs6000 | rx \
+-			| s390 | s390x \
++			| riscv \
++			| riscv32 \
++			| riscv32be \
++			| riscv64 \
++			| riscv64be \
++			| rl78 \
++			| romp \
++			| rs6000 \
++			| rx \
++			| s390 \
++			| s390x \
+ 			| score \
+-			| sh | shl \
+-			| sh[1234] | sh[24]a | sh[24]ae[lb] | sh[23]e | she[lb] | sh[lb]e \
+-			| sh[1234]e[lb] |  sh[12345][lb]e | sh[23]ele | sh64 | sh64le \
+-			| sparc | sparc64 | sparc64b | sparc64v | sparc86x | sparclet \
++			| sh \
++			| sh64 \
++			| sh64le \
++			| sh[12345][lb]e \
++			| sh[1234] \
++			| sh[1234]e[lb] \
++			| sh[23]e \
++			| sh[23]ele \
++			| sh[24]a \
++			| sh[24]ae[lb] \
++			| sh[lb]e \
++			| she[lb] \
++			| shl \
++			| sparc \
++			| sparc64 \
++			| sparc64b \
++			| sparc64v \
++			| sparc86x \
++			| sparclet \
+ 			| sparclite \
+-			| sparcv8 | sparcv9 | sparcv9b | sparcv9v | sv1 | sx* \
++			| sparcv8 \
++			| sparcv9 \
++			| sparcv9b \
++			| sparcv9v \
+ 			| spu \
++			| sv1 \
++			| sx* \
+ 			| tahoe \
+-			| tic30 | tic4x | tic54x | tic55x | tic6x | tic80 \
++			| thumbv7* \
++			| tic30 \
++			| tic4x \
++			| tic54x \
++			| tic55x \
++			| tic6x \
++			| tic80 \
+ 			| tron \
+ 			| ubicom32 \
+-			| v70 | v850 | v850e | v850e1 | v850es | v850e2 | v850e2v3 \
++			| v70 \
++			| v810 \
++			| v850 \
++			| v850e \
++			| v850e1 \
++			| v850e2 \
++			| v850e2v3 \
++			| v850es \
+ 			| vax \
++			| vc4 \
+ 			| visium \
+ 			| w65 \
+-			| wasm32 | wasm64 \
++			| wasm32 \
++			| wasm64 \
+ 			| we32k \
+-			| x86 | x86_64 | xc16x | xgate | xps100 \
+-			| xstormy16 | xtensa* \
++			| x86 \
++			| x86_64 \
++			| xc16x \
++			| xgate \
++			| xps100 \
++			| xstormy16 \
++			| xtensa* \
+ 			| ymp \
+-			| z8k | z80)
++			| z80 \
++			| z8k)
+ 				;;
+ 
+ 			*)
+-				echo Invalid configuration \`"$1"\': machine \`"$cpu-$vendor"\' not recognized 1>&2
++				echo "Invalid configuration '$1': machine '$cpu-$vendor' not recognized" 1>&2
+ 				exit 1
+ 				;;
+ 		esac
+@@ -1278,34 +1491,44 @@ esac
+ 
+ # Decode manufacturer-specific aliases for certain operating systems.
+ 
+-if [ x$basic_os != x ]
++if test x"$basic_os" != x
+ then
+ 
+-# First recognize some ad-hoc case, or perhaps split kernel-os, or else just
++# First recognize some ad-hoc cases, or perhaps split kernel-os, or else just
+ # set os.
++obj=
+ case $basic_os in
+ 	gnu/linux*)
+ 		kernel=linux
+-		os=`echo $basic_os | sed -e 's|gnu/linux|gnu|'`
++		os=`echo "$basic_os" | sed -e 's|gnu/linux|gnu|'`
++		;;
++	os2-emx)
++		kernel=os2
++		os=`echo "$basic_os" | sed -e 's|os2-emx|emx|'`
+ 		;;
+ 	nto-qnx*)
+ 		kernel=nto
+-		os=`echo $basic_os | sed -e 's|nto-qnx|qnx|'`
++		os=`echo "$basic_os" | sed -e 's|nto-qnx|qnx|'`
+ 		;;
+ 	*-*)
+-		# shellcheck disable=SC2162
++		saved_IFS=$IFS
+ 		IFS="-" read kernel os <<EOF
+ $basic_os
+ EOF
++		IFS=$saved_IFS
+ 		;;
+ 	# Default OS when just kernel was specified
+ 	nto*)
+ 		kernel=nto
+-		os=`echo $basic_os | sed -e 's|nto|qnx|'`
++		os=`echo "$basic_os" | sed -e 's|nto|qnx|'`
+ 		;;
+ 	linux*)
+ 		kernel=linux
+-		os=`echo $basic_os | sed -e 's|linux|gnu|'`
++		os=`echo "$basic_os" | sed -e 's|linux|gnu|'`
++		;;
++	managarm*)
++		kernel=managarm
++		os=`echo "$basic_os" | sed -e 's|managarm|mlibc|'`
+ 		;;
+ 	*)
+ 		kernel=
+@@ -1326,7 +1549,7 @@ case $os in
+ 		os=cnk
+ 		;;
+ 	solaris1 | solaris1.*)
+-		os=`echo $os | sed -e 's|solaris1|sunos4|'`
++		os=`echo "$os" | sed -e 's|solaris1|sunos4|'`
+ 		;;
+ 	solaris)
+ 		os=solaris2
+@@ -1334,6 +1557,23 @@ case $os in
+ 	unixware*)
+ 		os=sysv4.2uw
+ 		;;
++	# The marketing names for NeXT's operating systems were
++	# NeXTSTEP, NeXTSTEP 2, OpenSTEP 3, OpenSTEP 4.  'openstep' is
++	# mapped to 'openstep3', but 'openstep1' and 'openstep2' are
++	# mapped to 'nextstep' and 'nextstep2', consistent with the
++	# treatment of SunOS/Solaris.
++	ns | ns1 | nextstep | nextstep1 | openstep1)
++		os=nextstep
++		;;
++	ns2 | nextstep2 | openstep2)
++		os=nextstep2
++		;;
++	ns3 | nextstep3 | openstep | openstep3)
++		os=openstep3
++		;;
++	ns4 | nextstep4 | openstep4)
++		os=openstep4
++		;;
+ 	# es1800 is here to avoid being matched by es* (a different OS)
+ 	es1800*)
+ 		os=ose
+@@ -1355,7 +1595,7 @@ case $os in
+ 		os=sco3.2v4
+ 		;;
+ 	sco3.2.[4-9]*)
+-		os=`echo $os | sed -e 's/sco3.2./sco3.2v/'`
++		os=`echo "$os" | sed -e 's/sco3.2./sco3.2v/'`
+ 		;;
+ 	sco*v* | scout)
+ 		# Don't match below
+@@ -1367,13 +1607,7 @@ case $os in
+ 		os=psos
+ 		;;
+ 	qnx*)
+-		case $cpu in
+-		    x86 | i*86)
+-			;;
+-		    *)
+-			os=nto-$os
+-			;;
+-		esac
++		os=qnx
+ 		;;
+ 	hiux*)
+ 		os=hiuxwe2
+@@ -1410,6 +1644,7 @@ case $os in
+ 		;;
+ 	utek*)
+ 		os=bsd
++		vendor=`echo "$vendor" | sed -e 's|^unknown$|tektronix|'`
+ 		;;
+ 	dynix*)
+ 		os=bsd
+@@ -1426,21 +1661,25 @@ case $os in
+ 	386bsd)
+ 		os=bsd
+ 		;;
+-	ctix* | uts*)
++	ctix*)
+ 		os=sysv
++		vendor=`echo "$vendor" | sed -e 's|^unknown$|convergent|'`
+ 		;;
+-	nova*)
+-		os=rtmk-nova
++	uts*)
++		os=sysv
+ 		;;
+-	ns2)
+-		os=nextstep2
++	nova*)
++		kernel=rtmk
++		os=nova
+ 		;;
+ 	# Preserve the version number of sinix5.
+ 	sinix5.*)
+-		os=`echo $os | sed -e 's|sinix|sysv|'`
++		os=`echo "$os" | sed -e 's|sinix|sysv|'`
++		vendor=`echo "$vendor" | sed -e 's|^unknown$|sni|'`
+ 		;;
+ 	sinix*)
+ 		os=sysv4
++		vendor=`echo "$vendor" | sed -e 's|^unknown$|sni|'`
+ 		;;
+ 	tpf*)
+ 		os=tpf
+@@ -1478,10 +1717,16 @@ case $os in
+ 			os=eabi
+ 			;;
+ 		    *)
+-			os=elf
++			os=
++			obj=elf
+ 			;;
+ 		esac
+ 		;;
++	aout* | coff* | elf* | pe*)
++		# These are machine code file formats, not OSes
++		obj=$os
++		os=
++		;;
+ 	*)
+ 		# No normalization, but not necessarily accepted, that comes below.
+ 		;;
+@@ -1500,12 +1745,15 @@ else
+ # system, and we'll never get to this point.
+ 
+ kernel=
++obj=
+ case $cpu-$vendor in
+ 	score-*)
+-		os=elf
++		os=
++		obj=elf
+ 		;;
+ 	spu-*)
+-		os=elf
++		os=
++		obj=elf
+ 		;;
+ 	*-acorn)
+ 		os=riscix1.2
+@@ -1515,28 +1763,35 @@ case $cpu-$vendor in
+ 		os=gnu
+ 		;;
+ 	arm*-semi)
+-		os=aout
++		os=
++		obj=aout
+ 		;;
+ 	c4x-* | tic4x-*)
+-		os=coff
++		os=
++		obj=coff
+ 		;;
+ 	c8051-*)
+-		os=elf
++		os=
++		obj=elf
+ 		;;
+ 	clipper-intergraph)
+ 		os=clix
+ 		;;
+ 	hexagon-*)
+-		os=elf
++		os=
++		obj=elf
+ 		;;
+ 	tic54x-*)
+-		os=coff
++		os=
++		obj=coff
+ 		;;
+ 	tic55x-*)
+-		os=coff
++		os=
++		obj=coff
+ 		;;
+ 	tic6x-*)
+-		os=coff
++		os=
++		obj=coff
+ 		;;
+ 	# This must come before the *-dec entry.
+ 	pdp10-*)
+@@ -1558,28 +1813,43 @@ case $cpu-$vendor in
+ 		os=sunos3
+ 		;;
+ 	m68*-cisco)
+-		os=aout
++		os=
++		obj=aout
+ 		;;
+ 	mep-*)
+-		os=elf
++		os=
++		obj=elf
++		;;
++	# The -sgi and -siemens entries must be before the mips- entry
++	# or we get the wrong os.
++	*-sgi)
++		os=irix
++		;;
++	*-siemens)
++		os=sysv4
+ 		;;
+ 	mips*-cisco)
+-		os=elf
++		os=
++		obj=elf
+ 		;;
+-	mips*-*)
+-		os=elf
++	mips*-*|nanomips*-*)
++		os=
++		obj=elf
+ 		;;
+ 	or32-*)
+-		os=coff
++		os=
++		obj=coff
+ 		;;
+-	*-tti)	# must be before sparc entry or we get the wrong os.
++	# This must be before the sparc-* entry or we get the wrong os.
++	*-tti)
+ 		os=sysv3
+ 		;;
+ 	sparc-* | *-sun)
+ 		os=sunos4.1.1
+ 		;;
+ 	pru-*)
+-		os=elf
++		os=
++		obj=elf
+ 		;;
+ 	*-be)
+ 		os=beos
+@@ -1603,7 +1873,7 @@ case $cpu-$vendor in
+ 		os=hpux
+ 		;;
+ 	*-hitachi)
+-		os=hiux
++		os=hiuxwe2
+ 		;;
+ 	i860-* | *-att | *-ncr | *-altos | *-motorola | *-convergent)
+ 		os=sysv
+@@ -1647,12 +1917,6 @@ case $cpu-$vendor in
+ 	*-encore)
+ 		os=bsd
+ 		;;
+-	*-sgi)
+-		os=irix
+-		;;
+-	*-siemens)
+-		os=sysv4
+-		;;
+ 	*-masscomp)
+ 		os=rtu
+ 		;;
+@@ -1660,10 +1924,12 @@ case $cpu-$vendor in
+ 		os=uxpv
+ 		;;
+ 	*-rom68k)
+-		os=coff
++		os=
++		obj=coff
+ 		;;
+ 	*-*bug)
+-		os=coff
++		os=
++		obj=coff
+ 		;;
+ 	*-apple)
+ 		os=macos
+@@ -1681,83 +1947,320 @@ esac
+ 
+ fi
+ 
+-# Now, validate our (potentially fixed-up) OS.
++# Now, validate our (potentially fixed-up) individual pieces (OS, OBJ).
++
+ case $os in
+-	# Sometimes we do "kernel-abi", so those need to count as OSes.
+-	musl* | newlib* | uclibc*)
++	# Sometimes we do "kernel-libc", so those need to count as OSes.
++	llvm* | musl* | newlib* | relibc* | uclibc*)
++		;;
++	# Likewise for "kernel-abi"
++	eabi* | gnueabi*)
++		;;
++	# VxWorks passes extra cpu info in the 4th filed.
++	simlinux | simwindows | spe)
+ 		;;
+-	# Likewise for "kernel-libc"
+-	eabi | eabihf | gnueabi | gnueabihf)
++	# See `case $cpu-$os` validation below
++	ghcjs)
+ 		;;
+ 	# Now accept the basic system types.
+-	# The portable systems comes first.
+ 	# Each alternative MUST end in a * to match a version number.
+-	gnu* | android* | bsd* | mach* | minix* | genix* | ultrix* | irix* \
+-	     | *vms* | esix* | aix* | cnk* | sunos | sunos[34]* \
+-	     | hpux* | unos* | osf* | luna* | dgux* | auroraux* | solaris* \
+-	     | sym* |  plan9* | psp* | sim* | xray* | os68k* | v88r* \
+-	     | hiux* | abug | nacl* | netware* | windows* \
+-	     | os9* | macos* | osx* | ios* \
+-	     | mpw* | magic* | mmixware* | mon960* | lnews* \
+-	     | amigaos* | amigados* | msdos* | newsos* | unicos* | aof* \
+-	     | aos* | aros* | cloudabi* | sortix* | twizzler* \
+-	     | nindy* | vxsim* | vxworks* | ebmon* | hms* | mvs* \
+-	     | clix* | riscos* | uniplus* | iris* | isc* | rtu* | xenix* \
+-	     | mirbsd* | netbsd* | dicos* | openedition* | ose* \
+-	     | bitrig* | openbsd* | solidbsd* | libertybsd* | os108* \
+-	     | ekkobsd* | freebsd* | riscix* | lynxos* | os400* \
+-	     | bosx* | nextstep* | cxux* | aout* | elf* | oabi* \
+-	     | ptx* | coff* | ecoff* | winnt* | domain* | vsta* \
+-	     | udi* | lites* | ieee* | go32* | aux* | hcos* \
+-	     | chorusrdb* | cegcc* | glidix* \
+-	     | cygwin* | msys* | pe* | moss* | proelf* | rtems* \
+-	     | midipix* | mingw32* | mingw64* | mint* \
+-	     | uxpv* | beos* | mpeix* | udk* | moxiebox* \
+-	     | interix* | uwin* | mks* | rhapsody* | darwin* \
+-	     | openstep* | oskit* | conix* | pw32* | nonstopux* \
+-	     | storm-chaos* | tops10* | tenex* | tops20* | its* \
+-	     | os2* | vos* | palmos* | uclinux* | nucleus* | morphos* \
+-	     | scout* | superux* | sysv* | rtmk* | tpf* | windiss* \
+-	     | powermax* | dnix* | nx6 | nx7 | sei* | dragonfly* \
+-	     | skyos* | haiku* | rdos* | toppers* | drops* | es* \
+-	     | onefs* | tirtos* | phoenix* | fuchsia* | redox* | bme* \
+-	     | midnightbsd* | amdhsa* | unleashed* | emscripten* | wasi* \
+-	     | nsk* | powerunix* | genode* | zvmoe* )
++	  abug \
++	| aix* \
++	| amdhsa* \
++	| amigados* \
++	| amigaos* \
++	| android* \
++	| aof* \
++	| aos* \
++	| aros* \
++	| atheos* \
++	| auroraux* \
++	| aux* \
++	| beos* \
++	| bitrig* \
++	| bme* \
++	| bosx* \
++	| bsd* \
++	| cegcc* \
++	| chorusos* \
++	| chorusrdb* \
++	| clix* \
++	| cloudabi* \
++	| cnk* \
++	| conix* \
++	| cos* \
++	| cxux* \
++	| cygwin* \
++	| darwin* \
++	| dgux* \
++	| dicos* \
++	| dnix* \
++	| domain* \
++	| dragonfly* \
++	| drops* \
++	| ebmon* \
++	| ecoff* \
++	| ekkobsd* \
++	| emscripten* \
++	| emx* \
++	| es* \
++	| fiwix* \
++	| freebsd* \
++	| fuchsia* \
++	| genix* \
++	| genode* \
++	| glidix* \
++	| gnu* \
++	| go32* \
++	| haiku* \
++	| hcos* \
++	| hiux* \
++	| hms* \
++	| hpux* \
++	| ieee* \
++	| interix* \
++	| ios* \
++	| iris* \
++	| irix* \
++	| ironclad* \
++	| isc* \
++	| its* \
++	| l4re* \
++	| libertybsd* \
++	| lites* \
++	| lnews* \
++	| luna* \
++	| lynxos* \
++	| mach* \
++	| macos* \
++	| magic* \
++	| mbr* \
++	| midipix* \
++	| midnightbsd* \
++	| mingw32* \
++	| mingw64* \
++	| minix* \
++	| mint* \
++	| mirbsd* \
++	| mks* \
++	| mlibc* \
++	| mmixware* \
++	| mon960* \
++	| morphos* \
++	| moss* \
++	| moxiebox* \
++	| mpeix* \
++	| mpw* \
++	| msdos* \
++	| msys* \
++	| mvs* \
++	| nacl* \
++	| netbsd* \
++	| netware* \
++	| newsos* \
++	| nextstep* \
++	| nindy* \
++	| nonstopux* \
++	| nova* \
++	| nsk* \
++	| nucleus* \
++	| nx6 \
++	| nx7 \
++	| oabi* \
++	| ohos* \
++	| onefs* \
++	| openbsd* \
++	| openedition* \
++	| openstep* \
++	| os108* \
++	| os2* \
++	| os400* \
++	| os68k* \
++	| os9* \
++	| ose* \
++	| osf* \
++	| oskit* \
++	| osx* \
++	| palmos* \
++	| phoenix* \
++	| plan9* \
++	| powermax* \
++	| powerunix* \
++	| proelf* \
++	| psos* \
++	| psp* \
++	| ptx* \
++	| pw32* \
++	| qnx* \
++	| rdos* \
++	| redox* \
++	| rhapsody* \
++	| riscix* \
++	| riscos* \
++	| rtems* \
++	| rtmk* \
++	| rtu* \
++	| scout* \
++	| secbsd* \
++	| sei* \
++	| serenity* \
++	| sim* \
++	| skyos* \
++	| solaris* \
++	| solidbsd* \
++	| sortix* \
++	| storm-chaos* \
++	| sunos \
++	| sunos[34]* \
++	| superux* \
++	| syllable* \
++	| sym* \
++	| sysv* \
++	| tenex* \
++	| tirtos* \
++	| toppers* \
++	| tops10* \
++	| tops20* \
++	| tpf* \
++	| tvos* \
++	| twizzler* \
++	| uclinux* \
++	| udi* \
++	| udk* \
++	| ultrix* \
++	| unicos* \
++	| uniplus* \
++	| unleashed* \
++	| unos* \
++	| uwin* \
++	| uxpv* \
++	| v88r* \
++	|*vms* \
++	| vos* \
++	| vsta* \
++	| vxsim* \
++	| vxworks* \
++	| wasi* \
++	| watchos* \
++	| wince* \
++	| windiss* \
++	| windows* \
++	| winnt* \
++	| xenix* \
++	| xray* \
++	| zephyr* \
++	| zvmoe* )
+ 		;;
+ 	# This one is extra strict with allowed versions
+ 	sco3.2v2 | sco3.2v[4-9]* | sco5v6*)
+ 		# Don't forget version if it is 3.2v4 or newer.
+ 		;;
++	# This refers to builds using the UEFI calling convention
++	# (which depends on the architecture) and PE file format.
++	# Note that this is both a different calling convention and
++	# different file format than that of GNU-EFI
++	# (x86_64-w64-mingw32).
++	uefi)
++		;;
+ 	none)
+ 		;;
++	kernel* | msvc* )
++		# Restricted further below
++		;;
++	'')
++		if test x"$obj" = x
++		then
++			echo "Invalid configuration '$1': Blank OS only allowed with explicit machine code file format" 1>&2
++		fi
++		;;
+ 	*)
+-		echo Invalid configuration \`"$1"\': OS \`"$os"\' not recognized 1>&2
++		echo "Invalid configuration '$1': OS '$os' not recognized" 1>&2
++		exit 1
++		;;
++esac
++
++case $obj in
++	aout* | coff* | elf* | pe*)
++		;;
++	'')
++		# empty is fine
++		;;
++	*)
++		echo "Invalid configuration '$1': Machine code format '$obj' not recognized" 1>&2
++		exit 1
++		;;
++esac
++
++# Here we handle the constraint that a (synthetic) cpu and os are
++# valid only in combination with each other and nowhere else.
++case $cpu-$os in
++	# The "javascript-unknown-ghcjs" triple is used by GHC; we
++	# accept it here in order to tolerate that, but reject any
++	# variations.
++	javascript-ghcjs)
++		;;
++	javascript-* | *-ghcjs)
++		echo "Invalid configuration '$1': cpu '$cpu' is not valid with os '$os$obj'" 1>&2
+ 		exit 1
+ 		;;
+ esac
+ 
+ # As a final step for OS-related things, validate the OS-kernel combination
+ # (given a valid OS), if there is a kernel.
+-case $kernel-$os in
+-	linux-gnu* | linux-dietlibc* | linux-android* | linux-newlib* | linux-musl* | linux-uclibc* )
++case $kernel-$os-$obj in
++	linux-gnu*- | linux-android*- | linux-dietlibc*- | linux-llvm*- \
++		    | linux-mlibc*- | linux-musl*- | linux-newlib*- \
++		    | linux-relibc*- | linux-uclibc*- | linux-ohos*- )
++		;;
++	uclinux-uclibc*- | uclinux-gnu*- )
++		;;
++	managarm-mlibc*- | managarm-kernel*- )
++		;;
++	windows*-msvc*-)
+ 		;;
+-	-dietlibc* | -newlib* | -musl* | -uclibc* )
++	-dietlibc*- | -llvm*- | -mlibc*- | -musl*- | -newlib*- | -relibc*- \
++		    | -uclibc*- )
+ 		# These are just libc implementations, not actual OSes, and thus
+ 		# require a kernel.
+-		echo "Invalid configuration \`$1': libc \`$os' needs explicit kernel." 1>&2
++		echo "Invalid configuration '$1': libc '$os' needs explicit kernel." 1>&2
+ 		exit 1
+ 		;;
+-	kfreebsd*-gnu* | kopensolaris*-gnu*)
++	-kernel*- )
++		echo "Invalid configuration '$1': '$os' needs explicit kernel." 1>&2
++		exit 1
+ 		;;
+-	nto-qnx*)
++	*-kernel*- )
++		echo "Invalid configuration '$1': '$kernel' does not support '$os'." 1>&2
++		exit 1
++		;;
++	*-msvc*- )
++		echo "Invalid configuration '$1': '$os' needs 'windows'." 1>&2
++		exit 1
++		;;
++	kfreebsd*-gnu*- | knetbsd*-gnu*- | netbsd*-gnu*- | kopensolaris*-gnu*-)
++		;;
++	vxworks-simlinux- | vxworks-simwindows- | vxworks-spe-)
+ 		;;
+-	*-eabi* | *-gnueabi*)
++	nto-qnx*-)
+ 		;;
+-	-*)
++	os2-emx-)
++		;;
++	rtmk-nova-)
++		;;
++	*-eabi*- | *-gnueabi*-)
++		;;
++	none--*)
++		# None (no kernel, i.e. freestanding / bare metal),
++		# can be paired with an machine code file format
++		;;
++	-*-)
+ 		# Blank kernel with real OS is always fine.
+ 		;;
+-	*-*)
+-		echo "Invalid configuration \`$1': Kernel \`$kernel' not known to work with OS \`$os'." 1>&2
++	--*)
++		# Blank kernel and OS with real machine code file format is always fine.
++		;;
++	*-*-*)
++		echo "Invalid configuration '$1': Kernel '$kernel' not known to work with OS '$os'." 1>&2
+ 		exit 1
+ 		;;
+ esac
+@@ -1770,7 +2273,7 @@ case $vendor in
+ 			*-riscix*)
+ 				vendor=acorn
+ 				;;
+-			*-sunos*)
++			*-sunos* | *-solaris*)
+ 				vendor=sun
+ 				;;
+ 			*-cnk* | *-aix*)
+@@ -1840,7 +2343,7 @@ case $vendor in
+ 		;;
+ esac
+ 
+-echo "$cpu-$vendor-${kernel:+$kernel-}$os"
++echo "$cpu-$vendor${kernel:+-$kernel}${os:+-$os}${obj:+-$obj}"
+ exit
+ 
+ # Local variables:
+diff --git a/configure.ac b/configure.ac
+index dbd38eaa5..e84af5167 100644
+--- a/configure.ac
++++ b/configure.ac
+@@ -5060,6 +5060,11 @@ linux-gnu*|linux-musl*)
+         RTL_ARCH=X86_64
+         PLATFORMID=linux_x86_64
+         ;;
++    loongarch64)
++	CPUNAME=LOONGARCH64
++	RTL_ARCH=LOONGARCH64
++	PLATFORMID=linux_loongarch64
++	;;
+     *)
+         AC_MSG_ERROR([Unsupported host_cpu $host_cpu for host_os $host_os])
+         ;;
+@@ -12793,7 +12798,7 @@ AC_SUBST(RHINO_JAR)
+ # platforms there.
+ supports_multilib=
+ case "$host_cpu" in
+-x86_64 | powerpc64 | powerpc64le | s390x | aarch64 | mips64 | mips64el)
++x86_64 | powerpc64 | powerpc64le | s390x | aarch64 | mips64 | mips64el | loongarch64)
+     if test "$SAL_TYPES_SIZEOFLONG" = "8"; then
+         supports_multilib="yes"
+     fi
+diff --git a/download.lst b/download.lst
+index bf5ce1596..45e29b668 100644
+--- a/download.lst
++++ b/download.lst
+@@ -20,7 +20,7 @@ export BSH_SHA256SUM := 9e93c73e23aff644b17dfff656444474c14150e7f3b38b19635e6222
+ export BSH_TARBALL := beeca87be45ec87d241ddd0e1bad80c1-bsh-2.0b6-src.zip
+ export BZIP2_SHA256SUM := ab5a03176ee106d3f0fa90e381da478ddae405918153cca248e682cd0c4a2269
+ export BZIP2_TARBALL := bzip2-1.0.8.tar.gz
+-export CAIRO_SHA256SUM := 74b24c1ed436bbe87499179a3b27c43f4143b8676d8ad237a6fa787401959705
++export CAIRO_SHA256SUM := c0730c3e67e7293ec3ce9c1b6c3dcc753aca1b416244f8331923ce10119cb847
+ export CAIRO_VERSION_MICRO := 4
+ export CAIRO_TARBALL := cairo-1.17.$(CAIRO_VERSION_MICRO).tar.xz
+ export CDR_SHA256SUM := 5666249d613466b9aa1e987ea4109c04365866e9277d80f6cd9663e86b8ecdd4
+@@ -54,7 +54,7 @@ export EXPAT_SHA256SUM := ee14b4c5d8908b1bec37ad937607eab183d4d9806a08adee472c3c
+ export EXPAT_TARBALL := expat-2.6.2.tar.xz
+ export FIREBIRD_SHA256SUM := acb85cedafa10ce106b1823fb236b1b3e5d942a5741e8f8435cc8ccfec0afe76
+ export FIREBIRD_TARBALL := Firebird-3.0.7.33374-0.tar.bz2
+-export FONTCONFIG_SHA256SUM := a5f052cb73fd479ffb7b697980510903b563bbb55b8f7a2b001fcfb94026003c
++export FONTCONFIG_SHA256SUM := 363e206f0eca0d8db3b21d08b70b78a0dcf78ef9d169a8afa937a7d36163a1ca
+ export FONTCONFIG_TARBALL := fontconfig-2.13.94.tar.xz
+ export FONT_CALADEA_SHA256SUM := c48d1c2fd613c9c06c959c34da7b8388059e2408d2bb19845dc3ed35f76e4d09
+ export FONT_CALADEA_TARBALL := 368f114c078f94214a308a74c7e991bc-crosextrafonts-20130214.tar.gz
+@@ -178,9 +178,9 @@ export LIBEOT_SHA256SUM := cf5091fa8e7dcdbe667335eb90a2cfdd0a3fe8f8c7c8d1ece44d9
+ export LIBEOT_TARBALL := libeot-0.01.tar.bz2
+ export LIBEXTTEXTCAT_SHA256SUM := 6d77eace20e9ea106c1330e268ede70c9a4a89744ddc25715682754eca3368df
+ export LIBEXTTEXTCAT_TARBALL := libexttextcat-3.4.6.tar.xz
+-export LIBFFI_SHA256SUM := 72fba7922703ddfa7a028d513ac15a85c8d54c8d67f55fa5a4802885dc652056
+-export LIBFFI_TARBALL := libffi-3.3.tar.gz
+-export LIBGPGERROR_SHA256SUM := a9ab83ca7acc442a5bd846a75b920285ff79bdb4e3d34aa382be88ed2c3aebaf
++export LIBFFI_SHA256SUM := 4416dd92b6ae8fcb5b10421e711c4d3cb31203d77521a77d85d0102311e6c3b8
++LIBFFI_SHA256SUM := bc9842a18898bfacb0ed1252c4febcc7e78fa139fd27fdc7a3e30d9d9356119b
++LIBFFI_TARBALL := libffi-3.4.8.tar.gz
+ export LIBGPGERROR_TARBALL := libgpg-error-1.43.tar.bz2
+ export LIBLANGTAG_SHA256SUM := 1f12a20a02ec3a8d22e54dedb8b683a43c9c160bda1ba337bf1060607ae733bd
+ export LIBLANGTAG_TARBALL := liblangtag-0.6.3.tar.bz2
+@@ -248,7 +248,7 @@ export POPPLER_DATA_SHA256SUM := 2cec05cd1bb03af98a8b06a1e22f6e6e1a65b1e2f3816cb
+ export POPPLER_DATA_TARBALL := poppler-data-0.4.11.tar.gz
+ export POSTGRESQL_SHA256SUM := 73876fdd3a517087340458dca4ce15b8d2a4dbceb334c0441424551ae6c4cded
+ export POSTGRESQL_TARBALL := postgresql-13.8.tar.bz2
+-export PYTHON_SHA256SUM := d2807ac69f69b84fd46a0b93bbd02a4fa48d3e70f4b2835ff0f72a2885040076
++export PYTHON_SHA256SUM := c957a29b73fa8bc5cd5a7bd7c7fbff82c4b8e84c327ffa8765f2a5a2df6edd68
+ export PYTHON_TARBALL := Python-3.8.19.tar.xz
+ export QXP_SHA256SUM := e137b6b110120a52c98edd02ebdc4095ee08d0d5295a94316a981750095a945c
+ export QXP_TARBALL := libqxp-0.0.2.tar.xz
+diff --git a/external/config.guess b/external/config.guess
+new file mode 100644
+index 000000000..48a684601
+--- /dev/null
++++ b/external/config.guess
+@@ -0,0 +1,1815 @@
++#! /bin/sh
++# Attempt to guess a canonical system name.
++#   Copyright 1992-2024 Free Software Foundation, Inc.
++
++# shellcheck disable=SC2006,SC2268 # see below for rationale
++
++timestamp='2024-07-27'
++
++# This file is free software; you can redistribute it and/or modify it
++# under the terms of the GNU General Public License as published by
++# the Free Software Foundation, either version 3 of the License, or
++# (at your option) any later version.
++#
++# This program is distributed in the hope that it will be useful, but
++# WITHOUT ANY WARRANTY; without even the implied warranty of
++# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
++# General Public License for more details.
++#
++# You should have received a copy of the GNU General Public License
++# along with this program; if not, see <https://www.gnu.org/licenses/>.
++#
++# As a special exception to the GNU General Public License, if you
++# distribute this file as part of a program that contains a
++# configuration script generated by Autoconf, you may include it under
++# the same distribution terms that you use for the rest of that
++# program.  This Exception is an additional permission under section 7
++# of the GNU General Public License, version 3 ("GPLv3").
++#
++# Originally written by Per Bothner; maintained since 2000 by Ben Elliston.
++#
++# You can get the latest version of this script from:
++# https://git.savannah.gnu.org/cgit/config.git/plain/config.guess
++#
++# Please send patches to <config-patches@gnu.org>.
++
++
++# The "shellcheck disable" line above the timestamp inhibits complaints
++# about features and limitations of the classic Bourne shell that were
++# superseded or lifted in POSIX.  However, this script identifies a wide
++# variety of pre-POSIX systems that do not have POSIX shells at all, and
++# even some reasonably current systems (Solaris 10 as case-in-point) still
++# have a pre-POSIX /bin/sh.
++
++
++me=`echo "$0" | sed -e 's,.*/,,'`
++
++usage="\
++Usage: $0 [OPTION]
++
++Output the configuration name of the system '$me' is run on.
++
++Options:
++  -h, --help         print this help, then exit
++  -t, --time-stamp   print date of last modification, then exit
++  -v, --version      print version number, then exit
++
++Report bugs and patches to <config-patches@gnu.org>."
++
++version="\
++GNU config.guess ($timestamp)
++
++Originally written by Per Bothner.
++Copyright 1992-2024 Free Software Foundation, Inc.
++
++This is free software; see the source for copying conditions.  There is NO
++warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."
++
++help="
++Try '$me --help' for more information."
++
++# Parse command line
++while test $# -gt 0 ; do
++  case $1 in
++    --time-stamp | --time* | -t )
++       echo "$timestamp" ; exit ;;
++    --version | -v )
++       echo "$version" ; exit ;;
++    --help | --h* | -h )
++       echo "$usage"; exit ;;
++    -- )     # Stop option processing
++       shift; break ;;
++    - )	# Use stdin as input.
++       break ;;
++    -* )
++       echo "$me: invalid option $1$help" >&2
++       exit 1 ;;
++    * )
++       break ;;
++  esac
++done
++
++if test $# != 0; then
++  echo "$me: too many arguments$help" >&2
++  exit 1
++fi
++
++# Just in case it came from the environment.
++GUESS=
++
++# CC_FOR_BUILD -- compiler used by this script. Note that the use of a
++# compiler to aid in system detection is discouraged as it requires
++# temporary files to be created and, as you can see below, it is a
++# headache to deal with in a portable fashion.
++
++# Historically, 'CC_FOR_BUILD' used to be named 'HOST_CC'. We still
++# use 'HOST_CC' if defined, but it is deprecated.
++
++# Portable tmp directory creation inspired by the Autoconf team.
++
++tmp=
++# shellcheck disable=SC2172
++trap 'test -z "$tmp" || rm -fr "$tmp"' 0 1 2 13 15
++
++set_cc_for_build() {
++    # prevent multiple calls if $tmp is already set
++    test "$tmp" && return 0
++    : "${TMPDIR=/tmp}"
++    # shellcheck disable=SC2039,SC3028
++    { tmp=`(umask 077 && mktemp -d "$TMPDIR/cgXXXXXX") 2>/dev/null` && test -n "$tmp" && test -d "$tmp" ; } ||
++	{ test -n "$RANDOM" && tmp=$TMPDIR/cg$$-$RANDOM && (umask 077 && mkdir "$tmp" 2>/dev/null) ; } ||
++	{ tmp=$TMPDIR/cg-$$ && (umask 077 && mkdir "$tmp" 2>/dev/null) && echo "Warning: creating insecure temp directory" >&2 ; } ||
++	{ echo "$me: cannot create a temporary directory in $TMPDIR" >&2 ; exit 1 ; }
++    dummy=$tmp/dummy
++    case ${CC_FOR_BUILD-},${HOST_CC-},${CC-} in
++	,,)    echo "int x;" > "$dummy.c"
++	       for driver in cc gcc c17 c99 c89 ; do
++		   if ($driver -c -o "$dummy.o" "$dummy.c") >/dev/null 2>&1 ; then
++		       CC_FOR_BUILD=$driver
++		       break
++		   fi
++	       done
++	       if test x"$CC_FOR_BUILD" = x ; then
++		   CC_FOR_BUILD=no_compiler_found
++	       fi
++	       ;;
++	,,*)   CC_FOR_BUILD=$CC ;;
++	,*,*)  CC_FOR_BUILD=$HOST_CC ;;
++    esac
++}
++
++# This is needed to find uname on a Pyramid OSx when run in the BSD universe.
++# (ghazi@noc.rutgers.edu 1994-08-24)
++if test -f /.attbin/uname ; then
++	PATH=$PATH:/.attbin ; export PATH
++fi
++
++UNAME_MACHINE=`(uname -m) 2>/dev/null` || UNAME_MACHINE=unknown
++UNAME_RELEASE=`(uname -r) 2>/dev/null` || UNAME_RELEASE=unknown
++UNAME_SYSTEM=`(uname -s) 2>/dev/null` || UNAME_SYSTEM=unknown
++UNAME_VERSION=`(uname -v) 2>/dev/null` || UNAME_VERSION=unknown
++
++case $UNAME_SYSTEM in
++Linux|GNU|GNU/*)
++	LIBC=unknown
++
++	set_cc_for_build
++	cat <<-EOF > "$dummy.c"
++	#if defined(__ANDROID__)
++	LIBC=android
++	#else
++	#include <features.h>
++	#if defined(__UCLIBC__)
++	LIBC=uclibc
++	#elif defined(__dietlibc__)
++	LIBC=dietlibc
++	#elif defined(__GLIBC__)
++	LIBC=gnu
++	#elif defined(__LLVM_LIBC__)
++	LIBC=llvm
++	#else
++	#include <stdarg.h>
++	/* First heuristic to detect musl libc.  */
++	#ifdef __DEFINED_va_list
++	LIBC=musl
++	#endif
++	#endif
++	#endif
++	EOF
++	cc_set_libc=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^LIBC' | sed 's, ,,g'`
++	eval "$cc_set_libc"
++
++	# Second heuristic to detect musl libc.
++	if [ "$LIBC" = unknown ] &&
++	   command -v ldd >/dev/null &&
++	   ldd --version 2>&1 | grep -q ^musl; then
++		LIBC=musl
++	fi
++
++	# If the system lacks a compiler, then just pick glibc.
++	# We could probably try harder.
++	if [ "$LIBC" = unknown ]; then
++		LIBC=gnu
++	fi
++	;;
++esac
++
++# Note: order is significant - the case branches are not exclusive.
++
++case $UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION in
++    *:NetBSD:*:*)
++	# NetBSD (nbsd) targets should (where applicable) match one or
++	# more of the tuples: *-*-netbsdelf*, *-*-netbsdaout*,
++	# *-*-netbsdecoff* and *-*-netbsd*.  For targets that recently
++	# switched to ELF, *-*-netbsd* would select the old
++	# object file format.  This provides both forward
++	# compatibility and a consistent mechanism for selecting the
++	# object file format.
++	#
++	# Note: NetBSD doesn't particularly care about the vendor
++	# portion of the name.  We always set it to "unknown".
++	UNAME_MACHINE_ARCH=`(uname -p 2>/dev/null || \
++	    /sbin/sysctl -n hw.machine_arch 2>/dev/null || \
++	    /usr/sbin/sysctl -n hw.machine_arch 2>/dev/null || \
++	    echo unknown)`
++	case $UNAME_MACHINE_ARCH in
++	    aarch64eb) machine=aarch64_be-unknown ;;
++	    armeb) machine=armeb-unknown ;;
++	    arm*) machine=arm-unknown ;;
++	    sh3el) machine=shl-unknown ;;
++	    sh3eb) machine=sh-unknown ;;
++	    sh5el) machine=sh5le-unknown ;;
++	    earmv*)
++		arch=`echo "$UNAME_MACHINE_ARCH" | sed -e 's,^e\(armv[0-9]\).*$,\1,'`
++		endian=`echo "$UNAME_MACHINE_ARCH" | sed -ne 's,^.*\(eb\)$,\1,p'`
++		machine=${arch}${endian}-unknown
++		;;
++	    *) machine=$UNAME_MACHINE_ARCH-unknown ;;
++	esac
++	# The Operating System including object format, if it has switched
++	# to ELF recently (or will in the future) and ABI.
++	case $UNAME_MACHINE_ARCH in
++	    earm*)
++		os=netbsdelf
++		;;
++	    arm*|i386|m68k|ns32k|sh3*|sparc|vax)
++		set_cc_for_build
++		if echo __ELF__ | $CC_FOR_BUILD -E - 2>/dev/null \
++			| grep -q __ELF__
++		then
++		    # Once all utilities can be ECOFF (netbsdecoff) or a.out (netbsdaout).
++		    # Return netbsd for either.  FIX?
++		    os=netbsd
++		else
++		    os=netbsdelf
++		fi
++		;;
++	    *)
++		os=netbsd
++		;;
++	esac
++	# Determine ABI tags.
++	case $UNAME_MACHINE_ARCH in
++	    earm*)
++		expr='s/^earmv[0-9]/-eabi/;s/eb$//'
++		abi=`echo "$UNAME_MACHINE_ARCH" | sed -e "$expr"`
++		;;
++	esac
++	# The OS release
++	# Debian GNU/NetBSD machines have a different userland, and
++	# thus, need a distinct triplet. However, they do not need
++	# kernel version information, so it can be replaced with a
++	# suitable tag, in the style of linux-gnu.
++	case $UNAME_VERSION in
++	    Debian*)
++		release='-gnu'
++		;;
++	    *)
++		release=`echo "$UNAME_RELEASE" | sed -e 's/[-_].*//' | cut -d. -f1,2`
++		;;
++	esac
++	# Since CPU_TYPE-MANUFACTURER-KERNEL-OPERATING_SYSTEM:
++	# contains redundant information, the shorter form:
++	# CPU_TYPE-MANUFACTURER-OPERATING_SYSTEM is used.
++	GUESS=$machine-${os}${release}${abi-}
++	;;
++    *:Bitrig:*:*)
++	UNAME_MACHINE_ARCH=`arch | sed 's/Bitrig.//'`
++	GUESS=$UNAME_MACHINE_ARCH-unknown-bitrig$UNAME_RELEASE
++	;;
++    *:OpenBSD:*:*)
++	UNAME_MACHINE_ARCH=`arch | sed 's/OpenBSD.//'`
++	GUESS=$UNAME_MACHINE_ARCH-unknown-openbsd$UNAME_RELEASE
++	;;
++    *:SecBSD:*:*)
++	UNAME_MACHINE_ARCH=`arch | sed 's/SecBSD.//'`
++	GUESS=$UNAME_MACHINE_ARCH-unknown-secbsd$UNAME_RELEASE
++	;;
++    *:LibertyBSD:*:*)
++	UNAME_MACHINE_ARCH=`arch | sed 's/^.*BSD\.//'`
++	GUESS=$UNAME_MACHINE_ARCH-unknown-libertybsd$UNAME_RELEASE
++	;;
++    *:MidnightBSD:*:*)
++	GUESS=$UNAME_MACHINE-unknown-midnightbsd$UNAME_RELEASE
++	;;
++    *:ekkoBSD:*:*)
++	GUESS=$UNAME_MACHINE-unknown-ekkobsd$UNAME_RELEASE
++	;;
++    *:SolidBSD:*:*)
++	GUESS=$UNAME_MACHINE-unknown-solidbsd$UNAME_RELEASE
++	;;
++    *:OS108:*:*)
++	GUESS=$UNAME_MACHINE-unknown-os108_$UNAME_RELEASE
++	;;
++    macppc:MirBSD:*:*)
++	GUESS=powerpc-unknown-mirbsd$UNAME_RELEASE
++	;;
++    *:MirBSD:*:*)
++	GUESS=$UNAME_MACHINE-unknown-mirbsd$UNAME_RELEASE
++	;;
++    *:Sortix:*:*)
++	GUESS=$UNAME_MACHINE-unknown-sortix
++	;;
++    *:Twizzler:*:*)
++	GUESS=$UNAME_MACHINE-unknown-twizzler
++	;;
++    *:Redox:*:*)
++	GUESS=$UNAME_MACHINE-unknown-redox
++	;;
++    mips:OSF1:*.*)
++	GUESS=mips-dec-osf1
++	;;
++    alpha:OSF1:*:*)
++	# Reset EXIT trap before exiting to avoid spurious non-zero exit code.
++	trap '' 0
++	case $UNAME_RELEASE in
++	*4.0)
++		UNAME_RELEASE=`/usr/sbin/sizer -v | awk '{print $3}'`
++		;;
++	*5.*)
++		UNAME_RELEASE=`/usr/sbin/sizer -v | awk '{print $4}'`
++		;;
++	esac
++	# According to Compaq, /usr/sbin/psrinfo has been available on
++	# OSF/1 and Tru64 systems produced since 1995.  I hope that
++	# covers most systems running today.  This code pipes the CPU
++	# types through head -n 1, so we only detect the type of CPU 0.
++	ALPHA_CPU_TYPE=`/usr/sbin/psrinfo -v | sed -n -e 's/^  The alpha \(.*\) processor.*$/\1/p' | head -n 1`
++	case $ALPHA_CPU_TYPE in
++	    "EV4 (21064)")
++		UNAME_MACHINE=alpha ;;
++	    "EV4.5 (21064)")
++		UNAME_MACHINE=alpha ;;
++	    "LCA4 (21066/21068)")
++		UNAME_MACHINE=alpha ;;
++	    "EV5 (21164)")
++		UNAME_MACHINE=alphaev5 ;;
++	    "EV5.6 (21164A)")
++		UNAME_MACHINE=alphaev56 ;;
++	    "EV5.6 (21164PC)")
++		UNAME_MACHINE=alphapca56 ;;
++	    "EV5.7 (21164PC)")
++		UNAME_MACHINE=alphapca57 ;;
++	    "EV6 (21264)")
++		UNAME_MACHINE=alphaev6 ;;
++	    "EV6.7 (21264A)")
++		UNAME_MACHINE=alphaev67 ;;
++	    "EV6.8CB (21264C)")
++		UNAME_MACHINE=alphaev68 ;;
++	    "EV6.8AL (21264B)")
++		UNAME_MACHINE=alphaev68 ;;
++	    "EV6.8CX (21264D)")
++		UNAME_MACHINE=alphaev68 ;;
++	    "EV6.9A (21264/EV69A)")
++		UNAME_MACHINE=alphaev69 ;;
++	    "EV7 (21364)")
++		UNAME_MACHINE=alphaev7 ;;
++	    "EV7.9 (21364A)")
++		UNAME_MACHINE=alphaev79 ;;
++	esac
++	# A Pn.n version is a patched version.
++	# A Vn.n version is a released version.
++	# A Tn.n version is a released field test version.
++	# A Xn.n version is an unreleased experimental baselevel.
++	# 1.2 uses "1.2" for uname -r.
++	OSF_REL=`echo "$UNAME_RELEASE" | sed -e 's/^[PVTX]//' | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz`
++	GUESS=$UNAME_MACHINE-dec-osf$OSF_REL
++	;;
++    Amiga*:UNIX_System_V:4.0:*)
++	GUESS=m68k-unknown-sysv4
++	;;
++    *:[Aa]miga[Oo][Ss]:*:*)
++	GUESS=$UNAME_MACHINE-unknown-amigaos
++	;;
++    *:[Mm]orph[Oo][Ss]:*:*)
++	GUESS=$UNAME_MACHINE-unknown-morphos
++	;;
++    *:OS/390:*:*)
++	GUESS=i370-ibm-openedition
++	;;
++    *:z/VM:*:*)
++	GUESS=s390-ibm-zvmoe
++	;;
++    *:OS400:*:*)
++	GUESS=powerpc-ibm-os400
++	;;
++    arm:RISC*:1.[012]*:*|arm:riscix:1.[012]*:*)
++	GUESS=arm-acorn-riscix$UNAME_RELEASE
++	;;
++    arm*:riscos:*:*|arm*:RISCOS:*:*)
++	GUESS=arm-unknown-riscos
++	;;
++    SR2?01:HI-UX/MPP:*:* | SR8000:HI-UX/MPP:*:*)
++	GUESS=hppa1.1-hitachi-hiuxmpp
++	;;
++    Pyramid*:OSx*:*:* | MIS*:OSx*:*:* | MIS*:SMP_DC-OSx*:*:*)
++	# akee@wpdis03.wpafb.af.mil (Earle F. Ake) contributed MIS and NILE.
++	case `(/bin/universe) 2>/dev/null` in
++	    att) GUESS=pyramid-pyramid-sysv3 ;;
++	    *)   GUESS=pyramid-pyramid-bsd   ;;
++	esac
++	;;
++    NILE*:*:*:dcosx)
++	GUESS=pyramid-pyramid-svr4
++	;;
++    DRS?6000:unix:4.0:6*)
++	GUESS=sparc-icl-nx6
++	;;
++    DRS?6000:UNIX_SV:4.2*:7* | DRS?6000:isis:4.2*:7*)
++	case `/usr/bin/uname -p` in
++	    sparc) GUESS=sparc-icl-nx7 ;;
++	esac
++	;;
++    s390x:SunOS:*:*)
++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
++	GUESS=$UNAME_MACHINE-ibm-solaris2$SUN_REL
++	;;
++    sun4H:SunOS:5.*:*)
++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
++	GUESS=sparc-hal-solaris2$SUN_REL
++	;;
++    sun4*:SunOS:5.*:* | tadpole*:SunOS:5.*:*)
++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
++	GUESS=sparc-sun-solaris2$SUN_REL
++	;;
++    i86pc:AuroraUX:5.*:* | i86xen:AuroraUX:5.*:*)
++	GUESS=i386-pc-auroraux$UNAME_RELEASE
++	;;
++    i86pc:SunOS:5.*:* | i86xen:SunOS:5.*:*)
++	set_cc_for_build
++	SUN_ARCH=i386
++	# If there is a compiler, see if it is configured for 64-bit objects.
++	# Note that the Sun cc does not turn __LP64__ into 1 like gcc does.
++	# This test works for both compilers.
++	if test "$CC_FOR_BUILD" != no_compiler_found; then
++	    if (echo '#ifdef __amd64'; echo IS_64BIT_ARCH; echo '#endif') | \
++		(CCOPTS="" $CC_FOR_BUILD -m64 -E - 2>/dev/null) | \
++		grep IS_64BIT_ARCH >/dev/null
++	    then
++		SUN_ARCH=x86_64
++	    fi
++	fi
++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
++	GUESS=$SUN_ARCH-pc-solaris2$SUN_REL
++	;;
++    sun4*:SunOS:6*:*)
++	# According to config.sub, this is the proper way to canonicalize
++	# SunOS6.  Hard to guess exactly what SunOS6 will be like, but
++	# it's likely to be more like Solaris than SunOS4.
++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
++	GUESS=sparc-sun-solaris3$SUN_REL
++	;;
++    sun4*:SunOS:*:*)
++	case `/usr/bin/arch -k` in
++	    Series*|S4*)
++		UNAME_RELEASE=`uname -v`
++		;;
++	esac
++	# Japanese Language versions have a version number like '4.1.3-JL'.
++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/-/_/'`
++	GUESS=sparc-sun-sunos$SUN_REL
++	;;
++    sun3*:SunOS:*:*)
++	GUESS=m68k-sun-sunos$UNAME_RELEASE
++	;;
++    sun*:*:4.2BSD:*)
++	UNAME_RELEASE=`(sed 1q /etc/motd | awk '{print substr($5,1,3)}') 2>/dev/null`
++	test "x$UNAME_RELEASE" = x && UNAME_RELEASE=3
++	case `/bin/arch` in
++	    sun3)
++		GUESS=m68k-sun-sunos$UNAME_RELEASE
++		;;
++	    sun4)
++		GUESS=sparc-sun-sunos$UNAME_RELEASE
++		;;
++	esac
++	;;
++    aushp:SunOS:*:*)
++	GUESS=sparc-auspex-sunos$UNAME_RELEASE
++	;;
++    # The situation for MiNT is a little confusing.  The machine name
++    # can be virtually everything (everything which is not
++    # "atarist" or "atariste" at least should have a processor
++    # > m68000).  The system name ranges from "MiNT" over "FreeMiNT"
++    # to the lowercase version "mint" (or "freemint").  Finally
++    # the system name "TOS" denotes a system which is actually not
++    # MiNT.  But MiNT is downward compatible to TOS, so this should
++    # be no problem.
++    atarist[e]:*MiNT:*:* | atarist[e]:*mint:*:* | atarist[e]:*TOS:*:*)
++	GUESS=m68k-atari-mint$UNAME_RELEASE
++	;;
++    atari*:*MiNT:*:* | atari*:*mint:*:* | atarist[e]:*TOS:*:*)
++	GUESS=m68k-atari-mint$UNAME_RELEASE
++	;;
++    *falcon*:*MiNT:*:* | *falcon*:*mint:*:* | *falcon*:*TOS:*:*)
++	GUESS=m68k-atari-mint$UNAME_RELEASE
++	;;
++    milan*:*MiNT:*:* | milan*:*mint:*:* | *milan*:*TOS:*:*)
++	GUESS=m68k-milan-mint$UNAME_RELEASE
++	;;
++    hades*:*MiNT:*:* | hades*:*mint:*:* | *hades*:*TOS:*:*)
++	GUESS=m68k-hades-mint$UNAME_RELEASE
++	;;
++    *:*MiNT:*:* | *:*mint:*:* | *:*TOS:*:*)
++	GUESS=m68k-unknown-mint$UNAME_RELEASE
++	;;
++    m68k:machten:*:*)
++	GUESS=m68k-apple-machten$UNAME_RELEASE
++	;;
++    powerpc:machten:*:*)
++	GUESS=powerpc-apple-machten$UNAME_RELEASE
++	;;
++    RISC*:Mach:*:*)
++	GUESS=mips-dec-mach_bsd4.3
++	;;
++    RISC*:ULTRIX:*:*)
++	GUESS=mips-dec-ultrix$UNAME_RELEASE
++	;;
++    VAX*:ULTRIX*:*:*)
++	GUESS=vax-dec-ultrix$UNAME_RELEASE
++	;;
++    2020:CLIX:*:* | 2430:CLIX:*:*)
++	GUESS=clipper-intergraph-clix$UNAME_RELEASE
++	;;
++    mips:*:*:UMIPS | mips:*:*:RISCos)
++	set_cc_for_build
++	sed 's/^	//' << EOF > "$dummy.c"
++#ifdef __cplusplus
++#include <stdio.h>  /* for printf() prototype */
++	int main (int argc, char *argv[]) {
++#else
++	int main (argc, argv) int argc; char *argv[]; {
++#endif
++	#if defined (host_mips) && defined (MIPSEB)
++	#if defined (SYSTYPE_SYSV)
++	  printf ("mips-mips-riscos%ssysv\\n", argv[1]); exit (0);
++	#endif
++	#if defined (SYSTYPE_SVR4)
++	  printf ("mips-mips-riscos%ssvr4\\n", argv[1]); exit (0);
++	#endif
++	#if defined (SYSTYPE_BSD43) || defined(SYSTYPE_BSD)
++	  printf ("mips-mips-riscos%sbsd\\n", argv[1]); exit (0);
++	#endif
++	#endif
++	  exit (-1);
++	}
++EOF
++	$CC_FOR_BUILD -o "$dummy" "$dummy.c" &&
++	  dummyarg=`echo "$UNAME_RELEASE" | sed -n 's/\([0-9]*\).*/\1/p'` &&
++	  SYSTEM_NAME=`"$dummy" "$dummyarg"` &&
++	    { echo "$SYSTEM_NAME"; exit; }
++	GUESS=mips-mips-riscos$UNAME_RELEASE
++	;;
++    Motorola:PowerMAX_OS:*:*)
++	GUESS=powerpc-motorola-powermax
++	;;
++    Motorola:*:4.3:PL8-*)
++	GUESS=powerpc-harris-powermax
++	;;
++    Night_Hawk:*:*:PowerMAX_OS | Synergy:PowerMAX_OS:*:*)
++	GUESS=powerpc-harris-powermax
++	;;
++    Night_Hawk:Power_UNIX:*:*)
++	GUESS=powerpc-harris-powerunix
++	;;
++    m88k:CX/UX:7*:*)
++	GUESS=m88k-harris-cxux7
++	;;
++    m88k:*:4*:R4*)
++	GUESS=m88k-motorola-sysv4
++	;;
++    m88k:*:3*:R3*)
++	GUESS=m88k-motorola-sysv3
++	;;
++    AViiON:dgux:*:*)
++	# DG/UX returns AViiON for all architectures
++	UNAME_PROCESSOR=`/usr/bin/uname -p`
++	if test "$UNAME_PROCESSOR" = mc88100 || test "$UNAME_PROCESSOR" = mc88110
++	then
++	    if test "$TARGET_BINARY_INTERFACE"x = m88kdguxelfx || \
++	       test "$TARGET_BINARY_INTERFACE"x = x
++	    then
++		GUESS=m88k-dg-dgux$UNAME_RELEASE
++	    else
++		GUESS=m88k-dg-dguxbcs$UNAME_RELEASE
++	    fi
++	else
++	    GUESS=i586-dg-dgux$UNAME_RELEASE
++	fi
++	;;
++    M88*:DolphinOS:*:*)	# DolphinOS (SVR3)
++	GUESS=m88k-dolphin-sysv3
++	;;
++    M88*:*:R3*:*)
++	# Delta 88k system running SVR3
++	GUESS=m88k-motorola-sysv3
++	;;
++    XD88*:*:*:*) # Tektronix XD88 system running UTekV (SVR3)
++	GUESS=m88k-tektronix-sysv3
++	;;
++    Tek43[0-9][0-9]:UTek:*:*) # Tektronix 4300 system running UTek (BSD)
++	GUESS=m68k-tektronix-bsd
++	;;
++    *:IRIX*:*:*)
++	IRIX_REL=`echo "$UNAME_RELEASE" | sed -e 's/-/_/g'`
++	GUESS=mips-sgi-irix$IRIX_REL
++	;;
++    ????????:AIX?:[12].1:2)   # AIX 2.2.1 or AIX 2.1.1 is RT/PC AIX.
++	GUESS=romp-ibm-aix    # uname -m gives an 8 hex-code CPU id
++	;;                    # Note that: echo "'`uname -s`'" gives 'AIX '
++    i*86:AIX:*:*)
++	GUESS=i386-ibm-aix
++	;;
++    ia64:AIX:*:*)
++	if test -x /usr/bin/oslevel ; then
++		IBM_REV=`/usr/bin/oslevel`
++	else
++		IBM_REV=$UNAME_VERSION.$UNAME_RELEASE
++	fi
++	GUESS=$UNAME_MACHINE-ibm-aix$IBM_REV
++	;;
++    *:AIX:2:3)
++	if grep bos325 /usr/include/stdio.h >/dev/null 2>&1; then
++		set_cc_for_build
++		sed 's/^		//' << EOF > "$dummy.c"
++		#include <sys/systemcfg.h>
++
++		int
++		main ()
++			{
++			if (!__power_pc())
++				exit(1);
++			puts("powerpc-ibm-aix3.2.5");
++			exit(0);
++			}
++EOF
++		if $CC_FOR_BUILD -o "$dummy" "$dummy.c" && SYSTEM_NAME=`"$dummy"`
++		then
++			GUESS=$SYSTEM_NAME
++		else
++			GUESS=rs6000-ibm-aix3.2.5
++		fi
++	elif grep bos324 /usr/include/stdio.h >/dev/null 2>&1; then
++		GUESS=rs6000-ibm-aix3.2.4
++	else
++		GUESS=rs6000-ibm-aix3.2
++	fi
++	;;
++    *:AIX:*:[4567])
++	IBM_CPU_ID=`/usr/sbin/lsdev -C -c processor -S available | sed 1q | awk '{ print $1 }'`
++	if /usr/sbin/lsattr -El "$IBM_CPU_ID" | grep ' POWER' >/dev/null 2>&1; then
++		IBM_ARCH=rs6000
++	else
++		IBM_ARCH=powerpc
++	fi
++	if test -x /usr/bin/lslpp ; then
++		IBM_REV=`/usr/bin/lslpp -Lqc bos.rte.libc | \
++			   awk -F: '{ print $3 }' | sed s/[0-9]*$/0/`
++	else
++		IBM_REV=$UNAME_VERSION.$UNAME_RELEASE
++	fi
++	GUESS=$IBM_ARCH-ibm-aix$IBM_REV
++	;;
++    *:AIX:*:*)
++	GUESS=rs6000-ibm-aix
++	;;
++    ibmrt:4.4BSD:*|romp-ibm:4.4BSD:*)
++	GUESS=romp-ibm-bsd4.4
++	;;
++    ibmrt:*BSD:*|romp-ibm:BSD:*)            # covers RT/PC BSD and
++	GUESS=romp-ibm-bsd$UNAME_RELEASE    # 4.3 with uname added to
++	;;                                  # report: romp-ibm BSD 4.3
++    *:BOSX:*:*)
++	GUESS=rs6000-bull-bosx
++	;;
++    DPX/2?00:B.O.S.:*:*)
++	GUESS=m68k-bull-sysv3
++	;;
++    9000/[34]??:4.3bsd:1.*:*)
++	GUESS=m68k-hp-bsd
++	;;
++    hp300:4.4BSD:*:* | 9000/[34]??:4.3bsd:2.*:*)
++	GUESS=m68k-hp-bsd4.4
++	;;
++    9000/[34678]??:HP-UX:*:*)
++	HPUX_REV=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*.[0B]*//'`
++	case $UNAME_MACHINE in
++	    9000/31?)            HP_ARCH=m68000 ;;
++	    9000/[34]??)         HP_ARCH=m68k ;;
++	    9000/[678][0-9][0-9])
++		if test -x /usr/bin/getconf; then
++		    sc_cpu_version=`/usr/bin/getconf SC_CPU_VERSION 2>/dev/null`
++		    sc_kernel_bits=`/usr/bin/getconf SC_KERNEL_BITS 2>/dev/null`
++		    case $sc_cpu_version in
++		      523) HP_ARCH=hppa1.0 ;; # CPU_PA_RISC1_0
++		      528) HP_ARCH=hppa1.1 ;; # CPU_PA_RISC1_1
++		      532)                      # CPU_PA_RISC2_0
++			case $sc_kernel_bits in
++			  32) HP_ARCH=hppa2.0n ;;
++			  64) HP_ARCH=hppa2.0w ;;
++			  '') HP_ARCH=hppa2.0 ;;   # HP-UX 10.20
++			esac ;;
++		    esac
++		fi
++		if test "$HP_ARCH" = ""; then
++		    set_cc_for_build
++		    sed 's/^		//' << EOF > "$dummy.c"
++
++		#define _HPUX_SOURCE
++		#include <stdlib.h>
++		#include <unistd.h>
++
++		int
++		main ()
++		{
++		#if defined(_SC_KERNEL_BITS)
++		    long bits = sysconf(_SC_KERNEL_BITS);
++		#endif
++		    long cpu  = sysconf (_SC_CPU_VERSION);
++
++		    switch (cpu)
++			{
++			case CPU_PA_RISC1_0: puts ("hppa1.0"); break;
++			case CPU_PA_RISC1_1: puts ("hppa1.1"); break;
++			case CPU_PA_RISC2_0:
++		#if defined(_SC_KERNEL_BITS)
++			    switch (bits)
++				{
++				case 64: puts ("hppa2.0w"); break;
++				case 32: puts ("hppa2.0n"); break;
++				default: puts ("hppa2.0"); break;
++				} break;
++		#else  /* !defined(_SC_KERNEL_BITS) */
++			    puts ("hppa2.0"); break;
++		#endif
++			default: puts ("hppa1.0"); break;
++			}
++		    exit (0);
++		}
++EOF
++		    (CCOPTS="" $CC_FOR_BUILD -o "$dummy" "$dummy.c" 2>/dev/null) && HP_ARCH=`"$dummy"`
++		    test -z "$HP_ARCH" && HP_ARCH=hppa
++		fi ;;
++	esac
++	if test "$HP_ARCH" = hppa2.0w
++	then
++	    set_cc_for_build
++
++	    # hppa2.0w-hp-hpux* has a 64-bit kernel and a compiler generating
++	    # 32-bit code.  hppa64-hp-hpux* has the same kernel and a compiler
++	    # generating 64-bit code.  GNU and HP use different nomenclature:
++	    #
++	    # $ CC_FOR_BUILD=cc ./config.guess
++	    # => hppa2.0w-hp-hpux11.23
++	    # $ CC_FOR_BUILD="cc +DA2.0w" ./config.guess
++	    # => hppa64-hp-hpux11.23
++
++	    if echo __LP64__ | (CCOPTS="" $CC_FOR_BUILD -E - 2>/dev/null) |
++		grep -q __LP64__
++	    then
++		HP_ARCH=hppa2.0w
++	    else
++		HP_ARCH=hppa64
++	    fi
++	fi
++	GUESS=$HP_ARCH-hp-hpux$HPUX_REV
++	;;
++    ia64:HP-UX:*:*)
++	HPUX_REV=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*.[0B]*//'`
++	GUESS=ia64-hp-hpux$HPUX_REV
++	;;
++    3050*:HI-UX:*:*)
++	set_cc_for_build
++	sed 's/^	//' << EOF > "$dummy.c"
++	#include <unistd.h>
++	int
++	main ()
++	{
++	  long cpu = sysconf (_SC_CPU_VERSION);
++	  /* The order matters, because CPU_IS_HP_MC68K erroneously returns
++	     true for CPU_PA_RISC1_0.  CPU_IS_PA_RISC returns correct
++	     results, however.  */
++	  if (CPU_IS_PA_RISC (cpu))
++	    {
++	      switch (cpu)
++		{
++		  case CPU_PA_RISC1_0: puts ("hppa1.0-hitachi-hiuxwe2"); break;
++		  case CPU_PA_RISC1_1: puts ("hppa1.1-hitachi-hiuxwe2"); break;
++		  case CPU_PA_RISC2_0: puts ("hppa2.0-hitachi-hiuxwe2"); break;
++		  default: puts ("hppa-hitachi-hiuxwe2"); break;
++		}
++	    }
++	  else if (CPU_IS_HP_MC68K (cpu))
++	    puts ("m68k-hitachi-hiuxwe2");
++	  else puts ("unknown-hitachi-hiuxwe2");
++	  exit (0);
++	}
++EOF
++	$CC_FOR_BUILD -o "$dummy" "$dummy.c" && SYSTEM_NAME=`"$dummy"` &&
++		{ echo "$SYSTEM_NAME"; exit; }
++	GUESS=unknown-hitachi-hiuxwe2
++	;;
++    9000/7??:4.3bsd:*:* | 9000/8?[79]:4.3bsd:*:*)
++	GUESS=hppa1.1-hp-bsd
++	;;
++    9000/8??:4.3bsd:*:*)
++	GUESS=hppa1.0-hp-bsd
++	;;
++    *9??*:MPE/iX:*:* | *3000*:MPE/iX:*:*)
++	GUESS=hppa1.0-hp-mpeix
++	;;
++    hp7??:OSF1:*:* | hp8?[79]:OSF1:*:*)
++	GUESS=hppa1.1-hp-osf
++	;;
++    hp8??:OSF1:*:*)
++	GUESS=hppa1.0-hp-osf
++	;;
++    i*86:OSF1:*:*)
++	if test -x /usr/sbin/sysversion ; then
++	    GUESS=$UNAME_MACHINE-unknown-osf1mk
++	else
++	    GUESS=$UNAME_MACHINE-unknown-osf1
++	fi
++	;;
++    parisc*:Lites*:*:*)
++	GUESS=hppa1.1-hp-lites
++	;;
++    C1*:ConvexOS:*:* | convex:ConvexOS:C1*:*)
++	GUESS=c1-convex-bsd
++	;;
++    C2*:ConvexOS:*:* | convex:ConvexOS:C2*:*)
++	if getsysinfo -f scalar_acc
++	then echo c32-convex-bsd
++	else echo c2-convex-bsd
++	fi
++	exit ;;
++    C34*:ConvexOS:*:* | convex:ConvexOS:C34*:*)
++	GUESS=c34-convex-bsd
++	;;
++    C38*:ConvexOS:*:* | convex:ConvexOS:C38*:*)
++	GUESS=c38-convex-bsd
++	;;
++    C4*:ConvexOS:*:* | convex:ConvexOS:C4*:*)
++	GUESS=c4-convex-bsd
++	;;
++    CRAY*Y-MP:*:*:*)
++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
++	GUESS=ymp-cray-unicos$CRAY_REL
++	;;
++    CRAY*[A-Z]90:*:*:*)
++	echo "$UNAME_MACHINE"-cray-unicos"$UNAME_RELEASE" \
++	| sed -e 's/CRAY.*\([A-Z]90\)/\1/' \
++	      -e y/ABCDEFGHIJKLMNOPQRSTUVWXYZ/abcdefghijklmnopqrstuvwxyz/ \
++	      -e 's/\.[^.]*$/.X/'
++	exit ;;
++    CRAY*TS:*:*:*)
++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
++	GUESS=t90-cray-unicos$CRAY_REL
++	;;
++    CRAY*T3E:*:*:*)
++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
++	GUESS=alphaev5-cray-unicosmk$CRAY_REL
++	;;
++    CRAY*SV1:*:*:*)
++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
++	GUESS=sv1-cray-unicos$CRAY_REL
++	;;
++    *:UNICOS/mp:*:*)
++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
++	GUESS=craynv-cray-unicosmp$CRAY_REL
++	;;
++    F30[01]:UNIX_System_V:*:* | F700:UNIX_System_V:*:*)
++	FUJITSU_PROC=`uname -m | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz`
++	FUJITSU_SYS=`uname -p | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz | sed -e 's/\///'`
++	FUJITSU_REL=`echo "$UNAME_RELEASE" | sed -e 's/ /_/'`
++	GUESS=${FUJITSU_PROC}-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}
++	;;
++    5000:UNIX_System_V:4.*:*)
++	FUJITSU_SYS=`uname -p | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz | sed -e 's/\///'`
++	FUJITSU_REL=`echo "$UNAME_RELEASE" | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz | sed -e 's/ /_/'`
++	GUESS=sparc-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}
++	;;
++    i*86:BSD/386:*:* | i*86:BSD/OS:*:* | *:Ascend\ Embedded/OS:*:*)
++	GUESS=$UNAME_MACHINE-pc-bsdi$UNAME_RELEASE
++	;;
++    sparc*:BSD/OS:*:*)
++	GUESS=sparc-unknown-bsdi$UNAME_RELEASE
++	;;
++    *:BSD/OS:*:*)
++	GUESS=$UNAME_MACHINE-unknown-bsdi$UNAME_RELEASE
++	;;
++    arm:FreeBSD:*:*)
++	UNAME_PROCESSOR=`uname -p`
++	set_cc_for_build
++	if echo __ARM_PCS_VFP | $CC_FOR_BUILD -E - 2>/dev/null \
++	    | grep -q __ARM_PCS_VFP
++	then
++	    FREEBSD_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
++	    GUESS=$UNAME_PROCESSOR-unknown-freebsd$FREEBSD_REL-gnueabi
++	else
++	    FREEBSD_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
++	    GUESS=$UNAME_PROCESSOR-unknown-freebsd$FREEBSD_REL-gnueabihf
++	fi
++	;;
++    *:FreeBSD:*:*)
++	UNAME_PROCESSOR=`uname -p`
++	case $UNAME_PROCESSOR in
++	    amd64)
++		UNAME_PROCESSOR=x86_64 ;;
++	    i386)
++		UNAME_PROCESSOR=i586 ;;
++	esac
++	FREEBSD_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
++	GUESS=$UNAME_PROCESSOR-unknown-freebsd$FREEBSD_REL
++	;;
++    i*:CYGWIN*:*)
++	GUESS=$UNAME_MACHINE-pc-cygwin
++	;;
++    *:MINGW64*:*)
++	GUESS=$UNAME_MACHINE-pc-mingw64
++	;;
++    *:MINGW*:*)
++	GUESS=$UNAME_MACHINE-pc-mingw32
++	;;
++    *:MSYS*:*)
++	GUESS=$UNAME_MACHINE-pc-msys
++	;;
++    i*:PW*:*)
++	GUESS=$UNAME_MACHINE-pc-pw32
++	;;
++    *:SerenityOS:*:*)
++        GUESS=$UNAME_MACHINE-pc-serenity
++        ;;
++    *:Interix*:*)
++	case $UNAME_MACHINE in
++	    x86)
++		GUESS=i586-pc-interix$UNAME_RELEASE
++		;;
++	    authenticamd | genuineintel | EM64T)
++		GUESS=x86_64-unknown-interix$UNAME_RELEASE
++		;;
++	    IA64)
++		GUESS=ia64-unknown-interix$UNAME_RELEASE
++		;;
++	esac ;;
++    i*:UWIN*:*)
++	GUESS=$UNAME_MACHINE-pc-uwin
++	;;
++    amd64:CYGWIN*:*:* | x86_64:CYGWIN*:*:*)
++	GUESS=x86_64-pc-cygwin
++	;;
++    prep*:SunOS:5.*:*)
++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
++	GUESS=powerpcle-unknown-solaris2$SUN_REL
++	;;
++    *:GNU:*:*)
++	# the GNU system
++	GNU_ARCH=`echo "$UNAME_MACHINE" | sed -e 's,[-/].*$,,'`
++	GNU_REL=`echo "$UNAME_RELEASE" | sed -e 's,/.*$,,'`
++	GUESS=$GNU_ARCH-unknown-$LIBC$GNU_REL
++	;;
++    *:GNU/*:*:*)
++	# other systems with GNU libc and userland
++	GNU_SYS=`echo "$UNAME_SYSTEM" | sed 's,^[^/]*/,,' | tr "[:upper:]" "[:lower:]"`
++	GNU_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
++	GUESS=$UNAME_MACHINE-unknown-$GNU_SYS$GNU_REL-$LIBC
++	;;
++    x86_64:[Mm]anagarm:*:*|i?86:[Mm]anagarm:*:*)
++	GUESS="$UNAME_MACHINE-pc-managarm-mlibc"
++	;;
++    *:[Mm]anagarm:*:*)
++	GUESS="$UNAME_MACHINE-unknown-managarm-mlibc"
++	;;
++    *:Minix:*:*)
++	GUESS=$UNAME_MACHINE-unknown-minix
++	;;
++    aarch64:Linux:*:*)
++	set_cc_for_build
++	CPU=$UNAME_MACHINE
++	LIBCABI=$LIBC
++	if test "$CC_FOR_BUILD" != no_compiler_found; then
++	    ABI=64
++	    sed 's/^	    //' << EOF > "$dummy.c"
++	    #ifdef __ARM_EABI__
++	    #ifdef __ARM_PCS_VFP
++	    ABI=eabihf
++	    #else
++	    ABI=eabi
++	    #endif
++	    #endif
++EOF
++	    cc_set_abi=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^ABI' | sed 's, ,,g'`
++	    eval "$cc_set_abi"
++	    case $ABI in
++		eabi | eabihf) CPU=armv8l; LIBCABI=$LIBC$ABI ;;
++	    esac
++	fi
++	GUESS=$CPU-unknown-linux-$LIBCABI
++	;;
++    aarch64_be:Linux:*:*)
++	UNAME_MACHINE=aarch64_be
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    alpha:Linux:*:*)
++	case `sed -n '/^cpu model/s/^.*: \(.*\)/\1/p' /proc/cpuinfo 2>/dev/null` in
++	  EV5)   UNAME_MACHINE=alphaev5 ;;
++	  EV56)  UNAME_MACHINE=alphaev56 ;;
++	  PCA56) UNAME_MACHINE=alphapca56 ;;
++	  PCA57) UNAME_MACHINE=alphapca56 ;;
++	  EV6)   UNAME_MACHINE=alphaev6 ;;
++	  EV67)  UNAME_MACHINE=alphaev67 ;;
++	  EV68*) UNAME_MACHINE=alphaev68 ;;
++	esac
++	objdump --private-headers /bin/sh | grep -q ld.so.1
++	if test "$?" = 0 ; then LIBC=gnulibc1 ; fi
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    arc:Linux:*:* | arceb:Linux:*:* | arc32:Linux:*:* | arc64:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    arm*:Linux:*:*)
++	set_cc_for_build
++	if echo __ARM_EABI__ | $CC_FOR_BUILD -E - 2>/dev/null \
++	    | grep -q __ARM_EABI__
++	then
++	    GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	else
++	    if echo __ARM_PCS_VFP | $CC_FOR_BUILD -E - 2>/dev/null \
++		| grep -q __ARM_PCS_VFP
++	    then
++		GUESS=$UNAME_MACHINE-unknown-linux-${LIBC}eabi
++	    else
++		GUESS=$UNAME_MACHINE-unknown-linux-${LIBC}eabihf
++	    fi
++	fi
++	;;
++    avr32*:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    cris:Linux:*:*)
++	GUESS=$UNAME_MACHINE-axis-linux-$LIBC
++	;;
++    crisv32:Linux:*:*)
++	GUESS=$UNAME_MACHINE-axis-linux-$LIBC
++	;;
++    e2k:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    frv:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    hexagon:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    i*86:Linux:*:*)
++	GUESS=$UNAME_MACHINE-pc-linux-$LIBC
++	;;
++    ia64:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    k1om:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    kvx:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    kvx:cos:*:*)
++	GUESS=$UNAME_MACHINE-unknown-cos
++	;;
++    kvx:mbr:*:*)
++	GUESS=$UNAME_MACHINE-unknown-mbr
++	;;
++    loongarch32:Linux:*:* | loongarch64:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    m32r*:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    m68*:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    mips:Linux:*:* | mips64:Linux:*:*)
++	set_cc_for_build
++	IS_GLIBC=0
++	test x"${LIBC}" = xgnu && IS_GLIBC=1
++	sed 's/^	//' << EOF > "$dummy.c"
++	#undef CPU
++	#undef mips
++	#undef mipsel
++	#undef mips64
++	#undef mips64el
++	#if ${IS_GLIBC} && defined(_ABI64)
++	LIBCABI=gnuabi64
++	#else
++	#if ${IS_GLIBC} && defined(_ABIN32)
++	LIBCABI=gnuabin32
++	#else
++	LIBCABI=${LIBC}
++	#endif
++	#endif
++
++	#if ${IS_GLIBC} && defined(__mips64) && defined(__mips_isa_rev) && __mips_isa_rev>=6
++	CPU=mipsisa64r6
++	#else
++	#if ${IS_GLIBC} && !defined(__mips64) && defined(__mips_isa_rev) && __mips_isa_rev>=6
++	CPU=mipsisa32r6
++	#else
++	#if defined(__mips64)
++	CPU=mips64
++	#else
++	CPU=mips
++	#endif
++	#endif
++	#endif
++
++	#if defined(__MIPSEL__) || defined(__MIPSEL) || defined(_MIPSEL) || defined(MIPSEL)
++	MIPS_ENDIAN=el
++	#else
++	#if defined(__MIPSEB__) || defined(__MIPSEB) || defined(_MIPSEB) || defined(MIPSEB)
++	MIPS_ENDIAN=
++	#else
++	MIPS_ENDIAN=
++	#endif
++	#endif
++EOF
++	cc_set_vars=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^CPU\|^MIPS_ENDIAN\|^LIBCABI'`
++	eval "$cc_set_vars"
++	test "x$CPU" != x && { echo "$CPU${MIPS_ENDIAN}-unknown-linux-$LIBCABI"; exit; }
++	;;
++    mips64el:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    openrisc*:Linux:*:*)
++	GUESS=or1k-unknown-linux-$LIBC
++	;;
++    or32:Linux:*:* | or1k*:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    padre:Linux:*:*)
++	GUESS=sparc-unknown-linux-$LIBC
++	;;
++    parisc64:Linux:*:* | hppa64:Linux:*:*)
++	GUESS=hppa64-unknown-linux-$LIBC
++	;;
++    parisc:Linux:*:* | hppa:Linux:*:*)
++	# Look for CPU level
++	case `grep '^cpu[^a-z]*:' /proc/cpuinfo 2>/dev/null | cut -d' ' -f2` in
++	  PA7*) GUESS=hppa1.1-unknown-linux-$LIBC ;;
++	  PA8*) GUESS=hppa2.0-unknown-linux-$LIBC ;;
++	  *)    GUESS=hppa-unknown-linux-$LIBC ;;
++	esac
++	;;
++    ppc64:Linux:*:*)
++	GUESS=powerpc64-unknown-linux-$LIBC
++	;;
++    ppc:Linux:*:*)
++	GUESS=powerpc-unknown-linux-$LIBC
++	;;
++    ppc64le:Linux:*:*)
++	GUESS=powerpc64le-unknown-linux-$LIBC
++	;;
++    ppcle:Linux:*:*)
++	GUESS=powerpcle-unknown-linux-$LIBC
++	;;
++    riscv32:Linux:*:* | riscv32be:Linux:*:* | riscv64:Linux:*:* | riscv64be:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    s390:Linux:*:* | s390x:Linux:*:*)
++	GUESS=$UNAME_MACHINE-ibm-linux-$LIBC
++	;;
++    sh64*:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    sh*:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    sparc:Linux:*:* | sparc64:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    tile*:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    vax:Linux:*:*)
++	GUESS=$UNAME_MACHINE-dec-linux-$LIBC
++	;;
++    x86_64:Linux:*:*)
++	set_cc_for_build
++	CPU=$UNAME_MACHINE
++	LIBCABI=$LIBC
++	if test "$CC_FOR_BUILD" != no_compiler_found; then
++	    ABI=64
++	    sed 's/^	    //' << EOF > "$dummy.c"
++	    #ifdef __i386__
++	    ABI=x86
++	    #else
++	    #ifdef __ILP32__
++	    ABI=x32
++	    #endif
++	    #endif
++EOF
++	    cc_set_abi=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^ABI' | sed 's, ,,g'`
++	    eval "$cc_set_abi"
++	    case $ABI in
++		x86) CPU=i686 ;;
++		x32) LIBCABI=${LIBC}x32 ;;
++	    esac
++	fi
++	GUESS=$CPU-pc-linux-$LIBCABI
++	;;
++    xtensa*:Linux:*:*)
++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++	;;
++    i*86:DYNIX/ptx:4*:*)
++	# ptx 4.0 does uname -s correctly, with DYNIX/ptx in there.
++	# earlier versions are messed up and put the nodename in both
++	# sysname and nodename.
++	GUESS=i386-sequent-sysv4
++	;;
++    i*86:UNIX_SV:4.2MP:2.*)
++	# Unixware is an offshoot of SVR4, but it has its own version
++	# number series starting with 2...
++	# I am not positive that other SVR4 systems won't match this,
++	# I just have to hope.  -- rms.
++	# Use sysv4.2uw... so that sysv4* matches it.
++	GUESS=$UNAME_MACHINE-pc-sysv4.2uw$UNAME_VERSION
++	;;
++    i*86:OS/2:*:*)
++	# If we were able to find 'uname', then EMX Unix compatibility
++	# is probably installed.
++	GUESS=$UNAME_MACHINE-pc-os2-emx
++	;;
++    i*86:XTS-300:*:STOP)
++	GUESS=$UNAME_MACHINE-unknown-stop
++	;;
++    i*86:atheos:*:*)
++	GUESS=$UNAME_MACHINE-unknown-atheos
++	;;
++    i*86:syllable:*:*)
++	GUESS=$UNAME_MACHINE-pc-syllable
++	;;
++    i*86:LynxOS:2.*:* | i*86:LynxOS:3.[01]*:* | i*86:LynxOS:4.[02]*:*)
++	GUESS=i386-unknown-lynxos$UNAME_RELEASE
++	;;
++    i*86:*DOS:*:*)
++	GUESS=$UNAME_MACHINE-pc-msdosdjgpp
++	;;
++    i*86:*:4.*:*)
++	UNAME_REL=`echo "$UNAME_RELEASE" | sed 's/\/MP$//'`
++	if grep Novell /usr/include/link.h >/dev/null 2>/dev/null; then
++		GUESS=$UNAME_MACHINE-univel-sysv$UNAME_REL
++	else
++		GUESS=$UNAME_MACHINE-pc-sysv$UNAME_REL
++	fi
++	;;
++    i*86:*:5:[678]*)
++	# UnixWare 7.x, OpenUNIX and OpenServer 6.
++	case `/bin/uname -X | grep "^Machine"` in
++	    *486*)	     UNAME_MACHINE=i486 ;;
++	    *Pentium)	     UNAME_MACHINE=i586 ;;
++	    *Pent*|*Celeron) UNAME_MACHINE=i686 ;;
++	esac
++	GUESS=$UNAME_MACHINE-unknown-sysv${UNAME_RELEASE}${UNAME_SYSTEM}${UNAME_VERSION}
++	;;
++    i*86:*:3.2:*)
++	if test -f /usr/options/cb.name; then
++		UNAME_REL=`sed -n 's/.*Version //p' </usr/options/cb.name`
++		GUESS=$UNAME_MACHINE-pc-isc$UNAME_REL
++	elif /bin/uname -X 2>/dev/null >/dev/null ; then
++		UNAME_REL=`(/bin/uname -X|grep Release|sed -e 's/.*= //')`
++		(/bin/uname -X|grep i80486 >/dev/null) && UNAME_MACHINE=i486
++		(/bin/uname -X|grep '^Machine.*Pentium' >/dev/null) \
++			&& UNAME_MACHINE=i586
++		(/bin/uname -X|grep '^Machine.*Pent *II' >/dev/null) \
++			&& UNAME_MACHINE=i686
++		(/bin/uname -X|grep '^Machine.*Pentium Pro' >/dev/null) \
++			&& UNAME_MACHINE=i686
++		GUESS=$UNAME_MACHINE-pc-sco$UNAME_REL
++	else
++		GUESS=$UNAME_MACHINE-pc-sysv32
++	fi
++	;;
++    pc:*:*:*)
++	# Left here for compatibility:
++	# uname -m prints for DJGPP always 'pc', but it prints nothing about
++	# the processor, so we play safe by assuming i586.
++	# Note: whatever this is, it MUST be the same as what config.sub
++	# prints for the "djgpp" host, or else GDB configure will decide that
++	# this is a cross-build.
++	GUESS=i586-pc-msdosdjgpp
++	;;
++    Intel:Mach:3*:*)
++	GUESS=i386-pc-mach3
++	;;
++    paragon:*:*:*)
++	GUESS=i860-intel-osf1
++	;;
++    i860:*:4.*:*) # i860-SVR4
++	if grep Stardent /usr/include/sys/uadmin.h >/dev/null 2>&1 ; then
++	  GUESS=i860-stardent-sysv$UNAME_RELEASE    # Stardent Vistra i860-SVR4
++	else # Add other i860-SVR4 vendors below as they are discovered.
++	  GUESS=i860-unknown-sysv$UNAME_RELEASE     # Unknown i860-SVR4
++	fi
++	;;
++    mini*:CTIX:SYS*5:*)
++	# "miniframe"
++	GUESS=m68010-convergent-sysv
++	;;
++    mc68k:UNIX:SYSTEM5:3.51m)
++	GUESS=m68k-convergent-sysv
++	;;
++    M680?0:D-NIX:5.3:*)
++	GUESS=m68k-diab-dnix
++	;;
++    M68*:*:R3V[5678]*:*)
++	test -r /sysV68 && { echo 'm68k-motorola-sysv'; exit; } ;;
++    3[345]??:*:4.0:3.0 | 3[34]??A:*:4.0:3.0 | 3[34]??,*:*:4.0:3.0 | 3[34]??/*:*:4.0:3.0 | 4400:*:4.0:3.0 | 4850:*:4.0:3.0 | SKA40:*:4.0:3.0 | SDS2:*:4.0:3.0 | SHG2:*:4.0:3.0 | S7501*:*:4.0:3.0)
++	OS_REL=''
++	test -r /etc/.relid \
++	&& OS_REL=.`sed -n 's/[^ ]* [^ ]* \([0-9][0-9]\).*/\1/p' < /etc/.relid`
++	/bin/uname -p 2>/dev/null | grep 86 >/dev/null \
++	  && { echo i486-ncr-sysv4.3"$OS_REL"; exit; }
++	/bin/uname -p 2>/dev/null | /bin/grep entium >/dev/null \
++	  && { echo i586-ncr-sysv4.3"$OS_REL"; exit; } ;;
++    3[34]??:*:4.0:* | 3[34]??,*:*:4.0:*)
++	/bin/uname -p 2>/dev/null | grep 86 >/dev/null \
++	  && { echo i486-ncr-sysv4; exit; } ;;
++    NCR*:*:4.2:* | MPRAS*:*:4.2:*)
++	OS_REL='.3'
++	test -r /etc/.relid \
++	    && OS_REL=.`sed -n 's/[^ ]* [^ ]* \([0-9][0-9]\).*/\1/p' < /etc/.relid`
++	/bin/uname -p 2>/dev/null | grep 86 >/dev/null \
++	    && { echo i486-ncr-sysv4.3"$OS_REL"; exit; }
++	/bin/uname -p 2>/dev/null | /bin/grep entium >/dev/null \
++	    && { echo i586-ncr-sysv4.3"$OS_REL"; exit; }
++	/bin/uname -p 2>/dev/null | /bin/grep pteron >/dev/null \
++	    && { echo i586-ncr-sysv4.3"$OS_REL"; exit; } ;;
++    m68*:LynxOS:2.*:* | m68*:LynxOS:3.0*:*)
++	GUESS=m68k-unknown-lynxos$UNAME_RELEASE
++	;;
++    mc68030:UNIX_System_V:4.*:*)
++	GUESS=m68k-atari-sysv4
++	;;
++    TSUNAMI:LynxOS:2.*:*)
++	GUESS=sparc-unknown-lynxos$UNAME_RELEASE
++	;;
++    rs6000:LynxOS:2.*:*)
++	GUESS=rs6000-unknown-lynxos$UNAME_RELEASE
++	;;
++    PowerPC:LynxOS:2.*:* | PowerPC:LynxOS:3.[01]*:* | PowerPC:LynxOS:4.[02]*:*)
++	GUESS=powerpc-unknown-lynxos$UNAME_RELEASE
++	;;
++    SM[BE]S:UNIX_SV:*:*)
++	GUESS=mips-dde-sysv$UNAME_RELEASE
++	;;
++    RM*:ReliantUNIX-*:*:*)
++	GUESS=mips-sni-sysv4
++	;;
++    RM*:SINIX-*:*:*)
++	GUESS=mips-sni-sysv4
++	;;
++    *:SINIX-*:*:*)
++	if uname -p 2>/dev/null >/dev/null ; then
++		UNAME_MACHINE=`(uname -p) 2>/dev/null`
++		GUESS=$UNAME_MACHINE-sni-sysv4
++	else
++		GUESS=ns32k-sni-sysv
++	fi
++	;;
++    PENTIUM:*:4.0*:*)	# Unisys 'ClearPath HMP IX 4000' SVR4/MP effort
++			# says <Richard.M.Bartel@ccMail.Census.GOV>
++	GUESS=i586-unisys-sysv4
++	;;
++    *:UNIX_System_V:4*:FTX*)
++	# From Gerald Hewes <hewes@openmarket.com>.
++	# How about differentiating between stratus architectures? -djm
++	GUESS=hppa1.1-stratus-sysv4
++	;;
++    *:*:*:FTX*)
++	# From seanf@swdc.stratus.com.
++	GUESS=i860-stratus-sysv4
++	;;
++    i*86:VOS:*:*)
++	# From Paul.Green@stratus.com.
++	GUESS=$UNAME_MACHINE-stratus-vos
++	;;
++    *:VOS:*:*)
++	# From Paul.Green@stratus.com.
++	GUESS=hppa1.1-stratus-vos
++	;;
++    mc68*:A/UX:*:*)
++	GUESS=m68k-apple-aux$UNAME_RELEASE
++	;;
++    news*:NEWS-OS:6*:*)
++	GUESS=mips-sony-newsos6
++	;;
++    R[34]000:*System_V*:*:* | R4000:UNIX_SYSV:*:* | R*000:UNIX_SV:*:*)
++	if test -d /usr/nec; then
++		GUESS=mips-nec-sysv$UNAME_RELEASE
++	else
++		GUESS=mips-unknown-sysv$UNAME_RELEASE
++	fi
++	;;
++    BeBox:BeOS:*:*)	# BeOS running on hardware made by Be, PPC only.
++	GUESS=powerpc-be-beos
++	;;
++    BeMac:BeOS:*:*)	# BeOS running on Mac or Mac clone, PPC only.
++	GUESS=powerpc-apple-beos
++	;;
++    BePC:BeOS:*:*)	# BeOS running on Intel PC compatible.
++	GUESS=i586-pc-beos
++	;;
++    BePC:Haiku:*:*)	# Haiku running on Intel PC compatible.
++	GUESS=i586-pc-haiku
++	;;
++    ppc:Haiku:*:*)	# Haiku running on Apple PowerPC
++	GUESS=powerpc-apple-haiku
++	;;
++    *:Haiku:*:*)	# Haiku modern gcc (not bound by BeOS compat)
++	GUESS=$UNAME_MACHINE-unknown-haiku
++	;;
++    SX-4:SUPER-UX:*:*)
++	GUESS=sx4-nec-superux$UNAME_RELEASE
++	;;
++    SX-5:SUPER-UX:*:*)
++	GUESS=sx5-nec-superux$UNAME_RELEASE
++	;;
++    SX-6:SUPER-UX:*:*)
++	GUESS=sx6-nec-superux$UNAME_RELEASE
++	;;
++    SX-7:SUPER-UX:*:*)
++	GUESS=sx7-nec-superux$UNAME_RELEASE
++	;;
++    SX-8:SUPER-UX:*:*)
++	GUESS=sx8-nec-superux$UNAME_RELEASE
++	;;
++    SX-8R:SUPER-UX:*:*)
++	GUESS=sx8r-nec-superux$UNAME_RELEASE
++	;;
++    SX-ACE:SUPER-UX:*:*)
++	GUESS=sxace-nec-superux$UNAME_RELEASE
++	;;
++    Power*:Rhapsody:*:*)
++	GUESS=powerpc-apple-rhapsody$UNAME_RELEASE
++	;;
++    *:Rhapsody:*:*)
++	GUESS=$UNAME_MACHINE-apple-rhapsody$UNAME_RELEASE
++	;;
++    arm64:Darwin:*:*)
++	GUESS=aarch64-apple-darwin$UNAME_RELEASE
++	;;
++    *:Darwin:*:*)
++	UNAME_PROCESSOR=`uname -p`
++	case $UNAME_PROCESSOR in
++	    unknown) UNAME_PROCESSOR=powerpc ;;
++	esac
++	if command -v xcode-select > /dev/null 2> /dev/null && \
++		! xcode-select --print-path > /dev/null 2> /dev/null ; then
++	    # Avoid executing cc if there is no toolchain installed as
++	    # cc will be a stub that puts up a graphical alert
++	    # prompting the user to install developer tools.
++	    CC_FOR_BUILD=no_compiler_found
++	else
++	    set_cc_for_build
++	fi
++	if test "$CC_FOR_BUILD" != no_compiler_found; then
++	    if (echo '#ifdef __LP64__'; echo IS_64BIT_ARCH; echo '#endif') | \
++		   (CCOPTS="" $CC_FOR_BUILD -E - 2>/dev/null) | \
++		   grep IS_64BIT_ARCH >/dev/null
++	    then
++		case $UNAME_PROCESSOR in
++		    i386) UNAME_PROCESSOR=x86_64 ;;
++		    powerpc) UNAME_PROCESSOR=powerpc64 ;;
++		esac
++	    fi
++	    # On 10.4-10.6 one might compile for PowerPC via gcc -arch ppc
++	    if (echo '#ifdef __POWERPC__'; echo IS_PPC; echo '#endif') | \
++		   (CCOPTS="" $CC_FOR_BUILD -E - 2>/dev/null) | \
++		   grep IS_PPC >/dev/null
++	    then
++		UNAME_PROCESSOR=powerpc
++	    fi
++	elif test "$UNAME_PROCESSOR" = i386 ; then
++	    # uname -m returns i386 or x86_64
++	    UNAME_PROCESSOR=$UNAME_MACHINE
++	fi
++	GUESS=$UNAME_PROCESSOR-apple-darwin$UNAME_RELEASE
++	;;
++    *:procnto*:*:* | *:QNX:[0123456789]*:*)
++	UNAME_PROCESSOR=`uname -p`
++	if test "$UNAME_PROCESSOR" = x86; then
++		UNAME_PROCESSOR=i386
++		UNAME_MACHINE=pc
++	fi
++	GUESS=$UNAME_PROCESSOR-$UNAME_MACHINE-nto-qnx$UNAME_RELEASE
++	;;
++    *:QNX:*:4*)
++	GUESS=i386-pc-qnx
++	;;
++    NEO-*:NONSTOP_KERNEL:*:*)
++	GUESS=neo-tandem-nsk$UNAME_RELEASE
++	;;
++    NSE-*:NONSTOP_KERNEL:*:*)
++	GUESS=nse-tandem-nsk$UNAME_RELEASE
++	;;
++    NSR-*:NONSTOP_KERNEL:*:*)
++	GUESS=nsr-tandem-nsk$UNAME_RELEASE
++	;;
++    NSV-*:NONSTOP_KERNEL:*:*)
++	GUESS=nsv-tandem-nsk$UNAME_RELEASE
++	;;
++    NSX-*:NONSTOP_KERNEL:*:*)
++	GUESS=nsx-tandem-nsk$UNAME_RELEASE
++	;;
++    *:NonStop-UX:*:*)
++	GUESS=mips-compaq-nonstopux
++	;;
++    BS2000:POSIX*:*:*)
++	GUESS=bs2000-siemens-sysv
++	;;
++    DS/*:UNIX_System_V:*:*)
++	GUESS=$UNAME_MACHINE-$UNAME_SYSTEM-$UNAME_RELEASE
++	;;
++    *:Plan9:*:*)
++	# "uname -m" is not consistent, so use $cputype instead. 386
++	# is converted to i386 for consistency with other x86
++	# operating systems.
++	if test "${cputype-}" = 386; then
++	    UNAME_MACHINE=i386
++	elif test "x${cputype-}" != x; then
++	    UNAME_MACHINE=$cputype
++	fi
++	GUESS=$UNAME_MACHINE-unknown-plan9
++	;;
++    *:TOPS-10:*:*)
++	GUESS=pdp10-unknown-tops10
++	;;
++    *:TENEX:*:*)
++	GUESS=pdp10-unknown-tenex
++	;;
++    KS10:TOPS-20:*:* | KL10:TOPS-20:*:* | TYPE4:TOPS-20:*:*)
++	GUESS=pdp10-dec-tops20
++	;;
++    XKL-1:TOPS-20:*:* | TYPE5:TOPS-20:*:*)
++	GUESS=pdp10-xkl-tops20
++	;;
++    *:TOPS-20:*:*)
++	GUESS=pdp10-unknown-tops20
++	;;
++    *:ITS:*:*)
++	GUESS=pdp10-unknown-its
++	;;
++    SEI:*:*:SEIUX)
++	GUESS=mips-sei-seiux$UNAME_RELEASE
++	;;
++    *:DragonFly:*:*)
++	DRAGONFLY_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
++	GUESS=$UNAME_MACHINE-unknown-dragonfly$DRAGONFLY_REL
++	;;
++    *:*VMS:*:*)
++	UNAME_MACHINE=`(uname -p) 2>/dev/null`
++	case $UNAME_MACHINE in
++	    A*) GUESS=alpha-dec-vms ;;
++	    I*) GUESS=ia64-dec-vms ;;
++	    V*) GUESS=vax-dec-vms ;;
++	esac ;;
++    *:XENIX:*:SysV)
++	GUESS=i386-pc-xenix
++	;;
++    i*86:skyos:*:*)
++	SKYOS_REL=`echo "$UNAME_RELEASE" | sed -e 's/ .*$//'`
++	GUESS=$UNAME_MACHINE-pc-skyos$SKYOS_REL
++	;;
++    i*86:rdos:*:*)
++	GUESS=$UNAME_MACHINE-pc-rdos
++	;;
++    i*86:Fiwix:*:*)
++	GUESS=$UNAME_MACHINE-pc-fiwix
++	;;
++    *:AROS:*:*)
++	GUESS=$UNAME_MACHINE-unknown-aros
++	;;
++    x86_64:VMkernel:*:*)
++	GUESS=$UNAME_MACHINE-unknown-esx
++	;;
++    amd64:Isilon\ OneFS:*:*)
++	GUESS=x86_64-unknown-onefs
++	;;
++    *:Unleashed:*:*)
++	GUESS=$UNAME_MACHINE-unknown-unleashed$UNAME_RELEASE
++	;;
++    *:Ironclad:*:*)
++	GUESS=$UNAME_MACHINE-unknown-ironclad
++	;;
++esac
++
++# Do we have a guess based on uname results?
++if test "x$GUESS" != x; then
++    echo "$GUESS"
++    exit
++fi
++
++# No uname command or uname output not recognized.
++set_cc_for_build
++cat > "$dummy.c" <<EOF
++#ifdef _SEQUENT_
++#include <sys/types.h>
++#include <sys/utsname.h>
++#endif
++#if defined(ultrix) || defined(_ultrix) || defined(__ultrix) || defined(__ultrix__)
++#if defined (vax) || defined (__vax) || defined (__vax__) || defined(mips) || defined(__mips) || defined(__mips__) || defined(MIPS) || defined(__MIPS__)
++#include <signal.h>
++#if defined(_SIZE_T_) || defined(SIGLOST)
++#include <sys/utsname.h>
++#endif
++#endif
++#endif
++int
++main ()
++{
++#if defined (sony)
++#if defined (MIPSEB)
++  /* BFD wants "bsd" instead of "newsos".  Perhaps BFD should be changed,
++     I don't know....  */
++  printf ("mips-sony-bsd\n"); exit (0);
++#else
++#include <sys/param.h>
++  printf ("m68k-sony-newsos%s\n",
++#ifdef NEWSOS4
++  "4"
++#else
++  ""
++#endif
++  ); exit (0);
++#endif
++#endif
++
++#if defined (NeXT)
++#if !defined (__ARCHITECTURE__)
++#define __ARCHITECTURE__ "m68k"
++#endif
++  int version;
++  version=`(hostinfo | sed -n 's/.*NeXT Mach \([0-9]*\).*/\1/p') 2>/dev/null`;
++  if (version < 4)
++    printf ("%s-next-nextstep%d\n", __ARCHITECTURE__, version);
++  else
++    printf ("%s-next-openstep%d\n", __ARCHITECTURE__, version);
++  exit (0);
++#endif
++
++#if defined (MULTIMAX) || defined (n16)
++#if defined (UMAXV)
++  printf ("ns32k-encore-sysv\n"); exit (0);
++#else
++#if defined (CMU)
++  printf ("ns32k-encore-mach\n"); exit (0);
++#else
++  printf ("ns32k-encore-bsd\n"); exit (0);
++#endif
++#endif
++#endif
++
++#if defined (__386BSD__)
++  printf ("i386-pc-bsd\n"); exit (0);
++#endif
++
++#if defined (sequent)
++#if defined (i386)
++  printf ("i386-sequent-dynix\n"); exit (0);
++#endif
++#if defined (ns32000)
++  printf ("ns32k-sequent-dynix\n"); exit (0);
++#endif
++#endif
++
++#if defined (_SEQUENT_)
++  struct utsname un;
++
++  uname(&un);
++  if (strncmp(un.version, "V2", 2) == 0) {
++    printf ("i386-sequent-ptx2\n"); exit (0);
++  }
++  if (strncmp(un.version, "V1", 2) == 0) { /* XXX is V1 correct? */
++    printf ("i386-sequent-ptx1\n"); exit (0);
++  }
++  printf ("i386-sequent-ptx\n"); exit (0);
++#endif
++
++#if defined (vax)
++#if !defined (ultrix)
++#include <sys/param.h>
++#if defined (BSD)
++#if BSD == 43
++  printf ("vax-dec-bsd4.3\n"); exit (0);
++#else
++#if BSD == 199006
++  printf ("vax-dec-bsd4.3reno\n"); exit (0);
++#else
++  printf ("vax-dec-bsd\n"); exit (0);
++#endif
++#endif
++#else
++  printf ("vax-dec-bsd\n"); exit (0);
++#endif
++#else
++#if defined(_SIZE_T_) || defined(SIGLOST)
++  struct utsname un;
++  uname (&un);
++  printf ("vax-dec-ultrix%s\n", un.release); exit (0);
++#else
++  printf ("vax-dec-ultrix\n"); exit (0);
++#endif
++#endif
++#endif
++#if defined(ultrix) || defined(_ultrix) || defined(__ultrix) || defined(__ultrix__)
++#if defined(mips) || defined(__mips) || defined(__mips__) || defined(MIPS) || defined(__MIPS__)
++#if defined(_SIZE_T_) || defined(SIGLOST)
++  struct utsname *un;
++  uname (&un);
++  printf ("mips-dec-ultrix%s\n", un.release); exit (0);
++#else
++  printf ("mips-dec-ultrix\n"); exit (0);
++#endif
++#endif
++#endif
++
++#if defined (alliant) && defined (i860)
++  printf ("i860-alliant-bsd\n"); exit (0);
++#endif
++
++  exit (1);
++}
++EOF
++
++$CC_FOR_BUILD -o "$dummy" "$dummy.c" 2>/dev/null && SYSTEM_NAME=`"$dummy"` &&
++	{ echo "$SYSTEM_NAME"; exit; }
++
++# Apollos put the system type in the environment.
++test -d /usr/apollo && { echo "$ISP-apollo-$SYSTYPE"; exit; }
++
++echo "$0: unable to guess system type" >&2
++
++case $UNAME_MACHINE:$UNAME_SYSTEM in
++    mips:Linux | mips64:Linux)
++	# If we got here on MIPS GNU/Linux, output extra information.
++	cat >&2 <<EOF
++
++NOTE: MIPS GNU/Linux systems require a C compiler to fully recognize
++the system type. Please install a C compiler and try again.
++EOF
++	;;
++esac
++
++cat >&2 <<EOF
++
++This script (version $timestamp), has failed to recognize the
++operating system you are using. If your script is old, overwrite *all*
++copies of config.guess and config.sub with the latest versions from:
++
++  https://git.savannah.gnu.org/cgit/config.git/plain/config.guess
++and
++  https://git.savannah.gnu.org/cgit/config.git/plain/config.sub
++EOF
++
++our_year=`echo $timestamp | sed 's,-.*,,'`
++thisyear=`date +%Y`
++# shellcheck disable=SC2003
++script_age=`expr "$thisyear" - "$our_year"`
++if test "$script_age" -lt 3 ; then
++   cat >&2 <<EOF
++
++If $0 has already been updated, send the following data and any
++information you think might be pertinent to config-patches@gnu.org to
++provide the necessary information to handle your system.
++
++config.guess timestamp = $timestamp
++
++uname -m = `(uname -m) 2>/dev/null || echo unknown`
++uname -r = `(uname -r) 2>/dev/null || echo unknown`
++uname -s = `(uname -s) 2>/dev/null || echo unknown`
++uname -v = `(uname -v) 2>/dev/null || echo unknown`
++
++/usr/bin/uname -p = `(/usr/bin/uname -p) 2>/dev/null`
++/bin/uname -X     = `(/bin/uname -X) 2>/dev/null`
++
++hostinfo               = `(hostinfo) 2>/dev/null`
++/bin/universe          = `(/bin/universe) 2>/dev/null`
++/usr/bin/arch -k       = `(/usr/bin/arch -k) 2>/dev/null`
++/bin/arch              = `(/bin/arch) 2>/dev/null`
++/usr/bin/oslevel       = `(/usr/bin/oslevel) 2>/dev/null`
++/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/dev/null`
++
++UNAME_MACHINE = "$UNAME_MACHINE"
++UNAME_RELEASE = "$UNAME_RELEASE"
++UNAME_SYSTEM  = "$UNAME_SYSTEM"
++UNAME_VERSION = "$UNAME_VERSION"
++EOF
++fi
++
++exit 1
++
++# Local variables:
++# eval: (add-hook 'before-save-hook 'time-stamp)
++# time-stamp-start: "timestamp='"
++# time-stamp-format: "%:y-%02m-%02d"
++# time-stamp-end: "'"
++# End:
+diff --git a/external/config.sub b/external/config.sub
+new file mode 100644
+index 000000000..4aaae46f6
+--- /dev/null
++++ b/external/config.sub
+@@ -0,0 +1,2354 @@
++#! /bin/sh
++# Configuration validation subroutine script.
++#   Copyright 1992-2024 Free Software Foundation, Inc.
++
++# shellcheck disable=SC2006,SC2268,SC2162 # see below for rationale
++
++timestamp='2024-05-27'
++
++# This file is free software; you can redistribute it and/or modify it
++# under the terms of the GNU General Public License as published by
++# the Free Software Foundation, either version 3 of the License, or
++# (at your option) any later version.
++#
++# This program is distributed in the hope that it will be useful, but
++# WITHOUT ANY WARRANTY; without even the implied warranty of
++# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
++# General Public License for more details.
++#
++# You should have received a copy of the GNU General Public License
++# along with this program; if not, see <https://www.gnu.org/licenses/>.
++#
++# As a special exception to the GNU General Public License, if you
++# distribute this file as part of a program that contains a
++# configuration script generated by Autoconf, you may include it under
++# the same distribution terms that you use for the rest of that
++# program.  This Exception is an additional permission under section 7
++# of the GNU General Public License, version 3 ("GPLv3").
++
++
++# Please send patches to <config-patches@gnu.org>.
++#
++# Configuration subroutine to validate and canonicalize a configuration type.
++# Supply the specified configuration type as an argument.
++# If it is invalid, we print an error message on stderr and exit with code 1.
++# Otherwise, we print the canonical config type on stdout and succeed.
++
++# You can get the latest version of this script from:
++# https://git.savannah.gnu.org/cgit/config.git/plain/config.sub
++
++# This file is supposed to be the same for all GNU packages
++# and recognize all the CPU types, system types and aliases
++# that are meaningful with *any* GNU software.
++# Each package is responsible for reporting which valid configurations
++# it does not support.  The user should be able to distinguish
++# a failure to support a valid configuration from a meaningless
++# configuration.
++
++# The goal of this file is to map all the various variations of a given
++# machine specification into a single specification in the form:
++#	CPU_TYPE-MANUFACTURER-OPERATING_SYSTEM
++# or in some cases, the newer four-part form:
++#	CPU_TYPE-MANUFACTURER-KERNEL-OPERATING_SYSTEM
++# It is wrong to echo any other type of specification.
++
++# The "shellcheck disable" line above the timestamp inhibits complaints
++# about features and limitations of the classic Bourne shell that were
++# superseded or lifted in POSIX.  However, this script identifies a wide
++# variety of pre-POSIX systems that do not have POSIX shells at all, and
++# even some reasonably current systems (Solaris 10 as case-in-point) still
++# have a pre-POSIX /bin/sh.
++
++me=`echo "$0" | sed -e 's,.*/,,'`
++
++usage="\
++Usage: $0 [OPTION] CPU-MFR-OPSYS or ALIAS
++
++Canonicalize a configuration name.
++
++Options:
++  -h, --help         print this help, then exit
++  -t, --time-stamp   print date of last modification, then exit
++  -v, --version      print version number, then exit
++
++Report bugs and patches to <config-patches@gnu.org>."
++
++version="\
++GNU config.sub ($timestamp)
++
++Copyright 1992-2024 Free Software Foundation, Inc.
++
++This is free software; see the source for copying conditions.  There is NO
++warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."
++
++help="
++Try '$me --help' for more information."
++
++# Parse command line
++while test $# -gt 0 ; do
++  case $1 in
++    --time-stamp | --time* | -t )
++       echo "$timestamp" ; exit ;;
++    --version | -v )
++       echo "$version" ; exit ;;
++    --help | --h* | -h )
++       echo "$usage"; exit ;;
++    -- )     # Stop option processing
++       shift; break ;;
++    - )	# Use stdin as input.
++       break ;;
++    -* )
++       echo "$me: invalid option $1$help" >&2
++       exit 1 ;;
++
++    *local*)
++       # First pass through any local machine types.
++       echo "$1"
++       exit ;;
++
++    * )
++       break ;;
++  esac
++done
++
++case $# in
++ 0) echo "$me: missing argument$help" >&2
++    exit 1;;
++ 1) ;;
++ *) echo "$me: too many arguments$help" >&2
++    exit 1;;
++esac
++
++# Split fields of configuration type
++saved_IFS=$IFS
++IFS="-" read field1 field2 field3 field4 <<EOF
++$1
++EOF
++IFS=$saved_IFS
++
++# Separate into logical components for further validation
++case $1 in
++	*-*-*-*-*)
++		echo "Invalid configuration '$1': more than four components" >&2
++		exit 1
++		;;
++	*-*-*-*)
++		basic_machine=$field1-$field2
++		basic_os=$field3-$field4
++		;;
++	*-*-*)
++		# Ambiguous whether COMPANY is present, or skipped and KERNEL-OS is two
++		# parts
++		maybe_os=$field2-$field3
++		case $maybe_os in
++			  cloudabi*-eabi* \
++			| kfreebsd*-gnu* \
++			| knetbsd*-gnu* \
++			| kopensolaris*-gnu* \
++			| linux-* \
++			| managarm-* \
++			| netbsd*-eabi* \
++			| netbsd*-gnu* \
++			| nto-qnx* \
++			| os2-emx* \
++			| rtmk-nova* \
++			| storm-chaos* \
++			| uclinux-gnu* \
++			| uclinux-uclibc* \
++			| windows-* )
++				basic_machine=$field1
++				basic_os=$maybe_os
++				;;
++			android-linux)
++				basic_machine=$field1-unknown
++				basic_os=linux-android
++				;;
++			*)
++				basic_machine=$field1-$field2
++				basic_os=$field3
++				;;
++		esac
++		;;
++	*-*)
++		case $field1-$field2 in
++			# Shorthands that happen to contain a single dash
++			convex-c[12] | convex-c3[248])
++				basic_machine=$field2-convex
++				basic_os=
++				;;
++			decstation-3100)
++				basic_machine=mips-dec
++				basic_os=
++				;;
++			*-*)
++				# Second component is usually, but not always the OS
++				case $field2 in
++					# Do not treat sunos as a manufacturer
++					sun*os*)
++						basic_machine=$field1
++						basic_os=$field2
++						;;
++					# Manufacturers
++					  3100* \
++					| 32* \
++					| 3300* \
++					| 3600* \
++					| 7300* \
++					| acorn \
++					| altos* \
++					| apollo \
++					| apple \
++					| atari \
++					| att* \
++					| axis \
++					| be \
++					| bull \
++					| cbm \
++					| ccur \
++					| cisco \
++					| commodore \
++					| convergent* \
++					| convex* \
++					| cray \
++					| crds \
++					| dec* \
++					| delta* \
++					| dg \
++					| digital \
++					| dolphin \
++					| encore* \
++					| gould \
++					| harris \
++					| highlevel \
++					| hitachi* \
++					| hp \
++					| ibm* \
++					| intergraph \
++					| isi* \
++					| knuth \
++					| masscomp \
++					| microblaze* \
++					| mips* \
++					| motorola* \
++					| ncr* \
++					| news \
++					| next \
++					| ns \
++					| oki \
++					| omron* \
++					| pc533* \
++					| rebel \
++					| rom68k \
++					| rombug \
++					| semi \
++					| sequent* \
++					| siemens \
++					| sgi* \
++					| siemens \
++					| sim \
++					| sni \
++					| sony* \
++					| stratus \
++					| sun \
++					| sun[234]* \
++					| tektronix \
++					| tti* \
++					| ultra \
++					| unicom* \
++					| wec \
++					| winbond \
++					| wrs)
++						basic_machine=$field1-$field2
++						basic_os=
++						;;
++					zephyr*)
++						basic_machine=$field1-unknown
++						basic_os=$field2
++						;;
++					*)
++						basic_machine=$field1
++						basic_os=$field2
++						;;
++				esac
++			;;
++		esac
++		;;
++	*)
++		# Convert single-component short-hands not valid as part of
++		# multi-component configurations.
++		case $field1 in
++			386bsd)
++				basic_machine=i386-pc
++				basic_os=bsd
++				;;
++			a29khif)
++				basic_machine=a29k-amd
++				basic_os=udi
++				;;
++			adobe68k)
++				basic_machine=m68010-adobe
++				basic_os=scout
++				;;
++			alliant)
++				basic_machine=fx80-alliant
++				basic_os=
++				;;
++			altos | altos3068)
++				basic_machine=m68k-altos
++				basic_os=
++				;;
++			am29k)
++				basic_machine=a29k-none
++				basic_os=bsd
++				;;
++			amdahl)
++				basic_machine=580-amdahl
++				basic_os=sysv
++				;;
++			amiga)
++				basic_machine=m68k-unknown
++				basic_os=
++				;;
++			amigaos | amigados)
++				basic_machine=m68k-unknown
++				basic_os=amigaos
++				;;
++			amigaunix | amix)
++				basic_machine=m68k-unknown
++				basic_os=sysv4
++				;;
++			apollo68)
++				basic_machine=m68k-apollo
++				basic_os=sysv
++				;;
++			apollo68bsd)
++				basic_machine=m68k-apollo
++				basic_os=bsd
++				;;
++			aros)
++				basic_machine=i386-pc
++				basic_os=aros
++				;;
++			aux)
++				basic_machine=m68k-apple
++				basic_os=aux
++				;;
++			balance)
++				basic_machine=ns32k-sequent
++				basic_os=dynix
++				;;
++			blackfin)
++				basic_machine=bfin-unknown
++				basic_os=linux
++				;;
++			cegcc)
++				basic_machine=arm-unknown
++				basic_os=cegcc
++				;;
++			cray)
++				basic_machine=j90-cray
++				basic_os=unicos
++				;;
++			crds | unos)
++				basic_machine=m68k-crds
++				basic_os=
++				;;
++			da30)
++				basic_machine=m68k-da30
++				basic_os=
++				;;
++			decstation | pmax | pmin | dec3100 | decstatn)
++				basic_machine=mips-dec
++				basic_os=
++				;;
++			delta88)
++				basic_machine=m88k-motorola
++				basic_os=sysv3
++				;;
++			dicos)
++				basic_machine=i686-pc
++				basic_os=dicos
++				;;
++			djgpp)
++				basic_machine=i586-pc
++				basic_os=msdosdjgpp
++				;;
++			ebmon29k)
++				basic_machine=a29k-amd
++				basic_os=ebmon
++				;;
++			es1800 | OSE68k | ose68k | ose | OSE)
++				basic_machine=m68k-ericsson
++				basic_os=ose
++				;;
++			gmicro)
++				basic_machine=tron-gmicro
++				basic_os=sysv
++				;;
++			go32)
++				basic_machine=i386-pc
++				basic_os=go32
++				;;
++			h8300hms)
++				basic_machine=h8300-hitachi
++				basic_os=hms
++				;;
++			h8300xray)
++				basic_machine=h8300-hitachi
++				basic_os=xray
++				;;
++			h8500hms)
++				basic_machine=h8500-hitachi
++				basic_os=hms
++				;;
++			harris)
++				basic_machine=m88k-harris
++				basic_os=sysv3
++				;;
++			hp300 | hp300hpux)
++				basic_machine=m68k-hp
++				basic_os=hpux
++				;;
++			hp300bsd)
++				basic_machine=m68k-hp
++				basic_os=bsd
++				;;
++			hppaosf)
++				basic_machine=hppa1.1-hp
++				basic_os=osf
++				;;
++			hppro)
++				basic_machine=hppa1.1-hp
++				basic_os=proelf
++				;;
++			i386mach)
++				basic_machine=i386-mach
++				basic_os=mach
++				;;
++			isi68 | isi)
++				basic_machine=m68k-isi
++				basic_os=sysv
++				;;
++			m68knommu)
++				basic_machine=m68k-unknown
++				basic_os=linux
++				;;
++			magnum | m3230)
++				basic_machine=mips-mips
++				basic_os=sysv
++				;;
++			merlin)
++				basic_machine=ns32k-utek
++				basic_os=sysv
++				;;
++			mingw64)
++				basic_machine=x86_64-pc
++				basic_os=mingw64
++				;;
++			mingw32)
++				basic_machine=i686-pc
++				basic_os=mingw32
++				;;
++			mingw32ce)
++				basic_machine=arm-unknown
++				basic_os=mingw32ce
++				;;
++			monitor)
++				basic_machine=m68k-rom68k
++				basic_os=coff
++				;;
++			morphos)
++				basic_machine=powerpc-unknown
++				basic_os=morphos
++				;;
++			moxiebox)
++				basic_machine=moxie-unknown
++				basic_os=moxiebox
++				;;
++			msdos)
++				basic_machine=i386-pc
++				basic_os=msdos
++				;;
++			msys)
++				basic_machine=i686-pc
++				basic_os=msys
++				;;
++			mvs)
++				basic_machine=i370-ibm
++				basic_os=mvs
++				;;
++			nacl)
++				basic_machine=le32-unknown
++				basic_os=nacl
++				;;
++			ncr3000)
++				basic_machine=i486-ncr
++				basic_os=sysv4
++				;;
++			netbsd386)
++				basic_machine=i386-pc
++				basic_os=netbsd
++				;;
++			netwinder)
++				basic_machine=armv4l-rebel
++				basic_os=linux
++				;;
++			news | news700 | news800 | news900)
++				basic_machine=m68k-sony
++				basic_os=newsos
++				;;
++			news1000)
++				basic_machine=m68030-sony
++				basic_os=newsos
++				;;
++			necv70)
++				basic_machine=v70-nec
++				basic_os=sysv
++				;;
++			nh3000)
++				basic_machine=m68k-harris
++				basic_os=cxux
++				;;
++			nh[45]000)
++				basic_machine=m88k-harris
++				basic_os=cxux
++				;;
++			nindy960)
++				basic_machine=i960-intel
++				basic_os=nindy
++				;;
++			mon960)
++				basic_machine=i960-intel
++				basic_os=mon960
++				;;
++			nonstopux)
++				basic_machine=mips-compaq
++				basic_os=nonstopux
++				;;
++			os400)
++				basic_machine=powerpc-ibm
++				basic_os=os400
++				;;
++			OSE68000 | ose68000)
++				basic_machine=m68000-ericsson
++				basic_os=ose
++				;;
++			os68k)
++				basic_machine=m68k-none
++				basic_os=os68k
++				;;
++			paragon)
++				basic_machine=i860-intel
++				basic_os=osf
++				;;
++			parisc)
++				basic_machine=hppa-unknown
++				basic_os=linux
++				;;
++			psp)
++				basic_machine=mipsallegrexel-sony
++				basic_os=psp
++				;;
++			pw32)
++				basic_machine=i586-unknown
++				basic_os=pw32
++				;;
++			rdos | rdos64)
++				basic_machine=x86_64-pc
++				basic_os=rdos
++				;;
++			rdos32)
++				basic_machine=i386-pc
++				basic_os=rdos
++				;;
++			rom68k)
++				basic_machine=m68k-rom68k
++				basic_os=coff
++				;;
++			sa29200)
++				basic_machine=a29k-amd
++				basic_os=udi
++				;;
++			sei)
++				basic_machine=mips-sei
++				basic_os=seiux
++				;;
++			sequent)
++				basic_machine=i386-sequent
++				basic_os=
++				;;
++			sps7)
++				basic_machine=m68k-bull
++				basic_os=sysv2
++				;;
++			st2000)
++				basic_machine=m68k-tandem
++				basic_os=
++				;;
++			stratus)
++				basic_machine=i860-stratus
++				basic_os=sysv4
++				;;
++			sun2)
++				basic_machine=m68000-sun
++				basic_os=
++				;;
++			sun2os3)
++				basic_machine=m68000-sun
++				basic_os=sunos3
++				;;
++			sun2os4)
++				basic_machine=m68000-sun
++				basic_os=sunos4
++				;;
++			sun3)
++				basic_machine=m68k-sun
++				basic_os=
++				;;
++			sun3os3)
++				basic_machine=m68k-sun
++				basic_os=sunos3
++				;;
++			sun3os4)
++				basic_machine=m68k-sun
++				basic_os=sunos4
++				;;
++			sun4)
++				basic_machine=sparc-sun
++				basic_os=
++				;;
++			sun4os3)
++				basic_machine=sparc-sun
++				basic_os=sunos3
++				;;
++			sun4os4)
++				basic_machine=sparc-sun
++				basic_os=sunos4
++				;;
++			sun4sol2)
++				basic_machine=sparc-sun
++				basic_os=solaris2
++				;;
++			sun386 | sun386i | roadrunner)
++				basic_machine=i386-sun
++				basic_os=
++				;;
++			sv1)
++				basic_machine=sv1-cray
++				basic_os=unicos
++				;;
++			symmetry)
++				basic_machine=i386-sequent
++				basic_os=dynix
++				;;
++			t3e)
++				basic_machine=alphaev5-cray
++				basic_os=unicos
++				;;
++			t90)
++				basic_machine=t90-cray
++				basic_os=unicos
++				;;
++			toad1)
++				basic_machine=pdp10-xkl
++				basic_os=tops20
++				;;
++			tpf)
++				basic_machine=s390x-ibm
++				basic_os=tpf
++				;;
++			udi29k)
++				basic_machine=a29k-amd
++				basic_os=udi
++				;;
++			ultra3)
++				basic_machine=a29k-nyu
++				basic_os=sym1
++				;;
++			v810 | necv810)
++				basic_machine=v810-nec
++				basic_os=none
++				;;
++			vaxv)
++				basic_machine=vax-dec
++				basic_os=sysv
++				;;
++			vms)
++				basic_machine=vax-dec
++				basic_os=vms
++				;;
++			vsta)
++				basic_machine=i386-pc
++				basic_os=vsta
++				;;
++			vxworks960)
++				basic_machine=i960-wrs
++				basic_os=vxworks
++				;;
++			vxworks68)
++				basic_machine=m68k-wrs
++				basic_os=vxworks
++				;;
++			vxworks29k)
++				basic_machine=a29k-wrs
++				basic_os=vxworks
++				;;
++			xbox)
++				basic_machine=i686-pc
++				basic_os=mingw32
++				;;
++			ymp)
++				basic_machine=ymp-cray
++				basic_os=unicos
++				;;
++			*)
++				basic_machine=$1
++				basic_os=
++				;;
++		esac
++		;;
++esac
++
++# Decode 1-component or ad-hoc basic machines
++case $basic_machine in
++	# Here we handle the default manufacturer of certain CPU types.  It is in
++	# some cases the only manufacturer, in others, it is the most popular.
++	w89k)
++		cpu=hppa1.1
++		vendor=winbond
++		;;
++	op50n)
++		cpu=hppa1.1
++		vendor=oki
++		;;
++	op60c)
++		cpu=hppa1.1
++		vendor=oki
++		;;
++	ibm*)
++		cpu=i370
++		vendor=ibm
++		;;
++	orion105)
++		cpu=clipper
++		vendor=highlevel
++		;;
++	mac | mpw | mac-mpw)
++		cpu=m68k
++		vendor=apple
++		;;
++	pmac | pmac-mpw)
++		cpu=powerpc
++		vendor=apple
++		;;
++
++	# Recognize the various machine names and aliases which stand
++	# for a CPU type and a company and sometimes even an OS.
++	3b1 | 7300 | 7300-att | att-7300 | pc7300 | safari | unixpc)
++		cpu=m68000
++		vendor=att
++		;;
++	3b*)
++		cpu=we32k
++		vendor=att
++		;;
++	bluegene*)
++		cpu=powerpc
++		vendor=ibm
++		basic_os=cnk
++		;;
++	decsystem10* | dec10*)
++		cpu=pdp10
++		vendor=dec
++		basic_os=tops10
++		;;
++	decsystem20* | dec20*)
++		cpu=pdp10
++		vendor=dec
++		basic_os=tops20
++		;;
++	delta | 3300 | delta-motorola | 3300-motorola | motorola-delta | motorola-3300)
++		cpu=m68k
++		vendor=motorola
++		;;
++	# This used to be dpx2*, but that gets the RS6000-based
++	# DPX/20 and the x86-based DPX/2-100 wrong.  See
++	# https://oldskool.silicium.org/stations/bull_dpx20.htm
++	# https://www.feb-patrimoine.com/english/bull_dpx2.htm
++	# https://www.feb-patrimoine.com/english/unix_and_bull.htm
++	dpx2 | dpx2[23]00 | dpx2[23]xx)
++		cpu=m68k
++		vendor=bull
++		;;
++	dpx2100 | dpx21xx)
++		cpu=i386
++		vendor=bull
++		;;
++	dpx20)
++		cpu=rs6000
++		vendor=bull
++		;;
++	encore | umax | mmax)
++		cpu=ns32k
++		vendor=encore
++		;;
++	elxsi)
++		cpu=elxsi
++		vendor=elxsi
++		basic_os=${basic_os:-bsd}
++		;;
++	fx2800)
++		cpu=i860
++		vendor=alliant
++		;;
++	genix)
++		cpu=ns32k
++		vendor=ns
++		;;
++	h3050r* | hiux*)
++		cpu=hppa1.1
++		vendor=hitachi
++		basic_os=hiuxwe2
++		;;
++	hp3k9[0-9][0-9] | hp9[0-9][0-9])
++		cpu=hppa1.0
++		vendor=hp
++		;;
++	hp9k2[0-9][0-9] | hp9k31[0-9])
++		cpu=m68000
++		vendor=hp
++		;;
++	hp9k3[2-9][0-9])
++		cpu=m68k
++		vendor=hp
++		;;
++	hp9k6[0-9][0-9] | hp6[0-9][0-9])
++		cpu=hppa1.0
++		vendor=hp
++		;;
++	hp9k7[0-79][0-9] | hp7[0-79][0-9])
++		cpu=hppa1.1
++		vendor=hp
++		;;
++	hp9k78[0-9] | hp78[0-9])
++		# FIXME: really hppa2.0-hp
++		cpu=hppa1.1
++		vendor=hp
++		;;
++	hp9k8[67]1 | hp8[67]1 | hp9k80[24] | hp80[24] | hp9k8[78]9 | hp8[78]9 | hp9k893 | hp893)
++		# FIXME: really hppa2.0-hp
++		cpu=hppa1.1
++		vendor=hp
++		;;
++	hp9k8[0-9][13679] | hp8[0-9][13679])
++		cpu=hppa1.1
++		vendor=hp
++		;;
++	hp9k8[0-9][0-9] | hp8[0-9][0-9])
++		cpu=hppa1.0
++		vendor=hp
++		;;
++	i*86v32)
++		cpu=`echo "$1" | sed -e 's/86.*/86/'`
++		vendor=pc
++		basic_os=sysv32
++		;;
++	i*86v4*)
++		cpu=`echo "$1" | sed -e 's/86.*/86/'`
++		vendor=pc
++		basic_os=sysv4
++		;;
++	i*86v)
++		cpu=`echo "$1" | sed -e 's/86.*/86/'`
++		vendor=pc
++		basic_os=sysv
++		;;
++	i*86sol2)
++		cpu=`echo "$1" | sed -e 's/86.*/86/'`
++		vendor=pc
++		basic_os=solaris2
++		;;
++	j90 | j90-cray)
++		cpu=j90
++		vendor=cray
++		basic_os=${basic_os:-unicos}
++		;;
++	iris | iris4d)
++		cpu=mips
++		vendor=sgi
++		case $basic_os in
++		    irix*)
++			;;
++		    *)
++			basic_os=irix4
++			;;
++		esac
++		;;
++	miniframe)
++		cpu=m68000
++		vendor=convergent
++		;;
++	*mint | mint[0-9]* | *MiNT | *MiNT[0-9]*)
++		cpu=m68k
++		vendor=atari
++		basic_os=mint
++		;;
++	news-3600 | risc-news)
++		cpu=mips
++		vendor=sony
++		basic_os=newsos
++		;;
++	next | m*-next)
++		cpu=m68k
++		vendor=next
++		;;
++	np1)
++		cpu=np1
++		vendor=gould
++		;;
++	op50n-* | op60c-*)
++		cpu=hppa1.1
++		vendor=oki
++		basic_os=proelf
++		;;
++	pa-hitachi)
++		cpu=hppa1.1
++		vendor=hitachi
++		basic_os=hiuxwe2
++		;;
++	pbd)
++		cpu=sparc
++		vendor=tti
++		;;
++	pbb)
++		cpu=m68k
++		vendor=tti
++		;;
++	pc532)
++		cpu=ns32k
++		vendor=pc532
++		;;
++	pn)
++		cpu=pn
++		vendor=gould
++		;;
++	power)
++		cpu=power
++		vendor=ibm
++		;;
++	ps2)
++		cpu=i386
++		vendor=ibm
++		;;
++	rm[46]00)
++		cpu=mips
++		vendor=siemens
++		;;
++	rtpc | rtpc-*)
++		cpu=romp
++		vendor=ibm
++		;;
++	sde)
++		cpu=mipsisa32
++		vendor=sde
++		basic_os=${basic_os:-elf}
++		;;
++	simso-wrs)
++		cpu=sparclite
++		vendor=wrs
++		basic_os=vxworks
++		;;
++	tower | tower-32)
++		cpu=m68k
++		vendor=ncr
++		;;
++	vpp*|vx|vx-*)
++		cpu=f301
++		vendor=fujitsu
++		;;
++	w65)
++		cpu=w65
++		vendor=wdc
++		;;
++	w89k-*)
++		cpu=hppa1.1
++		vendor=winbond
++		basic_os=proelf
++		;;
++	none)
++		cpu=none
++		vendor=none
++		;;
++	leon|leon[3-9])
++		cpu=sparc
++		vendor=$basic_machine
++		;;
++	leon-*|leon[3-9]-*)
++		cpu=sparc
++		vendor=`echo "$basic_machine" | sed 's/-.*//'`
++		;;
++
++	*-*)
++		saved_IFS=$IFS
++		IFS="-" read cpu vendor <<EOF
++$basic_machine
++EOF
++		IFS=$saved_IFS
++		;;
++	# We use 'pc' rather than 'unknown'
++	# because (1) that's what they normally are, and
++	# (2) the word "unknown" tends to confuse beginning users.
++	i*86 | x86_64)
++		cpu=$basic_machine
++		vendor=pc
++		;;
++	# These rules are duplicated from below for sake of the special case above;
++	# i.e. things that normalized to x86 arches should also default to "pc"
++	pc98)
++		cpu=i386
++		vendor=pc
++		;;
++	x64 | amd64)
++		cpu=x86_64
++		vendor=pc
++		;;
++	# Recognize the basic CPU types without company name.
++	*)
++		cpu=$basic_machine
++		vendor=unknown
++		;;
++esac
++
++unset -v basic_machine
++
++# Decode basic machines in the full and proper CPU-Company form.
++case $cpu-$vendor in
++	# Here we handle the default manufacturer of certain CPU types in canonical form.
++	# It is in some cases the only manufacturer, in others, it is the most popular.
++	c[12]-convex | c[12]-unknown | c3[248]-convex | c3[248]-unknown)
++		vendor=convex
++		basic_os=${basic_os:-bsd}
++		;;
++	craynv-unknown)
++		vendor=cray
++		basic_os=${basic_os:-unicosmp}
++		;;
++	c90-unknown | c90-cray)
++		vendor=cray
++		basic_os=${basic_os:-unicos}
++		;;
++	fx80-unknown)
++		vendor=alliant
++		;;
++	romp-unknown)
++		vendor=ibm
++		;;
++	mmix-unknown)
++		vendor=knuth
++		;;
++	microblaze-unknown | microblazeel-unknown)
++		vendor=xilinx
++		;;
++	rs6000-unknown)
++		vendor=ibm
++		;;
++	vax-unknown)
++		vendor=dec
++		;;
++	pdp11-unknown)
++		vendor=dec
++		;;
++	we32k-unknown)
++		vendor=att
++		;;
++	cydra-unknown)
++		vendor=cydrome
++		;;
++	i370-ibm*)
++		vendor=ibm
++		;;
++	orion-unknown)
++		vendor=highlevel
++		;;
++	xps-unknown | xps100-unknown)
++		cpu=xps100
++		vendor=honeywell
++		;;
++
++	# Here we normalize CPU types with a missing or matching vendor
++	armh-unknown | armh-alt)
++		cpu=armv7l
++		vendor=alt
++		basic_os=${basic_os:-linux-gnueabihf}
++		;;
++
++	# Normalized CPU+vendor pairs that imply an OS, if not otherwise specified
++	m68k-isi)
++		basic_os=${basic_os:-sysv}
++		;;
++	m68k-sony)
++		basic_os=${basic_os:-newsos}
++		;;
++	m68k-tektronix)
++		basic_os=${basic_os:-bsd}
++		;;
++	m88k-harris)
++		basic_os=${basic_os:-sysv3}
++		;;
++	i386-bull | m68k-bull)
++		basic_os=${basic_os:-sysv3}
++		;;
++	rs6000-bull)
++		basic_os=${basic_os:-bosx}
++		;;
++	mips-sni)
++		basic_os=${basic_os:-sysv4}
++		;;
++
++	# Here we normalize CPU types irrespective of the vendor
++	amd64-*)
++		cpu=x86_64
++		;;
++	blackfin-*)
++		cpu=bfin
++		basic_os=${basic_os:-linux}
++		;;
++	c54x-*)
++		cpu=tic54x
++		;;
++	c55x-*)
++		cpu=tic55x
++		;;
++	c6x-*)
++		cpu=tic6x
++		;;
++	e500v[12]-*)
++		cpu=powerpc
++		basic_os=${basic_os}"spe"
++		;;
++	mips3*-*)
++		cpu=mips64
++		;;
++	ms1-*)
++		cpu=mt
++		;;
++	m68knommu-*)
++		cpu=m68k
++		basic_os=${basic_os:-linux}
++		;;
++	m9s12z-* | m68hcs12z-* | hcs12z-* | s12z-*)
++		cpu=s12z
++		;;
++	openrisc-*)
++		cpu=or32
++		;;
++	parisc-*)
++		cpu=hppa
++		basic_os=${basic_os:-linux}
++		;;
++	pentium-* | p5-* | k5-* | k6-* | nexgen-* | viac3-*)
++		cpu=i586
++		;;
++	pentiumpro-* | p6-* | 6x86-* | athlon-* | athlon_*-*)
++		cpu=i686
++		;;
++	pentiumii-* | pentium2-* | pentiumiii-* | pentium3-*)
++		cpu=i686
++		;;
++	pentium4-*)
++		cpu=i786
++		;;
++	ppc-* | ppcbe-*)
++		cpu=powerpc
++		;;
++	ppcle-* | powerpclittle-*)
++		cpu=powerpcle
++		;;
++	ppc64-*)
++		cpu=powerpc64
++		;;
++	ppc64le-* | powerpc64little-*)
++		cpu=powerpc64le
++		;;
++	sb1-*)
++		cpu=mipsisa64sb1
++		;;
++	sb1el-*)
++		cpu=mipsisa64sb1el
++		;;
++	sh5e[lb]-*)
++		cpu=`echo "$cpu" | sed 's/^\(sh.\)e\(.\)$/\1\2e/'`
++		;;
++	spur-*)
++		cpu=spur
++		;;
++	strongarm-* | thumb-*)
++		cpu=arm
++		;;
++	tx39-*)
++		cpu=mipstx39
++		;;
++	tx39el-*)
++		cpu=mipstx39el
++		;;
++	xscale-* | xscalee[bl]-*)
++		cpu=`echo "$cpu" | sed 's/^xscale/arm/'`
++		;;
++	arm64-* | aarch64le-*)
++		cpu=aarch64
++		;;
++
++	# Recognize the canonical CPU Types that limit and/or modify the
++	# company names they are paired with.
++	cr16-*)
++		basic_os=${basic_os:-elf}
++		;;
++	crisv32-* | etraxfs*-*)
++		cpu=crisv32
++		vendor=axis
++		;;
++	cris-* | etrax*-*)
++		cpu=cris
++		vendor=axis
++		;;
++	crx-*)
++		basic_os=${basic_os:-elf}
++		;;
++	neo-tandem)
++		cpu=neo
++		vendor=tandem
++		;;
++	nse-tandem)
++		cpu=nse
++		vendor=tandem
++		;;
++	nsr-tandem)
++		cpu=nsr
++		vendor=tandem
++		;;
++	nsv-tandem)
++		cpu=nsv
++		vendor=tandem
++		;;
++	nsx-tandem)
++		cpu=nsx
++		vendor=tandem
++		;;
++	mipsallegrexel-sony)
++		cpu=mipsallegrexel
++		vendor=sony
++		;;
++	tile*-*)
++		basic_os=${basic_os:-linux-gnu}
++		;;
++
++	*)
++		# Recognize the canonical CPU types that are allowed with any
++		# company name.
++		case $cpu in
++			  1750a \
++			| 580 \
++			| [cjt]90 \
++			| a29k \
++			| aarch64 \
++			| aarch64_be \
++			| aarch64c \
++			| abacus \
++			| alpha \
++			| alpha64 \
++			| alpha64ev56 \
++			| alpha64ev6[78] \
++			| alpha64ev[4-8] \
++			| alpha64pca5[67] \
++			| alphaev56 \
++			| alphaev6[78] \
++			| alphaev[4-8] \
++			| alphapca5[67] \
++			| am33_2.0 \
++			| amdgcn \
++			| arc \
++			| arc32 \
++			| arc64 \
++			| arceb \
++			| arm \
++			| arm64e \
++			| arm64ec \
++			| arm[lb]e \
++			| arme[lb] \
++			| armv* \
++			| asmjs \
++			| avr \
++			| avr32 \
++			| ba \
++			| be32 \
++			| be64 \
++			| bfin \
++			| bpf \
++			| bs2000 \
++			| c30 \
++			| c4x \
++			| c8051 \
++			| c[123]* \
++			| clipper \
++			| craynv \
++			| csky \
++			| cydra \
++			| d10v \
++			| d30v \
++			| dlx \
++			| dsp16xx \
++			| e2k \
++			| elxsi \
++			| epiphany \
++			| f30[01] \
++			| f700 \
++			| fido \
++			| fr30 \
++			| frv \
++			| ft32 \
++			| fx80 \
++			| h8300 \
++			| h8500 \
++			| hexagon \
++			| hppa \
++			| hppa1.[01] \
++			| hppa2.0 \
++			| hppa2.0[nw] \
++			| hppa64 \
++			| i*86 \
++			| i370 \
++			| i860 \
++			| i960 \
++			| ia16 \
++			| ia64 \
++			| ip2k \
++			| iq2000 \
++			| javascript \
++			| k1om \
++			| kvx \
++			| le32 \
++			| le64 \
++			| lm32 \
++			| loongarch32 \
++			| loongarch64 \
++			| m32c \
++			| m32r \
++			| m32rle \
++			| m5200 \
++			| m68000 \
++			| m680[012346]0 \
++			| m6811 \
++			| m6812 \
++			| m68360 \
++			| m683?2 \
++			| m68hc11 \
++			| m68hc12 \
++			| m68hcs12x \
++			| m68k \
++			| m88110 \
++			| m88k \
++			| maxq \
++			| mb \
++			| mcore \
++			| mep \
++			| metag \
++			| microblaze \
++			| microblazeel \
++			| mips* \
++			| mmix \
++			| mn10200 \
++			| mn10300 \
++			| moxie \
++			| msp430 \
++			| mt \
++			| nanomips* \
++			| nds32 \
++			| nds32be \
++			| nds32le \
++			| nfp \
++			| nios \
++			| nios2 \
++			| nios2eb \
++			| nios2el \
++			| none \
++			| np1 \
++			| ns16k \
++			| ns32k \
++			| nvptx \
++			| open8 \
++			| or1k* \
++			| or32 \
++			| orion \
++			| pdp10 \
++			| pdp11 \
++			| picochip \
++			| pj \
++			| pjl \
++			| pn \
++			| power \
++			| powerpc \
++			| powerpc64 \
++			| powerpc64le \
++			| powerpcle \
++			| powerpcspe \
++			| pru \
++			| pyramid \
++			| riscv \
++			| riscv32 \
++			| riscv32be \
++			| riscv64 \
++			| riscv64be \
++			| rl78 \
++			| romp \
++			| rs6000 \
++			| rx \
++			| s390 \
++			| s390x \
++			| score \
++			| sh \
++			| sh64 \
++			| sh64le \
++			| sh[12345][lb]e \
++			| sh[1234] \
++			| sh[1234]e[lb] \
++			| sh[23]e \
++			| sh[23]ele \
++			| sh[24]a \
++			| sh[24]ae[lb] \
++			| sh[lb]e \
++			| she[lb] \
++			| shl \
++			| sparc \
++			| sparc64 \
++			| sparc64b \
++			| sparc64v \
++			| sparc86x \
++			| sparclet \
++			| sparclite \
++			| sparcv8 \
++			| sparcv9 \
++			| sparcv9b \
++			| sparcv9v \
++			| spu \
++			| sv1 \
++			| sx* \
++			| tahoe \
++			| thumbv7* \
++			| tic30 \
++			| tic4x \
++			| tic54x \
++			| tic55x \
++			| tic6x \
++			| tic80 \
++			| tron \
++			| ubicom32 \
++			| v70 \
++			| v810 \
++			| v850 \
++			| v850e \
++			| v850e1 \
++			| v850e2 \
++			| v850e2v3 \
++			| v850es \
++			| vax \
++			| vc4 \
++			| visium \
++			| w65 \
++			| wasm32 \
++			| wasm64 \
++			| we32k \
++			| x86 \
++			| x86_64 \
++			| xc16x \
++			| xgate \
++			| xps100 \
++			| xstormy16 \
++			| xtensa* \
++			| ymp \
++			| z80 \
++			| z8k)
++				;;
++
++			*)
++				echo "Invalid configuration '$1': machine '$cpu-$vendor' not recognized" 1>&2
++				exit 1
++				;;
++		esac
++		;;
++esac
++
++# Here we canonicalize certain aliases for manufacturers.
++case $vendor in
++	digital*)
++		vendor=dec
++		;;
++	commodore*)
++		vendor=cbm
++		;;
++	*)
++		;;
++esac
++
++# Decode manufacturer-specific aliases for certain operating systems.
++
++if test x"$basic_os" != x
++then
++
++# First recognize some ad-hoc cases, or perhaps split kernel-os, or else just
++# set os.
++obj=
++case $basic_os in
++	gnu/linux*)
++		kernel=linux
++		os=`echo "$basic_os" | sed -e 's|gnu/linux|gnu|'`
++		;;
++	os2-emx)
++		kernel=os2
++		os=`echo "$basic_os" | sed -e 's|os2-emx|emx|'`
++		;;
++	nto-qnx*)
++		kernel=nto
++		os=`echo "$basic_os" | sed -e 's|nto-qnx|qnx|'`
++		;;
++	*-*)
++		saved_IFS=$IFS
++		IFS="-" read kernel os <<EOF
++$basic_os
++EOF
++		IFS=$saved_IFS
++		;;
++	# Default OS when just kernel was specified
++	nto*)
++		kernel=nto
++		os=`echo "$basic_os" | sed -e 's|nto|qnx|'`
++		;;
++	linux*)
++		kernel=linux
++		os=`echo "$basic_os" | sed -e 's|linux|gnu|'`
++		;;
++	managarm*)
++		kernel=managarm
++		os=`echo "$basic_os" | sed -e 's|managarm|mlibc|'`
++		;;
++	*)
++		kernel=
++		os=$basic_os
++		;;
++esac
++
++# Now, normalize the OS (knowing we just have one component, it's not a kernel,
++# etc.)
++case $os in
++	# First match some system type aliases that might get confused
++	# with valid system types.
++	# solaris* is a basic system type, with this one exception.
++	auroraux)
++		os=auroraux
++		;;
++	bluegene*)
++		os=cnk
++		;;
++	solaris1 | solaris1.*)
++		os=`echo "$os" | sed -e 's|solaris1|sunos4|'`
++		;;
++	solaris)
++		os=solaris2
++		;;
++	unixware*)
++		os=sysv4.2uw
++		;;
++	# The marketing names for NeXT's operating systems were
++	# NeXTSTEP, NeXTSTEP 2, OpenSTEP 3, OpenSTEP 4.  'openstep' is
++	# mapped to 'openstep3', but 'openstep1' and 'openstep2' are
++	# mapped to 'nextstep' and 'nextstep2', consistent with the
++	# treatment of SunOS/Solaris.
++	ns | ns1 | nextstep | nextstep1 | openstep1)
++		os=nextstep
++		;;
++	ns2 | nextstep2 | openstep2)
++		os=nextstep2
++		;;
++	ns3 | nextstep3 | openstep | openstep3)
++		os=openstep3
++		;;
++	ns4 | nextstep4 | openstep4)
++		os=openstep4
++		;;
++	# es1800 is here to avoid being matched by es* (a different OS)
++	es1800*)
++		os=ose
++		;;
++	# Some version numbers need modification
++	chorusos*)
++		os=chorusos
++		;;
++	isc)
++		os=isc2.2
++		;;
++	sco6)
++		os=sco5v6
++		;;
++	sco5)
++		os=sco3.2v5
++		;;
++	sco4)
++		os=sco3.2v4
++		;;
++	sco3.2.[4-9]*)
++		os=`echo "$os" | sed -e 's/sco3.2./sco3.2v/'`
++		;;
++	sco*v* | scout)
++		# Don't match below
++		;;
++	sco*)
++		os=sco3.2v2
++		;;
++	psos*)
++		os=psos
++		;;
++	qnx*)
++		os=qnx
++		;;
++	hiux*)
++		os=hiuxwe2
++		;;
++	lynx*178)
++		os=lynxos178
++		;;
++	lynx*5)
++		os=lynxos5
++		;;
++	lynxos*)
++		# don't get caught up in next wildcard
++		;;
++	lynx*)
++		os=lynxos
++		;;
++	mac[0-9]*)
++		os=`echo "$os" | sed -e 's|mac|macos|'`
++		;;
++	opened*)
++		os=openedition
++		;;
++	os400*)
++		os=os400
++		;;
++	sunos5*)
++		os=`echo "$os" | sed -e 's|sunos5|solaris2|'`
++		;;
++	sunos6*)
++		os=`echo "$os" | sed -e 's|sunos6|solaris3|'`
++		;;
++	wince*)
++		os=wince
++		;;
++	utek*)
++		os=bsd
++		vendor=`echo "$vendor" | sed -e 's|^unknown$|tektronix|'`
++		;;
++	dynix*)
++		os=bsd
++		;;
++	acis*)
++		os=aos
++		;;
++	atheos*)
++		os=atheos
++		;;
++	syllable*)
++		os=syllable
++		;;
++	386bsd)
++		os=bsd
++		;;
++	ctix*)
++		os=sysv
++		vendor=`echo "$vendor" | sed -e 's|^unknown$|convergent|'`
++		;;
++	uts*)
++		os=sysv
++		;;
++	nova*)
++		kernel=rtmk
++		os=nova
++		;;
++	# Preserve the version number of sinix5.
++	sinix5.*)
++		os=`echo "$os" | sed -e 's|sinix|sysv|'`
++		vendor=`echo "$vendor" | sed -e 's|^unknown$|sni|'`
++		;;
++	sinix*)
++		os=sysv4
++		vendor=`echo "$vendor" | sed -e 's|^unknown$|sni|'`
++		;;
++	tpf*)
++		os=tpf
++		;;
++	triton*)
++		os=sysv3
++		;;
++	oss*)
++		os=sysv3
++		;;
++	svr4*)
++		os=sysv4
++		;;
++	svr3)
++		os=sysv3
++		;;
++	sysvr4)
++		os=sysv4
++		;;
++	ose*)
++		os=ose
++		;;
++	*mint | mint[0-9]* | *MiNT | MiNT[0-9]*)
++		os=mint
++		;;
++	dicos*)
++		os=dicos
++		;;
++	pikeos*)
++		# Until real need of OS specific support for
++		# particular features comes up, bare metal
++		# configurations are quite functional.
++		case $cpu in
++		    arm*)
++			os=eabi
++			;;
++		    *)
++			os=
++			obj=elf
++			;;
++		esac
++		;;
++	aout* | coff* | elf* | pe*)
++		# These are machine code file formats, not OSes
++		obj=$os
++		os=
++		;;
++	*)
++		# No normalization, but not necessarily accepted, that comes below.
++		;;
++esac
++
++else
++
++# Here we handle the default operating systems that come with various machines.
++# The value should be what the vendor currently ships out the door with their
++# machine or put another way, the most popular os provided with the machine.
++
++# Note that if you're going to try to match "-MANUFACTURER" here (say,
++# "-sun"), then you have to tell the case statement up towards the top
++# that MANUFACTURER isn't an operating system.  Otherwise, code above
++# will signal an error saying that MANUFACTURER isn't an operating
++# system, and we'll never get to this point.
++
++kernel=
++obj=
++case $cpu-$vendor in
++	score-*)
++		os=
++		obj=elf
++		;;
++	spu-*)
++		os=
++		obj=elf
++		;;
++	*-acorn)
++		os=riscix1.2
++		;;
++	arm*-rebel)
++		kernel=linux
++		os=gnu
++		;;
++	arm*-semi)
++		os=
++		obj=aout
++		;;
++	c4x-* | tic4x-*)
++		os=
++		obj=coff
++		;;
++	c8051-*)
++		os=
++		obj=elf
++		;;
++	clipper-intergraph)
++		os=clix
++		;;
++	hexagon-*)
++		os=
++		obj=elf
++		;;
++	tic54x-*)
++		os=
++		obj=coff
++		;;
++	tic55x-*)
++		os=
++		obj=coff
++		;;
++	tic6x-*)
++		os=
++		obj=coff
++		;;
++	# This must come before the *-dec entry.
++	pdp10-*)
++		os=tops20
++		;;
++	pdp11-*)
++		os=none
++		;;
++	*-dec | vax-*)
++		os=ultrix4.2
++		;;
++	m68*-apollo)
++		os=domain
++		;;
++	i386-sun)
++		os=sunos4.0.2
++		;;
++	m68000-sun)
++		os=sunos3
++		;;
++	m68*-cisco)
++		os=
++		obj=aout
++		;;
++	mep-*)
++		os=
++		obj=elf
++		;;
++	# The -sgi and -siemens entries must be before the mips- entry
++	# or we get the wrong os.
++	*-sgi)
++		os=irix
++		;;
++	*-siemens)
++		os=sysv4
++		;;
++	mips*-cisco)
++		os=
++		obj=elf
++		;;
++	mips*-*|nanomips*-*)
++		os=
++		obj=elf
++		;;
++	or32-*)
++		os=
++		obj=coff
++		;;
++	# This must be before the sparc-* entry or we get the wrong os.
++	*-tti)
++		os=sysv3
++		;;
++	sparc-* | *-sun)
++		os=sunos4.1.1
++		;;
++	pru-*)
++		os=
++		obj=elf
++		;;
++	*-be)
++		os=beos
++		;;
++	*-ibm)
++		os=aix
++		;;
++	*-knuth)
++		os=mmixware
++		;;
++	*-wec)
++		os=proelf
++		;;
++	*-winbond)
++		os=proelf
++		;;
++	*-oki)
++		os=proelf
++		;;
++	*-hp)
++		os=hpux
++		;;
++	*-hitachi)
++		os=hiuxwe2
++		;;
++	i860-* | *-att | *-ncr | *-altos | *-motorola | *-convergent)
++		os=sysv
++		;;
++	*-cbm)
++		os=amigaos
++		;;
++	*-dg)
++		os=dgux
++		;;
++	*-dolphin)
++		os=sysv3
++		;;
++	m68k-ccur)
++		os=rtu
++		;;
++	m88k-omron*)
++		os=luna
++		;;
++	*-next)
++		os=nextstep
++		;;
++	*-sequent)
++		os=ptx
++		;;
++	*-crds)
++		os=unos
++		;;
++	*-ns)
++		os=genix
++		;;
++	i370-*)
++		os=mvs
++		;;
++	*-gould)
++		os=sysv
++		;;
++	*-highlevel)
++		os=bsd
++		;;
++	*-encore)
++		os=bsd
++		;;
++	*-masscomp)
++		os=rtu
++		;;
++	f30[01]-fujitsu | f700-fujitsu)
++		os=uxpv
++		;;
++	*-rom68k)
++		os=
++		obj=coff
++		;;
++	*-*bug)
++		os=
++		obj=coff
++		;;
++	*-apple)
++		os=macos
++		;;
++	*-atari*)
++		os=mint
++		;;
++	*-wrs)
++		os=vxworks
++		;;
++	*)
++		os=none
++		;;
++esac
++
++fi
++
++# Now, validate our (potentially fixed-up) individual pieces (OS, OBJ).
++
++case $os in
++	# Sometimes we do "kernel-libc", so those need to count as OSes.
++	llvm* | musl* | newlib* | relibc* | uclibc*)
++		;;
++	# Likewise for "kernel-abi"
++	eabi* | gnueabi*)
++		;;
++	# VxWorks passes extra cpu info in the 4th filed.
++	simlinux | simwindows | spe)
++		;;
++	# See `case $cpu-$os` validation below
++	ghcjs)
++		;;
++	# Now accept the basic system types.
++	# Each alternative MUST end in a * to match a version number.
++	  abug \
++	| aix* \
++	| amdhsa* \
++	| amigados* \
++	| amigaos* \
++	| android* \
++	| aof* \
++	| aos* \
++	| aros* \
++	| atheos* \
++	| auroraux* \
++	| aux* \
++	| beos* \
++	| bitrig* \
++	| bme* \
++	| bosx* \
++	| bsd* \
++	| cegcc* \
++	| chorusos* \
++	| chorusrdb* \
++	| clix* \
++	| cloudabi* \
++	| cnk* \
++	| conix* \
++	| cos* \
++	| cxux* \
++	| cygwin* \
++	| darwin* \
++	| dgux* \
++	| dicos* \
++	| dnix* \
++	| domain* \
++	| dragonfly* \
++	| drops* \
++	| ebmon* \
++	| ecoff* \
++	| ekkobsd* \
++	| emscripten* \
++	| emx* \
++	| es* \
++	| fiwix* \
++	| freebsd* \
++	| fuchsia* \
++	| genix* \
++	| genode* \
++	| glidix* \
++	| gnu* \
++	| go32* \
++	| haiku* \
++	| hcos* \
++	| hiux* \
++	| hms* \
++	| hpux* \
++	| ieee* \
++	| interix* \
++	| ios* \
++	| iris* \
++	| irix* \
++	| ironclad* \
++	| isc* \
++	| its* \
++	| l4re* \
++	| libertybsd* \
++	| lites* \
++	| lnews* \
++	| luna* \
++	| lynxos* \
++	| mach* \
++	| macos* \
++	| magic* \
++	| mbr* \
++	| midipix* \
++	| midnightbsd* \
++	| mingw32* \
++	| mingw64* \
++	| minix* \
++	| mint* \
++	| mirbsd* \
++	| mks* \
++	| mlibc* \
++	| mmixware* \
++	| mon960* \
++	| morphos* \
++	| moss* \
++	| moxiebox* \
++	| mpeix* \
++	| mpw* \
++	| msdos* \
++	| msys* \
++	| mvs* \
++	| nacl* \
++	| netbsd* \
++	| netware* \
++	| newsos* \
++	| nextstep* \
++	| nindy* \
++	| nonstopux* \
++	| nova* \
++	| nsk* \
++	| nucleus* \
++	| nx6 \
++	| nx7 \
++	| oabi* \
++	| ohos* \
++	| onefs* \
++	| openbsd* \
++	| openedition* \
++	| openstep* \
++	| os108* \
++	| os2* \
++	| os400* \
++	| os68k* \
++	| os9* \
++	| ose* \
++	| osf* \
++	| oskit* \
++	| osx* \
++	| palmos* \
++	| phoenix* \
++	| plan9* \
++	| powermax* \
++	| powerunix* \
++	| proelf* \
++	| psos* \
++	| psp* \
++	| ptx* \
++	| pw32* \
++	| qnx* \
++	| rdos* \
++	| redox* \
++	| rhapsody* \
++	| riscix* \
++	| riscos* \
++	| rtems* \
++	| rtmk* \
++	| rtu* \
++	| scout* \
++	| secbsd* \
++	| sei* \
++	| serenity* \
++	| sim* \
++	| skyos* \
++	| solaris* \
++	| solidbsd* \
++	| sortix* \
++	| storm-chaos* \
++	| sunos \
++	| sunos[34]* \
++	| superux* \
++	| syllable* \
++	| sym* \
++	| sysv* \
++	| tenex* \
++	| tirtos* \
++	| toppers* \
++	| tops10* \
++	| tops20* \
++	| tpf* \
++	| tvos* \
++	| twizzler* \
++	| uclinux* \
++	| udi* \
++	| udk* \
++	| ultrix* \
++	| unicos* \
++	| uniplus* \
++	| unleashed* \
++	| unos* \
++	| uwin* \
++	| uxpv* \
++	| v88r* \
++	|*vms* \
++	| vos* \
++	| vsta* \
++	| vxsim* \
++	| vxworks* \
++	| wasi* \
++	| watchos* \
++	| wince* \
++	| windiss* \
++	| windows* \
++	| winnt* \
++	| xenix* \
++	| xray* \
++	| zephyr* \
++	| zvmoe* )
++		;;
++	# This one is extra strict with allowed versions
++	sco3.2v2 | sco3.2v[4-9]* | sco5v6*)
++		# Don't forget version if it is 3.2v4 or newer.
++		;;
++	# This refers to builds using the UEFI calling convention
++	# (which depends on the architecture) and PE file format.
++	# Note that this is both a different calling convention and
++	# different file format than that of GNU-EFI
++	# (x86_64-w64-mingw32).
++	uefi)
++		;;
++	none)
++		;;
++	kernel* | msvc* )
++		# Restricted further below
++		;;
++	'')
++		if test x"$obj" = x
++		then
++			echo "Invalid configuration '$1': Blank OS only allowed with explicit machine code file format" 1>&2
++		fi
++		;;
++	*)
++		echo "Invalid configuration '$1': OS '$os' not recognized" 1>&2
++		exit 1
++		;;
++esac
++
++case $obj in
++	aout* | coff* | elf* | pe*)
++		;;
++	'')
++		# empty is fine
++		;;
++	*)
++		echo "Invalid configuration '$1': Machine code format '$obj' not recognized" 1>&2
++		exit 1
++		;;
++esac
++
++# Here we handle the constraint that a (synthetic) cpu and os are
++# valid only in combination with each other and nowhere else.
++case $cpu-$os in
++	# The "javascript-unknown-ghcjs" triple is used by GHC; we
++	# accept it here in order to tolerate that, but reject any
++	# variations.
++	javascript-ghcjs)
++		;;
++	javascript-* | *-ghcjs)
++		echo "Invalid configuration '$1': cpu '$cpu' is not valid with os '$os$obj'" 1>&2
++		exit 1
++		;;
++esac
++
++# As a final step for OS-related things, validate the OS-kernel combination
++# (given a valid OS), if there is a kernel.
++case $kernel-$os-$obj in
++	linux-gnu*- | linux-android*- | linux-dietlibc*- | linux-llvm*- \
++		    | linux-mlibc*- | linux-musl*- | linux-newlib*- \
++		    | linux-relibc*- | linux-uclibc*- | linux-ohos*- )
++		;;
++	uclinux-uclibc*- | uclinux-gnu*- )
++		;;
++	managarm-mlibc*- | managarm-kernel*- )
++		;;
++	windows*-msvc*-)
++		;;
++	-dietlibc*- | -llvm*- | -mlibc*- | -musl*- | -newlib*- | -relibc*- \
++		    | -uclibc*- )
++		# These are just libc implementations, not actual OSes, and thus
++		# require a kernel.
++		echo "Invalid configuration '$1': libc '$os' needs explicit kernel." 1>&2
++		exit 1
++		;;
++	-kernel*- )
++		echo "Invalid configuration '$1': '$os' needs explicit kernel." 1>&2
++		exit 1
++		;;
++	*-kernel*- )
++		echo "Invalid configuration '$1': '$kernel' does not support '$os'." 1>&2
++		exit 1
++		;;
++	*-msvc*- )
++		echo "Invalid configuration '$1': '$os' needs 'windows'." 1>&2
++		exit 1
++		;;
++	kfreebsd*-gnu*- | knetbsd*-gnu*- | netbsd*-gnu*- | kopensolaris*-gnu*-)
++		;;
++	vxworks-simlinux- | vxworks-simwindows- | vxworks-spe-)
++		;;
++	nto-qnx*-)
++		;;
++	os2-emx-)
++		;;
++	rtmk-nova-)
++		;;
++	*-eabi*- | *-gnueabi*-)
++		;;
++	none--*)
++		# None (no kernel, i.e. freestanding / bare metal),
++		# can be paired with an machine code file format
++		;;
++	-*-)
++		# Blank kernel with real OS is always fine.
++		;;
++	--*)
++		# Blank kernel and OS with real machine code file format is always fine.
++		;;
++	*-*-*)
++		echo "Invalid configuration '$1': Kernel '$kernel' not known to work with OS '$os'." 1>&2
++		exit 1
++		;;
++esac
++
++# Here we handle the case where we know the os, and the CPU type, but not the
++# manufacturer.  We pick the logical manufacturer.
++case $vendor in
++	unknown)
++		case $cpu-$os in
++			*-riscix*)
++				vendor=acorn
++				;;
++			*-sunos* | *-solaris*)
++				vendor=sun
++				;;
++			*-cnk* | *-aix*)
++				vendor=ibm
++				;;
++			*-beos*)
++				vendor=be
++				;;
++			*-hpux*)
++				vendor=hp
++				;;
++			*-mpeix*)
++				vendor=hp
++				;;
++			*-hiux*)
++				vendor=hitachi
++				;;
++			*-unos*)
++				vendor=crds
++				;;
++			*-dgux*)
++				vendor=dg
++				;;
++			*-luna*)
++				vendor=omron
++				;;
++			*-genix*)
++				vendor=ns
++				;;
++			*-clix*)
++				vendor=intergraph
++				;;
++			*-mvs* | *-opened*)
++				vendor=ibm
++				;;
++			*-os400*)
++				vendor=ibm
++				;;
++			s390-* | s390x-*)
++				vendor=ibm
++				;;
++			*-ptx*)
++				vendor=sequent
++				;;
++			*-tpf*)
++				vendor=ibm
++				;;
++			*-vxsim* | *-vxworks* | *-windiss*)
++				vendor=wrs
++				;;
++			*-aux*)
++				vendor=apple
++				;;
++			*-hms*)
++				vendor=hitachi
++				;;
++			*-mpw* | *-macos*)
++				vendor=apple
++				;;
++			*-*mint | *-mint[0-9]* | *-*MiNT | *-MiNT[0-9]*)
++				vendor=atari
++				;;
++			*-vos*)
++				vendor=stratus
++				;;
++		esac
++		;;
++esac
++
++echo "$cpu-$vendor${kernel:+-$kernel}${os:+-$os}${obj:+-$obj}"
++exit
++
++# Local variables:
++# eval: (add-hook 'before-save-hook 'time-stamp)
++# time-stamp-start: "timestamp='"
++# time-stamp-format: "%:y-%02m-%02d"
++# time-stamp-end: "'"
++# End:
+diff --git a/external/libcmis/0003-update-config.patch b/external/libcmis/0003-update-config.patch
+new file mode 100644
+index 000000000..d9d30972a
+--- /dev/null
++++ b/external/libcmis/0003-update-config.patch
+@@ -0,0 +1,5818 @@
++diff --git a/config.guess b/config.guess
++index 256083a..48a6846 100755
++--- a/config.guess
+++++ b/config.guess
++@@ -1,12 +1,14 @@
++ #! /bin/sh
++ # Attempt to guess a canonical system name.
++-#   Copyright 1992-2018 Free Software Foundation, Inc.
+++#   Copyright 1992-2024 Free Software Foundation, Inc.
++ 
++-timestamp='2018-03-08'
+++# shellcheck disable=SC2006,SC2268 # see below for rationale
+++
+++timestamp='2024-07-27'
++ 
++ # This file is free software; you can redistribute it and/or modify it
++ # under the terms of the GNU General Public License as published by
++-# the Free Software Foundation; either version 3 of the License, or
+++# the Free Software Foundation, either version 3 of the License, or
++ # (at your option) any later version.
++ #
++ # This program is distributed in the hope that it will be useful, but
++@@ -27,17 +29,25 @@ timestamp='2018-03-08'
++ # Originally written by Per Bothner; maintained since 2000 by Ben Elliston.
++ #
++ # You can get the latest version of this script from:
++-# https://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.guess
+++# https://git.savannah.gnu.org/cgit/config.git/plain/config.guess
++ #
++ # Please send patches to <config-patches@gnu.org>.
++ 
++ 
+++# The "shellcheck disable" line above the timestamp inhibits complaints
+++# about features and limitations of the classic Bourne shell that were
+++# superseded or lifted in POSIX.  However, this script identifies a wide
+++# variety of pre-POSIX systems that do not have POSIX shells at all, and
+++# even some reasonably current systems (Solaris 10 as case-in-point) still
+++# have a pre-POSIX /bin/sh.
+++
+++
++ me=`echo "$0" | sed -e 's,.*/,,'`
++ 
++ usage="\
++ Usage: $0 [OPTION]
++ 
++-Output the configuration name of the system \`$me' is run on.
+++Output the configuration name of the system '$me' is run on.
++ 
++ Options:
++   -h, --help         print this help, then exit
++@@ -50,13 +60,13 @@ version="\
++ GNU config.guess ($timestamp)
++ 
++ Originally written by Per Bothner.
++-Copyright 1992-2018 Free Software Foundation, Inc.
+++Copyright 1992-2024 Free Software Foundation, Inc.
++ 
++ This is free software; see the source for copying conditions.  There is NO
++ warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."
++ 
++ help="
++-Try \`$me --help' for more information."
+++Try '$me --help' for more information."
++ 
++ # Parse command line
++ while test $# -gt 0 ; do
++@@ -84,85 +94,109 @@ if test $# != 0; then
++   exit 1
++ fi
++ 
++-trap 'exit 1' 1 2 15
+++# Just in case it came from the environment.
+++GUESS=
++ 
++ # CC_FOR_BUILD -- compiler used by this script. Note that the use of a
++ # compiler to aid in system detection is discouraged as it requires
++ # temporary files to be created and, as you can see below, it is a
++ # headache to deal with in a portable fashion.
++ 
++-# Historically, `CC_FOR_BUILD' used to be named `HOST_CC'. We still
++-# use `HOST_CC' if defined, but it is deprecated.
+++# Historically, 'CC_FOR_BUILD' used to be named 'HOST_CC'. We still
+++# use 'HOST_CC' if defined, but it is deprecated.
++ 
++ # Portable tmp directory creation inspired by the Autoconf team.
++ 
++-set_cc_for_build='
++-trap "exitcode=\$?; (rm -f \$tmpfiles 2>/dev/null; rmdir \$tmp 2>/dev/null) && exit \$exitcode" 0 ;
++-trap "rm -f \$tmpfiles 2>/dev/null; rmdir \$tmp 2>/dev/null; exit 1" 1 2 13 15 ;
++-: ${TMPDIR=/tmp} ;
++- { tmp=`(umask 077 && mktemp -d "$TMPDIR/cgXXXXXX") 2>/dev/null` && test -n "$tmp" && test -d "$tmp" ; } ||
++- { test -n "$RANDOM" && tmp=$TMPDIR/cg$$-$RANDOM && (umask 077 && mkdir $tmp) ; } ||
++- { tmp=$TMPDIR/cg-$$ && (umask 077 && mkdir $tmp) && echo "Warning: creating insecure temp directory" >&2 ; } ||
++- { echo "$me: cannot create a temporary directory in $TMPDIR" >&2 ; exit 1 ; } ;
++-dummy=$tmp/dummy ;
++-tmpfiles="$dummy.c $dummy.o $dummy.rel $dummy" ;
++-case $CC_FOR_BUILD,$HOST_CC,$CC in
++- ,,)    echo "int x;" > "$dummy.c" ;
++-	for c in cc gcc c89 c99 ; do
++-	  if ($c -c -o "$dummy.o" "$dummy.c") >/dev/null 2>&1 ; then
++-	     CC_FOR_BUILD="$c"; break ;
++-	  fi ;
++-	done ;
++-	if test x"$CC_FOR_BUILD" = x ; then
++-	  CC_FOR_BUILD=no_compiler_found ;
++-	fi
++-	;;
++- ,,*)   CC_FOR_BUILD=$CC ;;
++- ,*,*)  CC_FOR_BUILD=$HOST_CC ;;
++-esac ; set_cc_for_build= ;'
+++tmp=
+++# shellcheck disable=SC2172
+++trap 'test -z "$tmp" || rm -fr "$tmp"' 0 1 2 13 15
+++
+++set_cc_for_build() {
+++    # prevent multiple calls if $tmp is already set
+++    test "$tmp" && return 0
+++    : "${TMPDIR=/tmp}"
+++    # shellcheck disable=SC2039,SC3028
+++    { tmp=`(umask 077 && mktemp -d "$TMPDIR/cgXXXXXX") 2>/dev/null` && test -n "$tmp" && test -d "$tmp" ; } ||
+++	{ test -n "$RANDOM" && tmp=$TMPDIR/cg$$-$RANDOM && (umask 077 && mkdir "$tmp" 2>/dev/null) ; } ||
+++	{ tmp=$TMPDIR/cg-$$ && (umask 077 && mkdir "$tmp" 2>/dev/null) && echo "Warning: creating insecure temp directory" >&2 ; } ||
+++	{ echo "$me: cannot create a temporary directory in $TMPDIR" >&2 ; exit 1 ; }
+++    dummy=$tmp/dummy
+++    case ${CC_FOR_BUILD-},${HOST_CC-},${CC-} in
+++	,,)    echo "int x;" > "$dummy.c"
+++	       for driver in cc gcc c17 c99 c89 ; do
+++		   if ($driver -c -o "$dummy.o" "$dummy.c") >/dev/null 2>&1 ; then
+++		       CC_FOR_BUILD=$driver
+++		       break
+++		   fi
+++	       done
+++	       if test x"$CC_FOR_BUILD" = x ; then
+++		   CC_FOR_BUILD=no_compiler_found
+++	       fi
+++	       ;;
+++	,,*)   CC_FOR_BUILD=$CC ;;
+++	,*,*)  CC_FOR_BUILD=$HOST_CC ;;
+++    esac
+++}
++ 
++ # This is needed to find uname on a Pyramid OSx when run in the BSD universe.
++ # (ghazi@noc.rutgers.edu 1994-08-24)
++-if (test -f /.attbin/uname) >/dev/null 2>&1 ; then
+++if test -f /.attbin/uname ; then
++ 	PATH=$PATH:/.attbin ; export PATH
++ fi
++ 
++ UNAME_MACHINE=`(uname -m) 2>/dev/null` || UNAME_MACHINE=unknown
++ UNAME_RELEASE=`(uname -r) 2>/dev/null` || UNAME_RELEASE=unknown
++-UNAME_SYSTEM=`(uname -s) 2>/dev/null`  || UNAME_SYSTEM=unknown
+++UNAME_SYSTEM=`(uname -s) 2>/dev/null` || UNAME_SYSTEM=unknown
++ UNAME_VERSION=`(uname -v) 2>/dev/null` || UNAME_VERSION=unknown
++ 
++-case "$UNAME_SYSTEM" in
+++case $UNAME_SYSTEM in
++ Linux|GNU|GNU/*)
++-	# If the system lacks a compiler, then just pick glibc.
++-	# We could probably try harder.
++-	LIBC=gnu
+++	LIBC=unknown
++ 
++-	eval "$set_cc_for_build"
+++	set_cc_for_build
++ 	cat <<-EOF > "$dummy.c"
+++	#if defined(__ANDROID__)
+++	LIBC=android
+++	#else
++ 	#include <features.h>
++ 	#if defined(__UCLIBC__)
++ 	LIBC=uclibc
++ 	#elif defined(__dietlibc__)
++ 	LIBC=dietlibc
++-	#else
+++	#elif defined(__GLIBC__)
++ 	LIBC=gnu
+++	#elif defined(__LLVM_LIBC__)
+++	LIBC=llvm
+++	#else
+++	#include <stdarg.h>
+++	/* First heuristic to detect musl libc.  */
+++	#ifdef __DEFINED_va_list
+++	LIBC=musl
+++	#endif
+++	#endif
++ 	#endif
++ 	EOF
++-	eval "`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^LIBC' | sed 's, ,,g'`"
+++	cc_set_libc=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^LIBC' | sed 's, ,,g'`
+++	eval "$cc_set_libc"
++ 
++-	# If ldd exists, use it to detect musl libc.
++-	if command -v ldd >/dev/null && \
++-		ldd --version 2>&1 | grep -q ^musl
++-	then
++-	    LIBC=musl
+++	# Second heuristic to detect musl libc.
+++	if [ "$LIBC" = unknown ] &&
+++	   command -v ldd >/dev/null &&
+++	   ldd --version 2>&1 | grep -q ^musl; then
+++		LIBC=musl
+++	fi
+++
+++	# If the system lacks a compiler, then just pick glibc.
+++	# We could probably try harder.
+++	if [ "$LIBC" = unknown ]; then
+++		LIBC=gnu
++ 	fi
++ 	;;
++ esac
++ 
++ # Note: order is significant - the case branches are not exclusive.
++ 
++-case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
+++case $UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION in
++     *:NetBSD:*:*)
++ 	# NetBSD (nbsd) targets should (where applicable) match one or
++ 	# more of the tuples: *-*-netbsdelf*, *-*-netbsdaout*,
++@@ -174,12 +208,12 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++ 	#
++ 	# Note: NetBSD doesn't particularly care about the vendor
++ 	# portion of the name.  We always set it to "unknown".
++-	sysctl="sysctl -n hw.machine_arch"
++ 	UNAME_MACHINE_ARCH=`(uname -p 2>/dev/null || \
++-	    "/sbin/$sysctl" 2>/dev/null || \
++-	    "/usr/sbin/$sysctl" 2>/dev/null || \
+++	    /sbin/sysctl -n hw.machine_arch 2>/dev/null || \
+++	    /usr/sbin/sysctl -n hw.machine_arch 2>/dev/null || \
++ 	    echo unknown)`
++-	case "$UNAME_MACHINE_ARCH" in
+++	case $UNAME_MACHINE_ARCH in
+++	    aarch64eb) machine=aarch64_be-unknown ;;
++ 	    armeb) machine=armeb-unknown ;;
++ 	    arm*) machine=arm-unknown ;;
++ 	    sh3el) machine=shl-unknown ;;
++@@ -188,18 +222,18 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++ 	    earmv*)
++ 		arch=`echo "$UNAME_MACHINE_ARCH" | sed -e 's,^e\(armv[0-9]\).*$,\1,'`
++ 		endian=`echo "$UNAME_MACHINE_ARCH" | sed -ne 's,^.*\(eb\)$,\1,p'`
++-		machine="${arch}${endian}"-unknown
+++		machine=${arch}${endian}-unknown
++ 		;;
++-	    *) machine="$UNAME_MACHINE_ARCH"-unknown ;;
+++	    *) machine=$UNAME_MACHINE_ARCH-unknown ;;
++ 	esac
++ 	# The Operating System including object format, if it has switched
++ 	# to ELF recently (or will in the future) and ABI.
++-	case "$UNAME_MACHINE_ARCH" in
+++	case $UNAME_MACHINE_ARCH in
++ 	    earm*)
++ 		os=netbsdelf
++ 		;;
++ 	    arm*|i386|m68k|ns32k|sh3*|sparc|vax)
++-		eval "$set_cc_for_build"
+++		set_cc_for_build
++ 		if echo __ELF__ | $CC_FOR_BUILD -E - 2>/dev/null \
++ 			| grep -q __ELF__
++ 		then
++@@ -215,7 +249,7 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++ 		;;
++ 	esac
++ 	# Determine ABI tags.
++-	case "$UNAME_MACHINE_ARCH" in
+++	case $UNAME_MACHINE_ARCH in
++ 	    earm*)
++ 		expr='s/^earmv[0-9]/-eabi/;s/eb$//'
++ 		abi=`echo "$UNAME_MACHINE_ARCH" | sed -e "$expr"`
++@@ -226,7 +260,7 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++ 	# thus, need a distinct triplet. However, they do not need
++ 	# kernel version information, so it can be replaced with a
++ 	# suitable tag, in the style of linux-gnu.
++-	case "$UNAME_VERSION" in
+++	case $UNAME_VERSION in
++ 	    Debian*)
++ 		release='-gnu'
++ 		;;
++@@ -237,45 +271,57 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++ 	# Since CPU_TYPE-MANUFACTURER-KERNEL-OPERATING_SYSTEM:
++ 	# contains redundant information, the shorter form:
++ 	# CPU_TYPE-MANUFACTURER-OPERATING_SYSTEM is used.
++-	echo "$machine-${os}${release}${abi}"
++-	exit ;;
+++	GUESS=$machine-${os}${release}${abi-}
+++	;;
++     *:Bitrig:*:*)
++ 	UNAME_MACHINE_ARCH=`arch | sed 's/Bitrig.//'`
++-	echo "$UNAME_MACHINE_ARCH"-unknown-bitrig"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE_ARCH-unknown-bitrig$UNAME_RELEASE
+++	;;
++     *:OpenBSD:*:*)
++ 	UNAME_MACHINE_ARCH=`arch | sed 's/OpenBSD.//'`
++-	echo "$UNAME_MACHINE_ARCH"-unknown-openbsd"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE_ARCH-unknown-openbsd$UNAME_RELEASE
+++	;;
+++    *:SecBSD:*:*)
+++	UNAME_MACHINE_ARCH=`arch | sed 's/SecBSD.//'`
+++	GUESS=$UNAME_MACHINE_ARCH-unknown-secbsd$UNAME_RELEASE
+++	;;
++     *:LibertyBSD:*:*)
++ 	UNAME_MACHINE_ARCH=`arch | sed 's/^.*BSD\.//'`
++-	echo "$UNAME_MACHINE_ARCH"-unknown-libertybsd"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE_ARCH-unknown-libertybsd$UNAME_RELEASE
+++	;;
++     *:MidnightBSD:*:*)
++-	echo "$UNAME_MACHINE"-unknown-midnightbsd"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-midnightbsd$UNAME_RELEASE
+++	;;
++     *:ekkoBSD:*:*)
++-	echo "$UNAME_MACHINE"-unknown-ekkobsd"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-ekkobsd$UNAME_RELEASE
+++	;;
++     *:SolidBSD:*:*)
++-	echo "$UNAME_MACHINE"-unknown-solidbsd"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-solidbsd$UNAME_RELEASE
+++	;;
+++    *:OS108:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-os108_$UNAME_RELEASE
+++	;;
++     macppc:MirBSD:*:*)
++-	echo powerpc-unknown-mirbsd"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=powerpc-unknown-mirbsd$UNAME_RELEASE
+++	;;
++     *:MirBSD:*:*)
++-	echo "$UNAME_MACHINE"-unknown-mirbsd"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-mirbsd$UNAME_RELEASE
+++	;;
++     *:Sortix:*:*)
++-	echo "$UNAME_MACHINE"-unknown-sortix
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-sortix
+++	;;
+++    *:Twizzler:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-twizzler
+++	;;
++     *:Redox:*:*)
++-	echo "$UNAME_MACHINE"-unknown-redox
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-redox
+++	;;
++     mips:OSF1:*.*)
++-        echo mips-dec-osf1
++-        exit ;;
+++	GUESS=mips-dec-osf1
+++	;;
++     alpha:OSF1:*:*)
+++	# Reset EXIT trap before exiting to avoid spurious non-zero exit code.
+++	trap '' 0
++ 	case $UNAME_RELEASE in
++ 	*4.0)
++ 		UNAME_RELEASE=`/usr/sbin/sizer -v | awk '{print $3}'`
++@@ -289,7 +335,7 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++ 	# covers most systems running today.  This code pipes the CPU
++ 	# types through head -n 1, so we only detect the type of CPU 0.
++ 	ALPHA_CPU_TYPE=`/usr/sbin/psrinfo -v | sed -n -e 's/^  The alpha \(.*\) processor.*$/\1/p' | head -n 1`
++-	case "$ALPHA_CPU_TYPE" in
+++	case $ALPHA_CPU_TYPE in
++ 	    "EV4 (21064)")
++ 		UNAME_MACHINE=alpha ;;
++ 	    "EV4.5 (21064)")
++@@ -326,117 +372,121 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++ 	# A Tn.n version is a released field test version.
++ 	# A Xn.n version is an unreleased experimental baselevel.
++ 	# 1.2 uses "1.2" for uname -r.
++-	echo "$UNAME_MACHINE"-dec-osf"`echo "$UNAME_RELEASE" | sed -e 's/^[PVTX]//' | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz`"
++-	# Reset EXIT trap before exiting to avoid spurious non-zero exit code.
++-	exitcode=$?
++-	trap '' 0
++-	exit $exitcode ;;
+++	OSF_REL=`echo "$UNAME_RELEASE" | sed -e 's/^[PVTX]//' | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz`
+++	GUESS=$UNAME_MACHINE-dec-osf$OSF_REL
+++	;;
++     Amiga*:UNIX_System_V:4.0:*)
++-	echo m68k-unknown-sysv4
++-	exit ;;
+++	GUESS=m68k-unknown-sysv4
+++	;;
++     *:[Aa]miga[Oo][Ss]:*:*)
++-	echo "$UNAME_MACHINE"-unknown-amigaos
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-amigaos
+++	;;
++     *:[Mm]orph[Oo][Ss]:*:*)
++-	echo "$UNAME_MACHINE"-unknown-morphos
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-morphos
+++	;;
++     *:OS/390:*:*)
++-	echo i370-ibm-openedition
++-	exit ;;
+++	GUESS=i370-ibm-openedition
+++	;;
++     *:z/VM:*:*)
++-	echo s390-ibm-zvmoe
++-	exit ;;
+++	GUESS=s390-ibm-zvmoe
+++	;;
++     *:OS400:*:*)
++-	echo powerpc-ibm-os400
++-	exit ;;
+++	GUESS=powerpc-ibm-os400
+++	;;
++     arm:RISC*:1.[012]*:*|arm:riscix:1.[012]*:*)
++-	echo arm-acorn-riscix"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=arm-acorn-riscix$UNAME_RELEASE
+++	;;
++     arm*:riscos:*:*|arm*:RISCOS:*:*)
++-	echo arm-unknown-riscos
++-	exit ;;
+++	GUESS=arm-unknown-riscos
+++	;;
++     SR2?01:HI-UX/MPP:*:* | SR8000:HI-UX/MPP:*:*)
++-	echo hppa1.1-hitachi-hiuxmpp
++-	exit ;;
+++	GUESS=hppa1.1-hitachi-hiuxmpp
+++	;;
++     Pyramid*:OSx*:*:* | MIS*:OSx*:*:* | MIS*:SMP_DC-OSx*:*:*)
++ 	# akee@wpdis03.wpafb.af.mil (Earle F. Ake) contributed MIS and NILE.
++-	if test "`(/bin/universe) 2>/dev/null`" = att ; then
++-		echo pyramid-pyramid-sysv3
++-	else
++-		echo pyramid-pyramid-bsd
++-	fi
++-	exit ;;
+++	case `(/bin/universe) 2>/dev/null` in
+++	    att) GUESS=pyramid-pyramid-sysv3 ;;
+++	    *)   GUESS=pyramid-pyramid-bsd   ;;
+++	esac
+++	;;
++     NILE*:*:*:dcosx)
++-	echo pyramid-pyramid-svr4
++-	exit ;;
+++	GUESS=pyramid-pyramid-svr4
+++	;;
++     DRS?6000:unix:4.0:6*)
++-	echo sparc-icl-nx6
++-	exit ;;
+++	GUESS=sparc-icl-nx6
+++	;;
++     DRS?6000:UNIX_SV:4.2*:7* | DRS?6000:isis:4.2*:7*)
++ 	case `/usr/bin/uname -p` in
++-	    sparc) echo sparc-icl-nx7; exit ;;
++-	esac ;;
+++	    sparc) GUESS=sparc-icl-nx7 ;;
+++	esac
+++	;;
++     s390x:SunOS:*:*)
++-	echo "$UNAME_MACHINE"-ibm-solaris2"`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`"
++-	exit ;;
+++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
+++	GUESS=$UNAME_MACHINE-ibm-solaris2$SUN_REL
+++	;;
++     sun4H:SunOS:5.*:*)
++-	echo sparc-hal-solaris2"`echo "$UNAME_RELEASE"|sed -e 's/[^.]*//'`"
++-	exit ;;
+++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
+++	GUESS=sparc-hal-solaris2$SUN_REL
+++	;;
++     sun4*:SunOS:5.*:* | tadpole*:SunOS:5.*:*)
++-	echo sparc-sun-solaris2"`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`"
++-	exit ;;
+++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
+++	GUESS=sparc-sun-solaris2$SUN_REL
+++	;;
++     i86pc:AuroraUX:5.*:* | i86xen:AuroraUX:5.*:*)
++-	echo i386-pc-auroraux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=i386-pc-auroraux$UNAME_RELEASE
+++	;;
++     i86pc:SunOS:5.*:* | i86xen:SunOS:5.*:*)
++-	eval "$set_cc_for_build"
+++	set_cc_for_build
++ 	SUN_ARCH=i386
++ 	# If there is a compiler, see if it is configured for 64-bit objects.
++ 	# Note that the Sun cc does not turn __LP64__ into 1 like gcc does.
++ 	# This test works for both compilers.
++-	if [ "$CC_FOR_BUILD" != no_compiler_found ]; then
+++	if test "$CC_FOR_BUILD" != no_compiler_found; then
++ 	    if (echo '#ifdef __amd64'; echo IS_64BIT_ARCH; echo '#endif') | \
++-		(CCOPTS="" $CC_FOR_BUILD -E - 2>/dev/null) | \
+++		(CCOPTS="" $CC_FOR_BUILD -m64 -E - 2>/dev/null) | \
++ 		grep IS_64BIT_ARCH >/dev/null
++ 	    then
++ 		SUN_ARCH=x86_64
++ 	    fi
++ 	fi
++-	echo "$SUN_ARCH"-pc-solaris2"`echo "$UNAME_RELEASE"|sed -e 's/[^.]*//'`"
++-	exit ;;
+++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
+++	GUESS=$SUN_ARCH-pc-solaris2$SUN_REL
+++	;;
++     sun4*:SunOS:6*:*)
++ 	# According to config.sub, this is the proper way to canonicalize
++ 	# SunOS6.  Hard to guess exactly what SunOS6 will be like, but
++ 	# it's likely to be more like Solaris than SunOS4.
++-	echo sparc-sun-solaris3"`echo "$UNAME_RELEASE"|sed -e 's/[^.]*//'`"
++-	exit ;;
+++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
+++	GUESS=sparc-sun-solaris3$SUN_REL
+++	;;
++     sun4*:SunOS:*:*)
++-	case "`/usr/bin/arch -k`" in
+++	case `/usr/bin/arch -k` in
++ 	    Series*|S4*)
++ 		UNAME_RELEASE=`uname -v`
++ 		;;
++ 	esac
++-	# Japanese Language versions have a version number like `4.1.3-JL'.
++-	echo sparc-sun-sunos"`echo "$UNAME_RELEASE"|sed -e 's/-/_/'`"
++-	exit ;;
+++	# Japanese Language versions have a version number like '4.1.3-JL'.
+++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/-/_/'`
+++	GUESS=sparc-sun-sunos$SUN_REL
+++	;;
++     sun3*:SunOS:*:*)
++-	echo m68k-sun-sunos"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-sun-sunos$UNAME_RELEASE
+++	;;
++     sun*:*:4.2BSD:*)
++ 	UNAME_RELEASE=`(sed 1q /etc/motd | awk '{print substr($5,1,3)}') 2>/dev/null`
++ 	test "x$UNAME_RELEASE" = x && UNAME_RELEASE=3
++-	case "`/bin/arch`" in
+++	case `/bin/arch` in
++ 	    sun3)
++-		echo m68k-sun-sunos"$UNAME_RELEASE"
+++		GUESS=m68k-sun-sunos$UNAME_RELEASE
++ 		;;
++ 	    sun4)
++-		echo sparc-sun-sunos"$UNAME_RELEASE"
+++		GUESS=sparc-sun-sunos$UNAME_RELEASE
++ 		;;
++ 	esac
++-	exit ;;
+++	;;
++     aushp:SunOS:*:*)
++-	echo sparc-auspex-sunos"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sparc-auspex-sunos$UNAME_RELEASE
+++	;;
++     # The situation for MiNT is a little confusing.  The machine name
++     # can be virtually everything (everything which is not
++     # "atarist" or "atariste" at least should have a processor
++@@ -446,43 +496,43 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++     # MiNT.  But MiNT is downward compatible to TOS, so this should
++     # be no problem.
++     atarist[e]:*MiNT:*:* | atarist[e]:*mint:*:* | atarist[e]:*TOS:*:*)
++-	echo m68k-atari-mint"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-atari-mint$UNAME_RELEASE
+++	;;
++     atari*:*MiNT:*:* | atari*:*mint:*:* | atarist[e]:*TOS:*:*)
++-	echo m68k-atari-mint"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-atari-mint$UNAME_RELEASE
+++	;;
++     *falcon*:*MiNT:*:* | *falcon*:*mint:*:* | *falcon*:*TOS:*:*)
++-	echo m68k-atari-mint"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-atari-mint$UNAME_RELEASE
+++	;;
++     milan*:*MiNT:*:* | milan*:*mint:*:* | *milan*:*TOS:*:*)
++-	echo m68k-milan-mint"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-milan-mint$UNAME_RELEASE
+++	;;
++     hades*:*MiNT:*:* | hades*:*mint:*:* | *hades*:*TOS:*:*)
++-	echo m68k-hades-mint"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-hades-mint$UNAME_RELEASE
+++	;;
++     *:*MiNT:*:* | *:*mint:*:* | *:*TOS:*:*)
++-	echo m68k-unknown-mint"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-unknown-mint$UNAME_RELEASE
+++	;;
++     m68k:machten:*:*)
++-	echo m68k-apple-machten"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-apple-machten$UNAME_RELEASE
+++	;;
++     powerpc:machten:*:*)
++-	echo powerpc-apple-machten"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=powerpc-apple-machten$UNAME_RELEASE
+++	;;
++     RISC*:Mach:*:*)
++-	echo mips-dec-mach_bsd4.3
++-	exit ;;
+++	GUESS=mips-dec-mach_bsd4.3
+++	;;
++     RISC*:ULTRIX:*:*)
++-	echo mips-dec-ultrix"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=mips-dec-ultrix$UNAME_RELEASE
+++	;;
++     VAX*:ULTRIX*:*:*)
++-	echo vax-dec-ultrix"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=vax-dec-ultrix$UNAME_RELEASE
+++	;;
++     2020:CLIX:*:* | 2430:CLIX:*:*)
++-	echo clipper-intergraph-clix"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=clipper-intergraph-clix$UNAME_RELEASE
+++	;;
++     mips:*:*:UMIPS | mips:*:*:RISCos)
++-	eval "$set_cc_for_build"
+++	set_cc_for_build
++ 	sed 's/^	//' << EOF > "$dummy.c"
++ #ifdef __cplusplus
++ #include <stdio.h>  /* for printf() prototype */
++@@ -508,82 +558,84 @@ EOF
++ 	  dummyarg=`echo "$UNAME_RELEASE" | sed -n 's/\([0-9]*\).*/\1/p'` &&
++ 	  SYSTEM_NAME=`"$dummy" "$dummyarg"` &&
++ 	    { echo "$SYSTEM_NAME"; exit; }
++-	echo mips-mips-riscos"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=mips-mips-riscos$UNAME_RELEASE
+++	;;
++     Motorola:PowerMAX_OS:*:*)
++-	echo powerpc-motorola-powermax
++-	exit ;;
+++	GUESS=powerpc-motorola-powermax
+++	;;
++     Motorola:*:4.3:PL8-*)
++-	echo powerpc-harris-powermax
++-	exit ;;
+++	GUESS=powerpc-harris-powermax
+++	;;
++     Night_Hawk:*:*:PowerMAX_OS | Synergy:PowerMAX_OS:*:*)
++-	echo powerpc-harris-powermax
++-	exit ;;
+++	GUESS=powerpc-harris-powermax
+++	;;
++     Night_Hawk:Power_UNIX:*:*)
++-	echo powerpc-harris-powerunix
++-	exit ;;
+++	GUESS=powerpc-harris-powerunix
+++	;;
++     m88k:CX/UX:7*:*)
++-	echo m88k-harris-cxux7
++-	exit ;;
+++	GUESS=m88k-harris-cxux7
+++	;;
++     m88k:*:4*:R4*)
++-	echo m88k-motorola-sysv4
++-	exit ;;
+++	GUESS=m88k-motorola-sysv4
+++	;;
++     m88k:*:3*:R3*)
++-	echo m88k-motorola-sysv3
++-	exit ;;
+++	GUESS=m88k-motorola-sysv3
+++	;;
++     AViiON:dgux:*:*)
++ 	# DG/UX returns AViiON for all architectures
++ 	UNAME_PROCESSOR=`/usr/bin/uname -p`
++-	if [ "$UNAME_PROCESSOR" = mc88100 ] || [ "$UNAME_PROCESSOR" = mc88110 ]
+++	if test "$UNAME_PROCESSOR" = mc88100 || test "$UNAME_PROCESSOR" = mc88110
++ 	then
++-	    if [ "$TARGET_BINARY_INTERFACE"x = m88kdguxelfx ] || \
++-	       [ "$TARGET_BINARY_INTERFACE"x = x ]
+++	    if test "$TARGET_BINARY_INTERFACE"x = m88kdguxelfx || \
+++	       test "$TARGET_BINARY_INTERFACE"x = x
++ 	    then
++-		echo m88k-dg-dgux"$UNAME_RELEASE"
+++		GUESS=m88k-dg-dgux$UNAME_RELEASE
++ 	    else
++-		echo m88k-dg-dguxbcs"$UNAME_RELEASE"
+++		GUESS=m88k-dg-dguxbcs$UNAME_RELEASE
++ 	    fi
++ 	else
++-	    echo i586-dg-dgux"$UNAME_RELEASE"
+++	    GUESS=i586-dg-dgux$UNAME_RELEASE
++ 	fi
++-	exit ;;
+++	;;
++     M88*:DolphinOS:*:*)	# DolphinOS (SVR3)
++-	echo m88k-dolphin-sysv3
++-	exit ;;
+++	GUESS=m88k-dolphin-sysv3
+++	;;
++     M88*:*:R3*:*)
++ 	# Delta 88k system running SVR3
++-	echo m88k-motorola-sysv3
++-	exit ;;
+++	GUESS=m88k-motorola-sysv3
+++	;;
++     XD88*:*:*:*) # Tektronix XD88 system running UTekV (SVR3)
++-	echo m88k-tektronix-sysv3
++-	exit ;;
+++	GUESS=m88k-tektronix-sysv3
+++	;;
++     Tek43[0-9][0-9]:UTek:*:*) # Tektronix 4300 system running UTek (BSD)
++-	echo m68k-tektronix-bsd
++-	exit ;;
+++	GUESS=m68k-tektronix-bsd
+++	;;
++     *:IRIX*:*:*)
++-	echo mips-sgi-irix"`echo "$UNAME_RELEASE"|sed -e 's/-/_/g'`"
++-	exit ;;
+++	IRIX_REL=`echo "$UNAME_RELEASE" | sed -e 's/-/_/g'`
+++	GUESS=mips-sgi-irix$IRIX_REL
+++	;;
++     ????????:AIX?:[12].1:2)   # AIX 2.2.1 or AIX 2.1.1 is RT/PC AIX.
++-	echo romp-ibm-aix     # uname -m gives an 8 hex-code CPU id
++-	exit ;;               # Note that: echo "'`uname -s`'" gives 'AIX '
+++	GUESS=romp-ibm-aix    # uname -m gives an 8 hex-code CPU id
+++	;;                    # Note that: echo "'`uname -s`'" gives 'AIX '
++     i*86:AIX:*:*)
++-	echo i386-ibm-aix
++-	exit ;;
+++	GUESS=i386-ibm-aix
+++	;;
++     ia64:AIX:*:*)
++-	if [ -x /usr/bin/oslevel ] ; then
+++	if test -x /usr/bin/oslevel ; then
++ 		IBM_REV=`/usr/bin/oslevel`
++ 	else
++-		IBM_REV="$UNAME_VERSION.$UNAME_RELEASE"
+++		IBM_REV=$UNAME_VERSION.$UNAME_RELEASE
++ 	fi
++-	echo "$UNAME_MACHINE"-ibm-aix"$IBM_REV"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-ibm-aix$IBM_REV
+++	;;
++     *:AIX:2:3)
++ 	if grep bos325 /usr/include/stdio.h >/dev/null 2>&1; then
++-		eval "$set_cc_for_build"
+++		set_cc_for_build
++ 		sed 's/^		//' << EOF > "$dummy.c"
++ 		#include <sys/systemcfg.h>
++ 
++-		main()
+++		int
+++		main ()
++ 			{
++ 			if (!__power_pc())
++ 				exit(1);
++@@ -593,16 +645,16 @@ EOF
++ EOF
++ 		if $CC_FOR_BUILD -o "$dummy" "$dummy.c" && SYSTEM_NAME=`"$dummy"`
++ 		then
++-			echo "$SYSTEM_NAME"
+++			GUESS=$SYSTEM_NAME
++ 		else
++-			echo rs6000-ibm-aix3.2.5
+++			GUESS=rs6000-ibm-aix3.2.5
++ 		fi
++ 	elif grep bos324 /usr/include/stdio.h >/dev/null 2>&1; then
++-		echo rs6000-ibm-aix3.2.4
+++		GUESS=rs6000-ibm-aix3.2.4
++ 	else
++-		echo rs6000-ibm-aix3.2
+++		GUESS=rs6000-ibm-aix3.2
++ 	fi
++-	exit ;;
+++	;;
++     *:AIX:*:[4567])
++ 	IBM_CPU_ID=`/usr/sbin/lsdev -C -c processor -S available | sed 1q | awk '{ print $1 }'`
++ 	if /usr/sbin/lsattr -El "$IBM_CPU_ID" | grep ' POWER' >/dev/null 2>&1; then
++@@ -610,64 +662,65 @@ EOF
++ 	else
++ 		IBM_ARCH=powerpc
++ 	fi
++-	if [ -x /usr/bin/lslpp ] ; then
++-		IBM_REV=`/usr/bin/lslpp -Lqc bos.rte.libc |
+++	if test -x /usr/bin/lslpp ; then
+++		IBM_REV=`/usr/bin/lslpp -Lqc bos.rte.libc | \
++ 			   awk -F: '{ print $3 }' | sed s/[0-9]*$/0/`
++ 	else
++-		IBM_REV="$UNAME_VERSION.$UNAME_RELEASE"
+++		IBM_REV=$UNAME_VERSION.$UNAME_RELEASE
++ 	fi
++-	echo "$IBM_ARCH"-ibm-aix"$IBM_REV"
++-	exit ;;
+++	GUESS=$IBM_ARCH-ibm-aix$IBM_REV
+++	;;
++     *:AIX:*:*)
++-	echo rs6000-ibm-aix
++-	exit ;;
+++	GUESS=rs6000-ibm-aix
+++	;;
++     ibmrt:4.4BSD:*|romp-ibm:4.4BSD:*)
++-	echo romp-ibm-bsd4.4
++-	exit ;;
+++	GUESS=romp-ibm-bsd4.4
+++	;;
++     ibmrt:*BSD:*|romp-ibm:BSD:*)            # covers RT/PC BSD and
++-	echo romp-ibm-bsd"$UNAME_RELEASE"   # 4.3 with uname added to
++-	exit ;;                             # report: romp-ibm BSD 4.3
+++	GUESS=romp-ibm-bsd$UNAME_RELEASE    # 4.3 with uname added to
+++	;;                                  # report: romp-ibm BSD 4.3
++     *:BOSX:*:*)
++-	echo rs6000-bull-bosx
++-	exit ;;
+++	GUESS=rs6000-bull-bosx
+++	;;
++     DPX/2?00:B.O.S.:*:*)
++-	echo m68k-bull-sysv3
++-	exit ;;
+++	GUESS=m68k-bull-sysv3
+++	;;
++     9000/[34]??:4.3bsd:1.*:*)
++-	echo m68k-hp-bsd
++-	exit ;;
+++	GUESS=m68k-hp-bsd
+++	;;
++     hp300:4.4BSD:*:* | 9000/[34]??:4.3bsd:2.*:*)
++-	echo m68k-hp-bsd4.4
++-	exit ;;
+++	GUESS=m68k-hp-bsd4.4
+++	;;
++     9000/[34678]??:HP-UX:*:*)
++-	HPUX_REV=`echo "$UNAME_RELEASE"|sed -e 's/[^.]*.[0B]*//'`
++-	case "$UNAME_MACHINE" in
+++	HPUX_REV=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*.[0B]*//'`
+++	case $UNAME_MACHINE in
++ 	    9000/31?)            HP_ARCH=m68000 ;;
++ 	    9000/[34]??)         HP_ARCH=m68k ;;
++ 	    9000/[678][0-9][0-9])
++-		if [ -x /usr/bin/getconf ]; then
+++		if test -x /usr/bin/getconf; then
++ 		    sc_cpu_version=`/usr/bin/getconf SC_CPU_VERSION 2>/dev/null`
++ 		    sc_kernel_bits=`/usr/bin/getconf SC_KERNEL_BITS 2>/dev/null`
++-		    case "$sc_cpu_version" in
+++		    case $sc_cpu_version in
++ 		      523) HP_ARCH=hppa1.0 ;; # CPU_PA_RISC1_0
++ 		      528) HP_ARCH=hppa1.1 ;; # CPU_PA_RISC1_1
++ 		      532)                      # CPU_PA_RISC2_0
++-			case "$sc_kernel_bits" in
+++			case $sc_kernel_bits in
++ 			  32) HP_ARCH=hppa2.0n ;;
++ 			  64) HP_ARCH=hppa2.0w ;;
++ 			  '') HP_ARCH=hppa2.0 ;;   # HP-UX 10.20
++ 			esac ;;
++ 		    esac
++ 		fi
++-		if [ "$HP_ARCH" = "" ]; then
++-		    eval "$set_cc_for_build"
+++		if test "$HP_ARCH" = ""; then
+++		    set_cc_for_build
++ 		    sed 's/^		//' << EOF > "$dummy.c"
++ 
++ 		#define _HPUX_SOURCE
++ 		#include <stdlib.h>
++ 		#include <unistd.h>
++ 
++-		int main ()
+++		int
+++		main ()
++ 		{
++ 		#if defined(_SC_KERNEL_BITS)
++ 		    long bits = sysconf(_SC_KERNEL_BITS);
++@@ -698,9 +751,9 @@ EOF
++ 		    test -z "$HP_ARCH" && HP_ARCH=hppa
++ 		fi ;;
++ 	esac
++-	if [ "$HP_ARCH" = hppa2.0w ]
+++	if test "$HP_ARCH" = hppa2.0w
++ 	then
++-	    eval "$set_cc_for_build"
+++	    set_cc_for_build
++ 
++ 	    # hppa2.0w-hp-hpux* has a 64-bit kernel and a compiler generating
++ 	    # 32-bit code.  hppa64-hp-hpux* has the same kernel and a compiler
++@@ -719,14 +772,14 @@ EOF
++ 		HP_ARCH=hppa64
++ 	    fi
++ 	fi
++-	echo "$HP_ARCH"-hp-hpux"$HPUX_REV"
++-	exit ;;
+++	GUESS=$HP_ARCH-hp-hpux$HPUX_REV
+++	;;
++     ia64:HP-UX:*:*)
++-	HPUX_REV=`echo "$UNAME_RELEASE"|sed -e 's/[^.]*.[0B]*//'`
++-	echo ia64-hp-hpux"$HPUX_REV"
++-	exit ;;
+++	HPUX_REV=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*.[0B]*//'`
+++	GUESS=ia64-hp-hpux$HPUX_REV
+++	;;
++     3050*:HI-UX:*:*)
++-	eval "$set_cc_for_build"
+++	set_cc_for_build
++ 	sed 's/^	//' << EOF > "$dummy.c"
++ 	#include <unistd.h>
++ 	int
++@@ -754,36 +807,36 @@ EOF
++ EOF
++ 	$CC_FOR_BUILD -o "$dummy" "$dummy.c" && SYSTEM_NAME=`"$dummy"` &&
++ 		{ echo "$SYSTEM_NAME"; exit; }
++-	echo unknown-hitachi-hiuxwe2
++-	exit ;;
+++	GUESS=unknown-hitachi-hiuxwe2
+++	;;
++     9000/7??:4.3bsd:*:* | 9000/8?[79]:4.3bsd:*:*)
++-	echo hppa1.1-hp-bsd
++-	exit ;;
+++	GUESS=hppa1.1-hp-bsd
+++	;;
++     9000/8??:4.3bsd:*:*)
++-	echo hppa1.0-hp-bsd
++-	exit ;;
+++	GUESS=hppa1.0-hp-bsd
+++	;;
++     *9??*:MPE/iX:*:* | *3000*:MPE/iX:*:*)
++-	echo hppa1.0-hp-mpeix
++-	exit ;;
+++	GUESS=hppa1.0-hp-mpeix
+++	;;
++     hp7??:OSF1:*:* | hp8?[79]:OSF1:*:*)
++-	echo hppa1.1-hp-osf
++-	exit ;;
+++	GUESS=hppa1.1-hp-osf
+++	;;
++     hp8??:OSF1:*:*)
++-	echo hppa1.0-hp-osf
++-	exit ;;
+++	GUESS=hppa1.0-hp-osf
+++	;;
++     i*86:OSF1:*:*)
++-	if [ -x /usr/sbin/sysversion ] ; then
++-	    echo "$UNAME_MACHINE"-unknown-osf1mk
+++	if test -x /usr/sbin/sysversion ; then
+++	    GUESS=$UNAME_MACHINE-unknown-osf1mk
++ 	else
++-	    echo "$UNAME_MACHINE"-unknown-osf1
+++	    GUESS=$UNAME_MACHINE-unknown-osf1
++ 	fi
++-	exit ;;
+++	;;
++     parisc*:Lites*:*:*)
++-	echo hppa1.1-hp-lites
++-	exit ;;
+++	GUESS=hppa1.1-hp-lites
+++	;;
++     C1*:ConvexOS:*:* | convex:ConvexOS:C1*:*)
++-	echo c1-convex-bsd
++-	exit ;;
+++	GUESS=c1-convex-bsd
+++	;;
++     C2*:ConvexOS:*:* | convex:ConvexOS:C2*:*)
++ 	if getsysinfo -f scalar_acc
++ 	then echo c32-convex-bsd
++@@ -791,17 +844,18 @@ EOF
++ 	fi
++ 	exit ;;
++     C34*:ConvexOS:*:* | convex:ConvexOS:C34*:*)
++-	echo c34-convex-bsd
++-	exit ;;
+++	GUESS=c34-convex-bsd
+++	;;
++     C38*:ConvexOS:*:* | convex:ConvexOS:C38*:*)
++-	echo c38-convex-bsd
++-	exit ;;
+++	GUESS=c38-convex-bsd
+++	;;
++     C4*:ConvexOS:*:* | convex:ConvexOS:C4*:*)
++-	echo c4-convex-bsd
++-	exit ;;
+++	GUESS=c4-convex-bsd
+++	;;
++     CRAY*Y-MP:*:*:*)
++-	echo ymp-cray-unicos"$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'
++-	exit ;;
+++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
+++	GUESS=ymp-cray-unicos$CRAY_REL
+++	;;
++     CRAY*[A-Z]90:*:*:*)
++ 	echo "$UNAME_MACHINE"-cray-unicos"$UNAME_RELEASE" \
++ 	| sed -e 's/CRAY.*\([A-Z]90\)/\1/' \
++@@ -809,103 +863,155 @@ EOF
++ 	      -e 's/\.[^.]*$/.X/'
++ 	exit ;;
++     CRAY*TS:*:*:*)
++-	echo t90-cray-unicos"$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'
++-	exit ;;
+++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
+++	GUESS=t90-cray-unicos$CRAY_REL
+++	;;
++     CRAY*T3E:*:*:*)
++-	echo alphaev5-cray-unicosmk"$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'
++-	exit ;;
+++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
+++	GUESS=alphaev5-cray-unicosmk$CRAY_REL
+++	;;
++     CRAY*SV1:*:*:*)
++-	echo sv1-cray-unicos"$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'
++-	exit ;;
+++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
+++	GUESS=sv1-cray-unicos$CRAY_REL
+++	;;
++     *:UNICOS/mp:*:*)
++-	echo craynv-cray-unicosmp"$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'
++-	exit ;;
+++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
+++	GUESS=craynv-cray-unicosmp$CRAY_REL
+++	;;
++     F30[01]:UNIX_System_V:*:* | F700:UNIX_System_V:*:*)
++ 	FUJITSU_PROC=`uname -m | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz`
++ 	FUJITSU_SYS=`uname -p | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz | sed -e 's/\///'`
++ 	FUJITSU_REL=`echo "$UNAME_RELEASE" | sed -e 's/ /_/'`
++-	echo "${FUJITSU_PROC}-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}"
++-	exit ;;
+++	GUESS=${FUJITSU_PROC}-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}
+++	;;
++     5000:UNIX_System_V:4.*:*)
++ 	FUJITSU_SYS=`uname -p | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz | sed -e 's/\///'`
++ 	FUJITSU_REL=`echo "$UNAME_RELEASE" | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz | sed -e 's/ /_/'`
++-	echo "sparc-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}"
++-	exit ;;
+++	GUESS=sparc-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}
+++	;;
++     i*86:BSD/386:*:* | i*86:BSD/OS:*:* | *:Ascend\ Embedded/OS:*:*)
++-	echo "$UNAME_MACHINE"-pc-bsdi"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-bsdi$UNAME_RELEASE
+++	;;
++     sparc*:BSD/OS:*:*)
++-	echo sparc-unknown-bsdi"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sparc-unknown-bsdi$UNAME_RELEASE
+++	;;
++     *:BSD/OS:*:*)
++-	echo "$UNAME_MACHINE"-unknown-bsdi"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-bsdi$UNAME_RELEASE
+++	;;
+++    arm:FreeBSD:*:*)
+++	UNAME_PROCESSOR=`uname -p`
+++	set_cc_for_build
+++	if echo __ARM_PCS_VFP | $CC_FOR_BUILD -E - 2>/dev/null \
+++	    | grep -q __ARM_PCS_VFP
+++	then
+++	    FREEBSD_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
+++	    GUESS=$UNAME_PROCESSOR-unknown-freebsd$FREEBSD_REL-gnueabi
+++	else
+++	    FREEBSD_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
+++	    GUESS=$UNAME_PROCESSOR-unknown-freebsd$FREEBSD_REL-gnueabihf
+++	fi
+++	;;
++     *:FreeBSD:*:*)
++-	UNAME_PROCESSOR=`/usr/bin/uname -p`
++-	case "$UNAME_PROCESSOR" in
+++	UNAME_PROCESSOR=`uname -p`
+++	case $UNAME_PROCESSOR in
++ 	    amd64)
++ 		UNAME_PROCESSOR=x86_64 ;;
++ 	    i386)
++ 		UNAME_PROCESSOR=i586 ;;
++ 	esac
++-	echo "$UNAME_PROCESSOR"-unknown-freebsd"`echo "$UNAME_RELEASE"|sed -e 's/[-(].*//'`"
++-	exit ;;
+++	FREEBSD_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
+++	GUESS=$UNAME_PROCESSOR-unknown-freebsd$FREEBSD_REL
+++	;;
++     i*:CYGWIN*:*)
++-	echo "$UNAME_MACHINE"-pc-cygwin
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-cygwin
+++	;;
++     *:MINGW64*:*)
++-	echo "$UNAME_MACHINE"-pc-mingw64
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-mingw64
+++	;;
++     *:MINGW*:*)
++-	echo "$UNAME_MACHINE"-pc-mingw32
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-mingw32
+++	;;
++     *:MSYS*:*)
++-	echo "$UNAME_MACHINE"-pc-msys
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-msys
+++	;;
++     i*:PW*:*)
++-	echo "$UNAME_MACHINE"-pc-pw32
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-pw32
+++	;;
+++    *:SerenityOS:*:*)
+++        GUESS=$UNAME_MACHINE-pc-serenity
+++        ;;
++     *:Interix*:*)
++-	case "$UNAME_MACHINE" in
+++	case $UNAME_MACHINE in
++ 	    x86)
++-		echo i586-pc-interix"$UNAME_RELEASE"
++-		exit ;;
+++		GUESS=i586-pc-interix$UNAME_RELEASE
+++		;;
++ 	    authenticamd | genuineintel | EM64T)
++-		echo x86_64-unknown-interix"$UNAME_RELEASE"
++-		exit ;;
+++		GUESS=x86_64-unknown-interix$UNAME_RELEASE
+++		;;
++ 	    IA64)
++-		echo ia64-unknown-interix"$UNAME_RELEASE"
++-		exit ;;
+++		GUESS=ia64-unknown-interix$UNAME_RELEASE
+++		;;
++ 	esac ;;
++     i*:UWIN*:*)
++-	echo "$UNAME_MACHINE"-pc-uwin
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-uwin
+++	;;
++     amd64:CYGWIN*:*:* | x86_64:CYGWIN*:*:*)
++-	echo x86_64-unknown-cygwin
++-	exit ;;
+++	GUESS=x86_64-pc-cygwin
+++	;;
++     prep*:SunOS:5.*:*)
++-	echo powerpcle-unknown-solaris2"`echo "$UNAME_RELEASE"|sed -e 's/[^.]*//'`"
++-	exit ;;
+++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
+++	GUESS=powerpcle-unknown-solaris2$SUN_REL
+++	;;
++     *:GNU:*:*)
++ 	# the GNU system
++-	echo "`echo "$UNAME_MACHINE"|sed -e 's,[-/].*$,,'`-unknown-$LIBC`echo "$UNAME_RELEASE"|sed -e 's,/.*$,,'`"
++-	exit ;;
+++	GNU_ARCH=`echo "$UNAME_MACHINE" | sed -e 's,[-/].*$,,'`
+++	GNU_REL=`echo "$UNAME_RELEASE" | sed -e 's,/.*$,,'`
+++	GUESS=$GNU_ARCH-unknown-$LIBC$GNU_REL
+++	;;
++     *:GNU/*:*:*)
++ 	# other systems with GNU libc and userland
++-	echo "$UNAME_MACHINE-unknown-`echo "$UNAME_SYSTEM" | sed 's,^[^/]*/,,' | tr "[:upper:]" "[:lower:]"``echo "$UNAME_RELEASE"|sed -e 's/[-(].*//'`-$LIBC"
++-	exit ;;
++-    i*86:Minix:*:*)
++-	echo "$UNAME_MACHINE"-pc-minix
++-	exit ;;
+++	GNU_SYS=`echo "$UNAME_SYSTEM" | sed 's,^[^/]*/,,' | tr "[:upper:]" "[:lower:]"`
+++	GNU_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
+++	GUESS=$UNAME_MACHINE-unknown-$GNU_SYS$GNU_REL-$LIBC
+++	;;
+++    x86_64:[Mm]anagarm:*:*|i?86:[Mm]anagarm:*:*)
+++	GUESS="$UNAME_MACHINE-pc-managarm-mlibc"
+++	;;
+++    *:[Mm]anagarm:*:*)
+++	GUESS="$UNAME_MACHINE-unknown-managarm-mlibc"
+++	;;
+++    *:Minix:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-minix
+++	;;
++     aarch64:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	set_cc_for_build
+++	CPU=$UNAME_MACHINE
+++	LIBCABI=$LIBC
+++	if test "$CC_FOR_BUILD" != no_compiler_found; then
+++	    ABI=64
+++	    sed 's/^	    //' << EOF > "$dummy.c"
+++	    #ifdef __ARM_EABI__
+++	    #ifdef __ARM_PCS_VFP
+++	    ABI=eabihf
+++	    #else
+++	    ABI=eabi
+++	    #endif
+++	    #endif
+++EOF
+++	    cc_set_abi=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^ABI' | sed 's, ,,g'`
+++	    eval "$cc_set_abi"
+++	    case $ABI in
+++		eabi | eabihf) CPU=armv8l; LIBCABI=$LIBC$ABI ;;
+++	    esac
+++	fi
+++	GUESS=$CPU-unknown-linux-$LIBCABI
+++	;;
++     aarch64_be:Linux:*:*)
++ 	UNAME_MACHINE=aarch64_be
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     alpha:Linux:*:*)
++-	case `sed -n '/^cpu model/s/^.*: \(.*\)/\1/p' < /proc/cpuinfo` in
+++	case `sed -n '/^cpu model/s/^.*: \(.*\)/\1/p' /proc/cpuinfo 2>/dev/null` in
++ 	  EV5)   UNAME_MACHINE=alphaev5 ;;
++ 	  EV56)  UNAME_MACHINE=alphaev56 ;;
++ 	  PCA56) UNAME_MACHINE=alphapca56 ;;
++@@ -916,183 +1022,245 @@ EOF
++ 	esac
++ 	objdump --private-headers /bin/sh | grep -q ld.so.1
++ 	if test "$?" = 0 ; then LIBC=gnulibc1 ; fi
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
++-    arc:Linux:*:* | arceb:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
+++    arc:Linux:*:* | arceb:Linux:*:* | arc32:Linux:*:* | arc64:Linux:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     arm*:Linux:*:*)
++-	eval "$set_cc_for_build"
+++	set_cc_for_build
++ 	if echo __ARM_EABI__ | $CC_FOR_BUILD -E - 2>/dev/null \
++ 	    | grep -q __ARM_EABI__
++ 	then
++-	    echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+++	    GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++ 	else
++ 	    if echo __ARM_PCS_VFP | $CC_FOR_BUILD -E - 2>/dev/null \
++ 		| grep -q __ARM_PCS_VFP
++ 	    then
++-		echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"eabi
+++		GUESS=$UNAME_MACHINE-unknown-linux-${LIBC}eabi
++ 	    else
++-		echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"eabihf
+++		GUESS=$UNAME_MACHINE-unknown-linux-${LIBC}eabihf
++ 	    fi
++ 	fi
++-	exit ;;
+++	;;
++     avr32*:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     cris:Linux:*:*)
++-	echo "$UNAME_MACHINE"-axis-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-axis-linux-$LIBC
+++	;;
++     crisv32:Linux:*:*)
++-	echo "$UNAME_MACHINE"-axis-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-axis-linux-$LIBC
+++	;;
++     e2k:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     frv:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     hexagon:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     i*86:Linux:*:*)
++-	echo "$UNAME_MACHINE"-pc-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-linux-$LIBC
+++	;;
++     ia64:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     k1om:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
+++    kvx:Linux:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
+++    kvx:cos:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-cos
+++	;;
+++    kvx:mbr:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-mbr
+++	;;
+++    loongarch32:Linux:*:* | loongarch64:Linux:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     m32r*:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     m68*:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     mips:Linux:*:* | mips64:Linux:*:*)
++-	eval "$set_cc_for_build"
+++	set_cc_for_build
+++	IS_GLIBC=0
+++	test x"${LIBC}" = xgnu && IS_GLIBC=1
++ 	sed 's/^	//' << EOF > "$dummy.c"
++ 	#undef CPU
++-	#undef ${UNAME_MACHINE}
++-	#undef ${UNAME_MACHINE}el
+++	#undef mips
+++	#undef mipsel
+++	#undef mips64
+++	#undef mips64el
+++	#if ${IS_GLIBC} && defined(_ABI64)
+++	LIBCABI=gnuabi64
+++	#else
+++	#if ${IS_GLIBC} && defined(_ABIN32)
+++	LIBCABI=gnuabin32
+++	#else
+++	LIBCABI=${LIBC}
+++	#endif
+++	#endif
+++
+++	#if ${IS_GLIBC} && defined(__mips64) && defined(__mips_isa_rev) && __mips_isa_rev>=6
+++	CPU=mipsisa64r6
+++	#else
+++	#if ${IS_GLIBC} && !defined(__mips64) && defined(__mips_isa_rev) && __mips_isa_rev>=6
+++	CPU=mipsisa32r6
+++	#else
+++	#if defined(__mips64)
+++	CPU=mips64
+++	#else
+++	CPU=mips
+++	#endif
+++	#endif
+++	#endif
+++
++ 	#if defined(__MIPSEL__) || defined(__MIPSEL) || defined(_MIPSEL) || defined(MIPSEL)
++-	CPU=${UNAME_MACHINE}el
+++	MIPS_ENDIAN=el
++ 	#else
++ 	#if defined(__MIPSEB__) || defined(__MIPSEB) || defined(_MIPSEB) || defined(MIPSEB)
++-	CPU=${UNAME_MACHINE}
+++	MIPS_ENDIAN=
++ 	#else
++-	CPU=
+++	MIPS_ENDIAN=
++ 	#endif
++ 	#endif
++ EOF
++-	eval "`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^CPU'`"
++-	test "x$CPU" != x && { echo "$CPU-unknown-linux-$LIBC"; exit; }
+++	cc_set_vars=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^CPU\|^MIPS_ENDIAN\|^LIBCABI'`
+++	eval "$cc_set_vars"
+++	test "x$CPU" != x && { echo "$CPU${MIPS_ENDIAN}-unknown-linux-$LIBCABI"; exit; }
++ 	;;
++     mips64el:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     openrisc*:Linux:*:*)
++-	echo or1k-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=or1k-unknown-linux-$LIBC
+++	;;
++     or32:Linux:*:* | or1k*:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     padre:Linux:*:*)
++-	echo sparc-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=sparc-unknown-linux-$LIBC
+++	;;
++     parisc64:Linux:*:* | hppa64:Linux:*:*)
++-	echo hppa64-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=hppa64-unknown-linux-$LIBC
+++	;;
++     parisc:Linux:*:* | hppa:Linux:*:*)
++ 	# Look for CPU level
++ 	case `grep '^cpu[^a-z]*:' /proc/cpuinfo 2>/dev/null | cut -d' ' -f2` in
++-	  PA7*) echo hppa1.1-unknown-linux-"$LIBC" ;;
++-	  PA8*) echo hppa2.0-unknown-linux-"$LIBC" ;;
++-	  *)    echo hppa-unknown-linux-"$LIBC" ;;
+++	  PA7*) GUESS=hppa1.1-unknown-linux-$LIBC ;;
+++	  PA8*) GUESS=hppa2.0-unknown-linux-$LIBC ;;
+++	  *)    GUESS=hppa-unknown-linux-$LIBC ;;
++ 	esac
++-	exit ;;
+++	;;
++     ppc64:Linux:*:*)
++-	echo powerpc64-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=powerpc64-unknown-linux-$LIBC
+++	;;
++     ppc:Linux:*:*)
++-	echo powerpc-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=powerpc-unknown-linux-$LIBC
+++	;;
++     ppc64le:Linux:*:*)
++-	echo powerpc64le-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=powerpc64le-unknown-linux-$LIBC
+++	;;
++     ppcle:Linux:*:*)
++-	echo powerpcle-unknown-linux-"$LIBC"
++-	exit ;;
++-    riscv32:Linux:*:* | riscv64:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=powerpcle-unknown-linux-$LIBC
+++	;;
+++    riscv32:Linux:*:* | riscv32be:Linux:*:* | riscv64:Linux:*:* | riscv64be:Linux:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     s390:Linux:*:* | s390x:Linux:*:*)
++-	echo "$UNAME_MACHINE"-ibm-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-ibm-linux-$LIBC
+++	;;
++     sh64*:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     sh*:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     sparc:Linux:*:* | sparc64:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     tile*:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     vax:Linux:*:*)
++-	echo "$UNAME_MACHINE"-dec-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-dec-linux-$LIBC
+++	;;
++     x86_64:Linux:*:*)
++-	echo "$UNAME_MACHINE"-pc-linux-"$LIBC"
++-	exit ;;
+++	set_cc_for_build
+++	CPU=$UNAME_MACHINE
+++	LIBCABI=$LIBC
+++	if test "$CC_FOR_BUILD" != no_compiler_found; then
+++	    ABI=64
+++	    sed 's/^	    //' << EOF > "$dummy.c"
+++	    #ifdef __i386__
+++	    ABI=x86
+++	    #else
+++	    #ifdef __ILP32__
+++	    ABI=x32
+++	    #endif
+++	    #endif
+++EOF
+++	    cc_set_abi=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^ABI' | sed 's, ,,g'`
+++	    eval "$cc_set_abi"
+++	    case $ABI in
+++		x86) CPU=i686 ;;
+++		x32) LIBCABI=${LIBC}x32 ;;
+++	    esac
+++	fi
+++	GUESS=$CPU-pc-linux-$LIBCABI
+++	;;
++     xtensa*:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     i*86:DYNIX/ptx:4*:*)
++ 	# ptx 4.0 does uname -s correctly, with DYNIX/ptx in there.
++ 	# earlier versions are messed up and put the nodename in both
++ 	# sysname and nodename.
++-	echo i386-sequent-sysv4
++-	exit ;;
+++	GUESS=i386-sequent-sysv4
+++	;;
++     i*86:UNIX_SV:4.2MP:2.*)
++ 	# Unixware is an offshoot of SVR4, but it has its own version
++ 	# number series starting with 2...
++ 	# I am not positive that other SVR4 systems won't match this,
++ 	# I just have to hope.  -- rms.
++ 	# Use sysv4.2uw... so that sysv4* matches it.
++-	echo "$UNAME_MACHINE"-pc-sysv4.2uw"$UNAME_VERSION"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-sysv4.2uw$UNAME_VERSION
+++	;;
++     i*86:OS/2:*:*)
++-	# If we were able to find `uname', then EMX Unix compatibility
+++	# If we were able to find 'uname', then EMX Unix compatibility
++ 	# is probably installed.
++-	echo "$UNAME_MACHINE"-pc-os2-emx
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-os2-emx
+++	;;
++     i*86:XTS-300:*:STOP)
++-	echo "$UNAME_MACHINE"-unknown-stop
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-stop
+++	;;
++     i*86:atheos:*:*)
++-	echo "$UNAME_MACHINE"-unknown-atheos
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-atheos
+++	;;
++     i*86:syllable:*:*)
++-	echo "$UNAME_MACHINE"-pc-syllable
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-syllable
+++	;;
++     i*86:LynxOS:2.*:* | i*86:LynxOS:3.[01]*:* | i*86:LynxOS:4.[02]*:*)
++-	echo i386-unknown-lynxos"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=i386-unknown-lynxos$UNAME_RELEASE
+++	;;
++     i*86:*DOS:*:*)
++-	echo "$UNAME_MACHINE"-pc-msdosdjgpp
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-msdosdjgpp
+++	;;
++     i*86:*:4.*:*)
++ 	UNAME_REL=`echo "$UNAME_RELEASE" | sed 's/\/MP$//'`
++ 	if grep Novell /usr/include/link.h >/dev/null 2>/dev/null; then
++-		echo "$UNAME_MACHINE"-univel-sysv"$UNAME_REL"
+++		GUESS=$UNAME_MACHINE-univel-sysv$UNAME_REL
++ 	else
++-		echo "$UNAME_MACHINE"-pc-sysv"$UNAME_REL"
+++		GUESS=$UNAME_MACHINE-pc-sysv$UNAME_REL
++ 	fi
++-	exit ;;
+++	;;
++     i*86:*:5:[678]*)
++ 	# UnixWare 7.x, OpenUNIX and OpenServer 6.
++ 	case `/bin/uname -X | grep "^Machine"` in
++@@ -1100,12 +1268,12 @@ EOF
++ 	    *Pentium)	     UNAME_MACHINE=i586 ;;
++ 	    *Pent*|*Celeron) UNAME_MACHINE=i686 ;;
++ 	esac
++-	echo "$UNAME_MACHINE-unknown-sysv${UNAME_RELEASE}${UNAME_SYSTEM}{$UNAME_VERSION}"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-sysv${UNAME_RELEASE}${UNAME_SYSTEM}${UNAME_VERSION}
+++	;;
++     i*86:*:3.2:*)
++ 	if test -f /usr/options/cb.name; then
++ 		UNAME_REL=`sed -n 's/.*Version //p' </usr/options/cb.name`
++-		echo "$UNAME_MACHINE"-pc-isc"$UNAME_REL"
+++		GUESS=$UNAME_MACHINE-pc-isc$UNAME_REL
++ 	elif /bin/uname -X 2>/dev/null >/dev/null ; then
++ 		UNAME_REL=`(/bin/uname -X|grep Release|sed -e 's/.*= //')`
++ 		(/bin/uname -X|grep i80486 >/dev/null) && UNAME_MACHINE=i486
++@@ -1115,11 +1283,11 @@ EOF
++ 			&& UNAME_MACHINE=i686
++ 		(/bin/uname -X|grep '^Machine.*Pentium Pro' >/dev/null) \
++ 			&& UNAME_MACHINE=i686
++-		echo "$UNAME_MACHINE"-pc-sco"$UNAME_REL"
+++		GUESS=$UNAME_MACHINE-pc-sco$UNAME_REL
++ 	else
++-		echo "$UNAME_MACHINE"-pc-sysv32
+++		GUESS=$UNAME_MACHINE-pc-sysv32
++ 	fi
++-	exit ;;
+++	;;
++     pc:*:*:*)
++ 	# Left here for compatibility:
++ 	# uname -m prints for DJGPP always 'pc', but it prints nothing about
++@@ -1127,31 +1295,31 @@ EOF
++ 	# Note: whatever this is, it MUST be the same as what config.sub
++ 	# prints for the "djgpp" host, or else GDB configure will decide that
++ 	# this is a cross-build.
++-	echo i586-pc-msdosdjgpp
++-	exit ;;
+++	GUESS=i586-pc-msdosdjgpp
+++	;;
++     Intel:Mach:3*:*)
++-	echo i386-pc-mach3
++-	exit ;;
+++	GUESS=i386-pc-mach3
+++	;;
++     paragon:*:*:*)
++-	echo i860-intel-osf1
++-	exit ;;
+++	GUESS=i860-intel-osf1
+++	;;
++     i860:*:4.*:*) # i860-SVR4
++ 	if grep Stardent /usr/include/sys/uadmin.h >/dev/null 2>&1 ; then
++-	  echo i860-stardent-sysv"$UNAME_RELEASE" # Stardent Vistra i860-SVR4
+++	  GUESS=i860-stardent-sysv$UNAME_RELEASE    # Stardent Vistra i860-SVR4
++ 	else # Add other i860-SVR4 vendors below as they are discovered.
++-	  echo i860-unknown-sysv"$UNAME_RELEASE"  # Unknown i860-SVR4
+++	  GUESS=i860-unknown-sysv$UNAME_RELEASE     # Unknown i860-SVR4
++ 	fi
++-	exit ;;
+++	;;
++     mini*:CTIX:SYS*5:*)
++ 	# "miniframe"
++-	echo m68010-convergent-sysv
++-	exit ;;
+++	GUESS=m68010-convergent-sysv
+++	;;
++     mc68k:UNIX:SYSTEM5:3.51m)
++-	echo m68k-convergent-sysv
++-	exit ;;
+++	GUESS=m68k-convergent-sysv
+++	;;
++     M680?0:D-NIX:5.3:*)
++-	echo m68k-diab-dnix
++-	exit ;;
+++	GUESS=m68k-diab-dnix
+++	;;
++     M68*:*:R3V[5678]*:*)
++ 	test -r /sysV68 && { echo 'm68k-motorola-sysv'; exit; } ;;
++     3[345]??:*:4.0:3.0 | 3[34]??A:*:4.0:3.0 | 3[34]??,*:*:4.0:3.0 | 3[34]??/*:*:4.0:3.0 | 4400:*:4.0:3.0 | 4850:*:4.0:3.0 | SKA40:*:4.0:3.0 | SDS2:*:4.0:3.0 | SHG2:*:4.0:3.0 | S7501*:*:4.0:3.0)
++@@ -1176,249 +1344,411 @@ EOF
++ 	/bin/uname -p 2>/dev/null | /bin/grep pteron >/dev/null \
++ 	    && { echo i586-ncr-sysv4.3"$OS_REL"; exit; } ;;
++     m68*:LynxOS:2.*:* | m68*:LynxOS:3.0*:*)
++-	echo m68k-unknown-lynxos"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-unknown-lynxos$UNAME_RELEASE
+++	;;
++     mc68030:UNIX_System_V:4.*:*)
++-	echo m68k-atari-sysv4
++-	exit ;;
+++	GUESS=m68k-atari-sysv4
+++	;;
++     TSUNAMI:LynxOS:2.*:*)
++-	echo sparc-unknown-lynxos"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sparc-unknown-lynxos$UNAME_RELEASE
+++	;;
++     rs6000:LynxOS:2.*:*)
++-	echo rs6000-unknown-lynxos"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=rs6000-unknown-lynxos$UNAME_RELEASE
+++	;;
++     PowerPC:LynxOS:2.*:* | PowerPC:LynxOS:3.[01]*:* | PowerPC:LynxOS:4.[02]*:*)
++-	echo powerpc-unknown-lynxos"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=powerpc-unknown-lynxos$UNAME_RELEASE
+++	;;
++     SM[BE]S:UNIX_SV:*:*)
++-	echo mips-dde-sysv"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=mips-dde-sysv$UNAME_RELEASE
+++	;;
++     RM*:ReliantUNIX-*:*:*)
++-	echo mips-sni-sysv4
++-	exit ;;
+++	GUESS=mips-sni-sysv4
+++	;;
++     RM*:SINIX-*:*:*)
++-	echo mips-sni-sysv4
++-	exit ;;
+++	GUESS=mips-sni-sysv4
+++	;;
++     *:SINIX-*:*:*)
++ 	if uname -p 2>/dev/null >/dev/null ; then
++ 		UNAME_MACHINE=`(uname -p) 2>/dev/null`
++-		echo "$UNAME_MACHINE"-sni-sysv4
+++		GUESS=$UNAME_MACHINE-sni-sysv4
++ 	else
++-		echo ns32k-sni-sysv
+++		GUESS=ns32k-sni-sysv
++ 	fi
++-	exit ;;
++-    PENTIUM:*:4.0*:*)	# Unisys `ClearPath HMP IX 4000' SVR4/MP effort
+++	;;
+++    PENTIUM:*:4.0*:*)	# Unisys 'ClearPath HMP IX 4000' SVR4/MP effort
++ 			# says <Richard.M.Bartel@ccMail.Census.GOV>
++-	echo i586-unisys-sysv4
++-	exit ;;
+++	GUESS=i586-unisys-sysv4
+++	;;
++     *:UNIX_System_V:4*:FTX*)
++ 	# From Gerald Hewes <hewes@openmarket.com>.
++ 	# How about differentiating between stratus architectures? -djm
++-	echo hppa1.1-stratus-sysv4
++-	exit ;;
+++	GUESS=hppa1.1-stratus-sysv4
+++	;;
++     *:*:*:FTX*)
++ 	# From seanf@swdc.stratus.com.
++-	echo i860-stratus-sysv4
++-	exit ;;
+++	GUESS=i860-stratus-sysv4
+++	;;
++     i*86:VOS:*:*)
++ 	# From Paul.Green@stratus.com.
++-	echo "$UNAME_MACHINE"-stratus-vos
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-stratus-vos
+++	;;
++     *:VOS:*:*)
++ 	# From Paul.Green@stratus.com.
++-	echo hppa1.1-stratus-vos
++-	exit ;;
+++	GUESS=hppa1.1-stratus-vos
+++	;;
++     mc68*:A/UX:*:*)
++-	echo m68k-apple-aux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-apple-aux$UNAME_RELEASE
+++	;;
++     news*:NEWS-OS:6*:*)
++-	echo mips-sony-newsos6
++-	exit ;;
+++	GUESS=mips-sony-newsos6
+++	;;
++     R[34]000:*System_V*:*:* | R4000:UNIX_SYSV:*:* | R*000:UNIX_SV:*:*)
++-	if [ -d /usr/nec ]; then
++-		echo mips-nec-sysv"$UNAME_RELEASE"
+++	if test -d /usr/nec; then
+++		GUESS=mips-nec-sysv$UNAME_RELEASE
++ 	else
++-		echo mips-unknown-sysv"$UNAME_RELEASE"
+++		GUESS=mips-unknown-sysv$UNAME_RELEASE
++ 	fi
++-	exit ;;
+++	;;
++     BeBox:BeOS:*:*)	# BeOS running on hardware made by Be, PPC only.
++-	echo powerpc-be-beos
++-	exit ;;
+++	GUESS=powerpc-be-beos
+++	;;
++     BeMac:BeOS:*:*)	# BeOS running on Mac or Mac clone, PPC only.
++-	echo powerpc-apple-beos
++-	exit ;;
+++	GUESS=powerpc-apple-beos
+++	;;
++     BePC:BeOS:*:*)	# BeOS running on Intel PC compatible.
++-	echo i586-pc-beos
++-	exit ;;
+++	GUESS=i586-pc-beos
+++	;;
++     BePC:Haiku:*:*)	# Haiku running on Intel PC compatible.
++-	echo i586-pc-haiku
++-	exit ;;
++-    x86_64:Haiku:*:*)
++-	echo x86_64-unknown-haiku
++-	exit ;;
+++	GUESS=i586-pc-haiku
+++	;;
+++    ppc:Haiku:*:*)	# Haiku running on Apple PowerPC
+++	GUESS=powerpc-apple-haiku
+++	;;
+++    *:Haiku:*:*)	# Haiku modern gcc (not bound by BeOS compat)
+++	GUESS=$UNAME_MACHINE-unknown-haiku
+++	;;
++     SX-4:SUPER-UX:*:*)
++-	echo sx4-nec-superux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sx4-nec-superux$UNAME_RELEASE
+++	;;
++     SX-5:SUPER-UX:*:*)
++-	echo sx5-nec-superux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sx5-nec-superux$UNAME_RELEASE
+++	;;
++     SX-6:SUPER-UX:*:*)
++-	echo sx6-nec-superux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sx6-nec-superux$UNAME_RELEASE
+++	;;
++     SX-7:SUPER-UX:*:*)
++-	echo sx7-nec-superux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sx7-nec-superux$UNAME_RELEASE
+++	;;
++     SX-8:SUPER-UX:*:*)
++-	echo sx8-nec-superux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sx8-nec-superux$UNAME_RELEASE
+++	;;
++     SX-8R:SUPER-UX:*:*)
++-	echo sx8r-nec-superux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sx8r-nec-superux$UNAME_RELEASE
+++	;;
++     SX-ACE:SUPER-UX:*:*)
++-	echo sxace-nec-superux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sxace-nec-superux$UNAME_RELEASE
+++	;;
++     Power*:Rhapsody:*:*)
++-	echo powerpc-apple-rhapsody"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=powerpc-apple-rhapsody$UNAME_RELEASE
+++	;;
++     *:Rhapsody:*:*)
++-	echo "$UNAME_MACHINE"-apple-rhapsody"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-apple-rhapsody$UNAME_RELEASE
+++	;;
+++    arm64:Darwin:*:*)
+++	GUESS=aarch64-apple-darwin$UNAME_RELEASE
+++	;;
++     *:Darwin:*:*)
++-	UNAME_PROCESSOR=`uname -p` || UNAME_PROCESSOR=unknown
++-	eval "$set_cc_for_build"
++-	if test "$UNAME_PROCESSOR" = unknown ; then
++-	    UNAME_PROCESSOR=powerpc
+++	UNAME_PROCESSOR=`uname -p`
+++	case $UNAME_PROCESSOR in
+++	    unknown) UNAME_PROCESSOR=powerpc ;;
+++	esac
+++	if command -v xcode-select > /dev/null 2> /dev/null && \
+++		! xcode-select --print-path > /dev/null 2> /dev/null ; then
+++	    # Avoid executing cc if there is no toolchain installed as
+++	    # cc will be a stub that puts up a graphical alert
+++	    # prompting the user to install developer tools.
+++	    CC_FOR_BUILD=no_compiler_found
+++	else
+++	    set_cc_for_build
++ 	fi
++-	if test "`echo "$UNAME_RELEASE" | sed -e 's/\..*//'`" -le 10 ; then
++-	    if [ "$CC_FOR_BUILD" != no_compiler_found ]; then
++-		if (echo '#ifdef __LP64__'; echo IS_64BIT_ARCH; echo '#endif') | \
++-		       (CCOPTS="" $CC_FOR_BUILD -E - 2>/dev/null) | \
++-		       grep IS_64BIT_ARCH >/dev/null
++-		then
++-		    case $UNAME_PROCESSOR in
++-			i386) UNAME_PROCESSOR=x86_64 ;;
++-			powerpc) UNAME_PROCESSOR=powerpc64 ;;
++-		    esac
++-		fi
++-		# On 10.4-10.6 one might compile for PowerPC via gcc -arch ppc
++-		if (echo '#ifdef __POWERPC__'; echo IS_PPC; echo '#endif') | \
++-		       (CCOPTS="" $CC_FOR_BUILD -E - 2>/dev/null) | \
++-		       grep IS_PPC >/dev/null
++-		then
++-		    UNAME_PROCESSOR=powerpc
++-		fi
+++	if test "$CC_FOR_BUILD" != no_compiler_found; then
+++	    if (echo '#ifdef __LP64__'; echo IS_64BIT_ARCH; echo '#endif') | \
+++		   (CCOPTS="" $CC_FOR_BUILD -E - 2>/dev/null) | \
+++		   grep IS_64BIT_ARCH >/dev/null
+++	    then
+++		case $UNAME_PROCESSOR in
+++		    i386) UNAME_PROCESSOR=x86_64 ;;
+++		    powerpc) UNAME_PROCESSOR=powerpc64 ;;
+++		esac
+++	    fi
+++	    # On 10.4-10.6 one might compile for PowerPC via gcc -arch ppc
+++	    if (echo '#ifdef __POWERPC__'; echo IS_PPC; echo '#endif') | \
+++		   (CCOPTS="" $CC_FOR_BUILD -E - 2>/dev/null) | \
+++		   grep IS_PPC >/dev/null
+++	    then
+++		UNAME_PROCESSOR=powerpc
++ 	    fi
++ 	elif test "$UNAME_PROCESSOR" = i386 ; then
++-	    # Avoid executing cc on OS X 10.9, as it ships with a stub
++-	    # that puts up a graphical alert prompting to install
++-	    # developer tools.  Any system running Mac OS X 10.7 or
++-	    # later (Darwin 11 and later) is required to have a 64-bit
++-	    # processor. This is not true of the ARM version of Darwin
++-	    # that Apple uses in portable devices.
++-	    UNAME_PROCESSOR=x86_64
+++	    # uname -m returns i386 or x86_64
+++	    UNAME_PROCESSOR=$UNAME_MACHINE
++ 	fi
++-	echo "$UNAME_PROCESSOR"-apple-darwin"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_PROCESSOR-apple-darwin$UNAME_RELEASE
+++	;;
++     *:procnto*:*:* | *:QNX:[0123456789]*:*)
++ 	UNAME_PROCESSOR=`uname -p`
++ 	if test "$UNAME_PROCESSOR" = x86; then
++ 		UNAME_PROCESSOR=i386
++ 		UNAME_MACHINE=pc
++ 	fi
++-	echo "$UNAME_PROCESSOR"-"$UNAME_MACHINE"-nto-qnx"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_PROCESSOR-$UNAME_MACHINE-nto-qnx$UNAME_RELEASE
+++	;;
++     *:QNX:*:4*)
++-	echo i386-pc-qnx
++-	exit ;;
+++	GUESS=i386-pc-qnx
+++	;;
++     NEO-*:NONSTOP_KERNEL:*:*)
++-	echo neo-tandem-nsk"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=neo-tandem-nsk$UNAME_RELEASE
+++	;;
++     NSE-*:NONSTOP_KERNEL:*:*)
++-	echo nse-tandem-nsk"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=nse-tandem-nsk$UNAME_RELEASE
+++	;;
++     NSR-*:NONSTOP_KERNEL:*:*)
++-	echo nsr-tandem-nsk"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=nsr-tandem-nsk$UNAME_RELEASE
+++	;;
++     NSV-*:NONSTOP_KERNEL:*:*)
++-	echo nsv-tandem-nsk"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=nsv-tandem-nsk$UNAME_RELEASE
+++	;;
++     NSX-*:NONSTOP_KERNEL:*:*)
++-	echo nsx-tandem-nsk"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=nsx-tandem-nsk$UNAME_RELEASE
+++	;;
++     *:NonStop-UX:*:*)
++-	echo mips-compaq-nonstopux
++-	exit ;;
+++	GUESS=mips-compaq-nonstopux
+++	;;
++     BS2000:POSIX*:*:*)
++-	echo bs2000-siemens-sysv
++-	exit ;;
+++	GUESS=bs2000-siemens-sysv
+++	;;
++     DS/*:UNIX_System_V:*:*)
++-	echo "$UNAME_MACHINE"-"$UNAME_SYSTEM"-"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-$UNAME_SYSTEM-$UNAME_RELEASE
+++	;;
++     *:Plan9:*:*)
++ 	# "uname -m" is not consistent, so use $cputype instead. 386
++ 	# is converted to i386 for consistency with other x86
++ 	# operating systems.
++-	if test "$cputype" = 386; then
+++	if test "${cputype-}" = 386; then
++ 	    UNAME_MACHINE=i386
++-	else
++-	    UNAME_MACHINE="$cputype"
+++	elif test "x${cputype-}" != x; then
+++	    UNAME_MACHINE=$cputype
++ 	fi
++-	echo "$UNAME_MACHINE"-unknown-plan9
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-plan9
+++	;;
++     *:TOPS-10:*:*)
++-	echo pdp10-unknown-tops10
++-	exit ;;
+++	GUESS=pdp10-unknown-tops10
+++	;;
++     *:TENEX:*:*)
++-	echo pdp10-unknown-tenex
++-	exit ;;
+++	GUESS=pdp10-unknown-tenex
+++	;;
++     KS10:TOPS-20:*:* | KL10:TOPS-20:*:* | TYPE4:TOPS-20:*:*)
++-	echo pdp10-dec-tops20
++-	exit ;;
+++	GUESS=pdp10-dec-tops20
+++	;;
++     XKL-1:TOPS-20:*:* | TYPE5:TOPS-20:*:*)
++-	echo pdp10-xkl-tops20
++-	exit ;;
+++	GUESS=pdp10-xkl-tops20
+++	;;
++     *:TOPS-20:*:*)
++-	echo pdp10-unknown-tops20
++-	exit ;;
+++	GUESS=pdp10-unknown-tops20
+++	;;
++     *:ITS:*:*)
++-	echo pdp10-unknown-its
++-	exit ;;
+++	GUESS=pdp10-unknown-its
+++	;;
++     SEI:*:*:SEIUX)
++-	echo mips-sei-seiux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=mips-sei-seiux$UNAME_RELEASE
+++	;;
++     *:DragonFly:*:*)
++-	echo "$UNAME_MACHINE"-unknown-dragonfly"`echo "$UNAME_RELEASE"|sed -e 's/[-(].*//'`"
++-	exit ;;
+++	DRAGONFLY_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
+++	GUESS=$UNAME_MACHINE-unknown-dragonfly$DRAGONFLY_REL
+++	;;
++     *:*VMS:*:*)
++ 	UNAME_MACHINE=`(uname -p) 2>/dev/null`
++-	case "$UNAME_MACHINE" in
++-	    A*) echo alpha-dec-vms ; exit ;;
++-	    I*) echo ia64-dec-vms ; exit ;;
++-	    V*) echo vax-dec-vms ; exit ;;
+++	case $UNAME_MACHINE in
+++	    A*) GUESS=alpha-dec-vms ;;
+++	    I*) GUESS=ia64-dec-vms ;;
+++	    V*) GUESS=vax-dec-vms ;;
++ 	esac ;;
++     *:XENIX:*:SysV)
++-	echo i386-pc-xenix
++-	exit ;;
+++	GUESS=i386-pc-xenix
+++	;;
++     i*86:skyos:*:*)
++-	echo "$UNAME_MACHINE"-pc-skyos"`echo "$UNAME_RELEASE" | sed -e 's/ .*$//'`"
++-	exit ;;
+++	SKYOS_REL=`echo "$UNAME_RELEASE" | sed -e 's/ .*$//'`
+++	GUESS=$UNAME_MACHINE-pc-skyos$SKYOS_REL
+++	;;
++     i*86:rdos:*:*)
++-	echo "$UNAME_MACHINE"-pc-rdos
++-	exit ;;
++-    i*86:AROS:*:*)
++-	echo "$UNAME_MACHINE"-pc-aros
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-rdos
+++	;;
+++    i*86:Fiwix:*:*)
+++	GUESS=$UNAME_MACHINE-pc-fiwix
+++	;;
+++    *:AROS:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-aros
+++	;;
++     x86_64:VMkernel:*:*)
++-	echo "$UNAME_MACHINE"-unknown-esx
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-esx
+++	;;
++     amd64:Isilon\ OneFS:*:*)
++-	echo x86_64-unknown-onefs
++-	exit ;;
+++	GUESS=x86_64-unknown-onefs
+++	;;
+++    *:Unleashed:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-unleashed$UNAME_RELEASE
+++	;;
+++    *:Ironclad:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-ironclad
+++	;;
++ esac
++ 
+++# Do we have a guess based on uname results?
+++if test "x$GUESS" != x; then
+++    echo "$GUESS"
+++    exit
+++fi
+++
+++# No uname command or uname output not recognized.
+++set_cc_for_build
+++cat > "$dummy.c" <<EOF
+++#ifdef _SEQUENT_
+++#include <sys/types.h>
+++#include <sys/utsname.h>
+++#endif
+++#if defined(ultrix) || defined(_ultrix) || defined(__ultrix) || defined(__ultrix__)
+++#if defined (vax) || defined (__vax) || defined (__vax__) || defined(mips) || defined(__mips) || defined(__mips__) || defined(MIPS) || defined(__MIPS__)
+++#include <signal.h>
+++#if defined(_SIZE_T_) || defined(SIGLOST)
+++#include <sys/utsname.h>
+++#endif
+++#endif
+++#endif
+++int
+++main ()
+++{
+++#if defined (sony)
+++#if defined (MIPSEB)
+++  /* BFD wants "bsd" instead of "newsos".  Perhaps BFD should be changed,
+++     I don't know....  */
+++  printf ("mips-sony-bsd\n"); exit (0);
+++#else
+++#include <sys/param.h>
+++  printf ("m68k-sony-newsos%s\n",
+++#ifdef NEWSOS4
+++  "4"
+++#else
+++  ""
+++#endif
+++  ); exit (0);
+++#endif
+++#endif
+++
+++#if defined (NeXT)
+++#if !defined (__ARCHITECTURE__)
+++#define __ARCHITECTURE__ "m68k"
+++#endif
+++  int version;
+++  version=`(hostinfo | sed -n 's/.*NeXT Mach \([0-9]*\).*/\1/p') 2>/dev/null`;
+++  if (version < 4)
+++    printf ("%s-next-nextstep%d\n", __ARCHITECTURE__, version);
+++  else
+++    printf ("%s-next-openstep%d\n", __ARCHITECTURE__, version);
+++  exit (0);
+++#endif
+++
+++#if defined (MULTIMAX) || defined (n16)
+++#if defined (UMAXV)
+++  printf ("ns32k-encore-sysv\n"); exit (0);
+++#else
+++#if defined (CMU)
+++  printf ("ns32k-encore-mach\n"); exit (0);
+++#else
+++  printf ("ns32k-encore-bsd\n"); exit (0);
+++#endif
+++#endif
+++#endif
+++
+++#if defined (__386BSD__)
+++  printf ("i386-pc-bsd\n"); exit (0);
+++#endif
+++
+++#if defined (sequent)
+++#if defined (i386)
+++  printf ("i386-sequent-dynix\n"); exit (0);
+++#endif
+++#if defined (ns32000)
+++  printf ("ns32k-sequent-dynix\n"); exit (0);
+++#endif
+++#endif
+++
+++#if defined (_SEQUENT_)
+++  struct utsname un;
+++
+++  uname(&un);
+++  if (strncmp(un.version, "V2", 2) == 0) {
+++    printf ("i386-sequent-ptx2\n"); exit (0);
+++  }
+++  if (strncmp(un.version, "V1", 2) == 0) { /* XXX is V1 correct? */
+++    printf ("i386-sequent-ptx1\n"); exit (0);
+++  }
+++  printf ("i386-sequent-ptx\n"); exit (0);
+++#endif
+++
+++#if defined (vax)
+++#if !defined (ultrix)
+++#include <sys/param.h>
+++#if defined (BSD)
+++#if BSD == 43
+++  printf ("vax-dec-bsd4.3\n"); exit (0);
+++#else
+++#if BSD == 199006
+++  printf ("vax-dec-bsd4.3reno\n"); exit (0);
+++#else
+++  printf ("vax-dec-bsd\n"); exit (0);
+++#endif
+++#endif
+++#else
+++  printf ("vax-dec-bsd\n"); exit (0);
+++#endif
+++#else
+++#if defined(_SIZE_T_) || defined(SIGLOST)
+++  struct utsname un;
+++  uname (&un);
+++  printf ("vax-dec-ultrix%s\n", un.release); exit (0);
+++#else
+++  printf ("vax-dec-ultrix\n"); exit (0);
+++#endif
+++#endif
+++#endif
+++#if defined(ultrix) || defined(_ultrix) || defined(__ultrix) || defined(__ultrix__)
+++#if defined(mips) || defined(__mips) || defined(__mips__) || defined(MIPS) || defined(__MIPS__)
+++#if defined(_SIZE_T_) || defined(SIGLOST)
+++  struct utsname *un;
+++  uname (&un);
+++  printf ("mips-dec-ultrix%s\n", un.release); exit (0);
+++#else
+++  printf ("mips-dec-ultrix\n"); exit (0);
+++#endif
+++#endif
+++#endif
+++
+++#if defined (alliant) && defined (i860)
+++  printf ("i860-alliant-bsd\n"); exit (0);
+++#endif
+++
+++  exit (1);
+++}
+++EOF
+++
+++$CC_FOR_BUILD -o "$dummy" "$dummy.c" 2>/dev/null && SYSTEM_NAME=`"$dummy"` &&
+++	{ echo "$SYSTEM_NAME"; exit; }
+++
+++# Apollos put the system type in the environment.
+++test -d /usr/apollo && { echo "$ISP-apollo-$SYSTYPE"; exit; }
+++
++ echo "$0: unable to guess system type" >&2
++ 
++-case "$UNAME_MACHINE:$UNAME_SYSTEM" in
+++case $UNAME_MACHINE:$UNAME_SYSTEM in
++     mips:Linux | mips64:Linux)
++ 	# If we got here on MIPS GNU/Linux, output extra information.
++ 	cat >&2 <<EOF
++@@ -1435,9 +1765,17 @@ This script (version $timestamp), has failed to recognize the
++ operating system you are using. If your script is old, overwrite *all*
++ copies of config.guess and config.sub with the latest versions from:
++ 
++-  https://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.guess
+++  https://git.savannah.gnu.org/cgit/config.git/plain/config.guess
++ and
++-  https://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.sub
+++  https://git.savannah.gnu.org/cgit/config.git/plain/config.sub
+++EOF
+++
+++our_year=`echo $timestamp | sed 's,-.*,,'`
+++thisyear=`date +%Y`
+++# shellcheck disable=SC2003
+++script_age=`expr "$thisyear" - "$our_year"`
+++if test "$script_age" -lt 3 ; then
+++   cat >&2 <<EOF
++ 
++ If $0 has already been updated, send the following data and any
++ information you think might be pertinent to config-patches@gnu.org to
++@@ -1465,6 +1803,7 @@ UNAME_RELEASE = "$UNAME_RELEASE"
++ UNAME_SYSTEM  = "$UNAME_SYSTEM"
++ UNAME_VERSION = "$UNAME_VERSION"
++ EOF
+++fi
++ 
++ exit 1
++ 
++diff --git a/config.sub b/config.sub
++index 20f7cf2..4aaae46 100755
++--- a/config.sub
+++++ b/config.sub
++@@ -1,12 +1,14 @@
++ #! /bin/sh
++ # Configuration validation subroutine script.
++-#   Copyright 1992-2018 Free Software Foundation, Inc.
+++#   Copyright 1992-2024 Free Software Foundation, Inc.
++ 
++-timestamp='2018-05-05'
+++# shellcheck disable=SC2006,SC2268,SC2162 # see below for rationale
+++
+++timestamp='2024-05-27'
++ 
++ # This file is free software; you can redistribute it and/or modify it
++ # under the terms of the GNU General Public License as published by
++-# the Free Software Foundation; either version 3 of the License, or
+++# the Free Software Foundation, either version 3 of the License, or
++ # (at your option) any later version.
++ #
++ # This program is distributed in the hope that it will be useful, but
++@@ -33,7 +35,7 @@ timestamp='2018-05-05'
++ # Otherwise, we print the canonical config type on stdout and succeed.
++ 
++ # You can get the latest version of this script from:
++-# https://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.sub
+++# https://git.savannah.gnu.org/cgit/config.git/plain/config.sub
++ 
++ # This file is supposed to be the same for all GNU packages
++ # and recognize all the CPU types, system types and aliases
++@@ -50,6 +52,13 @@ timestamp='2018-05-05'
++ #	CPU_TYPE-MANUFACTURER-KERNEL-OPERATING_SYSTEM
++ # It is wrong to echo any other type of specification.
++ 
+++# The "shellcheck disable" line above the timestamp inhibits complaints
+++# about features and limitations of the classic Bourne shell that were
+++# superseded or lifted in POSIX.  However, this script identifies a wide
+++# variety of pre-POSIX systems that do not have POSIX shells at all, and
+++# even some reasonably current systems (Solaris 10 as case-in-point) still
+++# have a pre-POSIX /bin/sh.
+++
++ me=`echo "$0" | sed -e 's,.*/,,'`
++ 
++ usage="\
++@@ -67,13 +76,13 @@ Report bugs and patches to <config-patches@gnu.org>."
++ version="\
++ GNU config.sub ($timestamp)
++ 
++-Copyright 1992-2018 Free Software Foundation, Inc.
+++Copyright 1992-2024 Free Software Foundation, Inc.
++ 
++ This is free software; see the source for copying conditions.  There is NO
++ warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."
++ 
++ help="
++-Try \`$me --help' for more information."
+++Try '$me --help' for more information."
++ 
++ # Parse command line
++ while test $# -gt 0 ; do
++@@ -89,7 +98,7 @@ while test $# -gt 0 ; do
++     - )	# Use stdin as input.
++        break ;;
++     -* )
++-       echo "$me: invalid option $1$help"
+++       echo "$me: invalid option $1$help" >&2
++        exit 1 ;;
++ 
++     *local*)
++@@ -110,1249 +119,1371 @@ case $# in
++     exit 1;;
++ esac
++ 
++-# Spilt fields of configuration type
++-IFS="-" read -r field1 field2 field3 field4 <<EOF
+++# Split fields of configuration type
+++saved_IFS=$IFS
+++IFS="-" read field1 field2 field3 field4 <<EOF
++ $1
++ EOF
+++IFS=$saved_IFS
++ 
++ # Separate into logical components for further validation
++ case $1 in
+++	*-*-*-*-*)
+++		echo "Invalid configuration '$1': more than four components" >&2
+++		exit 1
+++		;;
++ 	*-*-*-*)
++ 		basic_machine=$field1-$field2
++-		os=-$field3-$field4
+++		basic_os=$field3-$field4
++ 		;;
++ 	*-*-*)
++ 		# Ambiguous whether COMPANY is present, or skipped and KERNEL-OS is two
++ 		# parts
++ 		maybe_os=$field2-$field3
++ 		case $maybe_os in
++-			nto-qnx* | linux-gnu* | linux-android* | linux-dietlibc \
++-			| linux-newlib* | linux-musl* | linux-uclibc* | uclinux-uclibc* \
++-			| uclinux-gnu* | kfreebsd*-gnu* | knetbsd*-gnu* | netbsd*-gnu* \
++-			| netbsd*-eabi* | kopensolaris*-gnu* | cloudabi*-eabi* \
++-			| storm-chaos* | os2-emx* | rtmk-nova*)
+++			  cloudabi*-eabi* \
+++			| kfreebsd*-gnu* \
+++			| knetbsd*-gnu* \
+++			| kopensolaris*-gnu* \
+++			| linux-* \
+++			| managarm-* \
+++			| netbsd*-eabi* \
+++			| netbsd*-gnu* \
+++			| nto-qnx* \
+++			| os2-emx* \
+++			| rtmk-nova* \
+++			| storm-chaos* \
+++			| uclinux-gnu* \
+++			| uclinux-uclibc* \
+++			| windows-* )
++ 				basic_machine=$field1
++-				os=-$maybe_os
+++				basic_os=$maybe_os
++ 				;;
++ 			android-linux)
++ 				basic_machine=$field1-unknown
++-				os=-linux-android
+++				basic_os=linux-android
++ 				;;
++ 			*)
++ 				basic_machine=$field1-$field2
++-				os=-$field3
+++				basic_os=$field3
++ 				;;
++ 		esac
++ 		;;
++ 	*-*)
++-		basic_machine=$field1
++-		os=-$field2
+++		case $field1-$field2 in
+++			# Shorthands that happen to contain a single dash
+++			convex-c[12] | convex-c3[248])
+++				basic_machine=$field2-convex
+++				basic_os=
+++				;;
+++			decstation-3100)
+++				basic_machine=mips-dec
+++				basic_os=
+++				;;
+++			*-*)
+++				# Second component is usually, but not always the OS
+++				case $field2 in
+++					# Do not treat sunos as a manufacturer
+++					sun*os*)
+++						basic_machine=$field1
+++						basic_os=$field2
+++						;;
+++					# Manufacturers
+++					  3100* \
+++					| 32* \
+++					| 3300* \
+++					| 3600* \
+++					| 7300* \
+++					| acorn \
+++					| altos* \
+++					| apollo \
+++					| apple \
+++					| atari \
+++					| att* \
+++					| axis \
+++					| be \
+++					| bull \
+++					| cbm \
+++					| ccur \
+++					| cisco \
+++					| commodore \
+++					| convergent* \
+++					| convex* \
+++					| cray \
+++					| crds \
+++					| dec* \
+++					| delta* \
+++					| dg \
+++					| digital \
+++					| dolphin \
+++					| encore* \
+++					| gould \
+++					| harris \
+++					| highlevel \
+++					| hitachi* \
+++					| hp \
+++					| ibm* \
+++					| intergraph \
+++					| isi* \
+++					| knuth \
+++					| masscomp \
+++					| microblaze* \
+++					| mips* \
+++					| motorola* \
+++					| ncr* \
+++					| news \
+++					| next \
+++					| ns \
+++					| oki \
+++					| omron* \
+++					| pc533* \
+++					| rebel \
+++					| rom68k \
+++					| rombug \
+++					| semi \
+++					| sequent* \
+++					| siemens \
+++					| sgi* \
+++					| siemens \
+++					| sim \
+++					| sni \
+++					| sony* \
+++					| stratus \
+++					| sun \
+++					| sun[234]* \
+++					| tektronix \
+++					| tti* \
+++					| ultra \
+++					| unicom* \
+++					| wec \
+++					| winbond \
+++					| wrs)
+++						basic_machine=$field1-$field2
+++						basic_os=
+++						;;
+++					zephyr*)
+++						basic_machine=$field1-unknown
+++						basic_os=$field2
+++						;;
+++					*)
+++						basic_machine=$field1
+++						basic_os=$field2
+++						;;
+++				esac
+++			;;
+++		esac
++ 		;;
++ 	*)
++-		basic_machine=$1
++-		os=
++-		;;
++-esac
++-
++-### Let's recognize common machines as not being operating systems so
++-### that things like config.sub decstation-3100 work.  We also
++-### recognize some manufacturers as not being operating systems, so we
++-### can provide default operating systems below.
++-case $os in
++-	-sun*os*)
++-		# Prevent following clause from handling this invalid input.
++-		;;
++-	-dec* | -mips* | -sequent* | -encore* | -pc532* | -sgi* | -sony* | \
++-	-att* | -7300* | -3300* | -delta* | -motorola* | -sun[234]* | \
++-	-unicom* | -ibm* | -next | -hp | -isi* | -apollo | -altos* | \
++-	-convergent* | -ncr* | -news | -32* | -3600* | -3100* | -hitachi* |\
++-	-c[123]* | -convex* | -sun | -crds | -omron* | -dg | -ultra | -tti* | \
++-	-harris | -dolphin | -highlevel | -gould | -cbm | -ns | -masscomp | \
++-	-apple | -axis | -knuth | -cray | -microblaze*)
++-		os=
++-		basic_machine=$1
++-		;;
++-	-bluegene*)
++-		os=-cnk
++-		;;
++-	-sim | -cisco | -oki | -wec | -winbond)
++-		os=
++-		basic_machine=$1
++-		;;
++-	-scout)
++-		;;
++-	-wrs)
++-		os=-vxworks
++-		basic_machine=$1
++-		;;
++-	-chorusos*)
++-		os=-chorusos
++-		basic_machine=$1
++-		;;
++-	-chorusrdb)
++-		os=-chorusrdb
++-		basic_machine=$1
++-		;;
++-	-hiux*)
++-		os=-hiuxwe2
++-		;;
++-	-sco6)
++-		os=-sco5v6
++-		basic_machine=`echo "$1" | sed -e 's/86-.*/86-pc/'`
++-		;;
++-	-sco5)
++-		os=-sco3.2v5
++-		basic_machine=`echo "$1" | sed -e 's/86-.*/86-pc/'`
++-		;;
++-	-sco4)
++-		os=-sco3.2v4
++-		basic_machine=`echo "$1" | sed -e 's/86-.*/86-pc/'`
++-		;;
++-	-sco3.2.[4-9]*)
++-		os=`echo $os | sed -e 's/sco3.2./sco3.2v/'`
++-		basic_machine=`echo "$1" | sed -e 's/86-.*/86-pc/'`
++-		;;
++-	-sco3.2v[4-9]*)
++-		# Don't forget version if it is 3.2v4 or newer.
++-		basic_machine=`echo "$1" | sed -e 's/86-.*/86-pc/'`
++-		;;
++-	-sco5v6*)
++-		# Don't forget version if it is 3.2v4 or newer.
++-		basic_machine=`echo "$1" | sed -e 's/86-.*/86-pc/'`
++-		;;
++-	-sco*)
++-		os=-sco3.2v2
++-		basic_machine=`echo "$1" | sed -e 's/86-.*/86-pc/'`
++-		;;
++-	-udk*)
++-		basic_machine=`echo "$1" | sed -e 's/86-.*/86-pc/'`
++-		;;
++-	-isc)
++-		os=-isc2.2
++-		basic_machine=`echo "$1" | sed -e 's/86-.*/86-pc/'`
++-		;;
++-	-clix*)
++-		basic_machine=clipper-intergraph
++-		;;
++-	-isc*)
++-		basic_machine=`echo "$1" | sed -e 's/86-.*/86-pc/'`
++-		;;
++-	-lynx*178)
++-		os=-lynxos178
++-		;;
++-	-lynx*5)
++-		os=-lynxos5
++-		;;
++-	-lynx*)
++-		os=-lynxos
++-		;;
++-	-ptx*)
++-		basic_machine=`echo "$1" | sed -e 's/86-.*/86-sequent/'`
++-		;;
++-	-psos*)
++-		os=-psos
++-		;;
++-	-mint | -mint[0-9]*)
++-		basic_machine=m68k-atari
++-		os=-mint
+++		# Convert single-component short-hands not valid as part of
+++		# multi-component configurations.
+++		case $field1 in
+++			386bsd)
+++				basic_machine=i386-pc
+++				basic_os=bsd
+++				;;
+++			a29khif)
+++				basic_machine=a29k-amd
+++				basic_os=udi
+++				;;
+++			adobe68k)
+++				basic_machine=m68010-adobe
+++				basic_os=scout
+++				;;
+++			alliant)
+++				basic_machine=fx80-alliant
+++				basic_os=
+++				;;
+++			altos | altos3068)
+++				basic_machine=m68k-altos
+++				basic_os=
+++				;;
+++			am29k)
+++				basic_machine=a29k-none
+++				basic_os=bsd
+++				;;
+++			amdahl)
+++				basic_machine=580-amdahl
+++				basic_os=sysv
+++				;;
+++			amiga)
+++				basic_machine=m68k-unknown
+++				basic_os=
+++				;;
+++			amigaos | amigados)
+++				basic_machine=m68k-unknown
+++				basic_os=amigaos
+++				;;
+++			amigaunix | amix)
+++				basic_machine=m68k-unknown
+++				basic_os=sysv4
+++				;;
+++			apollo68)
+++				basic_machine=m68k-apollo
+++				basic_os=sysv
+++				;;
+++			apollo68bsd)
+++				basic_machine=m68k-apollo
+++				basic_os=bsd
+++				;;
+++			aros)
+++				basic_machine=i386-pc
+++				basic_os=aros
+++				;;
+++			aux)
+++				basic_machine=m68k-apple
+++				basic_os=aux
+++				;;
+++			balance)
+++				basic_machine=ns32k-sequent
+++				basic_os=dynix
+++				;;
+++			blackfin)
+++				basic_machine=bfin-unknown
+++				basic_os=linux
+++				;;
+++			cegcc)
+++				basic_machine=arm-unknown
+++				basic_os=cegcc
+++				;;
+++			cray)
+++				basic_machine=j90-cray
+++				basic_os=unicos
+++				;;
+++			crds | unos)
+++				basic_machine=m68k-crds
+++				basic_os=
+++				;;
+++			da30)
+++				basic_machine=m68k-da30
+++				basic_os=
+++				;;
+++			decstation | pmax | pmin | dec3100 | decstatn)
+++				basic_machine=mips-dec
+++				basic_os=
+++				;;
+++			delta88)
+++				basic_machine=m88k-motorola
+++				basic_os=sysv3
+++				;;
+++			dicos)
+++				basic_machine=i686-pc
+++				basic_os=dicos
+++				;;
+++			djgpp)
+++				basic_machine=i586-pc
+++				basic_os=msdosdjgpp
+++				;;
+++			ebmon29k)
+++				basic_machine=a29k-amd
+++				basic_os=ebmon
+++				;;
+++			es1800 | OSE68k | ose68k | ose | OSE)
+++				basic_machine=m68k-ericsson
+++				basic_os=ose
+++				;;
+++			gmicro)
+++				basic_machine=tron-gmicro
+++				basic_os=sysv
+++				;;
+++			go32)
+++				basic_machine=i386-pc
+++				basic_os=go32
+++				;;
+++			h8300hms)
+++				basic_machine=h8300-hitachi
+++				basic_os=hms
+++				;;
+++			h8300xray)
+++				basic_machine=h8300-hitachi
+++				basic_os=xray
+++				;;
+++			h8500hms)
+++				basic_machine=h8500-hitachi
+++				basic_os=hms
+++				;;
+++			harris)
+++				basic_machine=m88k-harris
+++				basic_os=sysv3
+++				;;
+++			hp300 | hp300hpux)
+++				basic_machine=m68k-hp
+++				basic_os=hpux
+++				;;
+++			hp300bsd)
+++				basic_machine=m68k-hp
+++				basic_os=bsd
+++				;;
+++			hppaosf)
+++				basic_machine=hppa1.1-hp
+++				basic_os=osf
+++				;;
+++			hppro)
+++				basic_machine=hppa1.1-hp
+++				basic_os=proelf
+++				;;
+++			i386mach)
+++				basic_machine=i386-mach
+++				basic_os=mach
+++				;;
+++			isi68 | isi)
+++				basic_machine=m68k-isi
+++				basic_os=sysv
+++				;;
+++			m68knommu)
+++				basic_machine=m68k-unknown
+++				basic_os=linux
+++				;;
+++			magnum | m3230)
+++				basic_machine=mips-mips
+++				basic_os=sysv
+++				;;
+++			merlin)
+++				basic_machine=ns32k-utek
+++				basic_os=sysv
+++				;;
+++			mingw64)
+++				basic_machine=x86_64-pc
+++				basic_os=mingw64
+++				;;
+++			mingw32)
+++				basic_machine=i686-pc
+++				basic_os=mingw32
+++				;;
+++			mingw32ce)
+++				basic_machine=arm-unknown
+++				basic_os=mingw32ce
+++				;;
+++			monitor)
+++				basic_machine=m68k-rom68k
+++				basic_os=coff
+++				;;
+++			morphos)
+++				basic_machine=powerpc-unknown
+++				basic_os=morphos
+++				;;
+++			moxiebox)
+++				basic_machine=moxie-unknown
+++				basic_os=moxiebox
+++				;;
+++			msdos)
+++				basic_machine=i386-pc
+++				basic_os=msdos
+++				;;
+++			msys)
+++				basic_machine=i686-pc
+++				basic_os=msys
+++				;;
+++			mvs)
+++				basic_machine=i370-ibm
+++				basic_os=mvs
+++				;;
+++			nacl)
+++				basic_machine=le32-unknown
+++				basic_os=nacl
+++				;;
+++			ncr3000)
+++				basic_machine=i486-ncr
+++				basic_os=sysv4
+++				;;
+++			netbsd386)
+++				basic_machine=i386-pc
+++				basic_os=netbsd
+++				;;
+++			netwinder)
+++				basic_machine=armv4l-rebel
+++				basic_os=linux
+++				;;
+++			news | news700 | news800 | news900)
+++				basic_machine=m68k-sony
+++				basic_os=newsos
+++				;;
+++			news1000)
+++				basic_machine=m68030-sony
+++				basic_os=newsos
+++				;;
+++			necv70)
+++				basic_machine=v70-nec
+++				basic_os=sysv
+++				;;
+++			nh3000)
+++				basic_machine=m68k-harris
+++				basic_os=cxux
+++				;;
+++			nh[45]000)
+++				basic_machine=m88k-harris
+++				basic_os=cxux
+++				;;
+++			nindy960)
+++				basic_machine=i960-intel
+++				basic_os=nindy
+++				;;
+++			mon960)
+++				basic_machine=i960-intel
+++				basic_os=mon960
+++				;;
+++			nonstopux)
+++				basic_machine=mips-compaq
+++				basic_os=nonstopux
+++				;;
+++			os400)
+++				basic_machine=powerpc-ibm
+++				basic_os=os400
+++				;;
+++			OSE68000 | ose68000)
+++				basic_machine=m68000-ericsson
+++				basic_os=ose
+++				;;
+++			os68k)
+++				basic_machine=m68k-none
+++				basic_os=os68k
+++				;;
+++			paragon)
+++				basic_machine=i860-intel
+++				basic_os=osf
+++				;;
+++			parisc)
+++				basic_machine=hppa-unknown
+++				basic_os=linux
+++				;;
+++			psp)
+++				basic_machine=mipsallegrexel-sony
+++				basic_os=psp
+++				;;
+++			pw32)
+++				basic_machine=i586-unknown
+++				basic_os=pw32
+++				;;
+++			rdos | rdos64)
+++				basic_machine=x86_64-pc
+++				basic_os=rdos
+++				;;
+++			rdos32)
+++				basic_machine=i386-pc
+++				basic_os=rdos
+++				;;
+++			rom68k)
+++				basic_machine=m68k-rom68k
+++				basic_os=coff
+++				;;
+++			sa29200)
+++				basic_machine=a29k-amd
+++				basic_os=udi
+++				;;
+++			sei)
+++				basic_machine=mips-sei
+++				basic_os=seiux
+++				;;
+++			sequent)
+++				basic_machine=i386-sequent
+++				basic_os=
+++				;;
+++			sps7)
+++				basic_machine=m68k-bull
+++				basic_os=sysv2
+++				;;
+++			st2000)
+++				basic_machine=m68k-tandem
+++				basic_os=
+++				;;
+++			stratus)
+++				basic_machine=i860-stratus
+++				basic_os=sysv4
+++				;;
+++			sun2)
+++				basic_machine=m68000-sun
+++				basic_os=
+++				;;
+++			sun2os3)
+++				basic_machine=m68000-sun
+++				basic_os=sunos3
+++				;;
+++			sun2os4)
+++				basic_machine=m68000-sun
+++				basic_os=sunos4
+++				;;
+++			sun3)
+++				basic_machine=m68k-sun
+++				basic_os=
+++				;;
+++			sun3os3)
+++				basic_machine=m68k-sun
+++				basic_os=sunos3
+++				;;
+++			sun3os4)
+++				basic_machine=m68k-sun
+++				basic_os=sunos4
+++				;;
+++			sun4)
+++				basic_machine=sparc-sun
+++				basic_os=
+++				;;
+++			sun4os3)
+++				basic_machine=sparc-sun
+++				basic_os=sunos3
+++				;;
+++			sun4os4)
+++				basic_machine=sparc-sun
+++				basic_os=sunos4
+++				;;
+++			sun4sol2)
+++				basic_machine=sparc-sun
+++				basic_os=solaris2
+++				;;
+++			sun386 | sun386i | roadrunner)
+++				basic_machine=i386-sun
+++				basic_os=
+++				;;
+++			sv1)
+++				basic_machine=sv1-cray
+++				basic_os=unicos
+++				;;
+++			symmetry)
+++				basic_machine=i386-sequent
+++				basic_os=dynix
+++				;;
+++			t3e)
+++				basic_machine=alphaev5-cray
+++				basic_os=unicos
+++				;;
+++			t90)
+++				basic_machine=t90-cray
+++				basic_os=unicos
+++				;;
+++			toad1)
+++				basic_machine=pdp10-xkl
+++				basic_os=tops20
+++				;;
+++			tpf)
+++				basic_machine=s390x-ibm
+++				basic_os=tpf
+++				;;
+++			udi29k)
+++				basic_machine=a29k-amd
+++				basic_os=udi
+++				;;
+++			ultra3)
+++				basic_machine=a29k-nyu
+++				basic_os=sym1
+++				;;
+++			v810 | necv810)
+++				basic_machine=v810-nec
+++				basic_os=none
+++				;;
+++			vaxv)
+++				basic_machine=vax-dec
+++				basic_os=sysv
+++				;;
+++			vms)
+++				basic_machine=vax-dec
+++				basic_os=vms
+++				;;
+++			vsta)
+++				basic_machine=i386-pc
+++				basic_os=vsta
+++				;;
+++			vxworks960)
+++				basic_machine=i960-wrs
+++				basic_os=vxworks
+++				;;
+++			vxworks68)
+++				basic_machine=m68k-wrs
+++				basic_os=vxworks
+++				;;
+++			vxworks29k)
+++				basic_machine=a29k-wrs
+++				basic_os=vxworks
+++				;;
+++			xbox)
+++				basic_machine=i686-pc
+++				basic_os=mingw32
+++				;;
+++			ymp)
+++				basic_machine=ymp-cray
+++				basic_os=unicos
+++				;;
+++			*)
+++				basic_machine=$1
+++				basic_os=
+++				;;
+++		esac
++ 		;;
++ esac
++ 
++-# Decode aliases for certain CPU-COMPANY combinations.
+++# Decode 1-component or ad-hoc basic machines
++ case $basic_machine in
++-	# Recognize the basic CPU types without company name.
++-	# Some are omitted here because they have special meanings below.
++-	1750a | 580 \
++-	| a29k \
++-	| aarch64 | aarch64_be \
++-	| alpha | alphaev[4-8] | alphaev56 | alphaev6[78] | alphapca5[67] \
++-	| alpha64 | alpha64ev[4-8] | alpha64ev56 | alpha64ev6[78] | alpha64pca5[67] \
++-	| am33_2.0 \
++-	| arc | arceb \
++-	| arm | arm[bl]e | arme[lb] | armv[2-8] | armv[3-8][lb] | armv6m | armv[78][arm] \
++-	| avr | avr32 \
++-	| ba \
++-	| be32 | be64 \
++-	| bfin \
++-	| c4x | c8051 | clipper | csky \
++-	| d10v | d30v | dlx | dsp16xx \
++-	| e2k | epiphany \
++-	| fido | fr30 | frv | ft32 \
++-	| h8300 | h8500 | hppa | hppa1.[01] | hppa2.0 | hppa2.0[nw] | hppa64 \
++-	| hexagon \
++-	| i370 | i860 | i960 | ia16 | ia64 \
++-	| ip2k | iq2000 \
++-	| k1om \
++-	| le32 | le64 \
++-	| lm32 \
++-	| m32c | m32r | m32rle | m68000 | m68k | m88k \
++-	| maxq | mb | microblaze | microblazeel | mcore | mep | metag \
++-	| mips | mipsbe | mipseb | mipsel | mipsle \
++-	| mips16 \
++-	| mips64 | mips64el \
++-	| mips64octeon | mips64octeonel \
++-	| mips64orion | mips64orionel \
++-	| mips64r5900 | mips64r5900el \
++-	| mips64vr | mips64vrel \
++-	| mips64vr4100 | mips64vr4100el \
++-	| mips64vr4300 | mips64vr4300el \
++-	| mips64vr5000 | mips64vr5000el \
++-	| mips64vr5900 | mips64vr5900el \
++-	| mipsisa32 | mipsisa32el \
++-	| mipsisa32r2 | mipsisa32r2el \
++-	| mipsisa32r6 | mipsisa32r6el \
++-	| mipsisa64 | mipsisa64el \
++-	| mipsisa64r2 | mipsisa64r2el \
++-	| mipsisa64r6 | mipsisa64r6el \
++-	| mipsisa64sb1 | mipsisa64sb1el \
++-	| mipsisa64sr71k | mipsisa64sr71kel \
++-	| mipsr5900 | mipsr5900el \
++-	| mipstx39 | mipstx39el \
++-	| mn10200 | mn10300 \
++-	| moxie \
++-	| mt \
++-	| msp430 \
++-	| nds32 | nds32le | nds32be \
++-	| nfp \
++-	| nios | nios2 | nios2eb | nios2el \
++-	| ns16k | ns32k \
++-	| open8 | or1k | or1knd | or32 \
++-	| pdp10 | pj | pjl \
++-	| powerpc | powerpc64 | powerpc64le | powerpcle \
++-	| pru \
++-	| pyramid \
++-	| riscv32 | riscv64 \
++-	| rl78 | rx \
++-	| score \
++-	| sh | sh[1234] | sh[24]a | sh[24]aeb | sh[23]e | sh[234]eb | sheb | shbe | shle | sh[1234]le | sh3ele \
++-	| sh64 | sh64le \
++-	| sparc | sparc64 | sparc64b | sparc64v | sparc86x | sparclet | sparclite \
++-	| sparcv8 | sparcv9 | sparcv9b | sparcv9v \
++-	| spu \
++-	| tahoe | tic4x | tic54x | tic55x | tic6x | tic80 | tron \
++-	| ubicom32 \
++-	| v850 | v850e | v850e1 | v850e2 | v850es | v850e2v3 \
++-	| visium \
++-	| wasm32 \
++-	| x86 | xc16x | xstormy16 | xtensa \
++-	| z8k | z80)
++-		basic_machine=$basic_machine-unknown
++-		;;
++-	c54x)
++-		basic_machine=tic54x-unknown
++-		;;
++-	c55x)
++-		basic_machine=tic55x-unknown
++-		;;
++-	c6x)
++-		basic_machine=tic6x-unknown
++-		;;
++-	leon|leon[3-9])
++-		basic_machine=sparc-$basic_machine
++-		;;
++-	m6811 | m68hc11 | m6812 | m68hc12 | m68hcs12x | nvptx | picochip)
++-		basic_machine=$basic_machine-unknown
++-		os=-none
++-		;;
++-	m88110 | m680[12346]0 | m683?2 | m68360 | m5200 | v70 | w65)
+++	# Here we handle the default manufacturer of certain CPU types.  It is in
+++	# some cases the only manufacturer, in others, it is the most popular.
+++	w89k)
+++		cpu=hppa1.1
+++		vendor=winbond
++ 		;;
++-	m9s12z | m68hcs12z | hcs12z | s12z)
++-		basic_machine=s12z-unknown
++-		os=-none
+++	op50n)
+++		cpu=hppa1.1
+++		vendor=oki
++ 		;;
++-	ms1)
++-		basic_machine=mt-unknown
+++	op60c)
+++		cpu=hppa1.1
+++		vendor=oki
++ 		;;
++-
++-	strongarm | thumb | xscale)
++-		basic_machine=arm-unknown
+++	ibm*)
+++		cpu=i370
+++		vendor=ibm
++ 		;;
++-	xgate)
++-		basic_machine=$basic_machine-unknown
++-		os=-none
+++	orion105)
+++		cpu=clipper
+++		vendor=highlevel
++ 		;;
++-	xscaleeb)
++-		basic_machine=armeb-unknown
+++	mac | mpw | mac-mpw)
+++		cpu=m68k
+++		vendor=apple
++ 		;;
++-
++-	xscaleel)
++-		basic_machine=armel-unknown
+++	pmac | pmac-mpw)
+++		cpu=powerpc
+++		vendor=apple
++ 		;;
++ 
++-	# We use `pc' rather than `unknown'
++-	# because (1) that's what they normally are, and
++-	# (2) the word "unknown" tends to confuse beginning users.
++-	i*86 | x86_64)
++-	  basic_machine=$basic_machine-pc
++-	  ;;
++-	# Object if more than one company name word.
++-	*-*-*)
++-		echo Invalid configuration \`"$1"\': machine \`"$basic_machine"\' not recognized 1>&2
++-		exit 1
++-		;;
++-	# Recognize the basic CPU types with company name.
++-	580-* \
++-	| a29k-* \
++-	| aarch64-* | aarch64_be-* \
++-	| alpha-* | alphaev[4-8]-* | alphaev56-* | alphaev6[78]-* \
++-	| alpha64-* | alpha64ev[4-8]-* | alpha64ev56-* | alpha64ev6[78]-* \
++-	| alphapca5[67]-* | alpha64pca5[67]-* | arc-* | arceb-* \
++-	| arm-*  | armbe-* | armle-* | armeb-* | armv*-* \
++-	| avr-* | avr32-* \
++-	| ba-* \
++-	| be32-* | be64-* \
++-	| bfin-* | bs2000-* \
++-	| c[123]* | c30-* | [cjt]90-* | c4x-* \
++-	| c8051-* | clipper-* | craynv-* | csky-* | cydra-* \
++-	| d10v-* | d30v-* | dlx-* \
++-	| e2k-* | elxsi-* \
++-	| f30[01]-* | f700-* | fido-* | fr30-* | frv-* | fx80-* \
++-	| h8300-* | h8500-* \
++-	| hppa-* | hppa1.[01]-* | hppa2.0-* | hppa2.0[nw]-* | hppa64-* \
++-	| hexagon-* \
++-	| i*86-* | i860-* | i960-* | ia16-* | ia64-* \
++-	| ip2k-* | iq2000-* \
++-	| k1om-* \
++-	| le32-* | le64-* \
++-	| lm32-* \
++-	| m32c-* | m32r-* | m32rle-* \
++-	| m68000-* | m680[012346]0-* | m68360-* | m683?2-* | m68k-* \
++-	| m88110-* | m88k-* | maxq-* | mcore-* | metag-* \
++-	| microblaze-* | microblazeel-* \
++-	| mips-* | mipsbe-* | mipseb-* | mipsel-* | mipsle-* \
++-	| mips16-* \
++-	| mips64-* | mips64el-* \
++-	| mips64octeon-* | mips64octeonel-* \
++-	| mips64orion-* | mips64orionel-* \
++-	| mips64r5900-* | mips64r5900el-* \
++-	| mips64vr-* | mips64vrel-* \
++-	| mips64vr4100-* | mips64vr4100el-* \
++-	| mips64vr4300-* | mips64vr4300el-* \
++-	| mips64vr5000-* | mips64vr5000el-* \
++-	| mips64vr5900-* | mips64vr5900el-* \
++-	| mipsisa32-* | mipsisa32el-* \
++-	| mipsisa32r2-* | mipsisa32r2el-* \
++-	| mipsisa32r6-* | mipsisa32r6el-* \
++-	| mipsisa64-* | mipsisa64el-* \
++-	| mipsisa64r2-* | mipsisa64r2el-* \
++-	| mipsisa64r6-* | mipsisa64r6el-* \
++-	| mipsisa64sb1-* | mipsisa64sb1el-* \
++-	| mipsisa64sr71k-* | mipsisa64sr71kel-* \
++-	| mipsr5900-* | mipsr5900el-* \
++-	| mipstx39-* | mipstx39el-* \
++-	| mmix-* \
++-	| mt-* \
++-	| msp430-* \
++-	| nds32-* | nds32le-* | nds32be-* \
++-	| nfp-* \
++-	| nios-* | nios2-* | nios2eb-* | nios2el-* \
++-	| none-* | np1-* | ns16k-* | ns32k-* \
++-	| open8-* \
++-	| or1k*-* \
++-	| orion-* \
++-	| pdp10-* | pdp11-* | pj-* | pjl-* | pn-* | power-* \
++-	| powerpc-* | powerpc64-* | powerpc64le-* | powerpcle-* \
++-	| pru-* \
++-	| pyramid-* \
++-	| riscv32-* | riscv64-* \
++-	| rl78-* | romp-* | rs6000-* | rx-* \
++-	| sh-* | sh[1234]-* | sh[24]a-* | sh[24]aeb-* | sh[23]e-* | sh[34]eb-* | sheb-* | shbe-* \
++-	| shle-* | sh[1234]le-* | sh3ele-* | sh64-* | sh64le-* \
++-	| sparc-* | sparc64-* | sparc64b-* | sparc64v-* | sparc86x-* | sparclet-* \
++-	| sparclite-* \
++-	| sparcv8-* | sparcv9-* | sparcv9b-* | sparcv9v-* | sv1-* | sx*-* \
++-	| tahoe-* \
++-	| tic30-* | tic4x-* | tic54x-* | tic55x-* | tic6x-* | tic80-* \
++-	| tile*-* \
++-	| tron-* \
++-	| ubicom32-* \
++-	| v850-* | v850e-* | v850e1-* | v850es-* | v850e2-* | v850e2v3-* \
++-	| vax-* \
++-	| visium-* \
++-	| wasm32-* \
++-	| we32k-* \
++-	| x86-* | x86_64-* | xc16x-* | xps100-* \
++-	| xstormy16-* | xtensa*-* \
++-	| ymp-* \
++-	| z8k-* | z80-*)
++-		;;
++-	# Recognize the basic CPU types without company name, with glob match.
++-	xtensa*)
++-		basic_machine=$basic_machine-unknown
++-		;;
++ 	# Recognize the various machine names and aliases which stand
++ 	# for a CPU type and a company and sometimes even an OS.
++-	386bsd)
++-		basic_machine=i386-pc
++-		os=-bsd
++-		;;
++ 	3b1 | 7300 | 7300-att | att-7300 | pc7300 | safari | unixpc)
++-		basic_machine=m68000-att
+++		cpu=m68000
+++		vendor=att
++ 		;;
++ 	3b*)
++-		basic_machine=we32k-att
++-		;;
++-	a29khif)
++-		basic_machine=a29k-amd
++-		os=-udi
++-		;;
++-	abacus)
++-		basic_machine=abacus-unknown
++-		;;
++-	adobe68k)
++-		basic_machine=m68010-adobe
++-		os=-scout
++-		;;
++-	alliant | fx80)
++-		basic_machine=fx80-alliant
++-		;;
++-	altos | altos3068)
++-		basic_machine=m68k-altos
++-		;;
++-	am29k)
++-		basic_machine=a29k-none
++-		os=-bsd
++-		;;
++-	amd64)
++-		basic_machine=x86_64-pc
++-		;;
++-	amd64-*)
++-		basic_machine=x86_64-`echo "$basic_machine" | sed 's/^[^-]*-//'`
++-		;;
++-	amdahl)
++-		basic_machine=580-amdahl
++-		os=-sysv
++-		;;
++-	amiga | amiga-*)
++-		basic_machine=m68k-unknown
++-		;;
++-	amigaos | amigados)
++-		basic_machine=m68k-unknown
++-		os=-amigaos
++-		;;
++-	amigaunix | amix)
++-		basic_machine=m68k-unknown
++-		os=-sysv4
++-		;;
++-	apollo68)
++-		basic_machine=m68k-apollo
++-		os=-sysv
++-		;;
++-	apollo68bsd)
++-		basic_machine=m68k-apollo
++-		os=-bsd
++-		;;
++-	aros)
++-		basic_machine=i386-pc
++-		os=-aros
++-		;;
++-	asmjs)
++-		basic_machine=asmjs-unknown
++-		;;
++-	aux)
++-		basic_machine=m68k-apple
++-		os=-aux
++-		;;
++-	balance)
++-		basic_machine=ns32k-sequent
++-		os=-dynix
++-		;;
++-	blackfin)
++-		basic_machine=bfin-unknown
++-		os=-linux
++-		;;
++-	blackfin-*)
++-		basic_machine=bfin-`echo "$basic_machine" | sed 's/^[^-]*-//'`
++-		os=-linux
+++		cpu=we32k
+++		vendor=att
++ 		;;
++ 	bluegene*)
++-		basic_machine=powerpc-ibm
++-		os=-cnk
++-		;;
++-	c54x-*)
++-		basic_machine=tic54x-`echo "$basic_machine" | sed 's/^[^-]*-//'`
++-		;;
++-	c55x-*)
++-		basic_machine=tic55x-`echo "$basic_machine" | sed 's/^[^-]*-//'`
++-		;;
++-	c6x-*)
++-		basic_machine=tic6x-`echo "$basic_machine" | sed 's/^[^-]*-//'`
++-		;;
++-	c90)
++-		basic_machine=c90-cray
++-		os=-unicos
++-		;;
++-	cegcc)
++-		basic_machine=arm-unknown
++-		os=-cegcc
++-		;;
++-	convex-c1)
++-		basic_machine=c1-convex
++-		os=-bsd
++-		;;
++-	convex-c2)
++-		basic_machine=c2-convex
++-		os=-bsd
++-		;;
++-	convex-c32)
++-		basic_machine=c32-convex
++-		os=-bsd
++-		;;
++-	convex-c34)
++-		basic_machine=c34-convex
++-		os=-bsd
++-		;;
++-	convex-c38)
++-		basic_machine=c38-convex
++-		os=-bsd
++-		;;
++-	cray | j90)
++-		basic_machine=j90-cray
++-		os=-unicos
++-		;;
++-	craynv)
++-		basic_machine=craynv-cray
++-		os=-unicosmp
++-		;;
++-	cr16 | cr16-*)
++-		basic_machine=cr16-unknown
++-		os=-elf
++-		;;
++-	crds | unos)
++-		basic_machine=m68k-crds
++-		;;
++-	crisv32 | crisv32-* | etraxfs*)
++-		basic_machine=crisv32-axis
++-		;;
++-	cris | cris-* | etrax*)
++-		basic_machine=cris-axis
++-		;;
++-	crx)
++-		basic_machine=crx-unknown
++-		os=-elf
++-		;;
++-	da30 | da30-*)
++-		basic_machine=m68k-da30
++-		;;
++-	decstation | decstation-3100 | pmax | pmax-* | pmin | dec3100 | decstatn)
++-		basic_machine=mips-dec
+++		cpu=powerpc
+++		vendor=ibm
+++		basic_os=cnk
++ 		;;
++ 	decsystem10* | dec10*)
++-		basic_machine=pdp10-dec
++-		os=-tops10
+++		cpu=pdp10
+++		vendor=dec
+++		basic_os=tops10
++ 		;;
++ 	decsystem20* | dec20*)
++-		basic_machine=pdp10-dec
++-		os=-tops20
++-		;;
++-	delta | 3300 | motorola-3300 | motorola-delta \
++-	      | 3300-motorola | delta-motorola)
++-		basic_machine=m68k-motorola
++-		;;
++-	delta88)
++-		basic_machine=m88k-motorola
++-		os=-sysv3
++-		;;
++-	dicos)
++-		basic_machine=i686-pc
++-		os=-dicos
++-		;;
++-	djgpp)
++-		basic_machine=i586-pc
++-		os=-msdosdjgpp
++-		;;
++-	dpx20 | dpx20-*)
++-		basic_machine=rs6000-bull
++-		os=-bosx
++-		;;
++-	dpx2*)
++-		basic_machine=m68k-bull
++-		os=-sysv3
++-		;;
++-	e500v[12])
++-		basic_machine=powerpc-unknown
++-		os=$os"spe"
++-		;;
++-	e500v[12]-*)
++-		basic_machine=powerpc-`echo "$basic_machine" | sed 's/^[^-]*-//'`
++-		os=$os"spe"
++-		;;
++-	ebmon29k)
++-		basic_machine=a29k-amd
++-		os=-ebmon
++-		;;
++-	elxsi)
++-		basic_machine=elxsi-elxsi
++-		os=-bsd
+++		cpu=pdp10
+++		vendor=dec
+++		basic_os=tops20
+++		;;
+++	delta | 3300 | delta-motorola | 3300-motorola | motorola-delta | motorola-3300)
+++		cpu=m68k
+++		vendor=motorola
+++		;;
+++	# This used to be dpx2*, but that gets the RS6000-based
+++	# DPX/20 and the x86-based DPX/2-100 wrong.  See
+++	# https://oldskool.silicium.org/stations/bull_dpx20.htm
+++	# https://www.feb-patrimoine.com/english/bull_dpx2.htm
+++	# https://www.feb-patrimoine.com/english/unix_and_bull.htm
+++	dpx2 | dpx2[23]00 | dpx2[23]xx)
+++		cpu=m68k
+++		vendor=bull
+++		;;
+++	dpx2100 | dpx21xx)
+++		cpu=i386
+++		vendor=bull
+++		;;
+++	dpx20)
+++		cpu=rs6000
+++		vendor=bull
++ 		;;
++ 	encore | umax | mmax)
++-		basic_machine=ns32k-encore
+++		cpu=ns32k
+++		vendor=encore
++ 		;;
++-	es1800 | OSE68k | ose68k | ose | OSE)
++-		basic_machine=m68k-ericsson
++-		os=-ose
+++	elxsi)
+++		cpu=elxsi
+++		vendor=elxsi
+++		basic_os=${basic_os:-bsd}
++ 		;;
++ 	fx2800)
++-		basic_machine=i860-alliant
+++		cpu=i860
+++		vendor=alliant
++ 		;;
++ 	genix)
++-		basic_machine=ns32k-ns
++-		;;
++-	gmicro)
++-		basic_machine=tron-gmicro
++-		os=-sysv
++-		;;
++-	go32)
++-		basic_machine=i386-pc
++-		os=-go32
++-		;;
++-	h3050r* | hiux*)
++-		basic_machine=hppa1.1-hitachi
++-		os=-hiuxwe2
++-		;;
++-	h8300hms)
++-		basic_machine=h8300-hitachi
++-		os=-hms
++-		;;
++-	h8300xray)
++-		basic_machine=h8300-hitachi
++-		os=-xray
++-		;;
++-	h8500hms)
++-		basic_machine=h8500-hitachi
++-		os=-hms
++-		;;
++-	harris)
++-		basic_machine=m88k-harris
++-		os=-sysv3
++-		;;
++-	hp300-*)
++-		basic_machine=m68k-hp
++-		;;
++-	hp300bsd)
++-		basic_machine=m68k-hp
++-		os=-bsd
++-		;;
++-	hp300hpux)
++-		basic_machine=m68k-hp
++-		os=-hpux
++-		;;
++-	hp3k9[0-9][0-9] | hp9[0-9][0-9])
++-		basic_machine=hppa1.0-hp
++-		;;
++-	hp9k2[0-9][0-9] | hp9k31[0-9])
++-		basic_machine=m68000-hp
++-		;;
++-	hp9k3[2-9][0-9])
++-		basic_machine=m68k-hp
++-		;;
++-	hp9k6[0-9][0-9] | hp6[0-9][0-9])
++-		basic_machine=hppa1.0-hp
++-		;;
++-	hp9k7[0-79][0-9] | hp7[0-79][0-9])
++-		basic_machine=hppa1.1-hp
++-		;;
++-	hp9k78[0-9] | hp78[0-9])
++-		# FIXME: really hppa2.0-hp
++-		basic_machine=hppa1.1-hp
++-		;;
++-	hp9k8[67]1 | hp8[67]1 | hp9k80[24] | hp80[24] | hp9k8[78]9 | hp8[78]9 | hp9k893 | hp893)
++-		# FIXME: really hppa2.0-hp
++-		basic_machine=hppa1.1-hp
++-		;;
++-	hp9k8[0-9][13679] | hp8[0-9][13679])
++-		basic_machine=hppa1.1-hp
++-		;;
++-	hp9k8[0-9][0-9] | hp8[0-9][0-9])
++-		basic_machine=hppa1.0-hp
++-		;;
++-	hppaosf)
++-		basic_machine=hppa1.1-hp
++-		os=-osf
++-		;;
++-	hppro)
++-		basic_machine=hppa1.1-hp
++-		os=-proelf
++-		;;
++-	i370-ibm* | ibm*)
++-		basic_machine=i370-ibm
++-		;;
++-	i*86v32)
++-		basic_machine=`echo "$1" | sed -e 's/86.*/86-pc/'`
++-		os=-sysv32
++-		;;
++-	i*86v4*)
++-		basic_machine=`echo "$1" | sed -e 's/86.*/86-pc/'`
++-		os=-sysv4
++-		;;
++-	i*86v)
++-		basic_machine=`echo "$1" | sed -e 's/86.*/86-pc/'`
++-		os=-sysv
++-		;;
++-	i*86sol2)
++-		basic_machine=`echo "$1" | sed -e 's/86.*/86-pc/'`
++-		os=-solaris2
++-		;;
++-	i386mach)
++-		basic_machine=i386-mach
++-		os=-mach
++-		;;
++-	vsta)
++-		basic_machine=i386-unknown
++-		os=-vsta
++-		;;
++-	iris | iris4d)
++-		basic_machine=mips-sgi
++-		case $os in
++-		    -irix*)
++-			;;
++-		    *)
++-			os=-irix4
++-			;;
++-		esac
++-		;;
++-	isi68 | isi)
++-		basic_machine=m68k-isi
++-		os=-sysv
++-		;;
++-	leon-*|leon[3-9]-*)
++-		basic_machine=sparc-`echo "$basic_machine" | sed 's/-.*//'`
++-		;;
++-	m68knommu)
++-		basic_machine=m68k-unknown
++-		os=-linux
++-		;;
++-	m68knommu-*)
++-		basic_machine=m68k-`echo "$basic_machine" | sed 's/^[^-]*-//'`
++-		os=-linux
++-		;;
++-	magnum | m3230)
++-		basic_machine=mips-mips
++-		os=-sysv
++-		;;
++-	merlin)
++-		basic_machine=ns32k-utek
++-		os=-sysv
++-		;;
++-	microblaze*)
++-		basic_machine=microblaze-xilinx
++-		;;
++-	mingw64)
++-		basic_machine=x86_64-pc
++-		os=-mingw64
++-		;;
++-	mingw32)
++-		basic_machine=i686-pc
++-		os=-mingw32
++-		;;
++-	mingw32ce)
++-		basic_machine=arm-unknown
++-		os=-mingw32ce
++-		;;
++-	miniframe)
++-		basic_machine=m68000-convergent
++-		;;
++-	*mint | -mint[0-9]* | *MiNT | *MiNT[0-9]*)
++-		basic_machine=m68k-atari
++-		os=-mint
++-		;;
++-	mips3*-*)
++-		basic_machine=`echo "$basic_machine" | sed -e 's/mips3/mips64/'`
++-		;;
++-	mips3*)
++-		basic_machine=`echo "$basic_machine" | sed -e 's/mips3/mips64/'`-unknown
++-		;;
++-	monitor)
++-		basic_machine=m68k-rom68k
++-		os=-coff
++-		;;
++-	morphos)
++-		basic_machine=powerpc-unknown
++-		os=-morphos
++-		;;
++-	moxiebox)
++-		basic_machine=moxie-unknown
++-		os=-moxiebox
++-		;;
++-	msdos)
++-		basic_machine=i386-pc
++-		os=-msdos
++-		;;
++-	ms1-*)
++-		basic_machine=`echo "$basic_machine" | sed -e 's/ms1-/mt-/'`
++-		;;
++-	msys)
++-		basic_machine=i686-pc
++-		os=-msys
++-		;;
++-	mvs)
++-		basic_machine=i370-ibm
++-		os=-mvs
++-		;;
++-	nacl)
++-		basic_machine=le32-unknown
++-		os=-nacl
++-		;;
++-	ncr3000)
++-		basic_machine=i486-ncr
++-		os=-sysv4
++-		;;
++-	netbsd386)
++-		basic_machine=i386-unknown
++-		os=-netbsd
++-		;;
++-	netwinder)
++-		basic_machine=armv4l-rebel
++-		os=-linux
++-		;;
++-	news | news700 | news800 | news900)
++-		basic_machine=m68k-sony
++-		os=-newsos
++-		;;
++-	news1000)
++-		basic_machine=m68030-sony
++-		os=-newsos
++-		;;
++-	news-3600 | risc-news)
++-		basic_machine=mips-sony
++-		os=-newsos
++-		;;
++-	necv70)
++-		basic_machine=v70-nec
++-		os=-sysv
++-		;;
++-	next | m*-next)
++-		basic_machine=m68k-next
++-		case $os in
++-		    -nextstep* )
++-			;;
++-		    -ns2*)
++-		      os=-nextstep2
++-			;;
++-		    *)
++-		      os=-nextstep3
++-			;;
++-		esac
++-		;;
++-	nh3000)
++-		basic_machine=m68k-harris
++-		os=-cxux
++-		;;
++-	nh[45]000)
++-		basic_machine=m88k-harris
++-		os=-cxux
++-		;;
++-	nindy960)
++-		basic_machine=i960-intel
++-		os=-nindy
++-		;;
++-	mon960)
++-		basic_machine=i960-intel
++-		os=-mon960
++-		;;
++-	nonstopux)
++-		basic_machine=mips-compaq
++-		os=-nonstopux
++-		;;
++-	np1)
++-		basic_machine=np1-gould
++-		;;
++-	neo-tandem)
++-		basic_machine=neo-tandem
++-		;;
++-	nse-tandem)
++-		basic_machine=nse-tandem
++-		;;
++-	nsr-tandem)
++-		basic_machine=nsr-tandem
++-		;;
++-	nsv-tandem)
++-		basic_machine=nsv-tandem
++-		;;
++-	nsx-tandem)
++-		basic_machine=nsx-tandem
+++		cpu=ns32k
+++		vendor=ns
++ 		;;
++-	op50n-* | op60c-*)
++-		basic_machine=hppa1.1-oki
++-		os=-proelf
+++	h3050r* | hiux*)
+++		cpu=hppa1.1
+++		vendor=hitachi
+++		basic_os=hiuxwe2
++ 		;;
++-	openrisc | openrisc-*)
++-		basic_machine=or32-unknown
+++	hp3k9[0-9][0-9] | hp9[0-9][0-9])
+++		cpu=hppa1.0
+++		vendor=hp
++ 		;;
++-	os400)
++-		basic_machine=powerpc-ibm
++-		os=-os400
+++	hp9k2[0-9][0-9] | hp9k31[0-9])
+++		cpu=m68000
+++		vendor=hp
++ 		;;
++-	OSE68000 | ose68000)
++-		basic_machine=m68000-ericsson
++-		os=-ose
+++	hp9k3[2-9][0-9])
+++		cpu=m68k
+++		vendor=hp
++ 		;;
++-	os68k)
++-		basic_machine=m68k-none
++-		os=-os68k
+++	hp9k6[0-9][0-9] | hp6[0-9][0-9])
+++		cpu=hppa1.0
+++		vendor=hp
++ 		;;
++-	pa-hitachi)
++-		basic_machine=hppa1.1-hitachi
++-		os=-hiuxwe2
+++	hp9k7[0-79][0-9] | hp7[0-79][0-9])
+++		cpu=hppa1.1
+++		vendor=hp
++ 		;;
++-	paragon)
++-		basic_machine=i860-intel
++-		os=-osf
+++	hp9k78[0-9] | hp78[0-9])
+++		# FIXME: really hppa2.0-hp
+++		cpu=hppa1.1
+++		vendor=hp
++ 		;;
++-	parisc)
++-		basic_machine=hppa-unknown
++-		os=-linux
+++	hp9k8[67]1 | hp8[67]1 | hp9k80[24] | hp80[24] | hp9k8[78]9 | hp8[78]9 | hp9k893 | hp893)
+++		# FIXME: really hppa2.0-hp
+++		cpu=hppa1.1
+++		vendor=hp
++ 		;;
++-	parisc-*)
++-		basic_machine=hppa-`echo "$basic_machine" | sed 's/^[^-]*-//'`
++-		os=-linux
+++	hp9k8[0-9][13679] | hp8[0-9][13679])
+++		cpu=hppa1.1
+++		vendor=hp
++ 		;;
++-	pbd)
++-		basic_machine=sparc-tti
+++	hp9k8[0-9][0-9] | hp8[0-9][0-9])
+++		cpu=hppa1.0
+++		vendor=hp
++ 		;;
++-	pbb)
++-		basic_machine=m68k-tti
+++	i*86v32)
+++		cpu=`echo "$1" | sed -e 's/86.*/86/'`
+++		vendor=pc
+++		basic_os=sysv32
++ 		;;
++-	pc532 | pc532-*)
++-		basic_machine=ns32k-pc532
+++	i*86v4*)
+++		cpu=`echo "$1" | sed -e 's/86.*/86/'`
+++		vendor=pc
+++		basic_os=sysv4
++ 		;;
++-	pc98)
++-		basic_machine=i386-pc
+++	i*86v)
+++		cpu=`echo "$1" | sed -e 's/86.*/86/'`
+++		vendor=pc
+++		basic_os=sysv
++ 		;;
++-	pc98-*)
++-		basic_machine=i386-`echo "$basic_machine" | sed 's/^[^-]*-//'`
+++	i*86sol2)
+++		cpu=`echo "$1" | sed -e 's/86.*/86/'`
+++		vendor=pc
+++		basic_os=solaris2
++ 		;;
++-	pentium | p5 | k5 | k6 | nexgen | viac3)
++-		basic_machine=i586-pc
+++	j90 | j90-cray)
+++		cpu=j90
+++		vendor=cray
+++		basic_os=${basic_os:-unicos}
++ 		;;
++-	pentiumpro | p6 | 6x86 | athlon | athlon_*)
++-		basic_machine=i686-pc
+++	iris | iris4d)
+++		cpu=mips
+++		vendor=sgi
+++		case $basic_os in
+++		    irix*)
+++			;;
+++		    *)
+++			basic_os=irix4
+++			;;
+++		esac
++ 		;;
++-	pentiumii | pentium2 | pentiumiii | pentium3)
++-		basic_machine=i686-pc
+++	miniframe)
+++		cpu=m68000
+++		vendor=convergent
++ 		;;
++-	pentium4)
++-		basic_machine=i786-pc
+++	*mint | mint[0-9]* | *MiNT | *MiNT[0-9]*)
+++		cpu=m68k
+++		vendor=atari
+++		basic_os=mint
++ 		;;
++-	pentium-* | p5-* | k5-* | k6-* | nexgen-* | viac3-*)
++-		basic_machine=i586-`echo "$basic_machine" | sed 's/^[^-]*-//'`
+++	news-3600 | risc-news)
+++		cpu=mips
+++		vendor=sony
+++		basic_os=newsos
++ 		;;
++-	pentiumpro-* | p6-* | 6x86-* | athlon-*)
++-		basic_machine=i686-`echo "$basic_machine" | sed 's/^[^-]*-//'`
+++	next | m*-next)
+++		cpu=m68k
+++		vendor=next
++ 		;;
++-	pentiumii-* | pentium2-* | pentiumiii-* | pentium3-*)
++-		basic_machine=i686-`echo "$basic_machine" | sed 's/^[^-]*-//'`
+++	np1)
+++		cpu=np1
+++		vendor=gould
++ 		;;
++-	pentium4-*)
++-		basic_machine=i786-`echo "$basic_machine" | sed 's/^[^-]*-//'`
+++	op50n-* | op60c-*)
+++		cpu=hppa1.1
+++		vendor=oki
+++		basic_os=proelf
++ 		;;
++-	pn)
++-		basic_machine=pn-gould
+++	pa-hitachi)
+++		cpu=hppa1.1
+++		vendor=hitachi
+++		basic_os=hiuxwe2
++ 		;;
++-	power)	basic_machine=power-ibm
+++	pbd)
+++		cpu=sparc
+++		vendor=tti
++ 		;;
++-	ppc | ppcbe)	basic_machine=powerpc-unknown
+++	pbb)
+++		cpu=m68k
+++		vendor=tti
++ 		;;
++-	ppc-* | ppcbe-*)
++-		basic_machine=powerpc-`echo "$basic_machine" | sed 's/^[^-]*-//'`
+++	pc532)
+++		cpu=ns32k
+++		vendor=pc532
++ 		;;
++-	ppcle | powerpclittle)
++-		basic_machine=powerpcle-unknown
+++	pn)
+++		cpu=pn
+++		vendor=gould
++ 		;;
++-	ppcle-* | powerpclittle-*)
++-		basic_machine=powerpcle-`echo "$basic_machine" | sed 's/^[^-]*-//'`
+++	power)
+++		cpu=power
+++		vendor=ibm
++ 		;;
++-	ppc64)	basic_machine=powerpc64-unknown
+++	ps2)
+++		cpu=i386
+++		vendor=ibm
++ 		;;
++-	ppc64-*) basic_machine=powerpc64-`echo "$basic_machine" | sed 's/^[^-]*-//'`
+++	rm[46]00)
+++		cpu=mips
+++		vendor=siemens
++ 		;;
++-	ppc64le | powerpc64little)
++-		basic_machine=powerpc64le-unknown
+++	rtpc | rtpc-*)
+++		cpu=romp
+++		vendor=ibm
++ 		;;
++-	ppc64le-* | powerpc64little-*)
++-		basic_machine=powerpc64le-`echo "$basic_machine" | sed 's/^[^-]*-//'`
+++	sde)
+++		cpu=mipsisa32
+++		vendor=sde
+++		basic_os=${basic_os:-elf}
++ 		;;
++-	ps2)
++-		basic_machine=i386-ibm
+++	simso-wrs)
+++		cpu=sparclite
+++		vendor=wrs
+++		basic_os=vxworks
++ 		;;
++-	pw32)
++-		basic_machine=i586-unknown
++-		os=-pw32
+++	tower | tower-32)
+++		cpu=m68k
+++		vendor=ncr
++ 		;;
++-	rdos | rdos64)
++-		basic_machine=x86_64-pc
++-		os=-rdos
+++	vpp*|vx|vx-*)
+++		cpu=f301
+++		vendor=fujitsu
++ 		;;
++-	rdos32)
++-		basic_machine=i386-pc
++-		os=-rdos
+++	w65)
+++		cpu=w65
+++		vendor=wdc
++ 		;;
++-	rom68k)
++-		basic_machine=m68k-rom68k
++-		os=-coff
+++	w89k-*)
+++		cpu=hppa1.1
+++		vendor=winbond
+++		basic_os=proelf
++ 		;;
++-	rm[46]00)
++-		basic_machine=mips-siemens
+++	none)
+++		cpu=none
+++		vendor=none
++ 		;;
++-	rtpc | rtpc-*)
++-		basic_machine=romp-ibm
+++	leon|leon[3-9])
+++		cpu=sparc
+++		vendor=$basic_machine
++ 		;;
++-	s390 | s390-*)
++-		basic_machine=s390-ibm
+++	leon-*|leon[3-9]-*)
+++		cpu=sparc
+++		vendor=`echo "$basic_machine" | sed 's/-.*//'`
++ 		;;
++-	s390x | s390x-*)
++-		basic_machine=s390x-ibm
+++
+++	*-*)
+++		saved_IFS=$IFS
+++		IFS="-" read cpu vendor <<EOF
+++$basic_machine
+++EOF
+++		IFS=$saved_IFS
++ 		;;
++-	sa29200)
++-		basic_machine=a29k-amd
++-		os=-udi
+++	# We use 'pc' rather than 'unknown'
+++	# because (1) that's what they normally are, and
+++	# (2) the word "unknown" tends to confuse beginning users.
+++	i*86 | x86_64)
+++		cpu=$basic_machine
+++		vendor=pc
++ 		;;
++-	sb1)
++-		basic_machine=mipsisa64sb1-unknown
+++	# These rules are duplicated from below for sake of the special case above;
+++	# i.e. things that normalized to x86 arches should also default to "pc"
+++	pc98)
+++		cpu=i386
+++		vendor=pc
++ 		;;
++-	sb1el)
++-		basic_machine=mipsisa64sb1el-unknown
+++	x64 | amd64)
+++		cpu=x86_64
+++		vendor=pc
++ 		;;
++-	sde)
++-		basic_machine=mipsisa32-sde
++-		os=-elf
+++	# Recognize the basic CPU types without company name.
+++	*)
+++		cpu=$basic_machine
+++		vendor=unknown
++ 		;;
++-	sei)
++-		basic_machine=mips-sei
++-		os=-seiux
+++esac
+++
+++unset -v basic_machine
+++
+++# Decode basic machines in the full and proper CPU-Company form.
+++case $cpu-$vendor in
+++	# Here we handle the default manufacturer of certain CPU types in canonical form.
+++	# It is in some cases the only manufacturer, in others, it is the most popular.
+++	c[12]-convex | c[12]-unknown | c3[248]-convex | c3[248]-unknown)
+++		vendor=convex
+++		basic_os=${basic_os:-bsd}
++ 		;;
++-	sequent)
++-		basic_machine=i386-sequent
+++	craynv-unknown)
+++		vendor=cray
+++		basic_os=${basic_os:-unicosmp}
++ 		;;
++-	sh5el)
++-		basic_machine=sh5le-unknown
+++	c90-unknown | c90-cray)
+++		vendor=cray
+++		basic_os=${basic_os:-unicos}
++ 		;;
++-	simso-wrs)
++-		basic_machine=sparclite-wrs
++-		os=-vxworks
+++	fx80-unknown)
+++		vendor=alliant
++ 		;;
++-	sps7)
++-		basic_machine=m68k-bull
++-		os=-sysv2
+++	romp-unknown)
+++		vendor=ibm
++ 		;;
++-	spur)
++-		basic_machine=spur-unknown
+++	mmix-unknown)
+++		vendor=knuth
++ 		;;
++-	st2000)
++-		basic_machine=m68k-tandem
+++	microblaze-unknown | microblazeel-unknown)
+++		vendor=xilinx
++ 		;;
++-	stratus)
++-		basic_machine=i860-stratus
++-		os=-sysv4
+++	rs6000-unknown)
+++		vendor=ibm
++ 		;;
++-	strongarm-* | thumb-*)
++-		basic_machine=arm-`echo "$basic_machine" | sed 's/^[^-]*-//'`
+++	vax-unknown)
+++		vendor=dec
++ 		;;
++-	sun2)
++-		basic_machine=m68000-sun
+++	pdp11-unknown)
+++		vendor=dec
++ 		;;
++-	sun2os3)
++-		basic_machine=m68000-sun
++-		os=-sunos3
+++	we32k-unknown)
+++		vendor=att
++ 		;;
++-	sun2os4)
++-		basic_machine=m68000-sun
++-		os=-sunos4
+++	cydra-unknown)
+++		vendor=cydrome
++ 		;;
++-	sun3os3)
++-		basic_machine=m68k-sun
++-		os=-sunos3
+++	i370-ibm*)
+++		vendor=ibm
++ 		;;
++-	sun3os4)
++-		basic_machine=m68k-sun
++-		os=-sunos4
+++	orion-unknown)
+++		vendor=highlevel
++ 		;;
++-	sun4os3)
++-		basic_machine=sparc-sun
++-		os=-sunos3
+++	xps-unknown | xps100-unknown)
+++		cpu=xps100
+++		vendor=honeywell
++ 		;;
++-	sun4os4)
++-		basic_machine=sparc-sun
++-		os=-sunos4
+++
+++	# Here we normalize CPU types with a missing or matching vendor
+++	armh-unknown | armh-alt)
+++		cpu=armv7l
+++		vendor=alt
+++		basic_os=${basic_os:-linux-gnueabihf}
++ 		;;
++-	sun4sol2)
++-		basic_machine=sparc-sun
++-		os=-solaris2
+++
+++	# Normalized CPU+vendor pairs that imply an OS, if not otherwise specified
+++	m68k-isi)
+++		basic_os=${basic_os:-sysv}
++ 		;;
++-	sun3 | sun3-*)
++-		basic_machine=m68k-sun
+++	m68k-sony)
+++		basic_os=${basic_os:-newsos}
++ 		;;
++-	sun4)
++-		basic_machine=sparc-sun
+++	m68k-tektronix)
+++		basic_os=${basic_os:-bsd}
++ 		;;
++-	sun386 | sun386i | roadrunner)
++-		basic_machine=i386-sun
+++	m88k-harris)
+++		basic_os=${basic_os:-sysv3}
++ 		;;
++-	sv1)
++-		basic_machine=sv1-cray
++-		os=-unicos
+++	i386-bull | m68k-bull)
+++		basic_os=${basic_os:-sysv3}
++ 		;;
++-	symmetry)
++-		basic_machine=i386-sequent
++-		os=-dynix
+++	rs6000-bull)
+++		basic_os=${basic_os:-bosx}
++ 		;;
++-	t3e)
++-		basic_machine=alphaev5-cray
++-		os=-unicos
+++	mips-sni)
+++		basic_os=${basic_os:-sysv4}
++ 		;;
++-	t90)
++-		basic_machine=t90-cray
++-		os=-unicos
+++
+++	# Here we normalize CPU types irrespective of the vendor
+++	amd64-*)
+++		cpu=x86_64
++ 		;;
++-	tile*)
++-		basic_machine=$basic_machine-unknown
++-		os=-linux-gnu
+++	blackfin-*)
+++		cpu=bfin
+++		basic_os=${basic_os:-linux}
++ 		;;
++-	tx39)
++-		basic_machine=mipstx39-unknown
+++	c54x-*)
+++		cpu=tic54x
++ 		;;
++-	tx39el)
++-		basic_machine=mipstx39el-unknown
+++	c55x-*)
+++		cpu=tic55x
++ 		;;
++-	toad1)
++-		basic_machine=pdp10-xkl
++-		os=-tops20
+++	c6x-*)
+++		cpu=tic6x
++ 		;;
++-	tower | tower-32)
++-		basic_machine=m68k-ncr
+++	e500v[12]-*)
+++		cpu=powerpc
+++		basic_os=${basic_os}"spe"
++ 		;;
++-	tpf)
++-		basic_machine=s390x-ibm
++-		os=-tpf
+++	mips3*-*)
+++		cpu=mips64
++ 		;;
++-	udi29k)
++-		basic_machine=a29k-amd
++-		os=-udi
+++	ms1-*)
+++		cpu=mt
++ 		;;
++-	ultra3)
++-		basic_machine=a29k-nyu
++-		os=-sym1
+++	m68knommu-*)
+++		cpu=m68k
+++		basic_os=${basic_os:-linux}
++ 		;;
++-	v810 | necv810)
++-		basic_machine=v810-nec
++-		os=-none
+++	m9s12z-* | m68hcs12z-* | hcs12z-* | s12z-*)
+++		cpu=s12z
++ 		;;
++-	vaxv)
++-		basic_machine=vax-dec
++-		os=-sysv
+++	openrisc-*)
+++		cpu=or32
++ 		;;
++-	vms)
++-		basic_machine=vax-dec
++-		os=-vms
+++	parisc-*)
+++		cpu=hppa
+++		basic_os=${basic_os:-linux}
++ 		;;
++-	vpp*|vx|vx-*)
++-		basic_machine=f301-fujitsu
+++	pentium-* | p5-* | k5-* | k6-* | nexgen-* | viac3-*)
+++		cpu=i586
++ 		;;
++-	vxworks960)
++-		basic_machine=i960-wrs
++-		os=-vxworks
+++	pentiumpro-* | p6-* | 6x86-* | athlon-* | athlon_*-*)
+++		cpu=i686
++ 		;;
++-	vxworks68)
++-		basic_machine=m68k-wrs
++-		os=-vxworks
+++	pentiumii-* | pentium2-* | pentiumiii-* | pentium3-*)
+++		cpu=i686
++ 		;;
++-	vxworks29k)
++-		basic_machine=a29k-wrs
++-		os=-vxworks
+++	pentium4-*)
+++		cpu=i786
++ 		;;
++-	w65*)
++-		basic_machine=w65-wdc
++-		os=-none
+++	ppc-* | ppcbe-*)
+++		cpu=powerpc
++ 		;;
++-	w89k-*)
++-		basic_machine=hppa1.1-winbond
++-		os=-proelf
+++	ppcle-* | powerpclittle-*)
+++		cpu=powerpcle
++ 		;;
++-	x64)
++-		basic_machine=x86_64-pc
+++	ppc64-*)
+++		cpu=powerpc64
++ 		;;
++-	xbox)
++-		basic_machine=i686-pc
++-		os=-mingw32
+++	ppc64le-* | powerpc64little-*)
+++		cpu=powerpc64le
++ 		;;
++-	xps | xps100)
++-		basic_machine=xps100-honeywell
+++	sb1-*)
+++		cpu=mipsisa64sb1
++ 		;;
++-	xscale-* | xscalee[bl]-*)
++-		basic_machine=`echo "$basic_machine" | sed 's/^xscale/arm/'`
+++	sb1el-*)
+++		cpu=mipsisa64sb1el
++ 		;;
++-	ymp)
++-		basic_machine=ymp-cray
++-		os=-unicos
+++	sh5e[lb]-*)
+++		cpu=`echo "$cpu" | sed 's/^\(sh.\)e\(.\)$/\1\2e/'`
++ 		;;
++-	none)
++-		basic_machine=none-none
++-		os=-none
+++	spur-*)
+++		cpu=spur
++ 		;;
++-
++-# Here we handle the default manufacturer of certain CPU types.  It is in
++-# some cases the only manufacturer, in others, it is the most popular.
++-	w89k)
++-		basic_machine=hppa1.1-winbond
+++	strongarm-* | thumb-*)
+++		cpu=arm
++ 		;;
++-	op50n)
++-		basic_machine=hppa1.1-oki
+++	tx39-*)
+++		cpu=mipstx39
++ 		;;
++-	op60c)
++-		basic_machine=hppa1.1-oki
+++	tx39el-*)
+++		cpu=mipstx39el
++ 		;;
++-	romp)
++-		basic_machine=romp-ibm
+++	xscale-* | xscalee[bl]-*)
+++		cpu=`echo "$cpu" | sed 's/^xscale/arm/'`
++ 		;;
++-	mmix)
++-		basic_machine=mmix-knuth
+++	arm64-* | aarch64le-*)
+++		cpu=aarch64
++ 		;;
++-	rs6000)
++-		basic_machine=rs6000-ibm
+++
+++	# Recognize the canonical CPU Types that limit and/or modify the
+++	# company names they are paired with.
+++	cr16-*)
+++		basic_os=${basic_os:-elf}
++ 		;;
++-	vax)
++-		basic_machine=vax-dec
+++	crisv32-* | etraxfs*-*)
+++		cpu=crisv32
+++		vendor=axis
++ 		;;
++-	pdp11)
++-		basic_machine=pdp11-dec
+++	cris-* | etrax*-*)
+++		cpu=cris
+++		vendor=axis
++ 		;;
++-	we32k)
++-		basic_machine=we32k-att
+++	crx-*)
+++		basic_os=${basic_os:-elf}
++ 		;;
++-	sh[1234] | sh[24]a | sh[24]aeb | sh[34]eb | sh[1234]le | sh[23]ele)
++-		basic_machine=sh-unknown
+++	neo-tandem)
+++		cpu=neo
+++		vendor=tandem
++ 		;;
++-	cydra)
++-		basic_machine=cydra-cydrome
+++	nse-tandem)
+++		cpu=nse
+++		vendor=tandem
++ 		;;
++-	orion)
++-		basic_machine=orion-highlevel
+++	nsr-tandem)
+++		cpu=nsr
+++		vendor=tandem
++ 		;;
++-	orion105)
++-		basic_machine=clipper-highlevel
+++	nsv-tandem)
+++		cpu=nsv
+++		vendor=tandem
++ 		;;
++-	mac | mpw | mac-mpw)
++-		basic_machine=m68k-apple
+++	nsx-tandem)
+++		cpu=nsx
+++		vendor=tandem
++ 		;;
++-	pmac | pmac-mpw)
++-		basic_machine=powerpc-apple
+++	mipsallegrexel-sony)
+++		cpu=mipsallegrexel
+++		vendor=sony
++ 		;;
++-	*-unknown)
++-		# Make sure to match an already-canonicalized machine name.
+++	tile*-*)
+++		basic_os=${basic_os:-linux-gnu}
++ 		;;
+++
++ 	*)
++-		echo Invalid configuration \`"$1"\': machine \`"$basic_machine"\' not recognized 1>&2
++-		exit 1
+++		# Recognize the canonical CPU types that are allowed with any
+++		# company name.
+++		case $cpu in
+++			  1750a \
+++			| 580 \
+++			| [cjt]90 \
+++			| a29k \
+++			| aarch64 \
+++			| aarch64_be \
+++			| aarch64c \
+++			| abacus \
+++			| alpha \
+++			| alpha64 \
+++			| alpha64ev56 \
+++			| alpha64ev6[78] \
+++			| alpha64ev[4-8] \
+++			| alpha64pca5[67] \
+++			| alphaev56 \
+++			| alphaev6[78] \
+++			| alphaev[4-8] \
+++			| alphapca5[67] \
+++			| am33_2.0 \
+++			| amdgcn \
+++			| arc \
+++			| arc32 \
+++			| arc64 \
+++			| arceb \
+++			| arm \
+++			| arm64e \
+++			| arm64ec \
+++			| arm[lb]e \
+++			| arme[lb] \
+++			| armv* \
+++			| asmjs \
+++			| avr \
+++			| avr32 \
+++			| ba \
+++			| be32 \
+++			| be64 \
+++			| bfin \
+++			| bpf \
+++			| bs2000 \
+++			| c30 \
+++			| c4x \
+++			| c8051 \
+++			| c[123]* \
+++			| clipper \
+++			| craynv \
+++			| csky \
+++			| cydra \
+++			| d10v \
+++			| d30v \
+++			| dlx \
+++			| dsp16xx \
+++			| e2k \
+++			| elxsi \
+++			| epiphany \
+++			| f30[01] \
+++			| f700 \
+++			| fido \
+++			| fr30 \
+++			| frv \
+++			| ft32 \
+++			| fx80 \
+++			| h8300 \
+++			| h8500 \
+++			| hexagon \
+++			| hppa \
+++			| hppa1.[01] \
+++			| hppa2.0 \
+++			| hppa2.0[nw] \
+++			| hppa64 \
+++			| i*86 \
+++			| i370 \
+++			| i860 \
+++			| i960 \
+++			| ia16 \
+++			| ia64 \
+++			| ip2k \
+++			| iq2000 \
+++			| javascript \
+++			| k1om \
+++			| kvx \
+++			| le32 \
+++			| le64 \
+++			| lm32 \
+++			| loongarch32 \
+++			| loongarch64 \
+++			| m32c \
+++			| m32r \
+++			| m32rle \
+++			| m5200 \
+++			| m68000 \
+++			| m680[012346]0 \
+++			| m6811 \
+++			| m6812 \
+++			| m68360 \
+++			| m683?2 \
+++			| m68hc11 \
+++			| m68hc12 \
+++			| m68hcs12x \
+++			| m68k \
+++			| m88110 \
+++			| m88k \
+++			| maxq \
+++			| mb \
+++			| mcore \
+++			| mep \
+++			| metag \
+++			| microblaze \
+++			| microblazeel \
+++			| mips* \
+++			| mmix \
+++			| mn10200 \
+++			| mn10300 \
+++			| moxie \
+++			| msp430 \
+++			| mt \
+++			| nanomips* \
+++			| nds32 \
+++			| nds32be \
+++			| nds32le \
+++			| nfp \
+++			| nios \
+++			| nios2 \
+++			| nios2eb \
+++			| nios2el \
+++			| none \
+++			| np1 \
+++			| ns16k \
+++			| ns32k \
+++			| nvptx \
+++			| open8 \
+++			| or1k* \
+++			| or32 \
+++			| orion \
+++			| pdp10 \
+++			| pdp11 \
+++			| picochip \
+++			| pj \
+++			| pjl \
+++			| pn \
+++			| power \
+++			| powerpc \
+++			| powerpc64 \
+++			| powerpc64le \
+++			| powerpcle \
+++			| powerpcspe \
+++			| pru \
+++			| pyramid \
+++			| riscv \
+++			| riscv32 \
+++			| riscv32be \
+++			| riscv64 \
+++			| riscv64be \
+++			| rl78 \
+++			| romp \
+++			| rs6000 \
+++			| rx \
+++			| s390 \
+++			| s390x \
+++			| score \
+++			| sh \
+++			| sh64 \
+++			| sh64le \
+++			| sh[12345][lb]e \
+++			| sh[1234] \
+++			| sh[1234]e[lb] \
+++			| sh[23]e \
+++			| sh[23]ele \
+++			| sh[24]a \
+++			| sh[24]ae[lb] \
+++			| sh[lb]e \
+++			| she[lb] \
+++			| shl \
+++			| sparc \
+++			| sparc64 \
+++			| sparc64b \
+++			| sparc64v \
+++			| sparc86x \
+++			| sparclet \
+++			| sparclite \
+++			| sparcv8 \
+++			| sparcv9 \
+++			| sparcv9b \
+++			| sparcv9v \
+++			| spu \
+++			| sv1 \
+++			| sx* \
+++			| tahoe \
+++			| thumbv7* \
+++			| tic30 \
+++			| tic4x \
+++			| tic54x \
+++			| tic55x \
+++			| tic6x \
+++			| tic80 \
+++			| tron \
+++			| ubicom32 \
+++			| v70 \
+++			| v810 \
+++			| v850 \
+++			| v850e \
+++			| v850e1 \
+++			| v850e2 \
+++			| v850e2v3 \
+++			| v850es \
+++			| vax \
+++			| vc4 \
+++			| visium \
+++			| w65 \
+++			| wasm32 \
+++			| wasm64 \
+++			| we32k \
+++			| x86 \
+++			| x86_64 \
+++			| xc16x \
+++			| xgate \
+++			| xps100 \
+++			| xstormy16 \
+++			| xtensa* \
+++			| ymp \
+++			| z80 \
+++			| z8k)
+++				;;
+++
+++			*)
+++				echo "Invalid configuration '$1': machine '$cpu-$vendor' not recognized" 1>&2
+++				exit 1
+++				;;
+++		esac
++ 		;;
++ esac
++ 
++ # Here we canonicalize certain aliases for manufacturers.
++-case $basic_machine in
++-	*-digital*)
++-		basic_machine=`echo "$basic_machine" | sed 's/digital.*/dec/'`
+++case $vendor in
+++	digital*)
+++		vendor=dec
++ 		;;
++-	*-commodore*)
++-		basic_machine=`echo "$basic_machine" | sed 's/commodore.*/cbm/'`
+++	commodore*)
+++		vendor=cbm
++ 		;;
++ 	*)
++ 		;;
++@@ -1360,209 +1491,247 @@ esac
++ 
++ # Decode manufacturer-specific aliases for certain operating systems.
++ 
++-if [ x$os != x ]
+++if test x"$basic_os" != x
++ then
+++
+++# First recognize some ad-hoc cases, or perhaps split kernel-os, or else just
+++# set os.
+++obj=
+++case $basic_os in
+++	gnu/linux*)
+++		kernel=linux
+++		os=`echo "$basic_os" | sed -e 's|gnu/linux|gnu|'`
+++		;;
+++	os2-emx)
+++		kernel=os2
+++		os=`echo "$basic_os" | sed -e 's|os2-emx|emx|'`
+++		;;
+++	nto-qnx*)
+++		kernel=nto
+++		os=`echo "$basic_os" | sed -e 's|nto-qnx|qnx|'`
+++		;;
+++	*-*)
+++		saved_IFS=$IFS
+++		IFS="-" read kernel os <<EOF
+++$basic_os
+++EOF
+++		IFS=$saved_IFS
+++		;;
+++	# Default OS when just kernel was specified
+++	nto*)
+++		kernel=nto
+++		os=`echo "$basic_os" | sed -e 's|nto|qnx|'`
+++		;;
+++	linux*)
+++		kernel=linux
+++		os=`echo "$basic_os" | sed -e 's|linux|gnu|'`
+++		;;
+++	managarm*)
+++		kernel=managarm
+++		os=`echo "$basic_os" | sed -e 's|managarm|mlibc|'`
+++		;;
+++	*)
+++		kernel=
+++		os=$basic_os
+++		;;
+++esac
+++
+++# Now, normalize the OS (knowing we just have one component, it's not a kernel,
+++# etc.)
++ case $os in
++ 	# First match some system type aliases that might get confused
++ 	# with valid system types.
++-	# -solaris* is a basic system type, with this one exception.
++-	-auroraux)
++-		os=-auroraux
+++	# solaris* is a basic system type, with this one exception.
+++	auroraux)
+++		os=auroraux
+++		;;
+++	bluegene*)
+++		os=cnk
+++		;;
+++	solaris1 | solaris1.*)
+++		os=`echo "$os" | sed -e 's|solaris1|sunos4|'`
+++		;;
+++	solaris)
+++		os=solaris2
+++		;;
+++	unixware*)
+++		os=sysv4.2uw
++ 		;;
++-	-solaris1 | -solaris1.*)
++-		os=`echo $os | sed -e 's|solaris1|sunos4|'`
+++	# The marketing names for NeXT's operating systems were
+++	# NeXTSTEP, NeXTSTEP 2, OpenSTEP 3, OpenSTEP 4.  'openstep' is
+++	# mapped to 'openstep3', but 'openstep1' and 'openstep2' are
+++	# mapped to 'nextstep' and 'nextstep2', consistent with the
+++	# treatment of SunOS/Solaris.
+++	ns | ns1 | nextstep | nextstep1 | openstep1)
+++		os=nextstep
++ 		;;
++-	-solaris)
++-		os=-solaris2
+++	ns2 | nextstep2 | openstep2)
+++		os=nextstep2
++ 		;;
++-	-unixware*)
++-		os=-sysv4.2uw
+++	ns3 | nextstep3 | openstep | openstep3)
+++		os=openstep3
++ 		;;
++-	-gnu/linux*)
++-		os=`echo $os | sed -e 's|gnu/linux|linux-gnu|'`
+++	ns4 | nextstep4 | openstep4)
+++		os=openstep4
++ 		;;
++ 	# es1800 is here to avoid being matched by es* (a different OS)
++-	-es1800*)
++-		os=-ose
+++	es1800*)
+++		os=ose
++ 		;;
++-	# Now accept the basic system types.
++-	# The portable systems comes first.
++-	# Each alternative MUST end in a * to match a version number.
++-	# -sysv* is not here because it comes later, after sysvr4.
++-	-gnu* | -bsd* | -mach* | -minix* | -genix* | -ultrix* | -irix* \
++-	      | -*vms* | -sco* | -esix* | -isc* | -aix* | -cnk* | -sunos | -sunos[34]*\
++-	      | -hpux* | -unos* | -osf* | -luna* | -dgux* | -auroraux* | -solaris* \
++-	      | -sym* | -kopensolaris* | -plan9* \
++-	      | -amigaos* | -amigados* | -msdos* | -newsos* | -unicos* | -aof* \
++-	      | -aos* | -aros* | -cloudabi* | -sortix* \
++-	      | -nindy* | -vxsim* | -vxworks* | -ebmon* | -hms* | -mvs* \
++-	      | -clix* | -riscos* | -uniplus* | -iris* | -rtu* | -xenix* \
++-	      | -hiux* | -knetbsd* | -mirbsd* | -netbsd* \
++-	      | -bitrig* | -openbsd* | -solidbsd* | -libertybsd* \
++-	      | -ekkobsd* | -kfreebsd* | -freebsd* | -riscix* | -lynxos* \
++-	      | -bosx* | -nextstep* | -cxux* | -aout* | -elf* | -oabi* \
++-	      | -ptx* | -coff* | -ecoff* | -winnt* | -domain* | -vsta* \
++-	      | -udi* | -eabi* | -lites* | -ieee* | -go32* | -aux* | -hcos* \
++-	      | -chorusos* | -chorusrdb* | -cegcc* | -glidix* \
++-	      | -cygwin* | -msys* | -pe* | -psos* | -moss* | -proelf* | -rtems* \
++-	      | -midipix* | -mingw32* | -mingw64* | -linux-gnu* | -linux-android* \
++-	      | -linux-newlib* | -linux-musl* | -linux-uclibc* \
++-	      | -uxpv* | -beos* | -mpeix* | -udk* | -moxiebox* \
++-	      | -interix* | -uwin* | -mks* | -rhapsody* | -darwin* \
++-	      | -openstep* | -oskit* | -conix* | -pw32* | -nonstopux* \
++-	      | -storm-chaos* | -tops10* | -tenex* | -tops20* | -its* \
++-	      | -os2* | -vos* | -palmos* | -uclinux* | -nucleus* \
++-	      | -morphos* | -superux* | -rtmk* | -windiss* \
++-	      | -powermax* | -dnix* | -nx6 | -nx7 | -sei* | -dragonfly* \
++-	      | -skyos* | -haiku* | -rdos* | -toppers* | -drops* | -es* \
++-	      | -onefs* | -tirtos* | -phoenix* | -fuchsia* | -redox* | -bme* \
++-	      | -midnightbsd*)
++-	# Remember, each alternative MUST END IN *, to match a version number.
++-		;;
++-	-qnx*)
++-		case $basic_machine in
++-		    x86-* | i*86-*)
++-			;;
++-		    *)
++-			os=-nto$os
++-			;;
++-		esac
+++	# Some version numbers need modification
+++	chorusos*)
+++		os=chorusos
++ 		;;
++-	-nto-qnx*)
+++	isc)
+++		os=isc2.2
++ 		;;
++-	-nto*)
++-		os=`echo $os | sed -e 's|nto|nto-qnx|'`
+++	sco6)
+++		os=sco5v6
++ 		;;
++-	-sim | -xray | -os68k* | -v88r* \
++-	      | -windows* | -osx | -abug | -netware* | -os9* \
++-	      | -macos* | -mpw* | -magic* | -mmixware* | -mon960* | -lnews*)
+++	sco5)
+++		os=sco3.2v5
++ 		;;
++-	-mac*)
++-		os=`echo "$os" | sed -e 's|mac|macos|'`
+++	sco4)
+++		os=sco3.2v4
++ 		;;
++-	-linux-dietlibc)
++-		os=-linux-dietlibc
+++	sco3.2.[4-9]*)
+++		os=`echo "$os" | sed -e 's/sco3.2./sco3.2v/'`
++ 		;;
++-	-linux*)
++-		os=`echo $os | sed -e 's|linux|linux-gnu|'`
+++	sco*v* | scout)
+++		# Don't match below
++ 		;;
++-	-sunos5*)
++-		os=`echo "$os" | sed -e 's|sunos5|solaris2|'`
+++	sco*)
+++		os=sco3.2v2
++ 		;;
++-	-sunos6*)
++-		os=`echo "$os" | sed -e 's|sunos6|solaris3|'`
+++	psos*)
+++		os=psos
+++		;;
+++	qnx*)
+++		os=qnx
+++		;;
+++	hiux*)
+++		os=hiuxwe2
+++		;;
+++	lynx*178)
+++		os=lynxos178
++ 		;;
++-	-opened*)
++-		os=-openedition
+++	lynx*5)
+++		os=lynxos5
++ 		;;
++-	-os400*)
++-		os=-os400
+++	lynxos*)
+++		# don't get caught up in next wildcard
++ 		;;
++-	-wince*)
++-		os=-wince
+++	lynx*)
+++		os=lynxos
++ 		;;
++-	-utek*)
++-		os=-bsd
+++	mac[0-9]*)
+++		os=`echo "$os" | sed -e 's|mac|macos|'`
++ 		;;
++-	-dynix*)
++-		os=-bsd
+++	opened*)
+++		os=openedition
++ 		;;
++-	-acis*)
++-		os=-aos
+++	os400*)
+++		os=os400
++ 		;;
++-	-atheos*)
++-		os=-atheos
+++	sunos5*)
+++		os=`echo "$os" | sed -e 's|sunos5|solaris2|'`
++ 		;;
++-	-syllable*)
++-		os=-syllable
+++	sunos6*)
+++		os=`echo "$os" | sed -e 's|sunos6|solaris3|'`
++ 		;;
++-	-386bsd)
++-		os=-bsd
+++	wince*)
+++		os=wince
++ 		;;
++-	-ctix* | -uts*)
++-		os=-sysv
+++	utek*)
+++		os=bsd
+++		vendor=`echo "$vendor" | sed -e 's|^unknown$|tektronix|'`
++ 		;;
++-	-nova*)
++-		os=-rtmk-nova
+++	dynix*)
+++		os=bsd
++ 		;;
++-	-ns2)
++-		os=-nextstep2
+++	acis*)
+++		os=aos
++ 		;;
++-	-nsk*)
++-		os=-nsk
+++	atheos*)
+++		os=atheos
++ 		;;
++-	# Preserve the version number of sinix5.
++-	-sinix5.*)
++-		os=`echo $os | sed -e 's|sinix|sysv|'`
+++	syllable*)
+++		os=syllable
++ 		;;
++-	-sinix*)
++-		os=-sysv4
+++	386bsd)
+++		os=bsd
+++		;;
+++	ctix*)
+++		os=sysv
+++		vendor=`echo "$vendor" | sed -e 's|^unknown$|convergent|'`
+++		;;
+++	uts*)
+++		os=sysv
+++		;;
+++	nova*)
+++		kernel=rtmk
+++		os=nova
++ 		;;
++-	-tpf*)
++-		os=-tpf
+++	# Preserve the version number of sinix5.
+++	sinix5.*)
+++		os=`echo "$os" | sed -e 's|sinix|sysv|'`
+++		vendor=`echo "$vendor" | sed -e 's|^unknown$|sni|'`
++ 		;;
++-	-triton*)
++-		os=-sysv3
+++	sinix*)
+++		os=sysv4
+++		vendor=`echo "$vendor" | sed -e 's|^unknown$|sni|'`
++ 		;;
++-	-oss*)
++-		os=-sysv3
+++	tpf*)
+++		os=tpf
++ 		;;
++-	-svr4*)
++-		os=-sysv4
+++	triton*)
+++		os=sysv3
++ 		;;
++-	-svr3)
++-		os=-sysv3
+++	oss*)
+++		os=sysv3
++ 		;;
++-	-sysvr4)
++-		os=-sysv4
+++	svr4*)
+++		os=sysv4
++ 		;;
++-	# This must come after -sysvr4.
++-	-sysv*)
+++	svr3)
+++		os=sysv3
++ 		;;
++-	-ose*)
++-		os=-ose
+++	sysvr4)
+++		os=sysv4
++ 		;;
++-	-*mint | -mint[0-9]* | -*MiNT | -MiNT[0-9]*)
++-		os=-mint
+++	ose*)
+++		os=ose
++ 		;;
++-	-zvmoe)
++-		os=-zvmoe
+++	*mint | mint[0-9]* | *MiNT | MiNT[0-9]*)
+++		os=mint
++ 		;;
++-	-dicos*)
++-		os=-dicos
+++	dicos*)
+++		os=dicos
++ 		;;
++-	-pikeos*)
+++	pikeos*)
++ 		# Until real need of OS specific support for
++ 		# particular features comes up, bare metal
++ 		# configurations are quite functional.
++-		case $basic_machine in
+++		case $cpu in
++ 		    arm*)
++-			os=-eabi
+++			os=eabi
++ 			;;
++ 		    *)
++-			os=-elf
+++			os=
+++			obj=elf
++ 			;;
++ 		esac
++ 		;;
++-	-nacl*)
++-		;;
++-	-ios)
++-		;;
++-	-none)
++-		;;
++-	-*-eabi)
++-		case $basic_machine in
++-		    arm*)
++-			;;
++-		esac
+++	aout* | coff* | elf* | pe*)
+++		# These are machine code file formats, not OSes
+++		obj=$os
+++		os=
++ 		;;
++ 	*)
++-		# Get rid of the `-' at the beginning of $os.
++-		os=`echo $os | sed 's/[^-]*-//'`
++-		echo Invalid configuration \`"$1"\': system \`"$os"\' not recognized 1>&2
++-		exit 1
+++		# No normalization, but not necessarily accepted, that comes below.
++ 		;;
++ esac
+++
++ else
++ 
++ # Here we handle the default operating systems that come with various machines.
++@@ -1575,254 +1744,606 @@ else
++ # will signal an error saying that MANUFACTURER isn't an operating
++ # system, and we'll never get to this point.
++ 
++-case $basic_machine in
+++kernel=
+++obj=
+++case $cpu-$vendor in
++ 	score-*)
++-		os=-elf
+++		os=
+++		obj=elf
++ 		;;
++ 	spu-*)
++-		os=-elf
+++		os=
+++		obj=elf
++ 		;;
++ 	*-acorn)
++-		os=-riscix1.2
+++		os=riscix1.2
++ 		;;
++ 	arm*-rebel)
++-		os=-linux
+++		kernel=linux
+++		os=gnu
++ 		;;
++ 	arm*-semi)
++-		os=-aout
+++		os=
+++		obj=aout
++ 		;;
++ 	c4x-* | tic4x-*)
++-		os=-coff
+++		os=
+++		obj=coff
++ 		;;
++ 	c8051-*)
++-		os=-elf
+++		os=
+++		obj=elf
+++		;;
+++	clipper-intergraph)
+++		os=clix
++ 		;;
++ 	hexagon-*)
++-		os=-elf
+++		os=
+++		obj=elf
++ 		;;
++ 	tic54x-*)
++-		os=-coff
+++		os=
+++		obj=coff
++ 		;;
++ 	tic55x-*)
++-		os=-coff
+++		os=
+++		obj=coff
++ 		;;
++ 	tic6x-*)
++-		os=-coff
+++		os=
+++		obj=coff
++ 		;;
++ 	# This must come before the *-dec entry.
++ 	pdp10-*)
++-		os=-tops20
+++		os=tops20
++ 		;;
++ 	pdp11-*)
++-		os=-none
+++		os=none
++ 		;;
++ 	*-dec | vax-*)
++-		os=-ultrix4.2
+++		os=ultrix4.2
++ 		;;
++ 	m68*-apollo)
++-		os=-domain
+++		os=domain
++ 		;;
++ 	i386-sun)
++-		os=-sunos4.0.2
+++		os=sunos4.0.2
++ 		;;
++ 	m68000-sun)
++-		os=-sunos3
+++		os=sunos3
++ 		;;
++ 	m68*-cisco)
++-		os=-aout
+++		os=
+++		obj=aout
++ 		;;
++ 	mep-*)
++-		os=-elf
+++		os=
+++		obj=elf
+++		;;
+++	# The -sgi and -siemens entries must be before the mips- entry
+++	# or we get the wrong os.
+++	*-sgi)
+++		os=irix
+++		;;
+++	*-siemens)
+++		os=sysv4
++ 		;;
++ 	mips*-cisco)
++-		os=-elf
+++		os=
+++		obj=elf
++ 		;;
++-	mips*-*)
++-		os=-elf
+++	mips*-*|nanomips*-*)
+++		os=
+++		obj=elf
++ 		;;
++ 	or32-*)
++-		os=-coff
+++		os=
+++		obj=coff
++ 		;;
++-	*-tti)	# must be before sparc entry or we get the wrong os.
++-		os=-sysv3
+++	# This must be before the sparc-* entry or we get the wrong os.
+++	*-tti)
+++		os=sysv3
++ 		;;
++ 	sparc-* | *-sun)
++-		os=-sunos4.1.1
+++		os=sunos4.1.1
++ 		;;
++ 	pru-*)
++-		os=-elf
+++		os=
+++		obj=elf
++ 		;;
++ 	*-be)
++-		os=-beos
+++		os=beos
++ 		;;
++ 	*-ibm)
++-		os=-aix
+++		os=aix
++ 		;;
++ 	*-knuth)
++-		os=-mmixware
+++		os=mmixware
++ 		;;
++ 	*-wec)
++-		os=-proelf
+++		os=proelf
++ 		;;
++ 	*-winbond)
++-		os=-proelf
+++		os=proelf
++ 		;;
++ 	*-oki)
++-		os=-proelf
+++		os=proelf
++ 		;;
++ 	*-hp)
++-		os=-hpux
+++		os=hpux
++ 		;;
++ 	*-hitachi)
++-		os=-hiux
+++		os=hiuxwe2
++ 		;;
++ 	i860-* | *-att | *-ncr | *-altos | *-motorola | *-convergent)
++-		os=-sysv
+++		os=sysv
++ 		;;
++ 	*-cbm)
++-		os=-amigaos
+++		os=amigaos
++ 		;;
++ 	*-dg)
++-		os=-dgux
+++		os=dgux
++ 		;;
++ 	*-dolphin)
++-		os=-sysv3
+++		os=sysv3
++ 		;;
++ 	m68k-ccur)
++-		os=-rtu
+++		os=rtu
++ 		;;
++ 	m88k-omron*)
++-		os=-luna
+++		os=luna
++ 		;;
++ 	*-next)
++-		os=-nextstep
+++		os=nextstep
++ 		;;
++ 	*-sequent)
++-		os=-ptx
+++		os=ptx
++ 		;;
++ 	*-crds)
++-		os=-unos
+++		os=unos
++ 		;;
++ 	*-ns)
++-		os=-genix
+++		os=genix
++ 		;;
++ 	i370-*)
++-		os=-mvs
+++		os=mvs
++ 		;;
++ 	*-gould)
++-		os=-sysv
+++		os=sysv
++ 		;;
++ 	*-highlevel)
++-		os=-bsd
+++		os=bsd
++ 		;;
++ 	*-encore)
++-		os=-bsd
++-		;;
++-	*-sgi)
++-		os=-irix
++-		;;
++-	*-siemens)
++-		os=-sysv4
+++		os=bsd
++ 		;;
++ 	*-masscomp)
++-		os=-rtu
+++		os=rtu
++ 		;;
++ 	f30[01]-fujitsu | f700-fujitsu)
++-		os=-uxpv
+++		os=uxpv
++ 		;;
++ 	*-rom68k)
++-		os=-coff
+++		os=
+++		obj=coff
++ 		;;
++ 	*-*bug)
++-		os=-coff
+++		os=
+++		obj=coff
++ 		;;
++ 	*-apple)
++-		os=-macos
+++		os=macos
++ 		;;
++ 	*-atari*)
++-		os=-mint
+++		os=mint
+++		;;
+++	*-wrs)
+++		os=vxworks
++ 		;;
++ 	*)
++-		os=-none
+++		os=none
++ 		;;
++ esac
+++
++ fi
++ 
+++# Now, validate our (potentially fixed-up) individual pieces (OS, OBJ).
+++
+++case $os in
+++	# Sometimes we do "kernel-libc", so those need to count as OSes.
+++	llvm* | musl* | newlib* | relibc* | uclibc*)
+++		;;
+++	# Likewise for "kernel-abi"
+++	eabi* | gnueabi*)
+++		;;
+++	# VxWorks passes extra cpu info in the 4th filed.
+++	simlinux | simwindows | spe)
+++		;;
+++	# See `case $cpu-$os` validation below
+++	ghcjs)
+++		;;
+++	# Now accept the basic system types.
+++	# Each alternative MUST end in a * to match a version number.
+++	  abug \
+++	| aix* \
+++	| amdhsa* \
+++	| amigados* \
+++	| amigaos* \
+++	| android* \
+++	| aof* \
+++	| aos* \
+++	| aros* \
+++	| atheos* \
+++	| auroraux* \
+++	| aux* \
+++	| beos* \
+++	| bitrig* \
+++	| bme* \
+++	| bosx* \
+++	| bsd* \
+++	| cegcc* \
+++	| chorusos* \
+++	| chorusrdb* \
+++	| clix* \
+++	| cloudabi* \
+++	| cnk* \
+++	| conix* \
+++	| cos* \
+++	| cxux* \
+++	| cygwin* \
+++	| darwin* \
+++	| dgux* \
+++	| dicos* \
+++	| dnix* \
+++	| domain* \
+++	| dragonfly* \
+++	| drops* \
+++	| ebmon* \
+++	| ecoff* \
+++	| ekkobsd* \
+++	| emscripten* \
+++	| emx* \
+++	| es* \
+++	| fiwix* \
+++	| freebsd* \
+++	| fuchsia* \
+++	| genix* \
+++	| genode* \
+++	| glidix* \
+++	| gnu* \
+++	| go32* \
+++	| haiku* \
+++	| hcos* \
+++	| hiux* \
+++	| hms* \
+++	| hpux* \
+++	| ieee* \
+++	| interix* \
+++	| ios* \
+++	| iris* \
+++	| irix* \
+++	| ironclad* \
+++	| isc* \
+++	| its* \
+++	| l4re* \
+++	| libertybsd* \
+++	| lites* \
+++	| lnews* \
+++	| luna* \
+++	| lynxos* \
+++	| mach* \
+++	| macos* \
+++	| magic* \
+++	| mbr* \
+++	| midipix* \
+++	| midnightbsd* \
+++	| mingw32* \
+++	| mingw64* \
+++	| minix* \
+++	| mint* \
+++	| mirbsd* \
+++	| mks* \
+++	| mlibc* \
+++	| mmixware* \
+++	| mon960* \
+++	| morphos* \
+++	| moss* \
+++	| moxiebox* \
+++	| mpeix* \
+++	| mpw* \
+++	| msdos* \
+++	| msys* \
+++	| mvs* \
+++	| nacl* \
+++	| netbsd* \
+++	| netware* \
+++	| newsos* \
+++	| nextstep* \
+++	| nindy* \
+++	| nonstopux* \
+++	| nova* \
+++	| nsk* \
+++	| nucleus* \
+++	| nx6 \
+++	| nx7 \
+++	| oabi* \
+++	| ohos* \
+++	| onefs* \
+++	| openbsd* \
+++	| openedition* \
+++	| openstep* \
+++	| os108* \
+++	| os2* \
+++	| os400* \
+++	| os68k* \
+++	| os9* \
+++	| ose* \
+++	| osf* \
+++	| oskit* \
+++	| osx* \
+++	| palmos* \
+++	| phoenix* \
+++	| plan9* \
+++	| powermax* \
+++	| powerunix* \
+++	| proelf* \
+++	| psos* \
+++	| psp* \
+++	| ptx* \
+++	| pw32* \
+++	| qnx* \
+++	| rdos* \
+++	| redox* \
+++	| rhapsody* \
+++	| riscix* \
+++	| riscos* \
+++	| rtems* \
+++	| rtmk* \
+++	| rtu* \
+++	| scout* \
+++	| secbsd* \
+++	| sei* \
+++	| serenity* \
+++	| sim* \
+++	| skyos* \
+++	| solaris* \
+++	| solidbsd* \
+++	| sortix* \
+++	| storm-chaos* \
+++	| sunos \
+++	| sunos[34]* \
+++	| superux* \
+++	| syllable* \
+++	| sym* \
+++	| sysv* \
+++	| tenex* \
+++	| tirtos* \
+++	| toppers* \
+++	| tops10* \
+++	| tops20* \
+++	| tpf* \
+++	| tvos* \
+++	| twizzler* \
+++	| uclinux* \
+++	| udi* \
+++	| udk* \
+++	| ultrix* \
+++	| unicos* \
+++	| uniplus* \
+++	| unleashed* \
+++	| unos* \
+++	| uwin* \
+++	| uxpv* \
+++	| v88r* \
+++	|*vms* \
+++	| vos* \
+++	| vsta* \
+++	| vxsim* \
+++	| vxworks* \
+++	| wasi* \
+++	| watchos* \
+++	| wince* \
+++	| windiss* \
+++	| windows* \
+++	| winnt* \
+++	| xenix* \
+++	| xray* \
+++	| zephyr* \
+++	| zvmoe* )
+++		;;
+++	# This one is extra strict with allowed versions
+++	sco3.2v2 | sco3.2v[4-9]* | sco5v6*)
+++		# Don't forget version if it is 3.2v4 or newer.
+++		;;
+++	# This refers to builds using the UEFI calling convention
+++	# (which depends on the architecture) and PE file format.
+++	# Note that this is both a different calling convention and
+++	# different file format than that of GNU-EFI
+++	# (x86_64-w64-mingw32).
+++	uefi)
+++		;;
+++	none)
+++		;;
+++	kernel* | msvc* )
+++		# Restricted further below
+++		;;
+++	'')
+++		if test x"$obj" = x
+++		then
+++			echo "Invalid configuration '$1': Blank OS only allowed with explicit machine code file format" 1>&2
+++		fi
+++		;;
+++	*)
+++		echo "Invalid configuration '$1': OS '$os' not recognized" 1>&2
+++		exit 1
+++		;;
+++esac
+++
+++case $obj in
+++	aout* | coff* | elf* | pe*)
+++		;;
+++	'')
+++		# empty is fine
+++		;;
+++	*)
+++		echo "Invalid configuration '$1': Machine code format '$obj' not recognized" 1>&2
+++		exit 1
+++		;;
+++esac
+++
+++# Here we handle the constraint that a (synthetic) cpu and os are
+++# valid only in combination with each other and nowhere else.
+++case $cpu-$os in
+++	# The "javascript-unknown-ghcjs" triple is used by GHC; we
+++	# accept it here in order to tolerate that, but reject any
+++	# variations.
+++	javascript-ghcjs)
+++		;;
+++	javascript-* | *-ghcjs)
+++		echo "Invalid configuration '$1': cpu '$cpu' is not valid with os '$os$obj'" 1>&2
+++		exit 1
+++		;;
+++esac
+++
+++# As a final step for OS-related things, validate the OS-kernel combination
+++# (given a valid OS), if there is a kernel.
+++case $kernel-$os-$obj in
+++	linux-gnu*- | linux-android*- | linux-dietlibc*- | linux-llvm*- \
+++		    | linux-mlibc*- | linux-musl*- | linux-newlib*- \
+++		    | linux-relibc*- | linux-uclibc*- | linux-ohos*- )
+++		;;
+++	uclinux-uclibc*- | uclinux-gnu*- )
+++		;;
+++	managarm-mlibc*- | managarm-kernel*- )
+++		;;
+++	windows*-msvc*-)
+++		;;
+++	-dietlibc*- | -llvm*- | -mlibc*- | -musl*- | -newlib*- | -relibc*- \
+++		    | -uclibc*- )
+++		# These are just libc implementations, not actual OSes, and thus
+++		# require a kernel.
+++		echo "Invalid configuration '$1': libc '$os' needs explicit kernel." 1>&2
+++		exit 1
+++		;;
+++	-kernel*- )
+++		echo "Invalid configuration '$1': '$os' needs explicit kernel." 1>&2
+++		exit 1
+++		;;
+++	*-kernel*- )
+++		echo "Invalid configuration '$1': '$kernel' does not support '$os'." 1>&2
+++		exit 1
+++		;;
+++	*-msvc*- )
+++		echo "Invalid configuration '$1': '$os' needs 'windows'." 1>&2
+++		exit 1
+++		;;
+++	kfreebsd*-gnu*- | knetbsd*-gnu*- | netbsd*-gnu*- | kopensolaris*-gnu*-)
+++		;;
+++	vxworks-simlinux- | vxworks-simwindows- | vxworks-spe-)
+++		;;
+++	nto-qnx*-)
+++		;;
+++	os2-emx-)
+++		;;
+++	rtmk-nova-)
+++		;;
+++	*-eabi*- | *-gnueabi*-)
+++		;;
+++	none--*)
+++		# None (no kernel, i.e. freestanding / bare metal),
+++		# can be paired with an machine code file format
+++		;;
+++	-*-)
+++		# Blank kernel with real OS is always fine.
+++		;;
+++	--*)
+++		# Blank kernel and OS with real machine code file format is always fine.
+++		;;
+++	*-*-*)
+++		echo "Invalid configuration '$1': Kernel '$kernel' not known to work with OS '$os'." 1>&2
+++		exit 1
+++		;;
+++esac
+++
++ # Here we handle the case where we know the os, and the CPU type, but not the
++ # manufacturer.  We pick the logical manufacturer.
++-vendor=unknown
++-case $basic_machine in
++-	*-unknown)
++-		case $os in
++-			-riscix*)
+++case $vendor in
+++	unknown)
+++		case $cpu-$os in
+++			*-riscix*)
++ 				vendor=acorn
++ 				;;
++-			-sunos*)
+++			*-sunos* | *-solaris*)
++ 				vendor=sun
++ 				;;
++-			-cnk*|-aix*)
+++			*-cnk* | *-aix*)
++ 				vendor=ibm
++ 				;;
++-			-beos*)
+++			*-beos*)
++ 				vendor=be
++ 				;;
++-			-hpux*)
+++			*-hpux*)
++ 				vendor=hp
++ 				;;
++-			-mpeix*)
+++			*-mpeix*)
++ 				vendor=hp
++ 				;;
++-			-hiux*)
+++			*-hiux*)
++ 				vendor=hitachi
++ 				;;
++-			-unos*)
+++			*-unos*)
++ 				vendor=crds
++ 				;;
++-			-dgux*)
+++			*-dgux*)
++ 				vendor=dg
++ 				;;
++-			-luna*)
+++			*-luna*)
++ 				vendor=omron
++ 				;;
++-			-genix*)
+++			*-genix*)
++ 				vendor=ns
++ 				;;
++-			-mvs* | -opened*)
+++			*-clix*)
+++				vendor=intergraph
+++				;;
+++			*-mvs* | *-opened*)
+++				vendor=ibm
+++				;;
+++			*-os400*)
++ 				vendor=ibm
++ 				;;
++-			-os400*)
+++			s390-* | s390x-*)
++ 				vendor=ibm
++ 				;;
++-			-ptx*)
+++			*-ptx*)
++ 				vendor=sequent
++ 				;;
++-			-tpf*)
+++			*-tpf*)
++ 				vendor=ibm
++ 				;;
++-			-vxsim* | -vxworks* | -windiss*)
+++			*-vxsim* | *-vxworks* | *-windiss*)
++ 				vendor=wrs
++ 				;;
++-			-aux*)
+++			*-aux*)
++ 				vendor=apple
++ 				;;
++-			-hms*)
+++			*-hms*)
++ 				vendor=hitachi
++ 				;;
++-			-mpw* | -macos*)
+++			*-mpw* | *-macos*)
++ 				vendor=apple
++ 				;;
++-			-*mint | -mint[0-9]* | -*MiNT | -MiNT[0-9]*)
+++			*-*mint | *-mint[0-9]* | *-*MiNT | *-MiNT[0-9]*)
++ 				vendor=atari
++ 				;;
++-			-vos*)
+++			*-vos*)
++ 				vendor=stratus
++ 				;;
++ 		esac
++-		basic_machine=`echo "$basic_machine" | sed "s/unknown/$vendor/"`
++ 		;;
++ esac
++ 
++-echo "$basic_machine$os"
+++echo "$cpu-$vendor${kernel:+-$kernel}${os:+-$os}${obj:+-$obj}"
++ exit
++ 
++ # Local variables:
+diff --git a/external/libcmis/UnpackedTarball_libcmis.mk b/external/libcmis/UnpackedTarball_libcmis.mk
+index d224ed603..ccda316b0 100644
+--- a/external/libcmis/UnpackedTarball_libcmis.mk
++++ b/external/libcmis/UnpackedTarball_libcmis.mk
+@@ -21,6 +21,7 @@ $(eval $(call gb_UnpackedTarball_add_patches,libcmis, \
+ 	external/libcmis/libcmis_gdrive.patch.1 \
+ 	external/libcmis/libcmis-boost-string.patch \
+ 	external/libcmis/0002-HttpSession-add-a-callback-that-can-be-used-to-confi.patch \
++	external/libcmis/0003-update-config.patch \
+ ))
+ 
+ # vim: set noet sw=4 ts=4:
+diff --git a/external/nss/ExternalProject_nss.mk b/external/nss/ExternalProject_nss.mk
+index cc6c19bdb..48fd9fec6 100644
+--- a/external/nss/ExternalProject_nss.mk
++++ b/external/nss/ExternalProject_nss.mk
+@@ -58,6 +58,7 @@ $(call gb_ExternalProject_get_state_target,nss,build): \
+ 		$(if $(filter ANDROID FREEBSD LINUX MACOSX,$(OS)),$(if $(filter X86_64,$(CPUNAME)),USE_64=1)) \
+ 		$(if $(filter AARCH64,$(CPUNAME)),USE_64=1 CPU_ARCH=aarch64) \
+ 		$(if $(filter POWERPC64,$(CPUNAME)),USE_64=1 CPU_ARCH=ppc64le) \
++		$(if $(filter LOONGARCH64,$(CPUNAME)),USE_64=1 CPU_ARCH=loongarch64) \
+ 		$(if $(filter MACOSX,$(OS)),\
+ 			MACOS_SDK_DIR=$(MACOSX_SDK_PATH) \
+ 			NSS_USE_SYSTEM_SQLITE=1) \
+diff --git a/external/python3/ExternalPackage_python3.mk b/external/python3/ExternalPackage_python3.mk
+index 241233914..0e2ff089a 100644
+--- a/external/python3/ExternalPackage_python3.mk
++++ b/external/python3/ExternalPackage_python3.mk
+@@ -16,6 +16,8 @@ ifeq ($(CPUNAME),X86_64)
+ python_arch_subdir=amd64/
+ else ifeq ($(CPUNAME),AARCH64)
+ python_arch_subdir=arm64/
++else ifeq ($(CPUNAME),LOONGARCH64)
++python_arch_subdir=loongarch64/
+ else
+ python_arch_subdir=win32/
+ endif
+@@ -46,7 +48,7 @@ $(eval $(call gb_ExternalPackage_add_file,python3,$(LIBO_BIN_FOLDER)/python.bin,
+ $(eval $(call gb_ExternalPackage_add_file,python3,$(LIBO_BIN_FOLDER)/libpython$(PYTHON_VERSION_MAJOR).$(PYTHON_VERSION_MINOR)$(if $(ENABLE_DBGUTIL),d).so,libpython$(PYTHON_VERSION_MAJOR).$(PYTHON_VERSION_MINOR)$(if $(ENABLE_DBGUTIL),d).so))
+ $(eval $(call gb_ExternalPackage_add_file,python3,$(LIBO_BIN_FOLDER)/libpython$(PYTHON_VERSION_MAJOR).$(PYTHON_VERSION_MINOR)$(if $(ENABLE_DBGUTIL),d).so.1.0,libpython$(PYTHON_VERSION_MAJOR).$(PYTHON_VERSION_MINOR)$(if $(ENABLE_DBGUTIL),d).so))
+ $(eval $(call gb_ExternalPackage_add_file,python3,$(LIBO_BIN_FOLDER)/python.bin-gdb.py,Tools/gdb/libpython.py))
+-
++$(eval $(call gb_ExternalPackage_add_file,python3,$(LIBO_BIN_FOLDER)/python-core-$(PYTHON_VERSION)/lib/lib-dynload,LO_lib/zlib.cpython-3.8.so))
+ # Unfortunately the python build system does not allow to explicitly enable or
+ # disable these, it just tries to build them and then prints which did not
+ # build successfully without stopping; so the build will break on delivering if
+@@ -54,7 +56,6 @@ $(eval $(call gb_ExternalPackage_add_file,python3,$(LIBO_BIN_FOLDER)/python.bin-
+ # Obviously this list should not contain stuff with external dependencies
+ # that may not be available on baseline systems.
+ 
+-ifneq ($(OS),AIX)
+ python3_EXTENSION_MODULE_SUFFIX=cpython-$(PYTHON_VERSION_MAJOR).$(PYTHON_VERSION_MINOR)$(if $(ENABLE_DBGUTIL),d)
+ $(eval $(call gb_ExternalPackage_add_files,python3,$(LIBO_BIN_FOLDER)/python-core-$(PYTHON_VERSION)/lib/lib-dynload,\
+ 	LO_lib/array.$(python3_EXTENSION_MODULE_SUFFIX).so \
+@@ -123,7 +124,6 @@ $(eval $(call gb_ExternalPackage_add_files,python3,$(LIBO_BIN_FOLDER)/python-cor
+ 	LO_lib/zlib.$(python3_EXTENSION_MODULE_SUFFIX).so \
+ ))
+ endif
+-endif
+ 
+ # headers are not delivered, but used from unpacked dir Include/
+ # (+ toplevel for pyconfig.h)
+@@ -147,6 +147,11 @@ $(eval $(call gb_ExternalPackage_add_files,python3,$(LIBO_BIN_FOLDER)/python-cor
+         LO_lib/_sysconfigdata_$(if $(ENABLE_DBGUTIL),d)_linux_powerpc64le-linux-gnu.py \
+ ))
+ else
++ifeq ($(HOST_PLATFORM),loongarch64-unknown-linux-gnu)
++$(eval $(call gb_ExternalPackage_add_files,python3,$(LIBO_BIN_FOLDER)/python-core-$(PYTHON_VERSION)/lib,\
++        LO_lib/_sysconfigdata__linux_loongarch64-linux-gnu.py \
++))
++else
+ # note: python configure overrides config.guess with something that doesn't
+ # put -pc in its linux platform triplets, so filter that...
+ ifneq ($(OS),WNT)
+@@ -162,6 +167,7 @@ endif
+ endif
+ endif
+ endif
++endif
+ 
+ 
+ # packages not shipped:
+diff --git a/external/python3/README b/external/python3/README
+index edde023af..f6a415a98 100644
+--- a/external/python3/README
++++ b/external/python3/README
+@@ -1 +1,5 @@
+-CPython implementation of Python 3 from http://www.python.org
++修改了逻辑
++由于需要loongarch架构三元组支持，但patch打入方式有问题
++所以将configure、configure.ac这两部分相关的patch手动打入
++将config.guess/sub 更新
++打成xz包
+diff --git a/external/python3/UnpackedTarball_python3.mk b/external/python3/UnpackedTarball_python3.mk
+index 31b6a166e..3b2fbada9 100644
+--- a/external/python3/UnpackedTarball_python3.mk
++++ b/external/python3/UnpackedTarball_python3.mk
+@@ -19,13 +19,10 @@ $(eval $(call gb_UnpackedTarball_fix_end_of_line,python3,\
+ # <https://bugs.python.org/issue44065> "'configure: error: internal configure error for the platform
+ # triplet' on macOS with Clang supporting --print-multiarch:"
+ $(eval $(call gb_UnpackedTarball_add_patches,python3,\
+-	external/python3/i100492-freebsd.patch.1 \
+-	external/python3/python-3.3.0-darwin.patch.1 \
+ 	external/python3/python-3.8-msvc-sdk.patch.1 \
+ 	external/python3/python-3.7.6-msvc-ssl.patch.1 \
+ 	external/python3/python-3.5.4-msvc-disable.patch.1 \
+ 	external/python3/ubsan.patch.0 \
+-	external/python3/python-3.5.tweak.strip.soabi.patch \
+ 	external/python3/darwin.patch.0 \
+ 	external/python3/macos-11.patch.0 \
+ ))
+@@ -42,10 +39,5 @@ $(eval $(call gb_UnpackedTarball_add_patches,python3,\
+ ))
+ endif
+ 
+-ifneq ($(SYSTEM_ZLIB),TRUE)
+-$(eval $(call gb_UnpackedTarball_add_patches,python3, \
+-    external/python3/internal-zlib.patch.0 \
+-))
+-endif
+ 
+ # vim: set noet sw=4 ts=4:
+diff --git a/external/python3/internal-zlib.patch.0 b/external/python3/internal-zlib.patch.0-old
+similarity index 100%
+rename from external/python3/internal-zlib.patch.0
+rename to external/python3/internal-zlib.patch.0-old
+diff --git a/external/python3/python-3.3.0-darwin.patch.1 b/external/python3/python-3.3.0-darwin.patch.1-old
+similarity index 100%
+rename from external/python3/python-3.3.0-darwin.patch.1
+rename to external/python3/python-3.3.0-darwin.patch.1-old
+diff --git a/external/python3/python-3.5.tweak.strip.soabi.patch b/external/python3/python-3.5.tweak.strip.soabi.patch-old
+similarity index 100%
+rename from external/python3/python-3.5.tweak.strip.soabi.patch
+rename to external/python3/python-3.5.tweak.strip.soabi.patch-old
+diff --git a/fontconfig-update-config.patch b/fontconfig-update-config.patch
+new file mode 100644
+index 000000000..edb23b34f
+--- /dev/null
++++ b/fontconfig-update-config.patch
+@@ -0,0 +1,4507 @@
++diff --git a/config.guess b/config.guess
++index b33c9e8..48a6846 100755
++--- a/config.guess
+++++ b/config.guess
++@@ -1,12 +1,14 @@
++ #! /bin/sh
++ # Attempt to guess a canonical system name.
++-#   Copyright 1992-2018 Free Software Foundation, Inc.
+++#   Copyright 1992-2024 Free Software Foundation, Inc.
++ 
++-timestamp='2018-08-29'
+++# shellcheck disable=SC2006,SC2268 # see below for rationale
+++
+++timestamp='2024-07-27'
++ 
++ # This file is free software; you can redistribute it and/or modify it
++ # under the terms of the GNU General Public License as published by
++-# the Free Software Foundation; either version 3 of the License, or
+++# the Free Software Foundation, either version 3 of the License, or
++ # (at your option) any later version.
++ #
++ # This program is distributed in the hope that it will be useful, but
++@@ -27,17 +29,25 @@ timestamp='2018-08-29'
++ # Originally written by Per Bothner; maintained since 2000 by Ben Elliston.
++ #
++ # You can get the latest version of this script from:
++-# https://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.guess
+++# https://git.savannah.gnu.org/cgit/config.git/plain/config.guess
++ #
++ # Please send patches to <config-patches@gnu.org>.
++ 
++ 
+++# The "shellcheck disable" line above the timestamp inhibits complaints
+++# about features and limitations of the classic Bourne shell that were
+++# superseded or lifted in POSIX.  However, this script identifies a wide
+++# variety of pre-POSIX systems that do not have POSIX shells at all, and
+++# even some reasonably current systems (Solaris 10 as case-in-point) still
+++# have a pre-POSIX /bin/sh.
+++
+++
++ me=`echo "$0" | sed -e 's,.*/,,'`
++ 
++ usage="\
++ Usage: $0 [OPTION]
++ 
++-Output the configuration name of the system \`$me' is run on.
+++Output the configuration name of the system '$me' is run on.
++ 
++ Options:
++   -h, --help         print this help, then exit
++@@ -50,13 +60,13 @@ version="\
++ GNU config.guess ($timestamp)
++ 
++ Originally written by Per Bothner.
++-Copyright 1992-2018 Free Software Foundation, Inc.
+++Copyright 1992-2024 Free Software Foundation, Inc.
++ 
++ This is free software; see the source for copying conditions.  There is NO
++ warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."
++ 
++ help="
++-Try \`$me --help' for more information."
+++Try '$me --help' for more information."
++ 
++ # Parse command line
++ while test $# -gt 0 ; do
++@@ -84,24 +94,28 @@ if test $# != 0; then
++   exit 1
++ fi
++ 
+++# Just in case it came from the environment.
+++GUESS=
+++
++ # CC_FOR_BUILD -- compiler used by this script. Note that the use of a
++ # compiler to aid in system detection is discouraged as it requires
++ # temporary files to be created and, as you can see below, it is a
++ # headache to deal with in a portable fashion.
++ 
++-# Historically, `CC_FOR_BUILD' used to be named `HOST_CC'. We still
++-# use `HOST_CC' if defined, but it is deprecated.
+++# Historically, 'CC_FOR_BUILD' used to be named 'HOST_CC'. We still
+++# use 'HOST_CC' if defined, but it is deprecated.
++ 
++ # Portable tmp directory creation inspired by the Autoconf team.
++ 
++ tmp=
++ # shellcheck disable=SC2172
++-trap 'test -z "$tmp" || rm -fr "$tmp"' 1 2 13 15
++-trap 'exitcode=$?; test -z "$tmp" || rm -fr "$tmp"; exit $exitcode' 0
+++trap 'test -z "$tmp" || rm -fr "$tmp"' 0 1 2 13 15
++ 
++ set_cc_for_build() {
+++    # prevent multiple calls if $tmp is already set
+++    test "$tmp" && return 0
++     : "${TMPDIR=/tmp}"
++-    # shellcheck disable=SC2039
+++    # shellcheck disable=SC2039,SC3028
++     { tmp=`(umask 077 && mktemp -d "$TMPDIR/cgXXXXXX") 2>/dev/null` && test -n "$tmp" && test -d "$tmp" ; } ||
++ 	{ test -n "$RANDOM" && tmp=$TMPDIR/cg$$-$RANDOM && (umask 077 && mkdir "$tmp" 2>/dev/null) ; } ||
++ 	{ tmp=$TMPDIR/cg-$$ && (umask 077 && mkdir "$tmp" 2>/dev/null) && echo "Warning: creating insecure temp directory" >&2 ; } ||
++@@ -109,9 +123,9 @@ set_cc_for_build() {
++     dummy=$tmp/dummy
++     case ${CC_FOR_BUILD-},${HOST_CC-},${CC-} in
++ 	,,)    echo "int x;" > "$dummy.c"
++-	       for driver in cc gcc c89 c99 ; do
+++	       for driver in cc gcc c17 c99 c89 ; do
++ 		   if ($driver -c -o "$dummy.o" "$dummy.c") >/dev/null 2>&1 ; then
++-		       CC_FOR_BUILD="$driver"
+++		       CC_FOR_BUILD=$driver
++ 		       break
++ 		   fi
++ 	       done
++@@ -132,40 +146,57 @@ fi
++ 
++ UNAME_MACHINE=`(uname -m) 2>/dev/null` || UNAME_MACHINE=unknown
++ UNAME_RELEASE=`(uname -r) 2>/dev/null` || UNAME_RELEASE=unknown
++-UNAME_SYSTEM=`(uname -s) 2>/dev/null`  || UNAME_SYSTEM=unknown
+++UNAME_SYSTEM=`(uname -s) 2>/dev/null` || UNAME_SYSTEM=unknown
++ UNAME_VERSION=`(uname -v) 2>/dev/null` || UNAME_VERSION=unknown
++ 
++-case "$UNAME_SYSTEM" in
+++case $UNAME_SYSTEM in
++ Linux|GNU|GNU/*)
++-	# If the system lacks a compiler, then just pick glibc.
++-	# We could probably try harder.
++-	LIBC=gnu
+++	LIBC=unknown
++ 
++ 	set_cc_for_build
++ 	cat <<-EOF > "$dummy.c"
+++	#if defined(__ANDROID__)
+++	LIBC=android
+++	#else
++ 	#include <features.h>
++ 	#if defined(__UCLIBC__)
++ 	LIBC=uclibc
++ 	#elif defined(__dietlibc__)
++ 	LIBC=dietlibc
++-	#else
+++	#elif defined(__GLIBC__)
++ 	LIBC=gnu
+++	#elif defined(__LLVM_LIBC__)
+++	LIBC=llvm
+++	#else
+++	#include <stdarg.h>
+++	/* First heuristic to detect musl libc.  */
+++	#ifdef __DEFINED_va_list
+++	LIBC=musl
+++	#endif
+++	#endif
++ 	#endif
++ 	EOF
++-	eval "`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^LIBC' | sed 's, ,,g'`"
+++	cc_set_libc=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^LIBC' | sed 's, ,,g'`
+++	eval "$cc_set_libc"
++ 
++-	# If ldd exists, use it to detect musl libc.
++-	if command -v ldd >/dev/null && \
++-		ldd --version 2>&1 | grep -q ^musl
++-	then
++-	    LIBC=musl
+++	# Second heuristic to detect musl libc.
+++	if [ "$LIBC" = unknown ] &&
+++	   command -v ldd >/dev/null &&
+++	   ldd --version 2>&1 | grep -q ^musl; then
+++		LIBC=musl
+++	fi
+++
+++	# If the system lacks a compiler, then just pick glibc.
+++	# We could probably try harder.
+++	if [ "$LIBC" = unknown ]; then
+++		LIBC=gnu
++ 	fi
++ 	;;
++ esac
++ 
++ # Note: order is significant - the case branches are not exclusive.
++ 
++-case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
+++case $UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION in
++     *:NetBSD:*:*)
++ 	# NetBSD (nbsd) targets should (where applicable) match one or
++ 	# more of the tuples: *-*-netbsdelf*, *-*-netbsdaout*,
++@@ -177,12 +208,12 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++ 	#
++ 	# Note: NetBSD doesn't particularly care about the vendor
++ 	# portion of the name.  We always set it to "unknown".
++-	sysctl="sysctl -n hw.machine_arch"
++ 	UNAME_MACHINE_ARCH=`(uname -p 2>/dev/null || \
++-	    "/sbin/$sysctl" 2>/dev/null || \
++-	    "/usr/sbin/$sysctl" 2>/dev/null || \
+++	    /sbin/sysctl -n hw.machine_arch 2>/dev/null || \
+++	    /usr/sbin/sysctl -n hw.machine_arch 2>/dev/null || \
++ 	    echo unknown)`
++-	case "$UNAME_MACHINE_ARCH" in
+++	case $UNAME_MACHINE_ARCH in
+++	    aarch64eb) machine=aarch64_be-unknown ;;
++ 	    armeb) machine=armeb-unknown ;;
++ 	    arm*) machine=arm-unknown ;;
++ 	    sh3el) machine=shl-unknown ;;
++@@ -191,13 +222,13 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++ 	    earmv*)
++ 		arch=`echo "$UNAME_MACHINE_ARCH" | sed -e 's,^e\(armv[0-9]\).*$,\1,'`
++ 		endian=`echo "$UNAME_MACHINE_ARCH" | sed -ne 's,^.*\(eb\)$,\1,p'`
++-		machine="${arch}${endian}"-unknown
+++		machine=${arch}${endian}-unknown
++ 		;;
++-	    *) machine="$UNAME_MACHINE_ARCH"-unknown ;;
+++	    *) machine=$UNAME_MACHINE_ARCH-unknown ;;
++ 	esac
++ 	# The Operating System including object format, if it has switched
++ 	# to ELF recently (or will in the future) and ABI.
++-	case "$UNAME_MACHINE_ARCH" in
+++	case $UNAME_MACHINE_ARCH in
++ 	    earm*)
++ 		os=netbsdelf
++ 		;;
++@@ -218,7 +249,7 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++ 		;;
++ 	esac
++ 	# Determine ABI tags.
++-	case "$UNAME_MACHINE_ARCH" in
+++	case $UNAME_MACHINE_ARCH in
++ 	    earm*)
++ 		expr='s/^earmv[0-9]/-eabi/;s/eb$//'
++ 		abi=`echo "$UNAME_MACHINE_ARCH" | sed -e "$expr"`
++@@ -229,7 +260,7 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++ 	# thus, need a distinct triplet. However, they do not need
++ 	# kernel version information, so it can be replaced with a
++ 	# suitable tag, in the style of linux-gnu.
++-	case "$UNAME_VERSION" in
+++	case $UNAME_VERSION in
++ 	    Debian*)
++ 		release='-gnu'
++ 		;;
++@@ -240,45 +271,57 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++ 	# Since CPU_TYPE-MANUFACTURER-KERNEL-OPERATING_SYSTEM:
++ 	# contains redundant information, the shorter form:
++ 	# CPU_TYPE-MANUFACTURER-OPERATING_SYSTEM is used.
++-	echo "$machine-${os}${release}${abi-}"
++-	exit ;;
+++	GUESS=$machine-${os}${release}${abi-}
+++	;;
++     *:Bitrig:*:*)
++ 	UNAME_MACHINE_ARCH=`arch | sed 's/Bitrig.//'`
++-	echo "$UNAME_MACHINE_ARCH"-unknown-bitrig"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE_ARCH-unknown-bitrig$UNAME_RELEASE
+++	;;
++     *:OpenBSD:*:*)
++ 	UNAME_MACHINE_ARCH=`arch | sed 's/OpenBSD.//'`
++-	echo "$UNAME_MACHINE_ARCH"-unknown-openbsd"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE_ARCH-unknown-openbsd$UNAME_RELEASE
+++	;;
+++    *:SecBSD:*:*)
+++	UNAME_MACHINE_ARCH=`arch | sed 's/SecBSD.//'`
+++	GUESS=$UNAME_MACHINE_ARCH-unknown-secbsd$UNAME_RELEASE
+++	;;
++     *:LibertyBSD:*:*)
++ 	UNAME_MACHINE_ARCH=`arch | sed 's/^.*BSD\.//'`
++-	echo "$UNAME_MACHINE_ARCH"-unknown-libertybsd"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE_ARCH-unknown-libertybsd$UNAME_RELEASE
+++	;;
++     *:MidnightBSD:*:*)
++-	echo "$UNAME_MACHINE"-unknown-midnightbsd"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-midnightbsd$UNAME_RELEASE
+++	;;
++     *:ekkoBSD:*:*)
++-	echo "$UNAME_MACHINE"-unknown-ekkobsd"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-ekkobsd$UNAME_RELEASE
+++	;;
++     *:SolidBSD:*:*)
++-	echo "$UNAME_MACHINE"-unknown-solidbsd"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-solidbsd$UNAME_RELEASE
+++	;;
+++    *:OS108:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-os108_$UNAME_RELEASE
+++	;;
++     macppc:MirBSD:*:*)
++-	echo powerpc-unknown-mirbsd"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=powerpc-unknown-mirbsd$UNAME_RELEASE
+++	;;
++     *:MirBSD:*:*)
++-	echo "$UNAME_MACHINE"-unknown-mirbsd"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-mirbsd$UNAME_RELEASE
+++	;;
++     *:Sortix:*:*)
++-	echo "$UNAME_MACHINE"-unknown-sortix
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-sortix
+++	;;
+++    *:Twizzler:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-twizzler
+++	;;
++     *:Redox:*:*)
++-	echo "$UNAME_MACHINE"-unknown-redox
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-redox
+++	;;
++     mips:OSF1:*.*)
++-        echo mips-dec-osf1
++-        exit ;;
+++	GUESS=mips-dec-osf1
+++	;;
++     alpha:OSF1:*:*)
+++	# Reset EXIT trap before exiting to avoid spurious non-zero exit code.
+++	trap '' 0
++ 	case $UNAME_RELEASE in
++ 	*4.0)
++ 		UNAME_RELEASE=`/usr/sbin/sizer -v | awk '{print $3}'`
++@@ -292,7 +335,7 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++ 	# covers most systems running today.  This code pipes the CPU
++ 	# types through head -n 1, so we only detect the type of CPU 0.
++ 	ALPHA_CPU_TYPE=`/usr/sbin/psrinfo -v | sed -n -e 's/^  The alpha \(.*\) processor.*$/\1/p' | head -n 1`
++-	case "$ALPHA_CPU_TYPE" in
+++	case $ALPHA_CPU_TYPE in
++ 	    "EV4 (21064)")
++ 		UNAME_MACHINE=alpha ;;
++ 	    "EV4.5 (21064)")
++@@ -329,112 +372,121 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++ 	# A Tn.n version is a released field test version.
++ 	# A Xn.n version is an unreleased experimental baselevel.
++ 	# 1.2 uses "1.2" for uname -r.
++-	echo "$UNAME_MACHINE"-dec-osf"`echo "$UNAME_RELEASE" | sed -e 's/^[PVTX]//' | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz`"
++-	# Reset EXIT trap before exiting to avoid spurious non-zero exit code.
++-	exitcode=$?
++-	trap '' 0
++-	exit $exitcode ;;
+++	OSF_REL=`echo "$UNAME_RELEASE" | sed -e 's/^[PVTX]//' | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz`
+++	GUESS=$UNAME_MACHINE-dec-osf$OSF_REL
+++	;;
++     Amiga*:UNIX_System_V:4.0:*)
++-	echo m68k-unknown-sysv4
++-	exit ;;
+++	GUESS=m68k-unknown-sysv4
+++	;;
++     *:[Aa]miga[Oo][Ss]:*:*)
++-	echo "$UNAME_MACHINE"-unknown-amigaos
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-amigaos
+++	;;
++     *:[Mm]orph[Oo][Ss]:*:*)
++-	echo "$UNAME_MACHINE"-unknown-morphos
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-morphos
+++	;;
++     *:OS/390:*:*)
++-	echo i370-ibm-openedition
++-	exit ;;
+++	GUESS=i370-ibm-openedition
+++	;;
++     *:z/VM:*:*)
++-	echo s390-ibm-zvmoe
++-	exit ;;
+++	GUESS=s390-ibm-zvmoe
+++	;;
++     *:OS400:*:*)
++-	echo powerpc-ibm-os400
++-	exit ;;
+++	GUESS=powerpc-ibm-os400
+++	;;
++     arm:RISC*:1.[012]*:*|arm:riscix:1.[012]*:*)
++-	echo arm-acorn-riscix"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=arm-acorn-riscix$UNAME_RELEASE
+++	;;
++     arm*:riscos:*:*|arm*:RISCOS:*:*)
++-	echo arm-unknown-riscos
++-	exit ;;
+++	GUESS=arm-unknown-riscos
+++	;;
++     SR2?01:HI-UX/MPP:*:* | SR8000:HI-UX/MPP:*:*)
++-	echo hppa1.1-hitachi-hiuxmpp
++-	exit ;;
+++	GUESS=hppa1.1-hitachi-hiuxmpp
+++	;;
++     Pyramid*:OSx*:*:* | MIS*:OSx*:*:* | MIS*:SMP_DC-OSx*:*:*)
++ 	# akee@wpdis03.wpafb.af.mil (Earle F. Ake) contributed MIS and NILE.
++-	if test "`(/bin/universe) 2>/dev/null`" = att ; then
++-		echo pyramid-pyramid-sysv3
++-	else
++-		echo pyramid-pyramid-bsd
++-	fi
++-	exit ;;
+++	case `(/bin/universe) 2>/dev/null` in
+++	    att) GUESS=pyramid-pyramid-sysv3 ;;
+++	    *)   GUESS=pyramid-pyramid-bsd   ;;
+++	esac
+++	;;
++     NILE*:*:*:dcosx)
++-	echo pyramid-pyramid-svr4
++-	exit ;;
+++	GUESS=pyramid-pyramid-svr4
+++	;;
++     DRS?6000:unix:4.0:6*)
++-	echo sparc-icl-nx6
++-	exit ;;
+++	GUESS=sparc-icl-nx6
+++	;;
++     DRS?6000:UNIX_SV:4.2*:7* | DRS?6000:isis:4.2*:7*)
++ 	case `/usr/bin/uname -p` in
++-	    sparc) echo sparc-icl-nx7; exit ;;
++-	esac ;;
+++	    sparc) GUESS=sparc-icl-nx7 ;;
+++	esac
+++	;;
++     s390x:SunOS:*:*)
++-	echo "$UNAME_MACHINE"-ibm-solaris2"`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`"
++-	exit ;;
+++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
+++	GUESS=$UNAME_MACHINE-ibm-solaris2$SUN_REL
+++	;;
++     sun4H:SunOS:5.*:*)
++-	echo sparc-hal-solaris2"`echo "$UNAME_RELEASE"|sed -e 's/[^.]*//'`"
++-	exit ;;
+++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
+++	GUESS=sparc-hal-solaris2$SUN_REL
+++	;;
++     sun4*:SunOS:5.*:* | tadpole*:SunOS:5.*:*)
++-	echo sparc-sun-solaris2"`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`"
++-	exit ;;
+++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
+++	GUESS=sparc-sun-solaris2$SUN_REL
+++	;;
++     i86pc:AuroraUX:5.*:* | i86xen:AuroraUX:5.*:*)
++-	echo i386-pc-auroraux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=i386-pc-auroraux$UNAME_RELEASE
+++	;;
++     i86pc:SunOS:5.*:* | i86xen:SunOS:5.*:*)
++-	UNAME_REL="`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`"
++-	case `isainfo -b` in
++-	    32)
++-		echo i386-pc-solaris2"$UNAME_REL"
++-		;;
++-	    64)
++-		echo x86_64-pc-solaris2"$UNAME_REL"
++-		;;
++-	esac
++-	exit ;;
+++	set_cc_for_build
+++	SUN_ARCH=i386
+++	# If there is a compiler, see if it is configured for 64-bit objects.
+++	# Note that the Sun cc does not turn __LP64__ into 1 like gcc does.
+++	# This test works for both compilers.
+++	if test "$CC_FOR_BUILD" != no_compiler_found; then
+++	    if (echo '#ifdef __amd64'; echo IS_64BIT_ARCH; echo '#endif') | \
+++		(CCOPTS="" $CC_FOR_BUILD -m64 -E - 2>/dev/null) | \
+++		grep IS_64BIT_ARCH >/dev/null
+++	    then
+++		SUN_ARCH=x86_64
+++	    fi
+++	fi
+++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
+++	GUESS=$SUN_ARCH-pc-solaris2$SUN_REL
+++	;;
++     sun4*:SunOS:6*:*)
++ 	# According to config.sub, this is the proper way to canonicalize
++ 	# SunOS6.  Hard to guess exactly what SunOS6 will be like, but
++ 	# it's likely to be more like Solaris than SunOS4.
++-	echo sparc-sun-solaris3"`echo "$UNAME_RELEASE"|sed -e 's/[^.]*//'`"
++-	exit ;;
+++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
+++	GUESS=sparc-sun-solaris3$SUN_REL
+++	;;
++     sun4*:SunOS:*:*)
++-	case "`/usr/bin/arch -k`" in
+++	case `/usr/bin/arch -k` in
++ 	    Series*|S4*)
++ 		UNAME_RELEASE=`uname -v`
++ 		;;
++ 	esac
++-	# Japanese Language versions have a version number like `4.1.3-JL'.
++-	echo sparc-sun-sunos"`echo "$UNAME_RELEASE"|sed -e 's/-/_/'`"
++-	exit ;;
+++	# Japanese Language versions have a version number like '4.1.3-JL'.
+++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/-/_/'`
+++	GUESS=sparc-sun-sunos$SUN_REL
+++	;;
++     sun3*:SunOS:*:*)
++-	echo m68k-sun-sunos"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-sun-sunos$UNAME_RELEASE
+++	;;
++     sun*:*:4.2BSD:*)
++ 	UNAME_RELEASE=`(sed 1q /etc/motd | awk '{print substr($5,1,3)}') 2>/dev/null`
++ 	test "x$UNAME_RELEASE" = x && UNAME_RELEASE=3
++-	case "`/bin/arch`" in
+++	case `/bin/arch` in
++ 	    sun3)
++-		echo m68k-sun-sunos"$UNAME_RELEASE"
+++		GUESS=m68k-sun-sunos$UNAME_RELEASE
++ 		;;
++ 	    sun4)
++-		echo sparc-sun-sunos"$UNAME_RELEASE"
+++		GUESS=sparc-sun-sunos$UNAME_RELEASE
++ 		;;
++ 	esac
++-	exit ;;
+++	;;
++     aushp:SunOS:*:*)
++-	echo sparc-auspex-sunos"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sparc-auspex-sunos$UNAME_RELEASE
+++	;;
++     # The situation for MiNT is a little confusing.  The machine name
++     # can be virtually everything (everything which is not
++     # "atarist" or "atariste" at least should have a processor
++@@ -444,41 +496,41 @@ case "$UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION" in
++     # MiNT.  But MiNT is downward compatible to TOS, so this should
++     # be no problem.
++     atarist[e]:*MiNT:*:* | atarist[e]:*mint:*:* | atarist[e]:*TOS:*:*)
++-	echo m68k-atari-mint"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-atari-mint$UNAME_RELEASE
+++	;;
++     atari*:*MiNT:*:* | atari*:*mint:*:* | atarist[e]:*TOS:*:*)
++-	echo m68k-atari-mint"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-atari-mint$UNAME_RELEASE
+++	;;
++     *falcon*:*MiNT:*:* | *falcon*:*mint:*:* | *falcon*:*TOS:*:*)
++-	echo m68k-atari-mint"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-atari-mint$UNAME_RELEASE
+++	;;
++     milan*:*MiNT:*:* | milan*:*mint:*:* | *milan*:*TOS:*:*)
++-	echo m68k-milan-mint"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-milan-mint$UNAME_RELEASE
+++	;;
++     hades*:*MiNT:*:* | hades*:*mint:*:* | *hades*:*TOS:*:*)
++-	echo m68k-hades-mint"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-hades-mint$UNAME_RELEASE
+++	;;
++     *:*MiNT:*:* | *:*mint:*:* | *:*TOS:*:*)
++-	echo m68k-unknown-mint"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-unknown-mint$UNAME_RELEASE
+++	;;
++     m68k:machten:*:*)
++-	echo m68k-apple-machten"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-apple-machten$UNAME_RELEASE
+++	;;
++     powerpc:machten:*:*)
++-	echo powerpc-apple-machten"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=powerpc-apple-machten$UNAME_RELEASE
+++	;;
++     RISC*:Mach:*:*)
++-	echo mips-dec-mach_bsd4.3
++-	exit ;;
+++	GUESS=mips-dec-mach_bsd4.3
+++	;;
++     RISC*:ULTRIX:*:*)
++-	echo mips-dec-ultrix"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=mips-dec-ultrix$UNAME_RELEASE
+++	;;
++     VAX*:ULTRIX*:*:*)
++-	echo vax-dec-ultrix"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=vax-dec-ultrix$UNAME_RELEASE
+++	;;
++     2020:CLIX:*:* | 2430:CLIX:*:*)
++-	echo clipper-intergraph-clix"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=clipper-intergraph-clix$UNAME_RELEASE
+++	;;
++     mips:*:*:UMIPS | mips:*:*:RISCos)
++ 	set_cc_for_build
++ 	sed 's/^	//' << EOF > "$dummy.c"
++@@ -506,82 +558,84 @@ EOF
++ 	  dummyarg=`echo "$UNAME_RELEASE" | sed -n 's/\([0-9]*\).*/\1/p'` &&
++ 	  SYSTEM_NAME=`"$dummy" "$dummyarg"` &&
++ 	    { echo "$SYSTEM_NAME"; exit; }
++-	echo mips-mips-riscos"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=mips-mips-riscos$UNAME_RELEASE
+++	;;
++     Motorola:PowerMAX_OS:*:*)
++-	echo powerpc-motorola-powermax
++-	exit ;;
+++	GUESS=powerpc-motorola-powermax
+++	;;
++     Motorola:*:4.3:PL8-*)
++-	echo powerpc-harris-powermax
++-	exit ;;
+++	GUESS=powerpc-harris-powermax
+++	;;
++     Night_Hawk:*:*:PowerMAX_OS | Synergy:PowerMAX_OS:*:*)
++-	echo powerpc-harris-powermax
++-	exit ;;
+++	GUESS=powerpc-harris-powermax
+++	;;
++     Night_Hawk:Power_UNIX:*:*)
++-	echo powerpc-harris-powerunix
++-	exit ;;
+++	GUESS=powerpc-harris-powerunix
+++	;;
++     m88k:CX/UX:7*:*)
++-	echo m88k-harris-cxux7
++-	exit ;;
+++	GUESS=m88k-harris-cxux7
+++	;;
++     m88k:*:4*:R4*)
++-	echo m88k-motorola-sysv4
++-	exit ;;
+++	GUESS=m88k-motorola-sysv4
+++	;;
++     m88k:*:3*:R3*)
++-	echo m88k-motorola-sysv3
++-	exit ;;
+++	GUESS=m88k-motorola-sysv3
+++	;;
++     AViiON:dgux:*:*)
++ 	# DG/UX returns AViiON for all architectures
++ 	UNAME_PROCESSOR=`/usr/bin/uname -p`
++-	if [ "$UNAME_PROCESSOR" = mc88100 ] || [ "$UNAME_PROCESSOR" = mc88110 ]
+++	if test "$UNAME_PROCESSOR" = mc88100 || test "$UNAME_PROCESSOR" = mc88110
++ 	then
++-	    if [ "$TARGET_BINARY_INTERFACE"x = m88kdguxelfx ] || \
++-	       [ "$TARGET_BINARY_INTERFACE"x = x ]
+++	    if test "$TARGET_BINARY_INTERFACE"x = m88kdguxelfx || \
+++	       test "$TARGET_BINARY_INTERFACE"x = x
++ 	    then
++-		echo m88k-dg-dgux"$UNAME_RELEASE"
+++		GUESS=m88k-dg-dgux$UNAME_RELEASE
++ 	    else
++-		echo m88k-dg-dguxbcs"$UNAME_RELEASE"
+++		GUESS=m88k-dg-dguxbcs$UNAME_RELEASE
++ 	    fi
++ 	else
++-	    echo i586-dg-dgux"$UNAME_RELEASE"
+++	    GUESS=i586-dg-dgux$UNAME_RELEASE
++ 	fi
++-	exit ;;
+++	;;
++     M88*:DolphinOS:*:*)	# DolphinOS (SVR3)
++-	echo m88k-dolphin-sysv3
++-	exit ;;
+++	GUESS=m88k-dolphin-sysv3
+++	;;
++     M88*:*:R3*:*)
++ 	# Delta 88k system running SVR3
++-	echo m88k-motorola-sysv3
++-	exit ;;
+++	GUESS=m88k-motorola-sysv3
+++	;;
++     XD88*:*:*:*) # Tektronix XD88 system running UTekV (SVR3)
++-	echo m88k-tektronix-sysv3
++-	exit ;;
+++	GUESS=m88k-tektronix-sysv3
+++	;;
++     Tek43[0-9][0-9]:UTek:*:*) # Tektronix 4300 system running UTek (BSD)
++-	echo m68k-tektronix-bsd
++-	exit ;;
+++	GUESS=m68k-tektronix-bsd
+++	;;
++     *:IRIX*:*:*)
++-	echo mips-sgi-irix"`echo "$UNAME_RELEASE"|sed -e 's/-/_/g'`"
++-	exit ;;
+++	IRIX_REL=`echo "$UNAME_RELEASE" | sed -e 's/-/_/g'`
+++	GUESS=mips-sgi-irix$IRIX_REL
+++	;;
++     ????????:AIX?:[12].1:2)   # AIX 2.2.1 or AIX 2.1.1 is RT/PC AIX.
++-	echo romp-ibm-aix     # uname -m gives an 8 hex-code CPU id
++-	exit ;;               # Note that: echo "'`uname -s`'" gives 'AIX '
+++	GUESS=romp-ibm-aix    # uname -m gives an 8 hex-code CPU id
+++	;;                    # Note that: echo "'`uname -s`'" gives 'AIX '
++     i*86:AIX:*:*)
++-	echo i386-ibm-aix
++-	exit ;;
+++	GUESS=i386-ibm-aix
+++	;;
++     ia64:AIX:*:*)
++-	if [ -x /usr/bin/oslevel ] ; then
+++	if test -x /usr/bin/oslevel ; then
++ 		IBM_REV=`/usr/bin/oslevel`
++ 	else
++-		IBM_REV="$UNAME_VERSION.$UNAME_RELEASE"
+++		IBM_REV=$UNAME_VERSION.$UNAME_RELEASE
++ 	fi
++-	echo "$UNAME_MACHINE"-ibm-aix"$IBM_REV"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-ibm-aix$IBM_REV
+++	;;
++     *:AIX:2:3)
++ 	if grep bos325 /usr/include/stdio.h >/dev/null 2>&1; then
++ 		set_cc_for_build
++ 		sed 's/^		//' << EOF > "$dummy.c"
++ 		#include <sys/systemcfg.h>
++ 
++-		main()
+++		int
+++		main ()
++ 			{
++ 			if (!__power_pc())
++ 				exit(1);
++@@ -591,16 +645,16 @@ EOF
++ EOF
++ 		if $CC_FOR_BUILD -o "$dummy" "$dummy.c" && SYSTEM_NAME=`"$dummy"`
++ 		then
++-			echo "$SYSTEM_NAME"
+++			GUESS=$SYSTEM_NAME
++ 		else
++-			echo rs6000-ibm-aix3.2.5
+++			GUESS=rs6000-ibm-aix3.2.5
++ 		fi
++ 	elif grep bos324 /usr/include/stdio.h >/dev/null 2>&1; then
++-		echo rs6000-ibm-aix3.2.4
+++		GUESS=rs6000-ibm-aix3.2.4
++ 	else
++-		echo rs6000-ibm-aix3.2
+++		GUESS=rs6000-ibm-aix3.2
++ 	fi
++-	exit ;;
+++	;;
++     *:AIX:*:[4567])
++ 	IBM_CPU_ID=`/usr/sbin/lsdev -C -c processor -S available | sed 1q | awk '{ print $1 }'`
++ 	if /usr/sbin/lsattr -El "$IBM_CPU_ID" | grep ' POWER' >/dev/null 2>&1; then
++@@ -608,56 +662,56 @@ EOF
++ 	else
++ 		IBM_ARCH=powerpc
++ 	fi
++-	if [ -x /usr/bin/lslpp ] ; then
++-		IBM_REV=`/usr/bin/lslpp -Lqc bos.rte.libc |
+++	if test -x /usr/bin/lslpp ; then
+++		IBM_REV=`/usr/bin/lslpp -Lqc bos.rte.libc | \
++ 			   awk -F: '{ print $3 }' | sed s/[0-9]*$/0/`
++ 	else
++-		IBM_REV="$UNAME_VERSION.$UNAME_RELEASE"
+++		IBM_REV=$UNAME_VERSION.$UNAME_RELEASE
++ 	fi
++-	echo "$IBM_ARCH"-ibm-aix"$IBM_REV"
++-	exit ;;
+++	GUESS=$IBM_ARCH-ibm-aix$IBM_REV
+++	;;
++     *:AIX:*:*)
++-	echo rs6000-ibm-aix
++-	exit ;;
+++	GUESS=rs6000-ibm-aix
+++	;;
++     ibmrt:4.4BSD:*|romp-ibm:4.4BSD:*)
++-	echo romp-ibm-bsd4.4
++-	exit ;;
+++	GUESS=romp-ibm-bsd4.4
+++	;;
++     ibmrt:*BSD:*|romp-ibm:BSD:*)            # covers RT/PC BSD and
++-	echo romp-ibm-bsd"$UNAME_RELEASE"   # 4.3 with uname added to
++-	exit ;;                             # report: romp-ibm BSD 4.3
+++	GUESS=romp-ibm-bsd$UNAME_RELEASE    # 4.3 with uname added to
+++	;;                                  # report: romp-ibm BSD 4.3
++     *:BOSX:*:*)
++-	echo rs6000-bull-bosx
++-	exit ;;
+++	GUESS=rs6000-bull-bosx
+++	;;
++     DPX/2?00:B.O.S.:*:*)
++-	echo m68k-bull-sysv3
++-	exit ;;
+++	GUESS=m68k-bull-sysv3
+++	;;
++     9000/[34]??:4.3bsd:1.*:*)
++-	echo m68k-hp-bsd
++-	exit ;;
+++	GUESS=m68k-hp-bsd
+++	;;
++     hp300:4.4BSD:*:* | 9000/[34]??:4.3bsd:2.*:*)
++-	echo m68k-hp-bsd4.4
++-	exit ;;
+++	GUESS=m68k-hp-bsd4.4
+++	;;
++     9000/[34678]??:HP-UX:*:*)
++-	HPUX_REV=`echo "$UNAME_RELEASE"|sed -e 's/[^.]*.[0B]*//'`
++-	case "$UNAME_MACHINE" in
+++	HPUX_REV=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*.[0B]*//'`
+++	case $UNAME_MACHINE in
++ 	    9000/31?)            HP_ARCH=m68000 ;;
++ 	    9000/[34]??)         HP_ARCH=m68k ;;
++ 	    9000/[678][0-9][0-9])
++-		if [ -x /usr/bin/getconf ]; then
+++		if test -x /usr/bin/getconf; then
++ 		    sc_cpu_version=`/usr/bin/getconf SC_CPU_VERSION 2>/dev/null`
++ 		    sc_kernel_bits=`/usr/bin/getconf SC_KERNEL_BITS 2>/dev/null`
++-		    case "$sc_cpu_version" in
+++		    case $sc_cpu_version in
++ 		      523) HP_ARCH=hppa1.0 ;; # CPU_PA_RISC1_0
++ 		      528) HP_ARCH=hppa1.1 ;; # CPU_PA_RISC1_1
++ 		      532)                      # CPU_PA_RISC2_0
++-			case "$sc_kernel_bits" in
+++			case $sc_kernel_bits in
++ 			  32) HP_ARCH=hppa2.0n ;;
++ 			  64) HP_ARCH=hppa2.0w ;;
++ 			  '') HP_ARCH=hppa2.0 ;;   # HP-UX 10.20
++ 			esac ;;
++ 		    esac
++ 		fi
++-		if [ "$HP_ARCH" = "" ]; then
+++		if test "$HP_ARCH" = ""; then
++ 		    set_cc_for_build
++ 		    sed 's/^		//' << EOF > "$dummy.c"
++ 
++@@ -665,7 +719,8 @@ EOF
++ 		#include <stdlib.h>
++ 		#include <unistd.h>
++ 
++-		int main ()
+++		int
+++		main ()
++ 		{
++ 		#if defined(_SC_KERNEL_BITS)
++ 		    long bits = sysconf(_SC_KERNEL_BITS);
++@@ -696,7 +751,7 @@ EOF
++ 		    test -z "$HP_ARCH" && HP_ARCH=hppa
++ 		fi ;;
++ 	esac
++-	if [ "$HP_ARCH" = hppa2.0w ]
+++	if test "$HP_ARCH" = hppa2.0w
++ 	then
++ 	    set_cc_for_build
++ 
++@@ -717,12 +772,12 @@ EOF
++ 		HP_ARCH=hppa64
++ 	    fi
++ 	fi
++-	echo "$HP_ARCH"-hp-hpux"$HPUX_REV"
++-	exit ;;
+++	GUESS=$HP_ARCH-hp-hpux$HPUX_REV
+++	;;
++     ia64:HP-UX:*:*)
++-	HPUX_REV=`echo "$UNAME_RELEASE"|sed -e 's/[^.]*.[0B]*//'`
++-	echo ia64-hp-hpux"$HPUX_REV"
++-	exit ;;
+++	HPUX_REV=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*.[0B]*//'`
+++	GUESS=ia64-hp-hpux$HPUX_REV
+++	;;
++     3050*:HI-UX:*:*)
++ 	set_cc_for_build
++ 	sed 's/^	//' << EOF > "$dummy.c"
++@@ -752,36 +807,36 @@ EOF
++ EOF
++ 	$CC_FOR_BUILD -o "$dummy" "$dummy.c" && SYSTEM_NAME=`"$dummy"` &&
++ 		{ echo "$SYSTEM_NAME"; exit; }
++-	echo unknown-hitachi-hiuxwe2
++-	exit ;;
+++	GUESS=unknown-hitachi-hiuxwe2
+++	;;
++     9000/7??:4.3bsd:*:* | 9000/8?[79]:4.3bsd:*:*)
++-	echo hppa1.1-hp-bsd
++-	exit ;;
+++	GUESS=hppa1.1-hp-bsd
+++	;;
++     9000/8??:4.3bsd:*:*)
++-	echo hppa1.0-hp-bsd
++-	exit ;;
+++	GUESS=hppa1.0-hp-bsd
+++	;;
++     *9??*:MPE/iX:*:* | *3000*:MPE/iX:*:*)
++-	echo hppa1.0-hp-mpeix
++-	exit ;;
+++	GUESS=hppa1.0-hp-mpeix
+++	;;
++     hp7??:OSF1:*:* | hp8?[79]:OSF1:*:*)
++-	echo hppa1.1-hp-osf
++-	exit ;;
+++	GUESS=hppa1.1-hp-osf
+++	;;
++     hp8??:OSF1:*:*)
++-	echo hppa1.0-hp-osf
++-	exit ;;
+++	GUESS=hppa1.0-hp-osf
+++	;;
++     i*86:OSF1:*:*)
++-	if [ -x /usr/sbin/sysversion ] ; then
++-	    echo "$UNAME_MACHINE"-unknown-osf1mk
+++	if test -x /usr/sbin/sysversion ; then
+++	    GUESS=$UNAME_MACHINE-unknown-osf1mk
++ 	else
++-	    echo "$UNAME_MACHINE"-unknown-osf1
+++	    GUESS=$UNAME_MACHINE-unknown-osf1
++ 	fi
++-	exit ;;
+++	;;
++     parisc*:Lites*:*:*)
++-	echo hppa1.1-hp-lites
++-	exit ;;
+++	GUESS=hppa1.1-hp-lites
+++	;;
++     C1*:ConvexOS:*:* | convex:ConvexOS:C1*:*)
++-	echo c1-convex-bsd
++-	exit ;;
+++	GUESS=c1-convex-bsd
+++	;;
++     C2*:ConvexOS:*:* | convex:ConvexOS:C2*:*)
++ 	if getsysinfo -f scalar_acc
++ 	then echo c32-convex-bsd
++@@ -789,17 +844,18 @@ EOF
++ 	fi
++ 	exit ;;
++     C34*:ConvexOS:*:* | convex:ConvexOS:C34*:*)
++-	echo c34-convex-bsd
++-	exit ;;
+++	GUESS=c34-convex-bsd
+++	;;
++     C38*:ConvexOS:*:* | convex:ConvexOS:C38*:*)
++-	echo c38-convex-bsd
++-	exit ;;
+++	GUESS=c38-convex-bsd
+++	;;
++     C4*:ConvexOS:*:* | convex:ConvexOS:C4*:*)
++-	echo c4-convex-bsd
++-	exit ;;
+++	GUESS=c4-convex-bsd
+++	;;
++     CRAY*Y-MP:*:*:*)
++-	echo ymp-cray-unicos"$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'
++-	exit ;;
+++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
+++	GUESS=ymp-cray-unicos$CRAY_REL
+++	;;
++     CRAY*[A-Z]90:*:*:*)
++ 	echo "$UNAME_MACHINE"-cray-unicos"$UNAME_RELEASE" \
++ 	| sed -e 's/CRAY.*\([A-Z]90\)/\1/' \
++@@ -807,114 +863,155 @@ EOF
++ 	      -e 's/\.[^.]*$/.X/'
++ 	exit ;;
++     CRAY*TS:*:*:*)
++-	echo t90-cray-unicos"$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'
++-	exit ;;
+++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
+++	GUESS=t90-cray-unicos$CRAY_REL
+++	;;
++     CRAY*T3E:*:*:*)
++-	echo alphaev5-cray-unicosmk"$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'
++-	exit ;;
+++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
+++	GUESS=alphaev5-cray-unicosmk$CRAY_REL
+++	;;
++     CRAY*SV1:*:*:*)
++-	echo sv1-cray-unicos"$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'
++-	exit ;;
+++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
+++	GUESS=sv1-cray-unicos$CRAY_REL
+++	;;
++     *:UNICOS/mp:*:*)
++-	echo craynv-cray-unicosmp"$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'
++-	exit ;;
+++	CRAY_REL=`echo "$UNAME_RELEASE" | sed -e 's/\.[^.]*$/.X/'`
+++	GUESS=craynv-cray-unicosmp$CRAY_REL
+++	;;
++     F30[01]:UNIX_System_V:*:* | F700:UNIX_System_V:*:*)
++ 	FUJITSU_PROC=`uname -m | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz`
++ 	FUJITSU_SYS=`uname -p | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz | sed -e 's/\///'`
++ 	FUJITSU_REL=`echo "$UNAME_RELEASE" | sed -e 's/ /_/'`
++-	echo "${FUJITSU_PROC}-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}"
++-	exit ;;
+++	GUESS=${FUJITSU_PROC}-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}
+++	;;
++     5000:UNIX_System_V:4.*:*)
++ 	FUJITSU_SYS=`uname -p | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz | sed -e 's/\///'`
++ 	FUJITSU_REL=`echo "$UNAME_RELEASE" | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz | sed -e 's/ /_/'`
++-	echo "sparc-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}"
++-	exit ;;
+++	GUESS=sparc-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}
+++	;;
++     i*86:BSD/386:*:* | i*86:BSD/OS:*:* | *:Ascend\ Embedded/OS:*:*)
++-	echo "$UNAME_MACHINE"-pc-bsdi"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-bsdi$UNAME_RELEASE
+++	;;
++     sparc*:BSD/OS:*:*)
++-	echo sparc-unknown-bsdi"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sparc-unknown-bsdi$UNAME_RELEASE
+++	;;
++     *:BSD/OS:*:*)
++-	echo "$UNAME_MACHINE"-unknown-bsdi"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-bsdi$UNAME_RELEASE
+++	;;
++     arm:FreeBSD:*:*)
++ 	UNAME_PROCESSOR=`uname -p`
++ 	set_cc_for_build
++ 	if echo __ARM_PCS_VFP | $CC_FOR_BUILD -E - 2>/dev/null \
++ 	    | grep -q __ARM_PCS_VFP
++ 	then
++-	    echo "${UNAME_PROCESSOR}"-unknown-freebsd"`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'`"-gnueabi
+++	    FREEBSD_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
+++	    GUESS=$UNAME_PROCESSOR-unknown-freebsd$FREEBSD_REL-gnueabi
++ 	else
++-	    echo "${UNAME_PROCESSOR}"-unknown-freebsd"`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'`"-gnueabihf
+++	    FREEBSD_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
+++	    GUESS=$UNAME_PROCESSOR-unknown-freebsd$FREEBSD_REL-gnueabihf
++ 	fi
++-	exit ;;
+++	;;
++     *:FreeBSD:*:*)
++-	UNAME_PROCESSOR=`/usr/bin/uname -p`
++-	case "$UNAME_PROCESSOR" in
+++	UNAME_PROCESSOR=`uname -p`
+++	case $UNAME_PROCESSOR in
++ 	    amd64)
++ 		UNAME_PROCESSOR=x86_64 ;;
++ 	    i386)
++ 		UNAME_PROCESSOR=i586 ;;
++ 	esac
++-	echo "$UNAME_PROCESSOR"-unknown-freebsd"`echo "$UNAME_RELEASE"|sed -e 's/[-(].*//'`"
++-	exit ;;
+++	FREEBSD_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
+++	GUESS=$UNAME_PROCESSOR-unknown-freebsd$FREEBSD_REL
+++	;;
++     i*:CYGWIN*:*)
++-	echo "$UNAME_MACHINE"-pc-cygwin
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-cygwin
+++	;;
++     *:MINGW64*:*)
++-	echo "$UNAME_MACHINE"-pc-mingw64
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-mingw64
+++	;;
++     *:MINGW*:*)
++-	echo "$UNAME_MACHINE"-pc-mingw32
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-mingw32
+++	;;
++     *:MSYS*:*)
++-	echo "$UNAME_MACHINE"-pc-msys
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-msys
+++	;;
++     i*:PW*:*)
++-	echo "$UNAME_MACHINE"-pc-pw32
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-pw32
+++	;;
+++    *:SerenityOS:*:*)
+++        GUESS=$UNAME_MACHINE-pc-serenity
+++        ;;
++     *:Interix*:*)
++-	case "$UNAME_MACHINE" in
+++	case $UNAME_MACHINE in
++ 	    x86)
++-		echo i586-pc-interix"$UNAME_RELEASE"
++-		exit ;;
+++		GUESS=i586-pc-interix$UNAME_RELEASE
+++		;;
++ 	    authenticamd | genuineintel | EM64T)
++-		echo x86_64-unknown-interix"$UNAME_RELEASE"
++-		exit ;;
+++		GUESS=x86_64-unknown-interix$UNAME_RELEASE
+++		;;
++ 	    IA64)
++-		echo ia64-unknown-interix"$UNAME_RELEASE"
++-		exit ;;
+++		GUESS=ia64-unknown-interix$UNAME_RELEASE
+++		;;
++ 	esac ;;
++     i*:UWIN*:*)
++-	echo "$UNAME_MACHINE"-pc-uwin
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-uwin
+++	;;
++     amd64:CYGWIN*:*:* | x86_64:CYGWIN*:*:*)
++-	echo x86_64-unknown-cygwin
++-	exit ;;
+++	GUESS=x86_64-pc-cygwin
+++	;;
++     prep*:SunOS:5.*:*)
++-	echo powerpcle-unknown-solaris2"`echo "$UNAME_RELEASE"|sed -e 's/[^.]*//'`"
++-	exit ;;
+++	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/[^.]*//'`
+++	GUESS=powerpcle-unknown-solaris2$SUN_REL
+++	;;
++     *:GNU:*:*)
++ 	# the GNU system
++-	echo "`echo "$UNAME_MACHINE"|sed -e 's,[-/].*$,,'`-unknown-$LIBC`echo "$UNAME_RELEASE"|sed -e 's,/.*$,,'`"
++-	exit ;;
+++	GNU_ARCH=`echo "$UNAME_MACHINE" | sed -e 's,[-/].*$,,'`
+++	GNU_REL=`echo "$UNAME_RELEASE" | sed -e 's,/.*$,,'`
+++	GUESS=$GNU_ARCH-unknown-$LIBC$GNU_REL
+++	;;
++     *:GNU/*:*:*)
++ 	# other systems with GNU libc and userland
++-	echo "$UNAME_MACHINE-unknown-`echo "$UNAME_SYSTEM" | sed 's,^[^/]*/,,' | tr "[:upper:]" "[:lower:]"``echo "$UNAME_RELEASE"|sed -e 's/[-(].*//'`-$LIBC"
++-	exit ;;
+++	GNU_SYS=`echo "$UNAME_SYSTEM" | sed 's,^[^/]*/,,' | tr "[:upper:]" "[:lower:]"`
+++	GNU_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
+++	GUESS=$UNAME_MACHINE-unknown-$GNU_SYS$GNU_REL-$LIBC
+++	;;
+++    x86_64:[Mm]anagarm:*:*|i?86:[Mm]anagarm:*:*)
+++	GUESS="$UNAME_MACHINE-pc-managarm-mlibc"
+++	;;
+++    *:[Mm]anagarm:*:*)
+++	GUESS="$UNAME_MACHINE-unknown-managarm-mlibc"
+++	;;
++     *:Minix:*:*)
++-	echo "$UNAME_MACHINE"-unknown-minix
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-minix
+++	;;
++     aarch64:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	set_cc_for_build
+++	CPU=$UNAME_MACHINE
+++	LIBCABI=$LIBC
+++	if test "$CC_FOR_BUILD" != no_compiler_found; then
+++	    ABI=64
+++	    sed 's/^	    //' << EOF > "$dummy.c"
+++	    #ifdef __ARM_EABI__
+++	    #ifdef __ARM_PCS_VFP
+++	    ABI=eabihf
+++	    #else
+++	    ABI=eabi
+++	    #endif
+++	    #endif
+++EOF
+++	    cc_set_abi=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^ABI' | sed 's, ,,g'`
+++	    eval "$cc_set_abi"
+++	    case $ABI in
+++		eabi | eabihf) CPU=armv8l; LIBCABI=$LIBC$ABI ;;
+++	    esac
+++	fi
+++	GUESS=$CPU-unknown-linux-$LIBCABI
+++	;;
++     aarch64_be:Linux:*:*)
++ 	UNAME_MACHINE=aarch64_be
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     alpha:Linux:*:*)
++-	case `sed -n '/^cpu model/s/^.*: \(.*\)/\1/p' < /proc/cpuinfo` in
+++	case `sed -n '/^cpu model/s/^.*: \(.*\)/\1/p' /proc/cpuinfo 2>/dev/null` in
++ 	  EV5)   UNAME_MACHINE=alphaev5 ;;
++ 	  EV56)  UNAME_MACHINE=alphaev56 ;;
++ 	  PCA56) UNAME_MACHINE=alphapca56 ;;
++@@ -925,183 +1022,245 @@ EOF
++ 	esac
++ 	objdump --private-headers /bin/sh | grep -q ld.so.1
++ 	if test "$?" = 0 ; then LIBC=gnulibc1 ; fi
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
++-    arc:Linux:*:* | arceb:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
+++    arc:Linux:*:* | arceb:Linux:*:* | arc32:Linux:*:* | arc64:Linux:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     arm*:Linux:*:*)
++ 	set_cc_for_build
++ 	if echo __ARM_EABI__ | $CC_FOR_BUILD -E - 2>/dev/null \
++ 	    | grep -q __ARM_EABI__
++ 	then
++-	    echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
+++	    GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
++ 	else
++ 	    if echo __ARM_PCS_VFP | $CC_FOR_BUILD -E - 2>/dev/null \
++ 		| grep -q __ARM_PCS_VFP
++ 	    then
++-		echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"eabi
+++		GUESS=$UNAME_MACHINE-unknown-linux-${LIBC}eabi
++ 	    else
++-		echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"eabihf
+++		GUESS=$UNAME_MACHINE-unknown-linux-${LIBC}eabihf
++ 	    fi
++ 	fi
++-	exit ;;
+++	;;
++     avr32*:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     cris:Linux:*:*)
++-	echo "$UNAME_MACHINE"-axis-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-axis-linux-$LIBC
+++	;;
++     crisv32:Linux:*:*)
++-	echo "$UNAME_MACHINE"-axis-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-axis-linux-$LIBC
+++	;;
++     e2k:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     frv:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     hexagon:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     i*86:Linux:*:*)
++-	echo "$UNAME_MACHINE"-pc-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-linux-$LIBC
+++	;;
++     ia64:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     k1om:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
+++    kvx:Linux:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
+++    kvx:cos:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-cos
+++	;;
+++    kvx:mbr:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-mbr
+++	;;
+++    loongarch32:Linux:*:* | loongarch64:Linux:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     m32r*:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     m68*:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     mips:Linux:*:* | mips64:Linux:*:*)
++ 	set_cc_for_build
+++	IS_GLIBC=0
+++	test x"${LIBC}" = xgnu && IS_GLIBC=1
++ 	sed 's/^	//' << EOF > "$dummy.c"
++ 	#undef CPU
++-	#undef ${UNAME_MACHINE}
++-	#undef ${UNAME_MACHINE}el
+++	#undef mips
+++	#undef mipsel
+++	#undef mips64
+++	#undef mips64el
+++	#if ${IS_GLIBC} && defined(_ABI64)
+++	LIBCABI=gnuabi64
+++	#else
+++	#if ${IS_GLIBC} && defined(_ABIN32)
+++	LIBCABI=gnuabin32
+++	#else
+++	LIBCABI=${LIBC}
+++	#endif
+++	#endif
+++
+++	#if ${IS_GLIBC} && defined(__mips64) && defined(__mips_isa_rev) && __mips_isa_rev>=6
+++	CPU=mipsisa64r6
+++	#else
+++	#if ${IS_GLIBC} && !defined(__mips64) && defined(__mips_isa_rev) && __mips_isa_rev>=6
+++	CPU=mipsisa32r6
+++	#else
+++	#if defined(__mips64)
+++	CPU=mips64
+++	#else
+++	CPU=mips
+++	#endif
+++	#endif
+++	#endif
+++
++ 	#if defined(__MIPSEL__) || defined(__MIPSEL) || defined(_MIPSEL) || defined(MIPSEL)
++-	CPU=${UNAME_MACHINE}el
+++	MIPS_ENDIAN=el
++ 	#else
++ 	#if defined(__MIPSEB__) || defined(__MIPSEB) || defined(_MIPSEB) || defined(MIPSEB)
++-	CPU=${UNAME_MACHINE}
+++	MIPS_ENDIAN=
++ 	#else
++-	CPU=
+++	MIPS_ENDIAN=
++ 	#endif
++ 	#endif
++ EOF
++-	eval "`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^CPU'`"
++-	test "x$CPU" != x && { echo "$CPU-unknown-linux-$LIBC"; exit; }
+++	cc_set_vars=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^CPU\|^MIPS_ENDIAN\|^LIBCABI'`
+++	eval "$cc_set_vars"
+++	test "x$CPU" != x && { echo "$CPU${MIPS_ENDIAN}-unknown-linux-$LIBCABI"; exit; }
++ 	;;
++     mips64el:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     openrisc*:Linux:*:*)
++-	echo or1k-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=or1k-unknown-linux-$LIBC
+++	;;
++     or32:Linux:*:* | or1k*:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     padre:Linux:*:*)
++-	echo sparc-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=sparc-unknown-linux-$LIBC
+++	;;
++     parisc64:Linux:*:* | hppa64:Linux:*:*)
++-	echo hppa64-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=hppa64-unknown-linux-$LIBC
+++	;;
++     parisc:Linux:*:* | hppa:Linux:*:*)
++ 	# Look for CPU level
++ 	case `grep '^cpu[^a-z]*:' /proc/cpuinfo 2>/dev/null | cut -d' ' -f2` in
++-	  PA7*) echo hppa1.1-unknown-linux-"$LIBC" ;;
++-	  PA8*) echo hppa2.0-unknown-linux-"$LIBC" ;;
++-	  *)    echo hppa-unknown-linux-"$LIBC" ;;
+++	  PA7*) GUESS=hppa1.1-unknown-linux-$LIBC ;;
+++	  PA8*) GUESS=hppa2.0-unknown-linux-$LIBC ;;
+++	  *)    GUESS=hppa-unknown-linux-$LIBC ;;
++ 	esac
++-	exit ;;
+++	;;
++     ppc64:Linux:*:*)
++-	echo powerpc64-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=powerpc64-unknown-linux-$LIBC
+++	;;
++     ppc:Linux:*:*)
++-	echo powerpc-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=powerpc-unknown-linux-$LIBC
+++	;;
++     ppc64le:Linux:*:*)
++-	echo powerpc64le-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=powerpc64le-unknown-linux-$LIBC
+++	;;
++     ppcle:Linux:*:*)
++-	echo powerpcle-unknown-linux-"$LIBC"
++-	exit ;;
++-    riscv32:Linux:*:* | riscv64:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=powerpcle-unknown-linux-$LIBC
+++	;;
+++    riscv32:Linux:*:* | riscv32be:Linux:*:* | riscv64:Linux:*:* | riscv64be:Linux:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     s390:Linux:*:* | s390x:Linux:*:*)
++-	echo "$UNAME_MACHINE"-ibm-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-ibm-linux-$LIBC
+++	;;
++     sh64*:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     sh*:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     sparc:Linux:*:* | sparc64:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     tile*:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     vax:Linux:*:*)
++-	echo "$UNAME_MACHINE"-dec-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-dec-linux-$LIBC
+++	;;
++     x86_64:Linux:*:*)
++-	echo "$UNAME_MACHINE"-pc-linux-"$LIBC"
++-	exit ;;
+++	set_cc_for_build
+++	CPU=$UNAME_MACHINE
+++	LIBCABI=$LIBC
+++	if test "$CC_FOR_BUILD" != no_compiler_found; then
+++	    ABI=64
+++	    sed 's/^	    //' << EOF > "$dummy.c"
+++	    #ifdef __i386__
+++	    ABI=x86
+++	    #else
+++	    #ifdef __ILP32__
+++	    ABI=x32
+++	    #endif
+++	    #endif
+++EOF
+++	    cc_set_abi=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^ABI' | sed 's, ,,g'`
+++	    eval "$cc_set_abi"
+++	    case $ABI in
+++		x86) CPU=i686 ;;
+++		x32) LIBCABI=${LIBC}x32 ;;
+++	    esac
+++	fi
+++	GUESS=$CPU-pc-linux-$LIBCABI
+++	;;
++     xtensa*:Linux:*:*)
++-	echo "$UNAME_MACHINE"-unknown-linux-"$LIBC"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
+++	;;
++     i*86:DYNIX/ptx:4*:*)
++ 	# ptx 4.0 does uname -s correctly, with DYNIX/ptx in there.
++ 	# earlier versions are messed up and put the nodename in both
++ 	# sysname and nodename.
++-	echo i386-sequent-sysv4
++-	exit ;;
+++	GUESS=i386-sequent-sysv4
+++	;;
++     i*86:UNIX_SV:4.2MP:2.*)
++ 	# Unixware is an offshoot of SVR4, but it has its own version
++ 	# number series starting with 2...
++ 	# I am not positive that other SVR4 systems won't match this,
++ 	# I just have to hope.  -- rms.
++ 	# Use sysv4.2uw... so that sysv4* matches it.
++-	echo "$UNAME_MACHINE"-pc-sysv4.2uw"$UNAME_VERSION"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-sysv4.2uw$UNAME_VERSION
+++	;;
++     i*86:OS/2:*:*)
++-	# If we were able to find `uname', then EMX Unix compatibility
+++	# If we were able to find 'uname', then EMX Unix compatibility
++ 	# is probably installed.
++-	echo "$UNAME_MACHINE"-pc-os2-emx
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-os2-emx
+++	;;
++     i*86:XTS-300:*:STOP)
++-	echo "$UNAME_MACHINE"-unknown-stop
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-stop
+++	;;
++     i*86:atheos:*:*)
++-	echo "$UNAME_MACHINE"-unknown-atheos
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-atheos
+++	;;
++     i*86:syllable:*:*)
++-	echo "$UNAME_MACHINE"-pc-syllable
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-syllable
+++	;;
++     i*86:LynxOS:2.*:* | i*86:LynxOS:3.[01]*:* | i*86:LynxOS:4.[02]*:*)
++-	echo i386-unknown-lynxos"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=i386-unknown-lynxos$UNAME_RELEASE
+++	;;
++     i*86:*DOS:*:*)
++-	echo "$UNAME_MACHINE"-pc-msdosdjgpp
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-msdosdjgpp
+++	;;
++     i*86:*:4.*:*)
++ 	UNAME_REL=`echo "$UNAME_RELEASE" | sed 's/\/MP$//'`
++ 	if grep Novell /usr/include/link.h >/dev/null 2>/dev/null; then
++-		echo "$UNAME_MACHINE"-univel-sysv"$UNAME_REL"
+++		GUESS=$UNAME_MACHINE-univel-sysv$UNAME_REL
++ 	else
++-		echo "$UNAME_MACHINE"-pc-sysv"$UNAME_REL"
+++		GUESS=$UNAME_MACHINE-pc-sysv$UNAME_REL
++ 	fi
++-	exit ;;
+++	;;
++     i*86:*:5:[678]*)
++ 	# UnixWare 7.x, OpenUNIX and OpenServer 6.
++ 	case `/bin/uname -X | grep "^Machine"` in
++@@ -1109,12 +1268,12 @@ EOF
++ 	    *Pentium)	     UNAME_MACHINE=i586 ;;
++ 	    *Pent*|*Celeron) UNAME_MACHINE=i686 ;;
++ 	esac
++-	echo "$UNAME_MACHINE-unknown-sysv${UNAME_RELEASE}${UNAME_SYSTEM}{$UNAME_VERSION}"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-sysv${UNAME_RELEASE}${UNAME_SYSTEM}${UNAME_VERSION}
+++	;;
++     i*86:*:3.2:*)
++ 	if test -f /usr/options/cb.name; then
++ 		UNAME_REL=`sed -n 's/.*Version //p' </usr/options/cb.name`
++-		echo "$UNAME_MACHINE"-pc-isc"$UNAME_REL"
+++		GUESS=$UNAME_MACHINE-pc-isc$UNAME_REL
++ 	elif /bin/uname -X 2>/dev/null >/dev/null ; then
++ 		UNAME_REL=`(/bin/uname -X|grep Release|sed -e 's/.*= //')`
++ 		(/bin/uname -X|grep i80486 >/dev/null) && UNAME_MACHINE=i486
++@@ -1124,11 +1283,11 @@ EOF
++ 			&& UNAME_MACHINE=i686
++ 		(/bin/uname -X|grep '^Machine.*Pentium Pro' >/dev/null) \
++ 			&& UNAME_MACHINE=i686
++-		echo "$UNAME_MACHINE"-pc-sco"$UNAME_REL"
+++		GUESS=$UNAME_MACHINE-pc-sco$UNAME_REL
++ 	else
++-		echo "$UNAME_MACHINE"-pc-sysv32
+++		GUESS=$UNAME_MACHINE-pc-sysv32
++ 	fi
++-	exit ;;
+++	;;
++     pc:*:*:*)
++ 	# Left here for compatibility:
++ 	# uname -m prints for DJGPP always 'pc', but it prints nothing about
++@@ -1136,31 +1295,31 @@ EOF
++ 	# Note: whatever this is, it MUST be the same as what config.sub
++ 	# prints for the "djgpp" host, or else GDB configure will decide that
++ 	# this is a cross-build.
++-	echo i586-pc-msdosdjgpp
++-	exit ;;
+++	GUESS=i586-pc-msdosdjgpp
+++	;;
++     Intel:Mach:3*:*)
++-	echo i386-pc-mach3
++-	exit ;;
+++	GUESS=i386-pc-mach3
+++	;;
++     paragon:*:*:*)
++-	echo i860-intel-osf1
++-	exit ;;
+++	GUESS=i860-intel-osf1
+++	;;
++     i860:*:4.*:*) # i860-SVR4
++ 	if grep Stardent /usr/include/sys/uadmin.h >/dev/null 2>&1 ; then
++-	  echo i860-stardent-sysv"$UNAME_RELEASE" # Stardent Vistra i860-SVR4
+++	  GUESS=i860-stardent-sysv$UNAME_RELEASE    # Stardent Vistra i860-SVR4
++ 	else # Add other i860-SVR4 vendors below as they are discovered.
++-	  echo i860-unknown-sysv"$UNAME_RELEASE"  # Unknown i860-SVR4
+++	  GUESS=i860-unknown-sysv$UNAME_RELEASE     # Unknown i860-SVR4
++ 	fi
++-	exit ;;
+++	;;
++     mini*:CTIX:SYS*5:*)
++ 	# "miniframe"
++-	echo m68010-convergent-sysv
++-	exit ;;
+++	GUESS=m68010-convergent-sysv
+++	;;
++     mc68k:UNIX:SYSTEM5:3.51m)
++-	echo m68k-convergent-sysv
++-	exit ;;
+++	GUESS=m68k-convergent-sysv
+++	;;
++     M680?0:D-NIX:5.3:*)
++-	echo m68k-diab-dnix
++-	exit ;;
+++	GUESS=m68k-diab-dnix
+++	;;
++     M68*:*:R3V[5678]*:*)
++ 	test -r /sysV68 && { echo 'm68k-motorola-sysv'; exit; } ;;
++     3[345]??:*:4.0:3.0 | 3[34]??A:*:4.0:3.0 | 3[34]??,*:*:4.0:3.0 | 3[34]??/*:*:4.0:3.0 | 4400:*:4.0:3.0 | 4850:*:4.0:3.0 | SKA40:*:4.0:3.0 | SDS2:*:4.0:3.0 | SHG2:*:4.0:3.0 | S7501*:*:4.0:3.0)
++@@ -1185,250 +1344,411 @@ EOF
++ 	/bin/uname -p 2>/dev/null | /bin/grep pteron >/dev/null \
++ 	    && { echo i586-ncr-sysv4.3"$OS_REL"; exit; } ;;
++     m68*:LynxOS:2.*:* | m68*:LynxOS:3.0*:*)
++-	echo m68k-unknown-lynxos"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-unknown-lynxos$UNAME_RELEASE
+++	;;
++     mc68030:UNIX_System_V:4.*:*)
++-	echo m68k-atari-sysv4
++-	exit ;;
+++	GUESS=m68k-atari-sysv4
+++	;;
++     TSUNAMI:LynxOS:2.*:*)
++-	echo sparc-unknown-lynxos"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sparc-unknown-lynxos$UNAME_RELEASE
+++	;;
++     rs6000:LynxOS:2.*:*)
++-	echo rs6000-unknown-lynxos"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=rs6000-unknown-lynxos$UNAME_RELEASE
+++	;;
++     PowerPC:LynxOS:2.*:* | PowerPC:LynxOS:3.[01]*:* | PowerPC:LynxOS:4.[02]*:*)
++-	echo powerpc-unknown-lynxos"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=powerpc-unknown-lynxos$UNAME_RELEASE
+++	;;
++     SM[BE]S:UNIX_SV:*:*)
++-	echo mips-dde-sysv"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=mips-dde-sysv$UNAME_RELEASE
+++	;;
++     RM*:ReliantUNIX-*:*:*)
++-	echo mips-sni-sysv4
++-	exit ;;
+++	GUESS=mips-sni-sysv4
+++	;;
++     RM*:SINIX-*:*:*)
++-	echo mips-sni-sysv4
++-	exit ;;
+++	GUESS=mips-sni-sysv4
+++	;;
++     *:SINIX-*:*:*)
++ 	if uname -p 2>/dev/null >/dev/null ; then
++ 		UNAME_MACHINE=`(uname -p) 2>/dev/null`
++-		echo "$UNAME_MACHINE"-sni-sysv4
+++		GUESS=$UNAME_MACHINE-sni-sysv4
++ 	else
++-		echo ns32k-sni-sysv
+++		GUESS=ns32k-sni-sysv
++ 	fi
++-	exit ;;
++-    PENTIUM:*:4.0*:*)	# Unisys `ClearPath HMP IX 4000' SVR4/MP effort
+++	;;
+++    PENTIUM:*:4.0*:*)	# Unisys 'ClearPath HMP IX 4000' SVR4/MP effort
++ 			# says <Richard.M.Bartel@ccMail.Census.GOV>
++-	echo i586-unisys-sysv4
++-	exit ;;
+++	GUESS=i586-unisys-sysv4
+++	;;
++     *:UNIX_System_V:4*:FTX*)
++ 	# From Gerald Hewes <hewes@openmarket.com>.
++ 	# How about differentiating between stratus architectures? -djm
++-	echo hppa1.1-stratus-sysv4
++-	exit ;;
+++	GUESS=hppa1.1-stratus-sysv4
+++	;;
++     *:*:*:FTX*)
++ 	# From seanf@swdc.stratus.com.
++-	echo i860-stratus-sysv4
++-	exit ;;
+++	GUESS=i860-stratus-sysv4
+++	;;
++     i*86:VOS:*:*)
++ 	# From Paul.Green@stratus.com.
++-	echo "$UNAME_MACHINE"-stratus-vos
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-stratus-vos
+++	;;
++     *:VOS:*:*)
++ 	# From Paul.Green@stratus.com.
++-	echo hppa1.1-stratus-vos
++-	exit ;;
+++	GUESS=hppa1.1-stratus-vos
+++	;;
++     mc68*:A/UX:*:*)
++-	echo m68k-apple-aux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=m68k-apple-aux$UNAME_RELEASE
+++	;;
++     news*:NEWS-OS:6*:*)
++-	echo mips-sony-newsos6
++-	exit ;;
+++	GUESS=mips-sony-newsos6
+++	;;
++     R[34]000:*System_V*:*:* | R4000:UNIX_SYSV:*:* | R*000:UNIX_SV:*:*)
++-	if [ -d /usr/nec ]; then
++-		echo mips-nec-sysv"$UNAME_RELEASE"
+++	if test -d /usr/nec; then
+++		GUESS=mips-nec-sysv$UNAME_RELEASE
++ 	else
++-		echo mips-unknown-sysv"$UNAME_RELEASE"
+++		GUESS=mips-unknown-sysv$UNAME_RELEASE
++ 	fi
++-	exit ;;
+++	;;
++     BeBox:BeOS:*:*)	# BeOS running on hardware made by Be, PPC only.
++-	echo powerpc-be-beos
++-	exit ;;
+++	GUESS=powerpc-be-beos
+++	;;
++     BeMac:BeOS:*:*)	# BeOS running on Mac or Mac clone, PPC only.
++-	echo powerpc-apple-beos
++-	exit ;;
+++	GUESS=powerpc-apple-beos
+++	;;
++     BePC:BeOS:*:*)	# BeOS running on Intel PC compatible.
++-	echo i586-pc-beos
++-	exit ;;
+++	GUESS=i586-pc-beos
+++	;;
++     BePC:Haiku:*:*)	# Haiku running on Intel PC compatible.
++-	echo i586-pc-haiku
++-	exit ;;
++-    x86_64:Haiku:*:*)
++-	echo x86_64-unknown-haiku
++-	exit ;;
+++	GUESS=i586-pc-haiku
+++	;;
+++    ppc:Haiku:*:*)	# Haiku running on Apple PowerPC
+++	GUESS=powerpc-apple-haiku
+++	;;
+++    *:Haiku:*:*)	# Haiku modern gcc (not bound by BeOS compat)
+++	GUESS=$UNAME_MACHINE-unknown-haiku
+++	;;
++     SX-4:SUPER-UX:*:*)
++-	echo sx4-nec-superux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sx4-nec-superux$UNAME_RELEASE
+++	;;
++     SX-5:SUPER-UX:*:*)
++-	echo sx5-nec-superux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sx5-nec-superux$UNAME_RELEASE
+++	;;
++     SX-6:SUPER-UX:*:*)
++-	echo sx6-nec-superux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sx6-nec-superux$UNAME_RELEASE
+++	;;
++     SX-7:SUPER-UX:*:*)
++-	echo sx7-nec-superux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sx7-nec-superux$UNAME_RELEASE
+++	;;
++     SX-8:SUPER-UX:*:*)
++-	echo sx8-nec-superux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sx8-nec-superux$UNAME_RELEASE
+++	;;
++     SX-8R:SUPER-UX:*:*)
++-	echo sx8r-nec-superux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sx8r-nec-superux$UNAME_RELEASE
+++	;;
++     SX-ACE:SUPER-UX:*:*)
++-	echo sxace-nec-superux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=sxace-nec-superux$UNAME_RELEASE
+++	;;
++     Power*:Rhapsody:*:*)
++-	echo powerpc-apple-rhapsody"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=powerpc-apple-rhapsody$UNAME_RELEASE
+++	;;
++     *:Rhapsody:*:*)
++-	echo "$UNAME_MACHINE"-apple-rhapsody"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-apple-rhapsody$UNAME_RELEASE
+++	;;
+++    arm64:Darwin:*:*)
+++	GUESS=aarch64-apple-darwin$UNAME_RELEASE
+++	;;
++     *:Darwin:*:*)
++-	UNAME_PROCESSOR=`uname -p` || UNAME_PROCESSOR=unknown
++-	set_cc_for_build
++-	if test "$UNAME_PROCESSOR" = unknown ; then
++-	    UNAME_PROCESSOR=powerpc
+++	UNAME_PROCESSOR=`uname -p`
+++	case $UNAME_PROCESSOR in
+++	    unknown) UNAME_PROCESSOR=powerpc ;;
+++	esac
+++	if command -v xcode-select > /dev/null 2> /dev/null && \
+++		! xcode-select --print-path > /dev/null 2> /dev/null ; then
+++	    # Avoid executing cc if there is no toolchain installed as
+++	    # cc will be a stub that puts up a graphical alert
+++	    # prompting the user to install developer tools.
+++	    CC_FOR_BUILD=no_compiler_found
+++	else
+++	    set_cc_for_build
++ 	fi
++-	if test "`echo "$UNAME_RELEASE" | sed -e 's/\..*//'`" -le 10 ; then
++-	    if [ "$CC_FOR_BUILD" != no_compiler_found ]; then
++-		if (echo '#ifdef __LP64__'; echo IS_64BIT_ARCH; echo '#endif') | \
++-		       (CCOPTS="" $CC_FOR_BUILD -E - 2>/dev/null) | \
++-		       grep IS_64BIT_ARCH >/dev/null
++-		then
++-		    case $UNAME_PROCESSOR in
++-			i386) UNAME_PROCESSOR=x86_64 ;;
++-			powerpc) UNAME_PROCESSOR=powerpc64 ;;
++-		    esac
++-		fi
++-		# On 10.4-10.6 one might compile for PowerPC via gcc -arch ppc
++-		if (echo '#ifdef __POWERPC__'; echo IS_PPC; echo '#endif') | \
++-		       (CCOPTS="" $CC_FOR_BUILD -E - 2>/dev/null) | \
++-		       grep IS_PPC >/dev/null
++-		then
++-		    UNAME_PROCESSOR=powerpc
++-		fi
+++	if test "$CC_FOR_BUILD" != no_compiler_found; then
+++	    if (echo '#ifdef __LP64__'; echo IS_64BIT_ARCH; echo '#endif') | \
+++		   (CCOPTS="" $CC_FOR_BUILD -E - 2>/dev/null) | \
+++		   grep IS_64BIT_ARCH >/dev/null
+++	    then
+++		case $UNAME_PROCESSOR in
+++		    i386) UNAME_PROCESSOR=x86_64 ;;
+++		    powerpc) UNAME_PROCESSOR=powerpc64 ;;
+++		esac
+++	    fi
+++	    # On 10.4-10.6 one might compile for PowerPC via gcc -arch ppc
+++	    if (echo '#ifdef __POWERPC__'; echo IS_PPC; echo '#endif') | \
+++		   (CCOPTS="" $CC_FOR_BUILD -E - 2>/dev/null) | \
+++		   grep IS_PPC >/dev/null
+++	    then
+++		UNAME_PROCESSOR=powerpc
++ 	    fi
++ 	elif test "$UNAME_PROCESSOR" = i386 ; then
++-	    # Avoid executing cc on OS X 10.9, as it ships with a stub
++-	    # that puts up a graphical alert prompting to install
++-	    # developer tools.  Any system running Mac OS X 10.7 or
++-	    # later (Darwin 11 and later) is required to have a 64-bit
++-	    # processor. This is not true of the ARM version of Darwin
++-	    # that Apple uses in portable devices.
++-	    UNAME_PROCESSOR=x86_64
+++	    # uname -m returns i386 or x86_64
+++	    UNAME_PROCESSOR=$UNAME_MACHINE
++ 	fi
++-	echo "$UNAME_PROCESSOR"-apple-darwin"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_PROCESSOR-apple-darwin$UNAME_RELEASE
+++	;;
++     *:procnto*:*:* | *:QNX:[0123456789]*:*)
++ 	UNAME_PROCESSOR=`uname -p`
++ 	if test "$UNAME_PROCESSOR" = x86; then
++ 		UNAME_PROCESSOR=i386
++ 		UNAME_MACHINE=pc
++ 	fi
++-	echo "$UNAME_PROCESSOR"-"$UNAME_MACHINE"-nto-qnx"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_PROCESSOR-$UNAME_MACHINE-nto-qnx$UNAME_RELEASE
+++	;;
++     *:QNX:*:4*)
++-	echo i386-pc-qnx
++-	exit ;;
+++	GUESS=i386-pc-qnx
+++	;;
++     NEO-*:NONSTOP_KERNEL:*:*)
++-	echo neo-tandem-nsk"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=neo-tandem-nsk$UNAME_RELEASE
+++	;;
++     NSE-*:NONSTOP_KERNEL:*:*)
++-	echo nse-tandem-nsk"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=nse-tandem-nsk$UNAME_RELEASE
+++	;;
++     NSR-*:NONSTOP_KERNEL:*:*)
++-	echo nsr-tandem-nsk"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=nsr-tandem-nsk$UNAME_RELEASE
+++	;;
++     NSV-*:NONSTOP_KERNEL:*:*)
++-	echo nsv-tandem-nsk"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=nsv-tandem-nsk$UNAME_RELEASE
+++	;;
++     NSX-*:NONSTOP_KERNEL:*:*)
++-	echo nsx-tandem-nsk"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=nsx-tandem-nsk$UNAME_RELEASE
+++	;;
++     *:NonStop-UX:*:*)
++-	echo mips-compaq-nonstopux
++-	exit ;;
+++	GUESS=mips-compaq-nonstopux
+++	;;
++     BS2000:POSIX*:*:*)
++-	echo bs2000-siemens-sysv
++-	exit ;;
+++	GUESS=bs2000-siemens-sysv
+++	;;
++     DS/*:UNIX_System_V:*:*)
++-	echo "$UNAME_MACHINE"-"$UNAME_SYSTEM"-"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-$UNAME_SYSTEM-$UNAME_RELEASE
+++	;;
++     *:Plan9:*:*)
++ 	# "uname -m" is not consistent, so use $cputype instead. 386
++ 	# is converted to i386 for consistency with other x86
++ 	# operating systems.
++-	# shellcheck disable=SC2154
++-	if test "$cputype" = 386; then
+++	if test "${cputype-}" = 386; then
++ 	    UNAME_MACHINE=i386
++-	else
++-	    UNAME_MACHINE="$cputype"
+++	elif test "x${cputype-}" != x; then
+++	    UNAME_MACHINE=$cputype
++ 	fi
++-	echo "$UNAME_MACHINE"-unknown-plan9
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-plan9
+++	;;
++     *:TOPS-10:*:*)
++-	echo pdp10-unknown-tops10
++-	exit ;;
+++	GUESS=pdp10-unknown-tops10
+++	;;
++     *:TENEX:*:*)
++-	echo pdp10-unknown-tenex
++-	exit ;;
+++	GUESS=pdp10-unknown-tenex
+++	;;
++     KS10:TOPS-20:*:* | KL10:TOPS-20:*:* | TYPE4:TOPS-20:*:*)
++-	echo pdp10-dec-tops20
++-	exit ;;
+++	GUESS=pdp10-dec-tops20
+++	;;
++     XKL-1:TOPS-20:*:* | TYPE5:TOPS-20:*:*)
++-	echo pdp10-xkl-tops20
++-	exit ;;
+++	GUESS=pdp10-xkl-tops20
+++	;;
++     *:TOPS-20:*:*)
++-	echo pdp10-unknown-tops20
++-	exit ;;
+++	GUESS=pdp10-unknown-tops20
+++	;;
++     *:ITS:*:*)
++-	echo pdp10-unknown-its
++-	exit ;;
+++	GUESS=pdp10-unknown-its
+++	;;
++     SEI:*:*:SEIUX)
++-	echo mips-sei-seiux"$UNAME_RELEASE"
++-	exit ;;
+++	GUESS=mips-sei-seiux$UNAME_RELEASE
+++	;;
++     *:DragonFly:*:*)
++-	echo "$UNAME_MACHINE"-unknown-dragonfly"`echo "$UNAME_RELEASE"|sed -e 's/[-(].*//'`"
++-	exit ;;
+++	DRAGONFLY_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
+++	GUESS=$UNAME_MACHINE-unknown-dragonfly$DRAGONFLY_REL
+++	;;
++     *:*VMS:*:*)
++ 	UNAME_MACHINE=`(uname -p) 2>/dev/null`
++-	case "$UNAME_MACHINE" in
++-	    A*) echo alpha-dec-vms ; exit ;;
++-	    I*) echo ia64-dec-vms ; exit ;;
++-	    V*) echo vax-dec-vms ; exit ;;
+++	case $UNAME_MACHINE in
+++	    A*) GUESS=alpha-dec-vms ;;
+++	    I*) GUESS=ia64-dec-vms ;;
+++	    V*) GUESS=vax-dec-vms ;;
++ 	esac ;;
++     *:XENIX:*:SysV)
++-	echo i386-pc-xenix
++-	exit ;;
+++	GUESS=i386-pc-xenix
+++	;;
++     i*86:skyos:*:*)
++-	echo "$UNAME_MACHINE"-pc-skyos"`echo "$UNAME_RELEASE" | sed -e 's/ .*$//'`"
++-	exit ;;
+++	SKYOS_REL=`echo "$UNAME_RELEASE" | sed -e 's/ .*$//'`
+++	GUESS=$UNAME_MACHINE-pc-skyos$SKYOS_REL
+++	;;
++     i*86:rdos:*:*)
++-	echo "$UNAME_MACHINE"-pc-rdos
++-	exit ;;
++-    i*86:AROS:*:*)
++-	echo "$UNAME_MACHINE"-pc-aros
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-pc-rdos
+++	;;
+++    i*86:Fiwix:*:*)
+++	GUESS=$UNAME_MACHINE-pc-fiwix
+++	;;
+++    *:AROS:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-aros
+++	;;
++     x86_64:VMkernel:*:*)
++-	echo "$UNAME_MACHINE"-unknown-esx
++-	exit ;;
+++	GUESS=$UNAME_MACHINE-unknown-esx
+++	;;
++     amd64:Isilon\ OneFS:*:*)
++-	echo x86_64-unknown-onefs
++-	exit ;;
+++	GUESS=x86_64-unknown-onefs
+++	;;
+++    *:Unleashed:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-unleashed$UNAME_RELEASE
+++	;;
+++    *:Ironclad:*:*)
+++	GUESS=$UNAME_MACHINE-unknown-ironclad
+++	;;
++ esac
++ 
+++# Do we have a guess based on uname results?
+++if test "x$GUESS" != x; then
+++    echo "$GUESS"
+++    exit
+++fi
+++
+++# No uname command or uname output not recognized.
+++set_cc_for_build
+++cat > "$dummy.c" <<EOF
+++#ifdef _SEQUENT_
+++#include <sys/types.h>
+++#include <sys/utsname.h>
+++#endif
+++#if defined(ultrix) || defined(_ultrix) || defined(__ultrix) || defined(__ultrix__)
+++#if defined (vax) || defined (__vax) || defined (__vax__) || defined(mips) || defined(__mips) || defined(__mips__) || defined(MIPS) || defined(__MIPS__)
+++#include <signal.h>
+++#if defined(_SIZE_T_) || defined(SIGLOST)
+++#include <sys/utsname.h>
+++#endif
+++#endif
+++#endif
+++int
+++main ()
+++{
+++#if defined (sony)
+++#if defined (MIPSEB)
+++  /* BFD wants "bsd" instead of "newsos".  Perhaps BFD should be changed,
+++     I don't know....  */
+++  printf ("mips-sony-bsd\n"); exit (0);
+++#else
+++#include <sys/param.h>
+++  printf ("m68k-sony-newsos%s\n",
+++#ifdef NEWSOS4
+++  "4"
+++#else
+++  ""
+++#endif
+++  ); exit (0);
+++#endif
+++#endif
+++
+++#if defined (NeXT)
+++#if !defined (__ARCHITECTURE__)
+++#define __ARCHITECTURE__ "m68k"
+++#endif
+++  int version;
+++  version=`(hostinfo | sed -n 's/.*NeXT Mach \([0-9]*\).*/\1/p') 2>/dev/null`;
+++  if (version < 4)
+++    printf ("%s-next-nextstep%d\n", __ARCHITECTURE__, version);
+++  else
+++    printf ("%s-next-openstep%d\n", __ARCHITECTURE__, version);
+++  exit (0);
+++#endif
+++
+++#if defined (MULTIMAX) || defined (n16)
+++#if defined (UMAXV)
+++  printf ("ns32k-encore-sysv\n"); exit (0);
+++#else
+++#if defined (CMU)
+++  printf ("ns32k-encore-mach\n"); exit (0);
+++#else
+++  printf ("ns32k-encore-bsd\n"); exit (0);
+++#endif
+++#endif
+++#endif
+++
+++#if defined (__386BSD__)
+++  printf ("i386-pc-bsd\n"); exit (0);
+++#endif
+++
+++#if defined (sequent)
+++#if defined (i386)
+++  printf ("i386-sequent-dynix\n"); exit (0);
+++#endif
+++#if defined (ns32000)
+++  printf ("ns32k-sequent-dynix\n"); exit (0);
+++#endif
+++#endif
+++
+++#if defined (_SEQUENT_)
+++  struct utsname un;
+++
+++  uname(&un);
+++  if (strncmp(un.version, "V2", 2) == 0) {
+++    printf ("i386-sequent-ptx2\n"); exit (0);
+++  }
+++  if (strncmp(un.version, "V1", 2) == 0) { /* XXX is V1 correct? */
+++    printf ("i386-sequent-ptx1\n"); exit (0);
+++  }
+++  printf ("i386-sequent-ptx\n"); exit (0);
+++#endif
+++
+++#if defined (vax)
+++#if !defined (ultrix)
+++#include <sys/param.h>
+++#if defined (BSD)
+++#if BSD == 43
+++  printf ("vax-dec-bsd4.3\n"); exit (0);
+++#else
+++#if BSD == 199006
+++  printf ("vax-dec-bsd4.3reno\n"); exit (0);
+++#else
+++  printf ("vax-dec-bsd\n"); exit (0);
+++#endif
+++#endif
+++#else
+++  printf ("vax-dec-bsd\n"); exit (0);
+++#endif
+++#else
+++#if defined(_SIZE_T_) || defined(SIGLOST)
+++  struct utsname un;
+++  uname (&un);
+++  printf ("vax-dec-ultrix%s\n", un.release); exit (0);
+++#else
+++  printf ("vax-dec-ultrix\n"); exit (0);
+++#endif
+++#endif
+++#endif
+++#if defined(ultrix) || defined(_ultrix) || defined(__ultrix) || defined(__ultrix__)
+++#if defined(mips) || defined(__mips) || defined(__mips__) || defined(MIPS) || defined(__MIPS__)
+++#if defined(_SIZE_T_) || defined(SIGLOST)
+++  struct utsname *un;
+++  uname (&un);
+++  printf ("mips-dec-ultrix%s\n", un.release); exit (0);
+++#else
+++  printf ("mips-dec-ultrix\n"); exit (0);
+++#endif
+++#endif
+++#endif
+++
+++#if defined (alliant) && defined (i860)
+++  printf ("i860-alliant-bsd\n"); exit (0);
+++#endif
+++
+++  exit (1);
+++}
+++EOF
+++
+++$CC_FOR_BUILD -o "$dummy" "$dummy.c" 2>/dev/null && SYSTEM_NAME=`"$dummy"` &&
+++	{ echo "$SYSTEM_NAME"; exit; }
+++
+++# Apollos put the system type in the environment.
+++test -d /usr/apollo && { echo "$ISP-apollo-$SYSTYPE"; exit; }
+++
++ echo "$0: unable to guess system type" >&2
++ 
++-case "$UNAME_MACHINE:$UNAME_SYSTEM" in
+++case $UNAME_MACHINE:$UNAME_SYSTEM in
++     mips:Linux | mips64:Linux)
++ 	# If we got here on MIPS GNU/Linux, output extra information.
++ 	cat >&2 <<EOF
++@@ -1445,9 +1765,17 @@ This script (version $timestamp), has failed to recognize the
++ operating system you are using. If your script is old, overwrite *all*
++ copies of config.guess and config.sub with the latest versions from:
++ 
++-  https://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.guess
+++  https://git.savannah.gnu.org/cgit/config.git/plain/config.guess
++ and
++-  https://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.sub
+++  https://git.savannah.gnu.org/cgit/config.git/plain/config.sub
+++EOF
+++
+++our_year=`echo $timestamp | sed 's,-.*,,'`
+++thisyear=`date +%Y`
+++# shellcheck disable=SC2003
+++script_age=`expr "$thisyear" - "$our_year"`
+++if test "$script_age" -lt 3 ; then
+++   cat >&2 <<EOF
++ 
++ If $0 has already been updated, send the following data and any
++ information you think might be pertinent to config-patches@gnu.org to
++@@ -1475,6 +1803,7 @@ UNAME_RELEASE = "$UNAME_RELEASE"
++ UNAME_SYSTEM  = "$UNAME_SYSTEM"
++ UNAME_VERSION = "$UNAME_VERSION"
++ EOF
+++fi
++ 
++ exit 1
++ 
++diff --git a/config.sub b/config.sub
++index b51fb8c..4aaae46 100755
++--- a/config.sub
+++++ b/config.sub
++@@ -1,12 +1,14 @@
++ #! /bin/sh
++ # Configuration validation subroutine script.
++-#   Copyright 1992-2018 Free Software Foundation, Inc.
+++#   Copyright 1992-2024 Free Software Foundation, Inc.
++ 
++-timestamp='2018-08-29'
+++# shellcheck disable=SC2006,SC2268,SC2162 # see below for rationale
+++
+++timestamp='2024-05-27'
++ 
++ # This file is free software; you can redistribute it and/or modify it
++ # under the terms of the GNU General Public License as published by
++-# the Free Software Foundation; either version 3 of the License, or
+++# the Free Software Foundation, either version 3 of the License, or
++ # (at your option) any later version.
++ #
++ # This program is distributed in the hope that it will be useful, but
++@@ -33,7 +35,7 @@ timestamp='2018-08-29'
++ # Otherwise, we print the canonical config type on stdout and succeed.
++ 
++ # You can get the latest version of this script from:
++-# https://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.sub
+++# https://git.savannah.gnu.org/cgit/config.git/plain/config.sub
++ 
++ # This file is supposed to be the same for all GNU packages
++ # and recognize all the CPU types, system types and aliases
++@@ -50,6 +52,13 @@ timestamp='2018-08-29'
++ #	CPU_TYPE-MANUFACTURER-KERNEL-OPERATING_SYSTEM
++ # It is wrong to echo any other type of specification.
++ 
+++# The "shellcheck disable" line above the timestamp inhibits complaints
+++# about features and limitations of the classic Bourne shell that were
+++# superseded or lifted in POSIX.  However, this script identifies a wide
+++# variety of pre-POSIX systems that do not have POSIX shells at all, and
+++# even some reasonably current systems (Solaris 10 as case-in-point) still
+++# have a pre-POSIX /bin/sh.
+++
++ me=`echo "$0" | sed -e 's,.*/,,'`
++ 
++ usage="\
++@@ -67,13 +76,13 @@ Report bugs and patches to <config-patches@gnu.org>."
++ version="\
++ GNU config.sub ($timestamp)
++ 
++-Copyright 1992-2018 Free Software Foundation, Inc.
+++Copyright 1992-2024 Free Software Foundation, Inc.
++ 
++ This is free software; see the source for copying conditions.  There is NO
++ warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."
++ 
++ help="
++-Try \`$me --help' for more information."
+++Try '$me --help' for more information."
++ 
++ # Parse command line
++ while test $# -gt 0 ; do
++@@ -89,7 +98,7 @@ while test $# -gt 0 ; do
++     - )	# Use stdin as input.
++        break ;;
++     -* )
++-       echo "$me: invalid option $1$help"
+++       echo "$me: invalid option $1$help" >&2
++        exit 1 ;;
++ 
++     *local*)
++@@ -111,74 +120,154 @@ case $# in
++ esac
++ 
++ # Split fields of configuration type
++-IFS="-" read -r field1 field2 field3 field4 <<EOF
+++saved_IFS=$IFS
+++IFS="-" read field1 field2 field3 field4 <<EOF
++ $1
++ EOF
+++IFS=$saved_IFS
++ 
++ # Separate into logical components for further validation
++ case $1 in
++ 	*-*-*-*-*)
++-		echo Invalid configuration \`"$1"\': more than four components >&2
+++		echo "Invalid configuration '$1': more than four components" >&2
++ 		exit 1
++ 		;;
++ 	*-*-*-*)
++ 		basic_machine=$field1-$field2
++-		os=$field3-$field4
+++		basic_os=$field3-$field4
++ 		;;
++ 	*-*-*)
++ 		# Ambiguous whether COMPANY is present, or skipped and KERNEL-OS is two
++ 		# parts
++ 		maybe_os=$field2-$field3
++ 		case $maybe_os in
++-			nto-qnx* | linux-gnu* | linux-android* | linux-dietlibc \
++-			| linux-newlib* | linux-musl* | linux-uclibc* | uclinux-uclibc* \
++-			| uclinux-gnu* | kfreebsd*-gnu* | knetbsd*-gnu* | netbsd*-gnu* \
++-			| netbsd*-eabi* | kopensolaris*-gnu* | cloudabi*-eabi* \
++-			| storm-chaos* | os2-emx* | rtmk-nova*)
+++			  cloudabi*-eabi* \
+++			| kfreebsd*-gnu* \
+++			| knetbsd*-gnu* \
+++			| kopensolaris*-gnu* \
+++			| linux-* \
+++			| managarm-* \
+++			| netbsd*-eabi* \
+++			| netbsd*-gnu* \
+++			| nto-qnx* \
+++			| os2-emx* \
+++			| rtmk-nova* \
+++			| storm-chaos* \
+++			| uclinux-gnu* \
+++			| uclinux-uclibc* \
+++			| windows-* )
++ 				basic_machine=$field1
++-				os=$maybe_os
+++				basic_os=$maybe_os
++ 				;;
++ 			android-linux)
++ 				basic_machine=$field1-unknown
++-				os=linux-android
+++				basic_os=linux-android
++ 				;;
++ 			*)
++ 				basic_machine=$field1-$field2
++-				os=$field3
+++				basic_os=$field3
++ 				;;
++ 		esac
++ 		;;
++ 	*-*)
++-		# A lone config we happen to match not fitting any patern
++ 		case $field1-$field2 in
+++			# Shorthands that happen to contain a single dash
+++			convex-c[12] | convex-c3[248])
+++				basic_machine=$field2-convex
+++				basic_os=
+++				;;
++ 			decstation-3100)
++ 				basic_machine=mips-dec
++-				os=
+++				basic_os=
++ 				;;
++ 			*-*)
++ 				# Second component is usually, but not always the OS
++ 				case $field2 in
++-					# Prevent following clause from handling this valid os
+++					# Do not treat sunos as a manufacturer
++ 					sun*os*)
++ 						basic_machine=$field1
++-						os=$field2
+++						basic_os=$field2
++ 						;;
++ 					# Manufacturers
++-					dec* | mips* | sequent* | encore* | pc533* | sgi* | sony* \
++-					| att* | 7300* | 3300* | delta* | motorola* | sun[234]* \
++-					| unicom* | ibm* | next | hp | isi* | apollo | altos* \
++-					| convergent* | ncr* | news | 32* | 3600* | 3100* \
++-					| hitachi* | c[123]* | convex* | sun | crds | omron* | dg \
++-					| ultra | tti* | harris | dolphin | highlevel | gould \
++-					| cbm | ns | masscomp | apple | axis | knuth | cray \
++-					| microblaze* | sim | cisco \
++-					| oki | wec | wrs | winbond)
+++					  3100* \
+++					| 32* \
+++					| 3300* \
+++					| 3600* \
+++					| 7300* \
+++					| acorn \
+++					| altos* \
+++					| apollo \
+++					| apple \
+++					| atari \
+++					| att* \
+++					| axis \
+++					| be \
+++					| bull \
+++					| cbm \
+++					| ccur \
+++					| cisco \
+++					| commodore \
+++					| convergent* \
+++					| convex* \
+++					| cray \
+++					| crds \
+++					| dec* \
+++					| delta* \
+++					| dg \
+++					| digital \
+++					| dolphin \
+++					| encore* \
+++					| gould \
+++					| harris \
+++					| highlevel \
+++					| hitachi* \
+++					| hp \
+++					| ibm* \
+++					| intergraph \
+++					| isi* \
+++					| knuth \
+++					| masscomp \
+++					| microblaze* \
+++					| mips* \
+++					| motorola* \
+++					| ncr* \
+++					| news \
+++					| next \
+++					| ns \
+++					| oki \
+++					| omron* \
+++					| pc533* \
+++					| rebel \
+++					| rom68k \
+++					| rombug \
+++					| semi \
+++					| sequent* \
+++					| siemens \
+++					| sgi* \
+++					| siemens \
+++					| sim \
+++					| sni \
+++					| sony* \
+++					| stratus \
+++					| sun \
+++					| sun[234]* \
+++					| tektronix \
+++					| tti* \
+++					| ultra \
+++					| unicom* \
+++					| wec \
+++					| winbond \
+++					| wrs)
++ 						basic_machine=$field1-$field2
++-						os=
+++						basic_os=
+++						;;
+++					zephyr*)
+++						basic_machine=$field1-unknown
+++						basic_os=$field2
++ 						;;
++ 					*)
++ 						basic_machine=$field1
++-						os=$field2
+++						basic_os=$field2
++ 						;;
++ 				esac
++ 			;;
++@@ -190,450 +279,431 @@ case $1 in
++ 		case $field1 in
++ 			386bsd)
++ 				basic_machine=i386-pc
++-				os=bsd
+++				basic_os=bsd
++ 				;;
++ 			a29khif)
++ 				basic_machine=a29k-amd
++-				os=udi
+++				basic_os=udi
++ 				;;
++ 			adobe68k)
++ 				basic_machine=m68010-adobe
++-				os=scout
+++				basic_os=scout
++ 				;;
++ 			alliant)
++ 				basic_machine=fx80-alliant
++-				os=
+++				basic_os=
++ 				;;
++ 			altos | altos3068)
++ 				basic_machine=m68k-altos
++-				os=
+++				basic_os=
++ 				;;
++ 			am29k)
++ 				basic_machine=a29k-none
++-				os=bsd
+++				basic_os=bsd
++ 				;;
++ 			amdahl)
++ 				basic_machine=580-amdahl
++-				os=sysv
+++				basic_os=sysv
++ 				;;
++ 			amiga)
++ 				basic_machine=m68k-unknown
++-				os=
+++				basic_os=
++ 				;;
++ 			amigaos | amigados)
++ 				basic_machine=m68k-unknown
++-				os=amigaos
+++				basic_os=amigaos
++ 				;;
++ 			amigaunix | amix)
++ 				basic_machine=m68k-unknown
++-				os=sysv4
+++				basic_os=sysv4
++ 				;;
++ 			apollo68)
++ 				basic_machine=m68k-apollo
++-				os=sysv
+++				basic_os=sysv
++ 				;;
++ 			apollo68bsd)
++ 				basic_machine=m68k-apollo
++-				os=bsd
+++				basic_os=bsd
++ 				;;
++ 			aros)
++ 				basic_machine=i386-pc
++-				os=aros
+++				basic_os=aros
++ 				;;
++ 			aux)
++ 				basic_machine=m68k-apple
++-				os=aux
+++				basic_os=aux
++ 				;;
++ 			balance)
++ 				basic_machine=ns32k-sequent
++-				os=dynix
+++				basic_os=dynix
++ 				;;
++ 			blackfin)
++ 				basic_machine=bfin-unknown
++-				os=linux
+++				basic_os=linux
++ 				;;
++ 			cegcc)
++ 				basic_machine=arm-unknown
++-				os=cegcc
++-				;;
++-			convex-c1)
++-				basic_machine=c1-convex
++-				os=bsd
++-				;;
++-			convex-c2)
++-				basic_machine=c2-convex
++-				os=bsd
++-				;;
++-			convex-c32)
++-				basic_machine=c32-convex
++-				os=bsd
++-				;;
++-			convex-c34)
++-				basic_machine=c34-convex
++-				os=bsd
++-				;;
++-			convex-c38)
++-				basic_machine=c38-convex
++-				os=bsd
+++				basic_os=cegcc
++ 				;;
++ 			cray)
++ 				basic_machine=j90-cray
++-				os=unicos
+++				basic_os=unicos
++ 				;;
++ 			crds | unos)
++ 				basic_machine=m68k-crds
++-				os=
+++				basic_os=
++ 				;;
++ 			da30)
++ 				basic_machine=m68k-da30
++-				os=
+++				basic_os=
++ 				;;
++ 			decstation | pmax | pmin | dec3100 | decstatn)
++ 				basic_machine=mips-dec
++-				os=
+++				basic_os=
++ 				;;
++ 			delta88)
++ 				basic_machine=m88k-motorola
++-				os=sysv3
+++				basic_os=sysv3
++ 				;;
++ 			dicos)
++ 				basic_machine=i686-pc
++-				os=dicos
+++				basic_os=dicos
++ 				;;
++ 			djgpp)
++ 				basic_machine=i586-pc
++-				os=msdosdjgpp
+++				basic_os=msdosdjgpp
++ 				;;
++ 			ebmon29k)
++ 				basic_machine=a29k-amd
++-				os=ebmon
+++				basic_os=ebmon
++ 				;;
++ 			es1800 | OSE68k | ose68k | ose | OSE)
++ 				basic_machine=m68k-ericsson
++-				os=ose
+++				basic_os=ose
++ 				;;
++ 			gmicro)
++ 				basic_machine=tron-gmicro
++-				os=sysv
+++				basic_os=sysv
++ 				;;
++ 			go32)
++ 				basic_machine=i386-pc
++-				os=go32
+++				basic_os=go32
++ 				;;
++ 			h8300hms)
++ 				basic_machine=h8300-hitachi
++-				os=hms
+++				basic_os=hms
++ 				;;
++ 			h8300xray)
++ 				basic_machine=h8300-hitachi
++-				os=xray
+++				basic_os=xray
++ 				;;
++ 			h8500hms)
++ 				basic_machine=h8500-hitachi
++-				os=hms
+++				basic_os=hms
++ 				;;
++ 			harris)
++ 				basic_machine=m88k-harris
++-				os=sysv3
+++				basic_os=sysv3
++ 				;;
++-			hp300)
+++			hp300 | hp300hpux)
++ 				basic_machine=m68k-hp
+++				basic_os=hpux
++ 				;;
++ 			hp300bsd)
++ 				basic_machine=m68k-hp
++-				os=bsd
++-				;;
++-			hp300hpux)
++-				basic_machine=m68k-hp
++-				os=hpux
+++				basic_os=bsd
++ 				;;
++ 			hppaosf)
++ 				basic_machine=hppa1.1-hp
++-				os=osf
+++				basic_os=osf
++ 				;;
++ 			hppro)
++ 				basic_machine=hppa1.1-hp
++-				os=proelf
+++				basic_os=proelf
++ 				;;
++ 			i386mach)
++ 				basic_machine=i386-mach
++-				os=mach
++-				;;
++-			vsta)
++-				basic_machine=i386-pc
++-				os=vsta
+++				basic_os=mach
++ 				;;
++ 			isi68 | isi)
++ 				basic_machine=m68k-isi
++-				os=sysv
+++				basic_os=sysv
++ 				;;
++ 			m68knommu)
++ 				basic_machine=m68k-unknown
++-				os=linux
+++				basic_os=linux
++ 				;;
++ 			magnum | m3230)
++ 				basic_machine=mips-mips
++-				os=sysv
+++				basic_os=sysv
++ 				;;
++ 			merlin)
++ 				basic_machine=ns32k-utek
++-				os=sysv
+++				basic_os=sysv
++ 				;;
++ 			mingw64)
++ 				basic_machine=x86_64-pc
++-				os=mingw64
+++				basic_os=mingw64
++ 				;;
++ 			mingw32)
++ 				basic_machine=i686-pc
++-				os=mingw32
+++				basic_os=mingw32
++ 				;;
++ 			mingw32ce)
++ 				basic_machine=arm-unknown
++-				os=mingw32ce
+++				basic_os=mingw32ce
++ 				;;
++ 			monitor)
++ 				basic_machine=m68k-rom68k
++-				os=coff
+++				basic_os=coff
++ 				;;
++ 			morphos)
++ 				basic_machine=powerpc-unknown
++-				os=morphos
+++				basic_os=morphos
++ 				;;
++ 			moxiebox)
++ 				basic_machine=moxie-unknown
++-				os=moxiebox
+++				basic_os=moxiebox
++ 				;;
++ 			msdos)
++ 				basic_machine=i386-pc
++-				os=msdos
+++				basic_os=msdos
++ 				;;
++ 			msys)
++ 				basic_machine=i686-pc
++-				os=msys
+++				basic_os=msys
++ 				;;
++ 			mvs)
++ 				basic_machine=i370-ibm
++-				os=mvs
+++				basic_os=mvs
++ 				;;
++ 			nacl)
++ 				basic_machine=le32-unknown
++-				os=nacl
+++				basic_os=nacl
++ 				;;
++ 			ncr3000)
++ 				basic_machine=i486-ncr
++-				os=sysv4
+++				basic_os=sysv4
++ 				;;
++ 			netbsd386)
++ 				basic_machine=i386-pc
++-				os=netbsd
+++				basic_os=netbsd
++ 				;;
++ 			netwinder)
++ 				basic_machine=armv4l-rebel
++-				os=linux
+++				basic_os=linux
++ 				;;
++ 			news | news700 | news800 | news900)
++ 				basic_machine=m68k-sony
++-				os=newsos
+++				basic_os=newsos
++ 				;;
++ 			news1000)
++ 				basic_machine=m68030-sony
++-				os=newsos
+++				basic_os=newsos
++ 				;;
++ 			necv70)
++ 				basic_machine=v70-nec
++-				os=sysv
+++				basic_os=sysv
++ 				;;
++ 			nh3000)
++ 				basic_machine=m68k-harris
++-				os=cxux
+++				basic_os=cxux
++ 				;;
++ 			nh[45]000)
++ 				basic_machine=m88k-harris
++-				os=cxux
+++				basic_os=cxux
++ 				;;
++ 			nindy960)
++ 				basic_machine=i960-intel
++-				os=nindy
+++				basic_os=nindy
++ 				;;
++ 			mon960)
++ 				basic_machine=i960-intel
++-				os=mon960
+++				basic_os=mon960
++ 				;;
++ 			nonstopux)
++ 				basic_machine=mips-compaq
++-				os=nonstopux
+++				basic_os=nonstopux
++ 				;;
++ 			os400)
++ 				basic_machine=powerpc-ibm
++-				os=os400
+++				basic_os=os400
++ 				;;
++ 			OSE68000 | ose68000)
++ 				basic_machine=m68000-ericsson
++-				os=ose
+++				basic_os=ose
++ 				;;
++ 			os68k)
++ 				basic_machine=m68k-none
++-				os=os68k
+++				basic_os=os68k
++ 				;;
++ 			paragon)
++ 				basic_machine=i860-intel
++-				os=osf
+++				basic_os=osf
++ 				;;
++ 			parisc)
++ 				basic_machine=hppa-unknown
++-				os=linux
+++				basic_os=linux
+++				;;
+++			psp)
+++				basic_machine=mipsallegrexel-sony
+++				basic_os=psp
++ 				;;
++ 			pw32)
++ 				basic_machine=i586-unknown
++-				os=pw32
+++				basic_os=pw32
++ 				;;
++ 			rdos | rdos64)
++ 				basic_machine=x86_64-pc
++-				os=rdos
+++				basic_os=rdos
++ 				;;
++ 			rdos32)
++ 				basic_machine=i386-pc
++-				os=rdos
+++				basic_os=rdos
++ 				;;
++ 			rom68k)
++ 				basic_machine=m68k-rom68k
++-				os=coff
+++				basic_os=coff
++ 				;;
++ 			sa29200)
++ 				basic_machine=a29k-amd
++-				os=udi
+++				basic_os=udi
++ 				;;
++ 			sei)
++ 				basic_machine=mips-sei
++-				os=seiux
+++				basic_os=seiux
++ 				;;
++ 			sequent)
++ 				basic_machine=i386-sequent
++-				os=
+++				basic_os=
++ 				;;
++ 			sps7)
++ 				basic_machine=m68k-bull
++-				os=sysv2
+++				basic_os=sysv2
++ 				;;
++ 			st2000)
++ 				basic_machine=m68k-tandem
++-				os=
+++				basic_os=
++ 				;;
++ 			stratus)
++ 				basic_machine=i860-stratus
++-				os=sysv4
+++				basic_os=sysv4
++ 				;;
++ 			sun2)
++ 				basic_machine=m68000-sun
++-				os=
+++				basic_os=
++ 				;;
++ 			sun2os3)
++ 				basic_machine=m68000-sun
++-				os=sunos3
+++				basic_os=sunos3
++ 				;;
++ 			sun2os4)
++ 				basic_machine=m68000-sun
++-				os=sunos4
+++				basic_os=sunos4
++ 				;;
++ 			sun3)
++ 				basic_machine=m68k-sun
++-				os=
+++				basic_os=
++ 				;;
++ 			sun3os3)
++ 				basic_machine=m68k-sun
++-				os=sunos3
+++				basic_os=sunos3
++ 				;;
++ 			sun3os4)
++ 				basic_machine=m68k-sun
++-				os=sunos4
+++				basic_os=sunos4
++ 				;;
++ 			sun4)
++ 				basic_machine=sparc-sun
++-				os=
+++				basic_os=
++ 				;;
++ 			sun4os3)
++ 				basic_machine=sparc-sun
++-				os=sunos3
+++				basic_os=sunos3
++ 				;;
++ 			sun4os4)
++ 				basic_machine=sparc-sun
++-				os=sunos4
+++				basic_os=sunos4
++ 				;;
++ 			sun4sol2)
++ 				basic_machine=sparc-sun
++-				os=solaris2
+++				basic_os=solaris2
++ 				;;
++ 			sun386 | sun386i | roadrunner)
++ 				basic_machine=i386-sun
++-				os=
+++				basic_os=
++ 				;;
++ 			sv1)
++ 				basic_machine=sv1-cray
++-				os=unicos
+++				basic_os=unicos
++ 				;;
++ 			symmetry)
++ 				basic_machine=i386-sequent
++-				os=dynix
+++				basic_os=dynix
++ 				;;
++ 			t3e)
++ 				basic_machine=alphaev5-cray
++-				os=unicos
+++				basic_os=unicos
++ 				;;
++ 			t90)
++ 				basic_machine=t90-cray
++-				os=unicos
+++				basic_os=unicos
++ 				;;
++ 			toad1)
++ 				basic_machine=pdp10-xkl
++-				os=tops20
+++				basic_os=tops20
++ 				;;
++ 			tpf)
++ 				basic_machine=s390x-ibm
++-				os=tpf
+++				basic_os=tpf
++ 				;;
++ 			udi29k)
++ 				basic_machine=a29k-amd
++-				os=udi
+++				basic_os=udi
++ 				;;
++ 			ultra3)
++ 				basic_machine=a29k-nyu
++-				os=sym1
+++				basic_os=sym1
++ 				;;
++ 			v810 | necv810)
++ 				basic_machine=v810-nec
++-				os=none
+++				basic_os=none
++ 				;;
++ 			vaxv)
++ 				basic_machine=vax-dec
++-				os=sysv
+++				basic_os=sysv
++ 				;;
++ 			vms)
++ 				basic_machine=vax-dec
++-				os=vms
+++				basic_os=vms
+++				;;
+++			vsta)
+++				basic_machine=i386-pc
+++				basic_os=vsta
++ 				;;
++ 			vxworks960)
++ 				basic_machine=i960-wrs
++-				os=vxworks
+++				basic_os=vxworks
++ 				;;
++ 			vxworks68)
++ 				basic_machine=m68k-wrs
++-				os=vxworks
+++				basic_os=vxworks
++ 				;;
++ 			vxworks29k)
++ 				basic_machine=a29k-wrs
++-				os=vxworks
+++				basic_os=vxworks
++ 				;;
++ 			xbox)
++ 				basic_machine=i686-pc
++-				os=mingw32
+++				basic_os=mingw32
++ 				;;
++ 			ymp)
++ 				basic_machine=ymp-cray
++-				os=unicos
+++				basic_os=unicos
++ 				;;
++ 			*)
++ 				basic_machine=$1
++-				os=
+++				basic_os=
++ 				;;
++ 		esac
++ 		;;
++@@ -685,27 +755,38 @@ case $basic_machine in
++ 	bluegene*)
++ 		cpu=powerpc
++ 		vendor=ibm
++-		os=cnk
+++		basic_os=cnk
++ 		;;
++ 	decsystem10* | dec10*)
++ 		cpu=pdp10
++ 		vendor=dec
++-		os=tops10
+++		basic_os=tops10
++ 		;;
++ 	decsystem20* | dec20*)
++ 		cpu=pdp10
++ 		vendor=dec
++-		os=tops20
+++		basic_os=tops20
++ 		;;
++-	delta | 3300 | motorola-3300 | motorola-delta \
++-	      | 3300-motorola | delta-motorola)
+++	delta | 3300 | delta-motorola | 3300-motorola | motorola-delta | motorola-3300)
++ 		cpu=m68k
++ 		vendor=motorola
++ 		;;
++-	dpx2*)
+++	# This used to be dpx2*, but that gets the RS6000-based
+++	# DPX/20 and the x86-based DPX/2-100 wrong.  See
+++	# https://oldskool.silicium.org/stations/bull_dpx20.htm
+++	# https://www.feb-patrimoine.com/english/bull_dpx2.htm
+++	# https://www.feb-patrimoine.com/english/unix_and_bull.htm
+++	dpx2 | dpx2[23]00 | dpx2[23]xx)
++ 		cpu=m68k
++ 		vendor=bull
++-		os=sysv3
+++		;;
+++	dpx2100 | dpx21xx)
+++		cpu=i386
+++		vendor=bull
+++		;;
+++	dpx20)
+++		cpu=rs6000
+++		vendor=bull
++ 		;;
++ 	encore | umax | mmax)
++ 		cpu=ns32k
++@@ -714,7 +795,7 @@ case $basic_machine in
++ 	elxsi)
++ 		cpu=elxsi
++ 		vendor=elxsi
++-		os=${os:-bsd}
+++		basic_os=${basic_os:-bsd}
++ 		;;
++ 	fx2800)
++ 		cpu=i860
++@@ -727,7 +808,7 @@ case $basic_machine in
++ 	h3050r* | hiux*)
++ 		cpu=hppa1.1
++ 		vendor=hitachi
++-		os=hiuxwe2
+++		basic_os=hiuxwe2
++ 		;;
++ 	hp3k9[0-9][0-9] | hp9[0-9][0-9])
++ 		cpu=hppa1.0
++@@ -770,36 +851,36 @@ case $basic_machine in
++ 	i*86v32)
++ 		cpu=`echo "$1" | sed -e 's/86.*/86/'`
++ 		vendor=pc
++-		os=sysv32
+++		basic_os=sysv32
++ 		;;
++ 	i*86v4*)
++ 		cpu=`echo "$1" | sed -e 's/86.*/86/'`
++ 		vendor=pc
++-		os=sysv4
+++		basic_os=sysv4
++ 		;;
++ 	i*86v)
++ 		cpu=`echo "$1" | sed -e 's/86.*/86/'`
++ 		vendor=pc
++-		os=sysv
+++		basic_os=sysv
++ 		;;
++ 	i*86sol2)
++ 		cpu=`echo "$1" | sed -e 's/86.*/86/'`
++ 		vendor=pc
++-		os=solaris2
+++		basic_os=solaris2
++ 		;;
++ 	j90 | j90-cray)
++ 		cpu=j90
++ 		vendor=cray
++-		os=${os:-unicos}
+++		basic_os=${basic_os:-unicos}
++ 		;;
++ 	iris | iris4d)
++ 		cpu=mips
++ 		vendor=sgi
++-		case $os in
+++		case $basic_os in
++ 		    irix*)
++ 			;;
++ 		    *)
++-			os=irix4
+++			basic_os=irix4
++ 			;;
++ 		esac
++ 		;;
++@@ -810,26 +891,16 @@ case $basic_machine in
++ 	*mint | mint[0-9]* | *MiNT | *MiNT[0-9]*)
++ 		cpu=m68k
++ 		vendor=atari
++-		os=mint
+++		basic_os=mint
++ 		;;
++ 	news-3600 | risc-news)
++ 		cpu=mips
++ 		vendor=sony
++-		os=newsos
+++		basic_os=newsos
++ 		;;
++ 	next | m*-next)
++ 		cpu=m68k
++ 		vendor=next
++-		case $os in
++-		    nextstep* )
++-			;;
++-		    ns2*)
++-		      os=nextstep2
++-			;;
++-		    *)
++-		      os=nextstep3
++-			;;
++-		esac
++ 		;;
++ 	np1)
++ 		cpu=np1
++@@ -838,12 +909,12 @@ case $basic_machine in
++ 	op50n-* | op60c-*)
++ 		cpu=hppa1.1
++ 		vendor=oki
++-		os=proelf
+++		basic_os=proelf
++ 		;;
++ 	pa-hitachi)
++ 		cpu=hppa1.1
++ 		vendor=hitachi
++-		os=hiuxwe2
+++		basic_os=hiuxwe2
++ 		;;
++ 	pbd)
++ 		cpu=sparc
++@@ -880,12 +951,12 @@ case $basic_machine in
++ 	sde)
++ 		cpu=mipsisa32
++ 		vendor=sde
++-		os=${os:-elf}
+++		basic_os=${basic_os:-elf}
++ 		;;
++ 	simso-wrs)
++ 		cpu=sparclite
++ 		vendor=wrs
++-		os=vxworks
+++		basic_os=vxworks
++ 		;;
++ 	tower | tower-32)
++ 		cpu=m68k
++@@ -902,7 +973,7 @@ case $basic_machine in
++ 	w89k-*)
++ 		cpu=hppa1.1
++ 		vendor=winbond
++-		os=proelf
+++		basic_os=proelf
++ 		;;
++ 	none)
++ 		cpu=none
++@@ -918,11 +989,13 @@ case $basic_machine in
++ 		;;
++ 
++ 	*-*)
++-		IFS="-" read -r cpu vendor <<EOF
+++		saved_IFS=$IFS
+++		IFS="-" read cpu vendor <<EOF
++ $basic_machine
++ EOF
+++		IFS=$saved_IFS
++ 		;;
++-	# We use `pc' rather than `unknown'
+++	# We use 'pc' rather than 'unknown'
++ 	# because (1) that's what they normally are, and
++ 	# (2) the word "unknown" tends to confuse beginning users.
++ 	i*86 | x86_64)
++@@ -950,15 +1023,19 @@ unset -v basic_machine
++ 
++ # Decode basic machines in the full and proper CPU-Company form.
++ case $cpu-$vendor in
++-	# Here we handle the default manufacturer of certain CPU types in cannonical form. It is in
++-	# some cases the only manufacturer, in others, it is the most popular.
+++	# Here we handle the default manufacturer of certain CPU types in canonical form.
+++	# It is in some cases the only manufacturer, in others, it is the most popular.
+++	c[12]-convex | c[12]-unknown | c3[248]-convex | c3[248]-unknown)
+++		vendor=convex
+++		basic_os=${basic_os:-bsd}
+++		;;
++ 	craynv-unknown)
++ 		vendor=cray
++-		os=${os:-unicosmp}
+++		basic_os=${basic_os:-unicosmp}
++ 		;;
++ 	c90-unknown | c90-cray)
++ 		vendor=cray
++-		os=${os:-unicos}
+++		basic_os=${basic_os:-unicos}
++ 		;;
++ 	fx80-unknown)
++ 		vendor=alliant
++@@ -999,10 +1076,33 @@ case $cpu-$vendor in
++ 		;;
++ 
++ 	# Here we normalize CPU types with a missing or matching vendor
++-	dpx20-unknown | dpx20-bull)
++-		cpu=rs6000
++-		vendor=bull
++-		os=${os:-bosx}
+++	armh-unknown | armh-alt)
+++		cpu=armv7l
+++		vendor=alt
+++		basic_os=${basic_os:-linux-gnueabihf}
+++		;;
+++
+++	# Normalized CPU+vendor pairs that imply an OS, if not otherwise specified
+++	m68k-isi)
+++		basic_os=${basic_os:-sysv}
+++		;;
+++	m68k-sony)
+++		basic_os=${basic_os:-newsos}
+++		;;
+++	m68k-tektronix)
+++		basic_os=${basic_os:-bsd}
+++		;;
+++	m88k-harris)
+++		basic_os=${basic_os:-sysv3}
+++		;;
+++	i386-bull | m68k-bull)
+++		basic_os=${basic_os:-sysv3}
+++		;;
+++	rs6000-bull)
+++		basic_os=${basic_os:-bosx}
+++		;;
+++	mips-sni)
+++		basic_os=${basic_os:-sysv4}
++ 		;;
++ 
++ 	# Here we normalize CPU types irrespective of the vendor
++@@ -1011,7 +1111,7 @@ case $cpu-$vendor in
++ 		;;
++ 	blackfin-*)
++ 		cpu=bfin
++-		os=linux
+++		basic_os=${basic_os:-linux}
++ 		;;
++ 	c54x-*)
++ 		cpu=tic54x
++@@ -1024,7 +1124,7 @@ case $cpu-$vendor in
++ 		;;
++ 	e500v[12]-*)
++ 		cpu=powerpc
++-		os=$os"spe"
+++		basic_os=${basic_os}"spe"
++ 		;;
++ 	mips3*-*)
++ 		cpu=mips64
++@@ -1034,7 +1134,7 @@ case $cpu-$vendor in
++ 		;;
++ 	m68knommu-*)
++ 		cpu=m68k
++-		os=linux
+++		basic_os=${basic_os:-linux}
++ 		;;
++ 	m9s12z-* | m68hcs12z-* | hcs12z-* | s12z-*)
++ 		cpu=s12z
++@@ -1044,12 +1144,12 @@ case $cpu-$vendor in
++ 		;;
++ 	parisc-*)
++ 		cpu=hppa
++-		os=linux
+++		basic_os=${basic_os:-linux}
++ 		;;
++ 	pentium-* | p5-* | k5-* | k6-* | nexgen-* | viac3-*)
++ 		cpu=i586
++ 		;;
++-	pentiumpro-* | p6-* | 6x86-* | athlon-* | athalon_*-*)
+++	pentiumpro-* | p6-* | 6x86-* | athlon-* | athlon_*-*)
++ 		cpu=i686
++ 		;;
++ 	pentiumii-* | pentium2-* | pentiumiii-* | pentium3-*)
++@@ -1058,9 +1158,6 @@ case $cpu-$vendor in
++ 	pentium4-*)
++ 		cpu=i786
++ 		;;
++-	pc98-*)
++-		cpu=i386
++-		;;
++ 	ppc-* | ppcbe-*)
++ 		cpu=powerpc
++ 		;;
++@@ -1094,17 +1191,17 @@ case $cpu-$vendor in
++ 	tx39el-*)
++ 		cpu=mipstx39el
++ 		;;
++-	x64-*)
++-		cpu=x86_64
++-		;;
++ 	xscale-* | xscalee[bl]-*)
++ 		cpu=`echo "$cpu" | sed 's/^xscale/arm/'`
++ 		;;
+++	arm64-* | aarch64le-*)
+++		cpu=aarch64
+++		;;
++ 
++-	# Recognize the cannonical CPU Types that limit and/or modify the
+++	# Recognize the canonical CPU Types that limit and/or modify the
++ 	# company names they are paired with.
++ 	cr16-*)
++-		os=${os:-elf}
+++		basic_os=${basic_os:-elf}
++ 		;;
++ 	crisv32-* | etraxfs*-*)
++ 		cpu=crisv32
++@@ -1115,7 +1212,7 @@ case $cpu-$vendor in
++ 		vendor=axis
++ 		;;
++ 	crx-*)
++-		os=${os:-elf}
+++		basic_os=${basic_os:-elf}
++ 		;;
++ 	neo-tandem)
++ 		cpu=neo
++@@ -1137,119 +1234,243 @@ case $cpu-$vendor in
++ 		cpu=nsx
++ 		vendor=tandem
++ 		;;
++-	s390-*)
++-		cpu=s390
++-		vendor=ibm
++-		;;
++-	s390x-*)
++-		cpu=s390x
++-		vendor=ibm
+++	mipsallegrexel-sony)
+++		cpu=mipsallegrexel
+++		vendor=sony
++ 		;;
++ 	tile*-*)
++-		os=${os:-linux-gnu}
+++		basic_os=${basic_os:-linux-gnu}
++ 		;;
++ 
++ 	*)
++-		# Recognize the cannonical CPU types that are allowed with any
+++		# Recognize the canonical CPU types that are allowed with any
++ 		# company name.
++ 		case $cpu in
++-			1750a | 580 \
+++			  1750a \
+++			| 580 \
+++			| [cjt]90 \
++ 			| a29k \
++-			| aarch64 | aarch64_be \
+++			| aarch64 \
+++			| aarch64_be \
+++			| aarch64c \
++ 			| abacus \
++-			| alpha | alphaev[4-8] | alphaev56 | alphaev6[78] \
++-			| alpha64 | alpha64ev[4-8] | alpha64ev56 | alpha64ev6[78] \
++-			| alphapca5[67] | alpha64pca5[67] \
+++			| alpha \
+++			| alpha64 \
+++			| alpha64ev56 \
+++			| alpha64ev6[78] \
+++			| alpha64ev[4-8] \
+++			| alpha64pca5[67] \
+++			| alphaev56 \
+++			| alphaev6[78] \
+++			| alphaev[4-8] \
+++			| alphapca5[67] \
++ 			| am33_2.0 \
++-			| arc | arceb \
++-			| arm  | arm[lb]e | arme[lb] | armv* \
++-			| avr | avr32 \
+++			| amdgcn \
+++			| arc \
+++			| arc32 \
+++			| arc64 \
+++			| arceb \
+++			| arm \
+++			| arm64e \
+++			| arm64ec \
+++			| arm[lb]e \
+++			| arme[lb] \
+++			| armv* \
++ 			| asmjs \
+++			| avr \
+++			| avr32 \
++ 			| ba \
++-			| be32 | be64 \
++-			| bfin | bs2000 \
++-			| c[123]* | c30 | [cjt]90 | c4x \
++-			| c8051 | clipper | craynv | csky | cydra \
++-			| d10v | d30v | dlx | dsp16xx \
++-			| e2k | elxsi | epiphany \
++-			| f30[01] | f700 | fido | fr30 | frv | ft32 | fx80 \
++-			| h8300 | h8500 \
++-			| hppa | hppa1.[01] | hppa2.0 | hppa2.0[nw] | hppa64 \
+++			| be32 \
+++			| be64 \
+++			| bfin \
+++			| bpf \
+++			| bs2000 \
+++			| c30 \
+++			| c4x \
+++			| c8051 \
+++			| c[123]* \
+++			| clipper \
+++			| craynv \
+++			| csky \
+++			| cydra \
+++			| d10v \
+++			| d30v \
+++			| dlx \
+++			| dsp16xx \
+++			| e2k \
+++			| elxsi \
+++			| epiphany \
+++			| f30[01] \
+++			| f700 \
+++			| fido \
+++			| fr30 \
+++			| frv \
+++			| ft32 \
+++			| fx80 \
+++			| h8300 \
+++			| h8500 \
++ 			| hexagon \
++-			| i370 | i*86 | i860 | i960 | ia16 | ia64 \
++-			| ip2k | iq2000 \
+++			| hppa \
+++			| hppa1.[01] \
+++			| hppa2.0 \
+++			| hppa2.0[nw] \
+++			| hppa64 \
+++			| i*86 \
+++			| i370 \
+++			| i860 \
+++			| i960 \
+++			| ia16 \
+++			| ia64 \
+++			| ip2k \
+++			| iq2000 \
+++			| javascript \
++ 			| k1om \
++-			| le32 | le64 \
+++			| kvx \
+++			| le32 \
+++			| le64 \
++ 			| lm32 \
++-			| m32c | m32r | m32rle \
++-			| m5200 | m68000 | m680[012346]0 | m68360 | m683?2 | m68k | v70 | w65 \
++-			| m6811 | m68hc11 | m6812 | m68hc12 | m68hcs12x | nvptx | picochip \
++-			| m88110 | m88k | maxq | mb | mcore | mep | metag \
++-			| microblaze | microblazeel \
++-			| mips | mipsbe | mipseb | mipsel | mipsle \
++-			| mips16 \
++-			| mips64 | mips64el \
++-			| mips64octeon | mips64octeonel \
++-			| mips64orion | mips64orionel \
++-			| mips64r5900 | mips64r5900el \
++-			| mips64vr | mips64vrel \
++-			| mips64vr4100 | mips64vr4100el \
++-			| mips64vr4300 | mips64vr4300el \
++-			| mips64vr5000 | mips64vr5000el \
++-			| mips64vr5900 | mips64vr5900el \
++-			| mipsisa32 | mipsisa32el \
++-			| mipsisa32r2 | mipsisa32r2el \
++-			| mipsisa32r6 | mipsisa32r6el \
++-			| mipsisa64 | mipsisa64el \
++-			| mipsisa64r2 | mipsisa64r2el \
++-			| mipsisa64r6 | mipsisa64r6el \
++-			| mipsisa64sb1 | mipsisa64sb1el \
++-			| mipsisa64sr71k | mipsisa64sr71kel \
++-			| mipsr5900 | mipsr5900el \
++-			| mipstx39 | mipstx39el \
+++			| loongarch32 \
+++			| loongarch64 \
+++			| m32c \
+++			| m32r \
+++			| m32rle \
+++			| m5200 \
+++			| m68000 \
+++			| m680[012346]0 \
+++			| m6811 \
+++			| m6812 \
+++			| m68360 \
+++			| m683?2 \
+++			| m68hc11 \
+++			| m68hc12 \
+++			| m68hcs12x \
+++			| m68k \
+++			| m88110 \
+++			| m88k \
+++			| maxq \
+++			| mb \
+++			| mcore \
+++			| mep \
+++			| metag \
+++			| microblaze \
+++			| microblazeel \
+++			| mips* \
++ 			| mmix \
++-			| mn10200 | mn10300 \
+++			| mn10200 \
+++			| mn10300 \
++ 			| moxie \
++-			| mt \
++ 			| msp430 \
++-			| nds32 | nds32le | nds32be \
+++			| mt \
+++			| nanomips* \
+++			| nds32 \
+++			| nds32be \
+++			| nds32le \
++ 			| nfp \
++-			| nios | nios2 | nios2eb | nios2el \
++-			| none | np1 | ns16k | ns32k \
+++			| nios \
+++			| nios2 \
+++			| nios2eb \
+++			| nios2el \
+++			| none \
+++			| np1 \
+++			| ns16k \
+++			| ns32k \
+++			| nvptx \
++ 			| open8 \
++ 			| or1k* \
++ 			| or32 \
++ 			| orion \
++-			| pdp10 | pdp11 | pj | pjl | pn | power \
++-			| powerpc | powerpc64 | powerpc64le | powerpcle | powerpcspe \
+++			| pdp10 \
+++			| pdp11 \
+++			| picochip \
+++			| pj \
+++			| pjl \
+++			| pn \
+++			| power \
+++			| powerpc \
+++			| powerpc64 \
+++			| powerpc64le \
+++			| powerpcle \
+++			| powerpcspe \
++ 			| pru \
++ 			| pyramid \
++-			| riscv | riscv32 | riscv64 \
++-			| rl78 | romp | rs6000 | rx \
+++			| riscv \
+++			| riscv32 \
+++			| riscv32be \
+++			| riscv64 \
+++			| riscv64be \
+++			| rl78 \
+++			| romp \
+++			| rs6000 \
+++			| rx \
+++			| s390 \
+++			| s390x \
++ 			| score \
++-			| sh | sh[1234] | sh[24]a | sh[24]ae[lb] | sh[23]e | she[lb] | sh[lb]e \
++-			| sh[1234]e[lb] |  sh[12345][lb]e | sh[23]ele | sh64 | sh64le \
++-			| sparc | sparc64 | sparc64b | sparc64v | sparc86x | sparclet \
+++			| sh \
+++			| sh64 \
+++			| sh64le \
+++			| sh[12345][lb]e \
+++			| sh[1234] \
+++			| sh[1234]e[lb] \
+++			| sh[23]e \
+++			| sh[23]ele \
+++			| sh[24]a \
+++			| sh[24]ae[lb] \
+++			| sh[lb]e \
+++			| she[lb] \
+++			| shl \
+++			| sparc \
+++			| sparc64 \
+++			| sparc64b \
+++			| sparc64v \
+++			| sparc86x \
+++			| sparclet \
++ 			| sparclite \
++-			| sparcv8 | sparcv9 | sparcv9b | sparcv9v | sv1 | sx* \
+++			| sparcv8 \
+++			| sparcv9 \
+++			| sparcv9b \
+++			| sparcv9v \
++ 			| spu \
+++			| sv1 \
+++			| sx* \
++ 			| tahoe \
++-			| tic30 | tic4x | tic54x | tic55x | tic6x | tic80 \
+++			| thumbv7* \
+++			| tic30 \
+++			| tic4x \
+++			| tic54x \
+++			| tic55x \
+++			| tic6x \
+++			| tic80 \
++ 			| tron \
++ 			| ubicom32 \
++-			| v850 | v850e | v850e1 | v850es | v850e2 | v850e2v3 \
+++			| v70 \
+++			| v810 \
+++			| v850 \
+++			| v850e \
+++			| v850e1 \
+++			| v850e2 \
+++			| v850e2v3 \
+++			| v850es \
++ 			| vax \
+++			| vc4 \
++ 			| visium \
+++			| w65 \
++ 			| wasm32 \
+++			| wasm64 \
++ 			| we32k \
++-			| x86 | x86_64 | xc16x | xgate | xps100 \
++-			| xstormy16 | xtensa* \
+++			| x86 \
+++			| x86_64 \
+++			| xc16x \
+++			| xgate \
+++			| xps100 \
+++			| xstormy16 \
+++			| xtensa* \
++ 			| ymp \
++-			| z8k | z80)
+++			| z80 \
+++			| z8k)
++ 				;;
++ 
++ 			*)
++-				echo Invalid configuration \`"$1"\': machine \`"$cpu-$vendor"\' not recognized 1>&2
+++				echo "Invalid configuration '$1': machine '$cpu-$vendor' not recognized" 1>&2
++ 				exit 1
++ 				;;
++ 		esac
++@@ -1270,8 +1491,53 @@ esac
++ 
++ # Decode manufacturer-specific aliases for certain operating systems.
++ 
++-if [ x$os != x ]
+++if test x"$basic_os" != x
++ then
+++
+++# First recognize some ad-hoc cases, or perhaps split kernel-os, or else just
+++# set os.
+++obj=
+++case $basic_os in
+++	gnu/linux*)
+++		kernel=linux
+++		os=`echo "$basic_os" | sed -e 's|gnu/linux|gnu|'`
+++		;;
+++	os2-emx)
+++		kernel=os2
+++		os=`echo "$basic_os" | sed -e 's|os2-emx|emx|'`
+++		;;
+++	nto-qnx*)
+++		kernel=nto
+++		os=`echo "$basic_os" | sed -e 's|nto-qnx|qnx|'`
+++		;;
+++	*-*)
+++		saved_IFS=$IFS
+++		IFS="-" read kernel os <<EOF
+++$basic_os
+++EOF
+++		IFS=$saved_IFS
+++		;;
+++	# Default OS when just kernel was specified
+++	nto*)
+++		kernel=nto
+++		os=`echo "$basic_os" | sed -e 's|nto|qnx|'`
+++		;;
+++	linux*)
+++		kernel=linux
+++		os=`echo "$basic_os" | sed -e 's|linux|gnu|'`
+++		;;
+++	managarm*)
+++		kernel=managarm
+++		os=`echo "$basic_os" | sed -e 's|managarm|mlibc|'`
+++		;;
+++	*)
+++		kernel=
+++		os=$basic_os
+++		;;
+++esac
+++
+++# Now, normalize the OS (knowing we just have one component, it's not a kernel,
+++# etc.)
++ case $os in
++ 	# First match some system type aliases that might get confused
++ 	# with valid system types.
++@@ -1283,7 +1549,7 @@ case $os in
++ 		os=cnk
++ 		;;
++ 	solaris1 | solaris1.*)
++-		os=`echo $os | sed -e 's|solaris1|sunos4|'`
+++		os=`echo "$os" | sed -e 's|solaris1|sunos4|'`
++ 		;;
++ 	solaris)
++ 		os=solaris2
++@@ -1291,8 +1557,22 @@ case $os in
++ 	unixware*)
++ 		os=sysv4.2uw
++ 		;;
++-	gnu/linux*)
++-		os=`echo $os | sed -e 's|gnu/linux|linux-gnu|'`
+++	# The marketing names for NeXT's operating systems were
+++	# NeXTSTEP, NeXTSTEP 2, OpenSTEP 3, OpenSTEP 4.  'openstep' is
+++	# mapped to 'openstep3', but 'openstep1' and 'openstep2' are
+++	# mapped to 'nextstep' and 'nextstep2', consistent with the
+++	# treatment of SunOS/Solaris.
+++	ns | ns1 | nextstep | nextstep1 | openstep1)
+++		os=nextstep
+++		;;
+++	ns2 | nextstep2 | openstep2)
+++		os=nextstep2
+++		;;
+++	ns3 | nextstep3 | openstep | openstep3)
+++		os=openstep3
+++		;;
+++	ns4 | nextstep4 | openstep4)
+++		os=openstep4
++ 		;;
++ 	# es1800 is here to avoid being matched by es* (a different OS)
++ 	es1800*)
++@@ -1315,12 +1595,9 @@ case $os in
++ 		os=sco3.2v4
++ 		;;
++ 	sco3.2.[4-9]*)
++-		os=`echo $os | sed -e 's/sco3.2./sco3.2v/'`
+++		os=`echo "$os" | sed -e 's/sco3.2./sco3.2v/'`
++ 		;;
++-	sco3.2v[4-9]* | sco5v6*)
++-		# Don't forget version if it is 3.2v4 or newer.
++-		;;
++-	scout)
+++	sco*v* | scout)
++ 		# Don't match below
++ 		;;
++ 	sco*)
++@@ -1329,77 +1606,25 @@ case $os in
++ 	psos*)
++ 		os=psos
++ 		;;
++-	# Now accept the basic system types.
++-	# The portable systems comes first.
++-	# Each alternative MUST end in a * to match a version number.
++-	# sysv* is not here because it comes later, after sysvr4.
++-	gnu* | bsd* | mach* | minix* | genix* | ultrix* | irix* \
++-	     | *vms* | esix* | aix* | cnk* | sunos | sunos[34]*\
++-	     | hpux* | unos* | osf* | luna* | dgux* | auroraux* | solaris* \
++-	     | sym* | kopensolaris* | plan9* \
++-	     | amigaos* | amigados* | msdos* | newsos* | unicos* | aof* \
++-	     | aos* | aros* | cloudabi* | sortix* \
++-	     | nindy* | vxsim* | vxworks* | ebmon* | hms* | mvs* \
++-	     | clix* | riscos* | uniplus* | iris* | isc* | rtu* | xenix* \
++-	     | knetbsd* | mirbsd* | netbsd* \
++-	     | bitrig* | openbsd* | solidbsd* | libertybsd* \
++-	     | ekkobsd* | kfreebsd* | freebsd* | riscix* | lynxos* \
++-	     | bosx* | nextstep* | cxux* | aout* | elf* | oabi* \
++-	     | ptx* | coff* | ecoff* | winnt* | domain* | vsta* \
++-	     | udi* | eabi* | lites* | ieee* | go32* | aux* | hcos* \
++-	     | chorusrdb* | cegcc* | glidix* \
++-	     | cygwin* | msys* | pe* | moss* | proelf* | rtems* \
++-	     | midipix* | mingw32* | mingw64* | linux-gnu* | linux-android* \
++-	     | linux-newlib* | linux-musl* | linux-uclibc* \
++-	     | uxpv* | beos* | mpeix* | udk* | moxiebox* \
++-	     | interix* | uwin* | mks* | rhapsody* | darwin* \
++-	     | openstep* | oskit* | conix* | pw32* | nonstopux* \
++-	     | storm-chaos* | tops10* | tenex* | tops20* | its* \
++-	     | os2* | vos* | palmos* | uclinux* | nucleus* \
++-	     | morphos* | superux* | rtmk* | windiss* \
++-	     | powermax* | dnix* | nx6 | nx7 | sei* | dragonfly* \
++-	     | skyos* | haiku* | rdos* | toppers* | drops* | es* \
++-	     | onefs* | tirtos* | phoenix* | fuchsia* | redox* | bme* \
++-	     | midnightbsd*)
++-	# Remember, each alternative MUST END IN *, to match a version number.
++-		;;
++ 	qnx*)
++-		case $cpu in
++-		    x86 | i*86)
++-			;;
++-		    *)
++-			os=nto-$os
++-			;;
++-		esac
+++		os=qnx
++ 		;;
++ 	hiux*)
++ 		os=hiuxwe2
++ 		;;
++-	nto-qnx*)
++-		;;
++-	nto*)
++-		os=`echo $os | sed -e 's|nto|nto-qnx|'`
++-		;;
++-	sim | xray | os68k* | v88r* \
++-	    | windows* | osx | abug | netware* | os9* \
++-	    | macos* | mpw* | magic* | mmixware* | mon960* | lnews*)
++-		;;
++-	linux-dietlibc)
++-		os=linux-dietlibc
++-		;;
++-	linux*)
++-		os=`echo $os | sed -e 's|linux|linux-gnu|'`
++-		;;
++ 	lynx*178)
++ 		os=lynxos178
++ 		;;
++ 	lynx*5)
++ 		os=lynxos5
++ 		;;
+++	lynxos*)
+++		# don't get caught up in next wildcard
+++		;;
++ 	lynx*)
++ 		os=lynxos
++ 		;;
++-	mac*)
+++	mac[0-9]*)
++ 		os=`echo "$os" | sed -e 's|mac|macos|'`
++ 		;;
++ 	opened*)
++@@ -1419,6 +1644,7 @@ case $os in
++ 		;;
++ 	utek*)
++ 		os=bsd
+++		vendor=`echo "$vendor" | sed -e 's|^unknown$|tektronix|'`
++ 		;;
++ 	dynix*)
++ 		os=bsd
++@@ -1435,24 +1661,25 @@ case $os in
++ 	386bsd)
++ 		os=bsd
++ 		;;
++-	ctix* | uts*)
+++	ctix*)
++ 		os=sysv
+++		vendor=`echo "$vendor" | sed -e 's|^unknown$|convergent|'`
++ 		;;
++-	nova*)
++-		os=rtmk-nova
++-		;;
++-	ns2)
++-		os=nextstep2
+++	uts*)
+++		os=sysv
++ 		;;
++-	nsk*)
++-		os=nsk
+++	nova*)
+++		kernel=rtmk
+++		os=nova
++ 		;;
++ 	# Preserve the version number of sinix5.
++ 	sinix5.*)
++-		os=`echo $os | sed -e 's|sinix|sysv|'`
+++		os=`echo "$os" | sed -e 's|sinix|sysv|'`
+++		vendor=`echo "$vendor" | sed -e 's|^unknown$|sni|'`
++ 		;;
++ 	sinix*)
++ 		os=sysv4
+++		vendor=`echo "$vendor" | sed -e 's|^unknown$|sni|'`
++ 		;;
++ 	tpf*)
++ 		os=tpf
++@@ -1472,18 +1699,12 @@ case $os in
++ 	sysvr4)
++ 		os=sysv4
++ 		;;
++-	# This must come after sysvr4.
++-	sysv*)
++-		;;
++ 	ose*)
++ 		os=ose
++ 		;;
++ 	*mint | mint[0-9]* | *MiNT | MiNT[0-9]*)
++ 		os=mint
++ 		;;
++-	zvmoe)
++-		os=zvmoe
++-		;;
++ 	dicos*)
++ 		os=dicos
++ 		;;
++@@ -1496,23 +1717,21 @@ case $os in
++ 			os=eabi
++ 			;;
++ 		    *)
++-			os=elf
+++			os=
+++			obj=elf
++ 			;;
++ 		esac
++ 		;;
++-	nacl*)
++-		;;
++-	ios)
++-		;;
++-	none)
++-		;;
++-	*-eabi)
+++	aout* | coff* | elf* | pe*)
+++		# These are machine code file formats, not OSes
+++		obj=$os
+++		os=
++ 		;;
++ 	*)
++-		echo Invalid configuration \`"$1"\': system \`"$os"\' not recognized 1>&2
++-		exit 1
+++		# No normalization, but not necessarily accepted, that comes below.
++ 		;;
++ esac
+++
++ else
++ 
++ # Here we handle the default operating systems that come with various machines.
++@@ -1525,42 +1744,54 @@ else
++ # will signal an error saying that MANUFACTURER isn't an operating
++ # system, and we'll never get to this point.
++ 
+++kernel=
+++obj=
++ case $cpu-$vendor in
++ 	score-*)
++-		os=elf
+++		os=
+++		obj=elf
++ 		;;
++ 	spu-*)
++-		os=elf
+++		os=
+++		obj=elf
++ 		;;
++ 	*-acorn)
++ 		os=riscix1.2
++ 		;;
++ 	arm*-rebel)
++-		os=linux
+++		kernel=linux
+++		os=gnu
++ 		;;
++ 	arm*-semi)
++-		os=aout
+++		os=
+++		obj=aout
++ 		;;
++ 	c4x-* | tic4x-*)
++-		os=coff
+++		os=
+++		obj=coff
++ 		;;
++ 	c8051-*)
++-		os=elf
+++		os=
+++		obj=elf
++ 		;;
++ 	clipper-intergraph)
++ 		os=clix
++ 		;;
++ 	hexagon-*)
++-		os=elf
+++		os=
+++		obj=elf
++ 		;;
++ 	tic54x-*)
++-		os=coff
+++		os=
+++		obj=coff
++ 		;;
++ 	tic55x-*)
++-		os=coff
+++		os=
+++		obj=coff
++ 		;;
++ 	tic6x-*)
++-		os=coff
+++		os=
+++		obj=coff
++ 		;;
++ 	# This must come before the *-dec entry.
++ 	pdp10-*)
++@@ -1582,28 +1813,43 @@ case $cpu-$vendor in
++ 		os=sunos3
++ 		;;
++ 	m68*-cisco)
++-		os=aout
+++		os=
+++		obj=aout
++ 		;;
++ 	mep-*)
++-		os=elf
+++		os=
+++		obj=elf
+++		;;
+++	# The -sgi and -siemens entries must be before the mips- entry
+++	# or we get the wrong os.
+++	*-sgi)
+++		os=irix
+++		;;
+++	*-siemens)
+++		os=sysv4
++ 		;;
++ 	mips*-cisco)
++-		os=elf
+++		os=
+++		obj=elf
++ 		;;
++-	mips*-*)
++-		os=elf
+++	mips*-*|nanomips*-*)
+++		os=
+++		obj=elf
++ 		;;
++ 	or32-*)
++-		os=coff
+++		os=
+++		obj=coff
++ 		;;
++-	*-tti)	# must be before sparc entry or we get the wrong os.
+++	# This must be before the sparc-* entry or we get the wrong os.
+++	*-tti)
++ 		os=sysv3
++ 		;;
++ 	sparc-* | *-sun)
++ 		os=sunos4.1.1
++ 		;;
++ 	pru-*)
++-		os=elf
+++		os=
+++		obj=elf
++ 		;;
++ 	*-be)
++ 		os=beos
++@@ -1627,7 +1873,7 @@ case $cpu-$vendor in
++ 		os=hpux
++ 		;;
++ 	*-hitachi)
++-		os=hiux
+++		os=hiuxwe2
++ 		;;
++ 	i860-* | *-att | *-ncr | *-altos | *-motorola | *-convergent)
++ 		os=sysv
++@@ -1671,12 +1917,6 @@ case $cpu-$vendor in
++ 	*-encore)
++ 		os=bsd
++ 		;;
++-	*-sgi)
++-		os=irix
++-		;;
++-	*-siemens)
++-		os=sysv4
++-		;;
++ 	*-masscomp)
++ 		os=rtu
++ 		;;
++@@ -1684,10 +1924,12 @@ case $cpu-$vendor in
++ 		os=uxpv
++ 		;;
++ 	*-rom68k)
++-		os=coff
+++		os=
+++		obj=coff
++ 		;;
++ 	*-*bug)
++-		os=coff
+++		os=
+++		obj=coff
++ 		;;
++ 	*-apple)
++ 		os=macos
++@@ -1702,84 +1944,406 @@ case $cpu-$vendor in
++ 		os=none
++ 		;;
++ esac
+++
++ fi
++ 
+++# Now, validate our (potentially fixed-up) individual pieces (OS, OBJ).
+++
+++case $os in
+++	# Sometimes we do "kernel-libc", so those need to count as OSes.
+++	llvm* | musl* | newlib* | relibc* | uclibc*)
+++		;;
+++	# Likewise for "kernel-abi"
+++	eabi* | gnueabi*)
+++		;;
+++	# VxWorks passes extra cpu info in the 4th filed.
+++	simlinux | simwindows | spe)
+++		;;
+++	# See `case $cpu-$os` validation below
+++	ghcjs)
+++		;;
+++	# Now accept the basic system types.
+++	# Each alternative MUST end in a * to match a version number.
+++	  abug \
+++	| aix* \
+++	| amdhsa* \
+++	| amigados* \
+++	| amigaos* \
+++	| android* \
+++	| aof* \
+++	| aos* \
+++	| aros* \
+++	| atheos* \
+++	| auroraux* \
+++	| aux* \
+++	| beos* \
+++	| bitrig* \
+++	| bme* \
+++	| bosx* \
+++	| bsd* \
+++	| cegcc* \
+++	| chorusos* \
+++	| chorusrdb* \
+++	| clix* \
+++	| cloudabi* \
+++	| cnk* \
+++	| conix* \
+++	| cos* \
+++	| cxux* \
+++	| cygwin* \
+++	| darwin* \
+++	| dgux* \
+++	| dicos* \
+++	| dnix* \
+++	| domain* \
+++	| dragonfly* \
+++	| drops* \
+++	| ebmon* \
+++	| ecoff* \
+++	| ekkobsd* \
+++	| emscripten* \
+++	| emx* \
+++	| es* \
+++	| fiwix* \
+++	| freebsd* \
+++	| fuchsia* \
+++	| genix* \
+++	| genode* \
+++	| glidix* \
+++	| gnu* \
+++	| go32* \
+++	| haiku* \
+++	| hcos* \
+++	| hiux* \
+++	| hms* \
+++	| hpux* \
+++	| ieee* \
+++	| interix* \
+++	| ios* \
+++	| iris* \
+++	| irix* \
+++	| ironclad* \
+++	| isc* \
+++	| its* \
+++	| l4re* \
+++	| libertybsd* \
+++	| lites* \
+++	| lnews* \
+++	| luna* \
+++	| lynxos* \
+++	| mach* \
+++	| macos* \
+++	| magic* \
+++	| mbr* \
+++	| midipix* \
+++	| midnightbsd* \
+++	| mingw32* \
+++	| mingw64* \
+++	| minix* \
+++	| mint* \
+++	| mirbsd* \
+++	| mks* \
+++	| mlibc* \
+++	| mmixware* \
+++	| mon960* \
+++	| morphos* \
+++	| moss* \
+++	| moxiebox* \
+++	| mpeix* \
+++	| mpw* \
+++	| msdos* \
+++	| msys* \
+++	| mvs* \
+++	| nacl* \
+++	| netbsd* \
+++	| netware* \
+++	| newsos* \
+++	| nextstep* \
+++	| nindy* \
+++	| nonstopux* \
+++	| nova* \
+++	| nsk* \
+++	| nucleus* \
+++	| nx6 \
+++	| nx7 \
+++	| oabi* \
+++	| ohos* \
+++	| onefs* \
+++	| openbsd* \
+++	| openedition* \
+++	| openstep* \
+++	| os108* \
+++	| os2* \
+++	| os400* \
+++	| os68k* \
+++	| os9* \
+++	| ose* \
+++	| osf* \
+++	| oskit* \
+++	| osx* \
+++	| palmos* \
+++	| phoenix* \
+++	| plan9* \
+++	| powermax* \
+++	| powerunix* \
+++	| proelf* \
+++	| psos* \
+++	| psp* \
+++	| ptx* \
+++	| pw32* \
+++	| qnx* \
+++	| rdos* \
+++	| redox* \
+++	| rhapsody* \
+++	| riscix* \
+++	| riscos* \
+++	| rtems* \
+++	| rtmk* \
+++	| rtu* \
+++	| scout* \
+++	| secbsd* \
+++	| sei* \
+++	| serenity* \
+++	| sim* \
+++	| skyos* \
+++	| solaris* \
+++	| solidbsd* \
+++	| sortix* \
+++	| storm-chaos* \
+++	| sunos \
+++	| sunos[34]* \
+++	| superux* \
+++	| syllable* \
+++	| sym* \
+++	| sysv* \
+++	| tenex* \
+++	| tirtos* \
+++	| toppers* \
+++	| tops10* \
+++	| tops20* \
+++	| tpf* \
+++	| tvos* \
+++	| twizzler* \
+++	| uclinux* \
+++	| udi* \
+++	| udk* \
+++	| ultrix* \
+++	| unicos* \
+++	| uniplus* \
+++	| unleashed* \
+++	| unos* \
+++	| uwin* \
+++	| uxpv* \
+++	| v88r* \
+++	|*vms* \
+++	| vos* \
+++	| vsta* \
+++	| vxsim* \
+++	| vxworks* \
+++	| wasi* \
+++	| watchos* \
+++	| wince* \
+++	| windiss* \
+++	| windows* \
+++	| winnt* \
+++	| xenix* \
+++	| xray* \
+++	| zephyr* \
+++	| zvmoe* )
+++		;;
+++	# This one is extra strict with allowed versions
+++	sco3.2v2 | sco3.2v[4-9]* | sco5v6*)
+++		# Don't forget version if it is 3.2v4 or newer.
+++		;;
+++	# This refers to builds using the UEFI calling convention
+++	# (which depends on the architecture) and PE file format.
+++	# Note that this is both a different calling convention and
+++	# different file format than that of GNU-EFI
+++	# (x86_64-w64-mingw32).
+++	uefi)
+++		;;
+++	none)
+++		;;
+++	kernel* | msvc* )
+++		# Restricted further below
+++		;;
+++	'')
+++		if test x"$obj" = x
+++		then
+++			echo "Invalid configuration '$1': Blank OS only allowed with explicit machine code file format" 1>&2
+++		fi
+++		;;
+++	*)
+++		echo "Invalid configuration '$1': OS '$os' not recognized" 1>&2
+++		exit 1
+++		;;
+++esac
+++
+++case $obj in
+++	aout* | coff* | elf* | pe*)
+++		;;
+++	'')
+++		# empty is fine
+++		;;
+++	*)
+++		echo "Invalid configuration '$1': Machine code format '$obj' not recognized" 1>&2
+++		exit 1
+++		;;
+++esac
+++
+++# Here we handle the constraint that a (synthetic) cpu and os are
+++# valid only in combination with each other and nowhere else.
+++case $cpu-$os in
+++	# The "javascript-unknown-ghcjs" triple is used by GHC; we
+++	# accept it here in order to tolerate that, but reject any
+++	# variations.
+++	javascript-ghcjs)
+++		;;
+++	javascript-* | *-ghcjs)
+++		echo "Invalid configuration '$1': cpu '$cpu' is not valid with os '$os$obj'" 1>&2
+++		exit 1
+++		;;
+++esac
+++
+++# As a final step for OS-related things, validate the OS-kernel combination
+++# (given a valid OS), if there is a kernel.
+++case $kernel-$os-$obj in
+++	linux-gnu*- | linux-android*- | linux-dietlibc*- | linux-llvm*- \
+++		    | linux-mlibc*- | linux-musl*- | linux-newlib*- \
+++		    | linux-relibc*- | linux-uclibc*- | linux-ohos*- )
+++		;;
+++	uclinux-uclibc*- | uclinux-gnu*- )
+++		;;
+++	managarm-mlibc*- | managarm-kernel*- )
+++		;;
+++	windows*-msvc*-)
+++		;;
+++	-dietlibc*- | -llvm*- | -mlibc*- | -musl*- | -newlib*- | -relibc*- \
+++		    | -uclibc*- )
+++		# These are just libc implementations, not actual OSes, and thus
+++		# require a kernel.
+++		echo "Invalid configuration '$1': libc '$os' needs explicit kernel." 1>&2
+++		exit 1
+++		;;
+++	-kernel*- )
+++		echo "Invalid configuration '$1': '$os' needs explicit kernel." 1>&2
+++		exit 1
+++		;;
+++	*-kernel*- )
+++		echo "Invalid configuration '$1': '$kernel' does not support '$os'." 1>&2
+++		exit 1
+++		;;
+++	*-msvc*- )
+++		echo "Invalid configuration '$1': '$os' needs 'windows'." 1>&2
+++		exit 1
+++		;;
+++	kfreebsd*-gnu*- | knetbsd*-gnu*- | netbsd*-gnu*- | kopensolaris*-gnu*-)
+++		;;
+++	vxworks-simlinux- | vxworks-simwindows- | vxworks-spe-)
+++		;;
+++	nto-qnx*-)
+++		;;
+++	os2-emx-)
+++		;;
+++	rtmk-nova-)
+++		;;
+++	*-eabi*- | *-gnueabi*-)
+++		;;
+++	none--*)
+++		# None (no kernel, i.e. freestanding / bare metal),
+++		# can be paired with an machine code file format
+++		;;
+++	-*-)
+++		# Blank kernel with real OS is always fine.
+++		;;
+++	--*)
+++		# Blank kernel and OS with real machine code file format is always fine.
+++		;;
+++	*-*-*)
+++		echo "Invalid configuration '$1': Kernel '$kernel' not known to work with OS '$os'." 1>&2
+++		exit 1
+++		;;
+++esac
+++
++ # Here we handle the case where we know the os, and the CPU type, but not the
++ # manufacturer.  We pick the logical manufacturer.
++ case $vendor in
++ 	unknown)
++-		case $os in
++-			riscix*)
+++		case $cpu-$os in
+++			*-riscix*)
++ 				vendor=acorn
++ 				;;
++-			sunos*)
+++			*-sunos* | *-solaris*)
++ 				vendor=sun
++ 				;;
++-			cnk*|-aix*)
+++			*-cnk* | *-aix*)
++ 				vendor=ibm
++ 				;;
++-			beos*)
+++			*-beos*)
++ 				vendor=be
++ 				;;
++-			hpux*)
+++			*-hpux*)
++ 				vendor=hp
++ 				;;
++-			mpeix*)
+++			*-mpeix*)
++ 				vendor=hp
++ 				;;
++-			hiux*)
+++			*-hiux*)
++ 				vendor=hitachi
++ 				;;
++-			unos*)
+++			*-unos*)
++ 				vendor=crds
++ 				;;
++-			dgux*)
+++			*-dgux*)
++ 				vendor=dg
++ 				;;
++-			luna*)
+++			*-luna*)
++ 				vendor=omron
++ 				;;
++-			genix*)
+++			*-genix*)
++ 				vendor=ns
++ 				;;
++-			clix*)
+++			*-clix*)
++ 				vendor=intergraph
++ 				;;
++-			mvs* | opened*)
+++			*-mvs* | *-opened*)
+++				vendor=ibm
+++				;;
+++			*-os400*)
++ 				vendor=ibm
++ 				;;
++-			os400*)
+++			s390-* | s390x-*)
++ 				vendor=ibm
++ 				;;
++-			ptx*)
+++			*-ptx*)
++ 				vendor=sequent
++ 				;;
++-			tpf*)
+++			*-tpf*)
++ 				vendor=ibm
++ 				;;
++-			vxsim* | vxworks* | windiss*)
+++			*-vxsim* | *-vxworks* | *-windiss*)
++ 				vendor=wrs
++ 				;;
++-			aux*)
+++			*-aux*)
++ 				vendor=apple
++ 				;;
++-			hms*)
+++			*-hms*)
++ 				vendor=hitachi
++ 				;;
++-			mpw* | macos*)
+++			*-mpw* | *-macos*)
++ 				vendor=apple
++ 				;;
++-			*mint | mint[0-9]* | *MiNT | MiNT[0-9]*)
+++			*-*mint | *-mint[0-9]* | *-*MiNT | *-MiNT[0-9]*)
++ 				vendor=atari
++ 				;;
++-			vos*)
+++			*-vos*)
++ 				vendor=stratus
++ 				;;
++ 		esac
++ 		;;
++ esac
++ 
++-echo "$cpu-$vendor-$os"
+++echo "$cpu-$vendor${kernel:+-$kernel}${os:+-$os}${obj:+-$obj}"
++ exit
++ 
++ # Local variables:
+diff --git a/include/LibreOfficeKit/LibreOfficeKit.h b/include/LibreOfficeKit/LibreOfficeKit.h
+index 899fdc7a2..66ff0418e 100644
+--- a/include/LibreOfficeKit/LibreOfficeKit.h
++++ b/include/LibreOfficeKit/LibreOfficeKit.h
+@@ -21,7 +21,11 @@
+ # include <stdint.h>
+ #endif
+ 
+-#include <LibreOfficeKit/LibreOfficeKitTypes.h>
++#ifdef __APPLE__
++#include <TargetConditionals.h>
++#endif
++
++#include "LibreOfficeKitTypes.h"
+ 
+ #ifdef __cplusplus
+ extern "C"
+@@ -119,7 +123,7 @@ struct _LibreOfficeKitClass
+     /// @see lok::Office::setOption
+     void (*setOption) (LibreOfficeKit* pThis, const char* pOption, const char* pValue);
+ 
+-    /// @see lok::Document::dumpState
++    /// @see lok::Office::dumpState
+     /// @since LibreOffice 7.5
+     void (*dumpState) (LibreOfficeKit* pThis, const char* pOptions, char** pState);
+ 
+@@ -127,6 +131,37 @@ struct _LibreOfficeKitClass
+      */
+     char* (*extractRequest) (LibreOfficeKit* pThis,
+                            const char* pFilePath);
++
++    /// @see lok::Office::trimMemory
++    /// @since LibreOffice 7.6
++    void (*trimMemory) (LibreOfficeKit* pThis, int nTarget);
++
++    /// @see lok::Office::startURP
++    void* (*startURP)(LibreOfficeKit* pThis,
++                    void* pReceiveURPFromLOContext, void* pSendURPToLOContext,
++                    int (*fnReceiveURPFromLO)(void* pContext, const signed char* pBuffer, int nLen),
++                    int (*fnSendURPToLO)(void* pContext, signed char* pBuffer, int nLen));
++
++    /// @see lok::Office::stopURP
++    void (*stopURP)(LibreOfficeKit* pThis, void* pSendURPToLOContext);
++
++    /// @see lok::Office::joinThreads
++    int (*joinThreads)(LibreOfficeKit* pThis);
++
++    /// @see lok::Office::startThreads
++    void (*startThreads)(LibreOfficeKit* pThis);
++
++    /// @see lok::Office::setForkedChild
++    void (*setForkedChild)(LibreOfficeKit* pThis, bool bIsChild);
++
++    /** @see lok::Office::extractDocumentStructureRequest.
++     */
++    char* (*extractDocumentStructureRequest)(LibreOfficeKit* pThis, const char* pFilePath,
++                                             const char* pFilter);
++
++    /// @see lok::Office::registerAnyInputCallback()
++    void (*registerAnyInputCallback)(LibreOfficeKit* pThis,
++                                     LibreOfficeKitAnyInputCallback pCallback, void* pData);
+ };
+ 
+ #define LIBREOFFICEKIT_DOCUMENT_HAS(pDoc,member) LIBREOFFICEKIT_HAS_MEMBER(LibreOfficeKitDocumentClass,member,(pDoc)->pClass->nSize)
+@@ -352,18 +387,6 @@ struct _LibreOfficeKitDocumentClass
+                             const int width, const int height,
+                             const double dpiscale);
+ 
+-#ifdef IOS
+-    /// @see lok::Document::paintTileToCGContext().
+-    void (*paintTileToCGContext) (LibreOfficeKitDocument* pThis,
+-                                  void* rCGContext,
+-                                  const int nCanvasWidth,
+-                                  const int nCanvasHeight,
+-                                  const int nTilePosX,
+-                                  const int nTilePosY,
+-                                  const int nTileWidth,
+-                                  const int nTileHeight);
+-#endif // IOS
+-
+ // CERTIFICATE AND SIGNING
+ 
+     /// @see lok::Document::insertCertificate().
+@@ -501,6 +524,41 @@ struct _LibreOfficeKitDocumentClass
+     /// @see lok::Document::setViewTimezone().
+     void (*setViewTimezone) (LibreOfficeKitDocument* pThis, int nId, const char* timezone);
+ 
++    /// @see lok::Document::setAccessibilityState().
++    void (*setAccessibilityState) (LibreOfficeKitDocument* pThis, int nId, bool nEnabled);
++
++    /// @see lok::Document::getA11yFocusedParagraph.
++    char* (*getA11yFocusedParagraph) (LibreOfficeKitDocument* pThis);
++
++    /// @see lok::Document::getA11yCaretPosition.
++    int (*getA11yCaretPosition) (LibreOfficeKitDocument* pThis);
++
++    /// @see lok::Document::setViewReadOnly().
++    void (*setViewReadOnly) (LibreOfficeKitDocument* pThis, int nId, const bool readOnly);
++
++    /// @see lok::Document::setAllowChangeComments().
++    void (*setAllowChangeComments) (LibreOfficeKitDocument* pThis, int nId, const bool allow);
++
++    /// @see lok::Document::getPresentationInfo
++    char* (*getPresentationInfo) (LibreOfficeKitDocument* pThis);
++
++    /// @see lok::Document::createSlideRenderer
++    bool (*createSlideRenderer) (
++        LibreOfficeKitDocument* pThis,
++        const char* pSlideHash,
++        int nSlideNumber, unsigned* nViewWidth, unsigned* nViewHeight,
++        bool bRenderBackground, bool bRenderMasterPage);
++
++    /// @see lok::Document::postSlideshowCleanup
++    void (*postSlideshowCleanup)(LibreOfficeKitDocument* pThis);
++
++    /// @see lok::Document::renderNextSlideLayer
++    bool (*renderNextSlideLayer)(
++        LibreOfficeKitDocument* pThis, unsigned char* pBuffer, bool* bIsBitmapLayer, double* pScale, char** pJsonMessage);
++
++    /// @see lok::Document::setViewOption
++    void (*setViewOption)(LibreOfficeKitDocument* pThis, const char* pOption, const char* pValue);
++
+ #endif // defined LOK_USE_UNSTABLE_API || defined LIBO_INTERNAL_ONLY
+ };
+ 
+diff --git a/include/LibreOfficeKit/LibreOfficeKit.h-old b/include/LibreOfficeKit/LibreOfficeKit.h-old
+new file mode 100644
+index 000000000..2465b1e8a
+--- /dev/null
++++ b/include/LibreOfficeKit/LibreOfficeKit.h-old
+@@ -0,0 +1,545 @@
++/* -*- Mode: C; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- */
++/*
++ * This file is part of the LibreOffice project.
++ *
++ * This Source Code Form is subject to the terms of the Mozilla Public
++ * License, v. 2.0. If a copy of the MPL was not distributed with this
++ * file, You can obtain one at http://mozilla.org/MPL/2.0/.
++ */
++
++#ifndef INCLUDED_LIBREOFFICEKIT_LIBREOFFICEKIT_H
++#define INCLUDED_LIBREOFFICEKIT_LIBREOFFICEKIT_H
++
++#include <stddef.h>
++
++// the unstable API needs C99's bool
++// TODO remove the C99 types from the API before making stable
++#if defined LOK_USE_UNSTABLE_API || defined LIBO_INTERNAL_ONLY
++# ifndef _WIN32
++#  include <stdbool.h>
++# endif
++# include <stdint.h>
++#endif
++
++#include <LibreOfficeKit/LibreOfficeKitTypes.h>
++
++#ifdef __cplusplus
++extern "C"
++{
++#endif
++
++typedef struct _LibreOfficeKit LibreOfficeKit;
++typedef struct _LibreOfficeKitClass LibreOfficeKitClass;
++
++typedef struct _LibreOfficeKitDocument LibreOfficeKitDocument;
++typedef struct _LibreOfficeKitDocumentClass LibreOfficeKitDocumentClass;
++
++// Do we have an extended member in this struct ?
++#define LIBREOFFICEKIT_HAS_MEMBER(strct,member,nSize) \
++    (offsetof(strct, member) < (nSize))
++
++#define LIBREOFFICEKIT_HAS(pKit,member) LIBREOFFICEKIT_HAS_MEMBER(LibreOfficeKitClass,member,(pKit)->pClass->nSize)
++
++struct _LibreOfficeKit
++{
++    LibreOfficeKitClass* pClass;
++};
++
++struct _LibreOfficeKitClass
++{
++    size_t  nSize;
++
++    void (*destroy) (LibreOfficeKit* pThis);
++
++    LibreOfficeKitDocument* (*documentLoad) (LibreOfficeKit* pThis,
++                                             const char* pURL);
++
++    char* (*getError) (LibreOfficeKit* pThis);
++
++    /// @since LibreOffice 5.0
++    LibreOfficeKitDocument* (*documentLoadWithOptions) (LibreOfficeKit* pThis,
++                                                        const char* pURL,
++                                                        const char* pOptions);
++    /// @since LibreOffice 5.2
++    void (*freeError) (char* pFree);
++
++    /// @since LibreOffice 6.0
++    void (*registerCallback) (LibreOfficeKit* pThis,
++                              LibreOfficeKitCallback pCallback,
++                              void* pData);
++
++    /** @see lok::Office::getFilterTypes().
++        @since LibreOffice 6.0
++     */
++    char* (*getFilterTypes) (LibreOfficeKit* pThis);
++
++    /** @see lok::Office::setOptionalFeatures().
++        @since LibreOffice 6.0
++     */
++    void (*setOptionalFeatures)(LibreOfficeKit* pThis, unsigned long long features);
++
++    /** @see lok::Office::setDocumentPassword().
++        @since LibreOffice 6.0
++     */
++    void (*setDocumentPassword) (LibreOfficeKit* pThis,
++            char const* pURL,
++            char const* pPassword);
++
++    /** @see lok::Office::getVersionInfo().
++        @since LibreOffice 6.0
++     */
++    char* (*getVersionInfo) (LibreOfficeKit* pThis);
++
++    /** @see lok::Office::runMacro().
++        @since LibreOffice 6.0
++     */
++    int (*runMacro) (LibreOfficeKit *pThis, const char* pURL);
++
++    /** @see lok::Office::signDocument().
++        @since LibreOffice 6.2
++     */
++     bool (*signDocument) (LibreOfficeKit* pThis,
++                           const char* pUrl,
++                           const unsigned char* pCertificateBinary,
++                           const int nCertificateBinarySize,
++                           const unsigned char* pPrivateKeyBinary,
++                           const int nPrivateKeyBinarySize);
++
++    /// @see lok::Office::runLoop()
++    void (*runLoop) (LibreOfficeKit* pThis,
++                     LibreOfficeKitPollCallback pPollCallback,
++                     LibreOfficeKitWakeCallback pWakeCallback,
++                     void* pData);
++
++    /// @see lok::Office::sendDialogEvent
++    void (*sendDialogEvent) (LibreOfficeKit* pThis,
++                            unsigned long long int nLOKWindowId,
++                            const char* pArguments);
++
++    /// @see lok::Office::setOption
++    void (*setOption) (LibreOfficeKit* pThis, const char* pOption, const char* pValue);
++
++    /// @see lok::Document::dumpState
++    /// @since LibreOffice 7.5
++    void (*dumpState) (LibreOfficeKit* pThis, const char* pOptions, char** pState);
++
++    /** @see lok::Office::extractRequest.
++     */
++    char* (*extractRequest) (LibreOfficeKit* pThis,
++                           const char* pFilePath);
++
++    /// @see lok::Office::trimMemory
++    /// @since LibreOffice 7.6
++    void (*trimMemory) (LibreOfficeKit* pThis, int nTarget);
++
++    /// @see lok::Office::startURP
++    void* (*startURP)(LibreOfficeKit* pThis,
++                    void* pReceiveURPFromLOContext, void* pSendURPToLOContext,
++                    int (*fnReceiveURPFromLO)(void* pContext, const signed char* pBuffer, int nLen),
++                    int (*fnSendURPToLO)(void* pContext, signed char* pBuffer, int nLen));
++
++    /// @see lok::Office::stopURP
++    void (*stopURP)(LibreOfficeKit* pThis, void* pSendURPToLOContext);
++
++    /// @see lok::Office::joinThreads
++    int (*joinThreads)(LibreOfficeKit* pThis);
++
++    /// @see lok::Office::startThreads
++    void (*startThreads)(LibreOfficeKit* pThis);
++
++    /// @see lok::Office::setForkedChild
++    void (*setForkedChild)(LibreOfficeKit* pThis, bool bIsChild);
++
++    /** @see lok::Office::extractDocumentStructureRequest.
++     */
++    char* (*extractDocumentStructureRequest)(LibreOfficeKit* pThis, const char* pFilePath,
++                                             const char* pFilter);
++
++};
++
++#define LIBREOFFICEKIT_DOCUMENT_HAS(pDoc,member) LIBREOFFICEKIT_HAS_MEMBER(LibreOfficeKitDocumentClass,member,(pDoc)->pClass->nSize)
++
++struct _LibreOfficeKitDocument
++{
++    LibreOfficeKitDocumentClass* pClass;
++};
++
++struct _LibreOfficeKitDocumentClass
++{
++    size_t  nSize;
++
++    void (*destroy) (LibreOfficeKitDocument* pThis);
++
++    int (*saveAs) (LibreOfficeKitDocument* pThis,
++                   const char* pUrl,
++                   const char* pFormat,
++                   const char* pFilterOptions);
++
++    /** @see lok::Document::getDocumentType().
++        @since LibreOffice 6.0
++     */
++    int (*getDocumentType) (LibreOfficeKitDocument* pThis);
++
++#if defined LOK_USE_UNSTABLE_API || defined LIBO_INTERNAL_ONLY
++    /// @see lok::Document::getParts().
++    int (*getParts) (LibreOfficeKitDocument* pThis);
++
++    /// @see lok::Document::getPartPageRectangles().
++    char* (*getPartPageRectangles) (LibreOfficeKitDocument* pThis);
++
++    /// @see lok::Document::getPart().
++    int (*getPart) (LibreOfficeKitDocument* pThis);
++
++    /// @see lok::Document::setPart().
++    void (*setPart) (LibreOfficeKitDocument* pThis,
++                     int nPart);
++
++    /// @see lok::Document::getPartName().
++    char* (*getPartName) (LibreOfficeKitDocument* pThis,
++                          int nPart);
++
++    /// @see lok::Document::setPartMode().
++    void (*setPartMode) (LibreOfficeKitDocument* pThis,
++                         int nMode);
++
++    /// @see lok::Document::paintTile().
++    void (*paintTile) (LibreOfficeKitDocument* pThis,
++                       unsigned char* pBuffer,
++                       const int nCanvasWidth,
++                       const int nCanvasHeight,
++                       const int nTilePosX,
++                       const int nTilePosY,
++                       const int nTileWidth,
++                       const int nTileHeight);
++
++    /// @see lok::Document::getTileMode().
++    int (*getTileMode) (LibreOfficeKitDocument* pThis);
++
++    /// @see lok::Document::getDocumentSize().
++    void (*getDocumentSize) (LibreOfficeKitDocument* pThis,
++                             long* pWidth,
++                             long* pHeight);
++
++    /// @see lok::Document::initializeForRendering().
++    void (*initializeForRendering) (LibreOfficeKitDocument* pThis,
++                                    const char* pArguments);
++
++    /// @see lok::Document::registerCallback().
++    void (*registerCallback) (LibreOfficeKitDocument* pThis,
++                              LibreOfficeKitCallback pCallback,
++                              void* pData);
++
++    /// @see lok::Document::postKeyEvent
++    void (*postKeyEvent) (LibreOfficeKitDocument* pThis,
++                          int nType,
++                          int nCharCode,
++                          int nKeyCode);
++
++    /// @see lok::Document::postMouseEvent
++    void (*postMouseEvent) (LibreOfficeKitDocument* pThis,
++                            int nType,
++                            int nX,
++                            int nY,
++                            int nCount,
++                            int nButtons,
++                            int nModifier);
++
++    /// @see lok::Document::postUnoCommand
++    void (*postUnoCommand) (LibreOfficeKitDocument* pThis,
++                            const char* pCommand,
++                            const char* pArguments,
++                            bool bNotifyWhenFinished);
++
++    /// @see lok::Document::setTextSelection
++    void (*setTextSelection) (LibreOfficeKitDocument* pThis,
++                              int nType,
++                              int nX,
++                              int nY);
++
++    /// @see lok::Document::getTextSelection
++    char* (*getTextSelection) (LibreOfficeKitDocument* pThis,
++                               const char* pMimeType,
++                               char** pUsedMimeType);
++
++    /// @see lok::Document::paste().
++    bool (*paste) (LibreOfficeKitDocument* pThis,
++                   const char* pMimeType,
++                   const char* pData,
++                   size_t nSize);
++
++    /// @see lok::Document::setGraphicSelection
++    void (*setGraphicSelection) (LibreOfficeKitDocument* pThis,
++                                 int nType,
++                                 int nX,
++                                 int nY);
++
++    /// @see lok::Document::resetSelection
++    void (*resetSelection) (LibreOfficeKitDocument* pThis);
++
++    /// @see lok::Document::getCommandValues().
++    char* (*getCommandValues) (LibreOfficeKitDocument* pThis, const char* pCommand);
++
++    /// @see lok::Document::setClientZoom().
++    void (*setClientZoom) (LibreOfficeKitDocument* pThis,
++            int nTilePixelWidth,
++            int nTilePixelHeight,
++            int nTileTwipWidth,
++            int nTileTwipHeight);
++
++    /// @see lok::Document::setVisibleArea).
++    void (*setClientVisibleArea) (LibreOfficeKitDocument* pThis, int nX, int nY, int nWidth, int nHeight);
++
++    /// @see lok::Document::createView().
++    int (*createView) (LibreOfficeKitDocument* pThis);
++    /// @see lok::Document::destroyView().
++    void (*destroyView) (LibreOfficeKitDocument* pThis, int nId);
++    /// @see lok::Document::setView().
++    void (*setView) (LibreOfficeKitDocument* pThis, int nId);
++    /// @see lok::Document::getView().
++    int (*getView) (LibreOfficeKitDocument* pThis);
++    /// @see lok::Document::getViewsCount().
++    int (*getViewsCount) (LibreOfficeKitDocument* pThis);
++
++    /// @see lok::Document::renderFont().
++    unsigned char* (*renderFont) (LibreOfficeKitDocument* pThis,
++                       const char* pFontName,
++                       const char* pChar,
++                       int* pFontWidth,
++                       int* pFontHeight);
++
++    /// @see lok::Document::getPartHash().
++    char* (*getPartHash) (LibreOfficeKitDocument* pThis,
++                          int nPart);
++
++    /// Paints a tile from a specific part.
++    /// @see lok::Document::paintTile().
++    void (*paintPartTile) (LibreOfficeKitDocument* pThis,
++                           unsigned char* pBuffer,
++                           const int nPart,
++                           const int nMode,
++                           const int nCanvasWidth,
++                           const int nCanvasHeight,
++                           const int nTilePosX,
++                           const int nTilePosY,
++                           const int nTileWidth,
++                           const int nTileHeight);
++
++    /// @see lok::Document::getViewIds().
++    bool (*getViewIds) (LibreOfficeKitDocument* pThis,
++                       int* pArray,
++                       size_t nSize);
++
++    /// @see lok::Document::setOutlineState).
++    void (*setOutlineState) (LibreOfficeKitDocument* pThis, bool bColumn, int nLevel, int nIndex, bool bHidden);
++
++    /// Paints window with given id to the buffer
++    /// @see lok::Document::paintWindow().
++    void (*paintWindow) (LibreOfficeKitDocument* pThis, unsigned nWindowId,
++                         unsigned char* pBuffer,
++                         const int x, const int y,
++                         const int width, const int height);
++
++    /// @see lok::Document::postWindow().
++    void (*postWindow) (LibreOfficeKitDocument* pThis, unsigned nWindowId, int nAction, const char* pData);
++
++    /// @see lok::Document::postWindowKeyEvent().
++    void (*postWindowKeyEvent) (LibreOfficeKitDocument* pThis,
++                                unsigned nWindowId,
++                                int nType,
++                                int nCharCode,
++                                int nKeyCode);
++
++    /// @see lok::Document::postWindowMouseEvent().
++    void (*postWindowMouseEvent) (LibreOfficeKitDocument* pThis,
++                                  unsigned nWindowId,
++                                  int nType,
++                                  int nX,
++                                  int nY,
++                                  int nCount,
++                                  int nButtons,
++                                  int nModifier);
++
++    /// @see lok::Document::setViewLanguage().
++    void (*setViewLanguage) (LibreOfficeKitDocument* pThis, int nId, const char* language);
++
++    /// @see lok::Document::postWindowExtTextInputEvent
++    void (*postWindowExtTextInputEvent) (LibreOfficeKitDocument* pThis,
++                                         unsigned nWindowId,
++                                         int nType,
++                                         const char* pText);
++
++    /// @see lok::Document::getPartInfo().
++    char* (*getPartInfo) (LibreOfficeKitDocument* pThis, int nPart);
++
++    /// Paints window with given id to the buffer with the give DPI scale
++    /// (every pixel is dpiscale-times larger).
++    /// @see lok::Document::paintWindow().
++    void (*paintWindowDPI) (LibreOfficeKitDocument* pThis, unsigned nWindowId,
++                            unsigned char* pBuffer,
++                            const int x, const int y,
++                            const int width, const int height,
++                            const double dpiscale);
++
++#ifdef IOS
++    /// @see lok::Document::paintTileToCGContext().
++    void (*paintTileToCGContext) (LibreOfficeKitDocument* pThis,
++                                  void* rCGContext,
++                                  const int nCanvasWidth,
++                                  const int nCanvasHeight,
++                                  const int nTilePosX,
++                                  const int nTilePosY,
++                                  const int nTileWidth,
++                                  const int nTileHeight);
++#endif // IOS
++
++// CERTIFICATE AND SIGNING
++
++    /// @see lok::Document::insertCertificate().
++    bool (*insertCertificate) (LibreOfficeKitDocument* pThis,
++                                const unsigned char* pCertificateBinary,
++                                const int nCertificateBinarySize,
++                                const unsigned char* pPrivateKeyBinary,
++                                const int nPrivateKeyBinarySize);
++
++    /// @see lok::Document::addCertificate().
++    bool (*addCertificate) (LibreOfficeKitDocument* pThis,
++                                const unsigned char* pCertificateBinary,
++                                const int nCertificateBinarySize);
++
++    /// @see lok::Document::getSignatureState().
++    int (*getSignatureState) (LibreOfficeKitDocument* pThis);
++// END CERTIFICATE AND SIGNING
++
++    /// @see lok::Document::renderShapeSelection
++    size_t (*renderShapeSelection)(LibreOfficeKitDocument* pThis, char** pOutput);
++
++    /// @see lok::Document::postWindowGestureEvent().
++    void (*postWindowGestureEvent) (LibreOfficeKitDocument* pThis,
++                                  unsigned nWindowId,
++                                  const char* pType,
++                                  int nX,
++                                  int nY,
++                                  int nOffset);
++
++    /// @see lok::Document::createViewWithOptions().
++    int (*createViewWithOptions) (LibreOfficeKitDocument* pThis, const char* pOptions);
++
++    /// @see lok::Document::selectPart().
++    void (*selectPart) (LibreOfficeKitDocument* pThis, int nPart, int nSelect);
++
++    /// @see lok::Document::moveSelectedParts().
++    void (*moveSelectedParts) (LibreOfficeKitDocument* pThis, int nPosition, bool bDuplicate);
++
++    /// Resize window with given id.
++    /// @see lok::Document::resizeWindow().
++    void (*resizeWindow) (LibreOfficeKitDocument* pThis, unsigned nWindowId,
++                          const int width, const int height);
++
++    /// Pass a nullptr terminated array of mime-type strings
++    /// @see lok::Document::getClipboard for more details
++    int (*getClipboard) (LibreOfficeKitDocument* pThis,
++                         const char **pMimeTypes,
++                         size_t      *pOutCount,
++                         char      ***pOutMimeTypes,
++                         size_t     **pOutSizes,
++                         char      ***pOutStreams);
++
++    /// @see lok::Document::setClipboard
++    int (*setClipboard) (LibreOfficeKitDocument* pThis,
++                         const size_t   nInCount,
++                         const char   **pInMimeTypes,
++                         const size_t  *pInSizes,
++                         const char   **pInStreams);
++
++    /// @see lok::Document::getSelectionType
++    int (*getSelectionType) (LibreOfficeKitDocument* pThis);
++
++    /// @see lok::Document::removeTextContext
++    void (*removeTextContext) (LibreOfficeKitDocument* pThis,
++                               unsigned nWindowId,
++                               int nBefore,
++                               int nAfter);
++
++    /// @see lok::Document::sendDialogEvent
++    void (*sendDialogEvent) (LibreOfficeKitDocument* pThis,
++                            unsigned long long int nLOKWindowId,
++                            const char* pArguments);
++
++    /// @see lok::Document::renderFontOrientation().
++    unsigned char* (*renderFontOrientation) (LibreOfficeKitDocument* pThis,
++                       const char* pFontName,
++                       const char* pChar,
++                       int* pFontWidth,
++                       int* pFontHeight,
++                       int pOrientation);
++
++    /// Switches view to viewId if viewId >= 0, and paints window
++    /// @see lok::Document::paintWindowDPI().
++    void (*paintWindowForView) (LibreOfficeKitDocument* pThis, unsigned nWindowId,
++                                unsigned char* pBuffer,
++                                const int x, const int y,
++                                const int width, const int height,
++                                const double dpiscale,
++                                int viewId);
++
++    /// @see lok::Document::completeFunction().
++    void (*completeFunction) (LibreOfficeKitDocument* pThis, const char* pFunctionName);
++
++    /// @see lok::Document::setWindowTextSelection
++    void (*setWindowTextSelection) (LibreOfficeKitDocument* pThis,
++                                    unsigned nWindowId,
++                                    bool bSwap,
++                                    int nX,
++                                    int nY);
++
++    /// @see lok::Document::sendFormFieldEvent
++    void (*sendFormFieldEvent) (LibreOfficeKitDocument* pThis,
++                                const char* pArguments);
++
++    /// @see lok::Document::setBlockedCommandList
++    void (*setBlockedCommandList) (LibreOfficeKitDocument* pThis,
++                                int nViewId,
++                                const char* blockedCommandList);
++
++    /// @see lok::Document::renderSearchResult
++    bool (*renderSearchResult) (LibreOfficeKitDocument* pThis,
++                                const char* pSearchResult,
++                                unsigned char** pBitmapBuffer,
++                                int* pWidth, int* pHeight, size_t* pByteSize);
++
++    /// @see lok::Document::sendContentControlEvent().
++    void (*sendContentControlEvent)(LibreOfficeKitDocument* pThis, const char* pArguments);
++
++    /// @see lok::Document::getSelectionTypeAndText
++    /// @since LibreOffice 7.4
++    int (*getSelectionTypeAndText) (LibreOfficeKitDocument* pThis,
++                                    const char* pMimeType,
++                                    char** pText,
++                                    char** pUsedMimeType);
++
++    /// @see lok::Document::getDataArea().
++    void (*getDataArea) (LibreOfficeKitDocument* pThis,
++                         long nPart,
++                         long* pCol,
++                         long* pRow);
++
++    /// @see lok::Document::getEditMode().
++    int (*getEditMode) (LibreOfficeKitDocument* pThis);
++
++    /// @see lok::Document::setViewTimezone().
++    void (*setViewTimezone) (LibreOfficeKitDocument* pThis, int nId, const char* timezone);
++
++    ///添加新函数 为online
++    /// @see lok::Document::setViewOption
++    void (*setViewOption)(LibreOfficeKitDocument* pThis, const char* pOption, const char* pValue);
++
++#endif // defined LOK_USE_UNSTABLE_API || defined LIBO_INTERNAL_ONLY
++};
++
++#ifdef __cplusplus
++}
++#endif
++
++#endif // INCLUDED_LIBREOFFICEKIT_LIBREOFFICEKIT_H
++
++/* vim:set shiftwidth=4 softtabstop=4 expandtab: */
+diff --git a/include/LibreOfficeKit/LibreOfficeKit.hxx b/include/LibreOfficeKit/LibreOfficeKit.hxx
+index 035a0923c..f6f581c1c 100644
+--- a/include/LibreOfficeKit/LibreOfficeKit.hxx
++++ b/include/LibreOfficeKit/LibreOfficeKit.hxx
+@@ -9,9 +9,9 @@
+ 
+ #pragma once
+ 
+-#include <LibreOfficeKit/LibreOfficeKit.h>
+-#include <LibreOfficeKit/LibreOfficeKitEnums.h>
+-#include <LibreOfficeKit/LibreOfficeKitInit.h>
++#include "LibreOfficeKit.h"
++#include "LibreOfficeKitEnums.h"
++#include "LibreOfficeKitInit.h"
+ 
+ /*
+  * The reasons this C++ code is not as pretty as it could be are:
+@@ -84,10 +84,11 @@ public:
+     }
+ 
+     /**
+-     * Get the logical rectangle of each part in the document.
++     * Get the extent of each page in the document.
+      *
+-     * A part refers to an individual page in Writer and has no relevant for
+-     * Calc or Impress.
++     * This function is relevant for Writer documents only. It is a
++     * mistake that the API has "part" in its name as Writer documents
++     * don't have parts.
+      *
+      * @return a rectangle list, using the same format as
+      * LOK_CALLBACK_TEXT_SELECTION.
+@@ -663,34 +664,6 @@ public:
+         mpDoc->pClass->postWindowExtTextInputEvent(mpDoc, nWindowId, nType, pText);
+     }
+ 
+-#ifdef IOS
+-    /**
+-     * Renders a subset of the document to a Core Graphics context.
+-     *
+-     * Note that the buffer size and the tile size implicitly supports
+-     * rendering at different zoom levels, as the number of rendered pixels and
+-     * the rendered rectangle of the document are independent.
+-     *
+-     * @param rCGContext the CGContextRef, cast to a void*.
+-     * @param nCanvasHeight number of pixels in a column of pBuffer.
+-     * @param nTilePosX logical X position of the top left corner of the rendered rectangle, in TWIPs.
+-     * @param nTilePosY logical Y position of the top left corner of the rendered rectangle, in TWIPs.
+-     * @param nTileWidth logical width of the rendered rectangle, in TWIPs.
+-     * @param nTileHeight logical height of the rendered rectangle, in TWIPs.
+-     */
+-    void paintTileToCGContext(void* rCGContext,
+-                              const int nCanvasWidth,
+-                              const int nCanvasHeight,
+-                              const int nTilePosX,
+-                              const int nTilePosY,
+-                              const int nTileWidth,
+-                              const int nTileHeight)
+-    {
+-        return mpDoc->pClass->paintTileToCGContext(mpDoc, rCGContext, nCanvasWidth, nCanvasHeight,
+-                                                   nTilePosX, nTilePosY, nTileWidth, nTileHeight);
+-    }
+-#endif // IOS
+-
+     /**
+      *  Insert certificate (in binary form) to the certificate store.
+      */
+@@ -886,6 +859,90 @@ public:
+         mpDoc->pClass->setViewTimezone(mpDoc, nId, timezone);
+     }
+ 
++    /** Set if the view should be treated as readonly or not.
++     *
++     * @param nId view ID
++     * @param readOnly
++    */
++    void setViewReadOnly(int nId, const bool readOnly)
++    {
++        mpDoc->pClass->setViewReadOnly(mpDoc, nId, readOnly);
++    }
++
++    /** Set if the view can edit comments on readonly mode or not.
++     *
++     * @param nId view ID
++     * @param allow
++    */
++    void setAllowChangeComments(int nId, const bool allow)
++    {
++        mpDoc->pClass->setAllowChangeComments(mpDoc, nId, allow);
++    }
++
++    /**
++     * Enable/Disable accessibility support for the window with the specified nId.
++     *
++     * @param nId a view ID, returned by createView().
++     * @param nEnabled true/false
++     */
++    void setAccessibilityState(int nId, bool nEnabled)
++    {
++        mpDoc->pClass->setAccessibilityState(mpDoc, nId, nEnabled);
++    }
++
++    /**
++     *  Get the current focused paragraph info:
++     *  {
++     *      "content": paragraph content
++     *      "start": selection start
++     *      "end": selection end
++     *  }
++     */
++    char* getA11yFocusedParagraph()
++    {
++        return mpDoc->pClass->getA11yFocusedParagraph(mpDoc);
++    }
++
++    /// Get the current text cursor position.
++    int getA11yCaretPosition()
++    {
++        return mpDoc->pClass->getA11yCaretPosition(mpDoc);
++    }
++
++    /// Get the information about the current presentation (Impress only).
++    char* getPresentationInfo()
++    {
++        return mpDoc->pClass->getPresentationInfo(mpDoc);
++    }
++
++    /// Create a slide renderer in core for the input slide.
++    bool createSlideRenderer(
++        const char* pSlideHash,
++        int nSlideNumber, unsigned* nViewWidth, unsigned* nViewHeight,
++        bool bRenderBackground, bool bRenderMasterPage)
++    {
++        return mpDoc->pClass->createSlideRenderer(
++            mpDoc, pSlideHash, nSlideNumber, nViewWidth, nViewHeight, bRenderBackground, bRenderMasterPage);
++    }
++
++    /// Clean-up the slideshow (slide renderer)
++    void postSlideshowCleanup()
++    {
++        mpDoc->pClass->postSlideshowCleanup(mpDoc);
++    }
++
++    /// Render the slide layer
++    bool renderNextSlideLayer(unsigned char* pBuffer, bool* bIsBitmapLayer, double* pScale, char** pJsonMessage)
++    {
++        return mpDoc->pClass->renderNextSlideLayer(mpDoc, pBuffer, bIsBitmapLayer, pScale, pJsonMessage);
++    }
++
++    /// Set named view options
++    void setViewOption(const char* pOption, const char* pValue)
++    {
++        mpDoc->pClass->setViewOption(mpDoc, pOption, pValue);
++    }
++
+ #endif // defined LOK_USE_UNSTABLE_API || defined LIBO_INTERNAL_ONLY
+ };
+ 
+@@ -1043,14 +1100,13 @@ public:
+      * @since LibreOffice 6.0
+      * @param pURL macro url to run
+      */
+-
+     bool runMacro( const char* pURL)
+     {
+         return mpThis->pClass->runMacro( mpThis, pURL );
+     }
+ 
+     /**
+-     * Exports the document and signes its content.
++     * Exports the document and signs its content.
+      */
+     bool signDocument(const char* pURL,
+                        const unsigned char* pCertificateBinary, const int nCertificateBinarySize,
+@@ -1146,6 +1202,91 @@ public:
+     {
+         return mpThis->pClass->extractRequest(mpThis, pFilePath);
+     }
++
++    /**
++     * Trim memory usage.
++     *
++     * LibreOfficeKit caches lots of information from large pixmaps
++     * to view and calculation results. When a view has not been
++     * used for some time, depending on the load on memory it can
++     * be useful to free up memory.
++     *
++     * @param nTarget - a negative number means the app is back
++     * in active use, and to re-fill caches, a large positive
++     * number (>=1000) encourages immediate maximum memory saving.
++     */
++    void trimMemory (int nTarget)
++    {
++        mpThis->pClass->trimMemory(mpThis, nTarget);
++    }
++
++    /**
++     * Start a UNO acceptor using the function pointers provides to read and write data to/from the acceptor.
++     *
++     * @param pReceiveURPFromLOContext A pointer that will be passed to your fnRecieveURPFromLO function
++     * @param pSendURPToLOContext A pointer that will be passed to your fnSendURPToLO function
++     * @param fnReceiveURPFromLO A function pointer that LO should use to pass URP back to the caller
++     * @param fnSendURPToLO A function pointer pointer that the caller should use to pass URP to LO
++     */
++    void* startURP(void* pReceiveURPFromLOContext, void* pSendURPToLOContext,
++                   int (*fnReceiveURPFromLO)(void* pContext, const signed char* pBuffer, int nLen),
++                   int (*fnSendURPToLO)(void* pContext, signed char* pBuffer, int nLen))
++    {
++        return mpThis->pClass->startURP(mpThis, pReceiveURPFromLOContext, pSendURPToLOContext,
++                                        fnReceiveURPFromLO, fnSendURPToLO);
++    }
++
++    /**
++     * Stop a function based URP connection you previously started with startURP
++     *
++     * @param pURPContext the context returned by startURP  when starting the connection
++     */
++    void stopURP(void* pURPContext)
++    {
++        mpThis->pClass->stopURP(mpThis, pURPContext);
++    }
++
++    /**
++     * Joins all threads if possible to get down to a single process
++     * which can be forked from safely.
++     *
++     * @returns non-zero for successful join, 0 for failure.
++     */
++    int joinThreads()
++    {
++        return mpThis->pClass->joinThreads(mpThis);
++    }
++
++    /**
++     * Starts all threads that are necessary to continue working
++     * after a joinThreads().
++     */
++    void startThreads()
++    {
++        mpThis->pClass->startThreads(mpThis);
++    }
++
++    /**
++     * Informs that this process is either a parent, or a child
++     * process post-fork, allowing improved resource sharing.
++     */
++    void setForkedChild(bool bIsChild)
++    {
++        return mpThis->pClass->setForkedChild(mpThis, bIsChild);
++    }
++
++    char* extractDocumentStructureRequest(const char* pFilePath, const char* pFilter)
++    {
++        return mpThis->pClass->extractDocumentStructureRequest(mpThis, pFilePath, pFilter);
++    }
++
++    /**
++     * Registers a callback that can determine if there are any pending input events.
++     */
++    void registerAnyInputCallback(LibreOfficeKitAnyInputCallback pCallback, void* pData)
++    {
++        return mpThis->pClass->registerAnyInputCallback(mpThis, pCallback, pData);
++    }
+ };
+ 
+ /// Factory method to create a lok::Office instance.
+diff --git a/include/LibreOfficeKit/LibreOfficeKit.hxx-old b/include/LibreOfficeKit/LibreOfficeKit.hxx-old
+new file mode 100644
+index 000000000..4fb3608c1
+--- /dev/null
++++ b/include/LibreOfficeKit/LibreOfficeKit.hxx-old
+@@ -0,0 +1,1196 @@
++/* -*- Mode: C++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- */
++/*
++ * This file is part of the LibreOffice project.
++ *
++ * This Source Code Form is subject to the terms of the Mozilla Public
++ * License, v. 2.0. If a copy of the MPL was not distributed with this
++ * file, You can obtain one at http://mozilla.org/MPL/2.0/.
++ */
++
++#pragma once
++
++#include <LibreOfficeKit/LibreOfficeKit.h>
++#include <LibreOfficeKit/LibreOfficeKitEnums.h>
++#include <LibreOfficeKit/LibreOfficeKitInit.h>
++
++/*
++ * The reasons this C++ code is not as pretty as it could be are:
++ *  a) provide a pure C API - that's useful for some people
++ *  b) allow ABI stability - C++ vtables are not good for that.
++ *  c) avoid C++ types as part of the API.
++ */
++namespace lok
++{
++
++/// The lok::Document class represents one loaded document instance.
++class Document
++{
++private:
++    LibreOfficeKitDocument* mpDoc;
++
++public:
++    /// A lok::Document is typically created by the lok::Office::documentLoad() method.
++    Document(LibreOfficeKitDocument* pDoc) :
++        mpDoc(pDoc)
++    {}
++
++    ~Document()
++    {
++        mpDoc->pClass->destroy(mpDoc);
++    }
++
++    /**
++     添加函数为online 解决报错
++     kit/ChildSession.cpp:1255:29: 错误：‘using element_type = class lok::Document’ {aka ‘class lok::Document’} has no member named ‘setViewOption’
++ 1255 |         getLOKitDocument()->setViewOption("dpiscale", dpiScale.c_str());
++      |                             ^~~~~~~~~~~~~
++kit/ChildSession.cpp:1256:29: 错误：‘using element_type = class lok::Document’ {aka ‘class lok::Document’} has no member named ‘setViewOption’
++ 1256 |         getLOKitDocument()->setViewOption("zoom", zoom.c_str());
++      |                             ^~~~~~~~~~~~~
++     **/
++    void setViewOption(const char* pOption, const char* pValue)
++    {
++        if (mpDoc && mpDoc->pClass && mpDoc->pClass->setViewOption)
++            mpDoc->pClass->setViewOption(mpDoc, pOption, pValue);
++    }
++    
++    /**
++     * Stores the document's persistent data to a URL and
++     * continues to be a representation of the old URL.
++     *
++     * @param pUrl the location where to store the document
++     * @param pFormat the format to use while exporting, when omitted, then deducted from pURL's extension
++     * @param pFilterOptions options for the export filter, e.g. SkipImages.
++     *        Another useful FilterOption is "TakeOwnership".  It is consumed
++     *        by the saveAs() itself, and when provided, the document identity
++     *        changes to the provided pUrl - meaning that '.uno:ModifiedStatus'
++     *        is triggered as with the "Save As..." in the UI.
++     *        "TakeOwnership" mode must not be used when saving to PNG or PDF.
++     */
++    bool saveAs(const char* pUrl, const char* pFormat = NULL, const char* pFilterOptions = NULL)
++    {
++        return mpDoc->pClass->saveAs(mpDoc, pUrl, pFormat, pFilterOptions) != 0;
++    }
++
++    /// Gives access to the underlying C pointer.
++    LibreOfficeKitDocument *get() { return mpDoc; }
++
++    /**
++     * Get document type.
++     *
++     * @since LibreOffice 6.0
++     * @return an element of the LibreOfficeKitDocumentType enum.
++     */
++    int getDocumentType()
++    {
++        return mpDoc->pClass->getDocumentType(mpDoc);
++    }
++
++#if defined LOK_USE_UNSTABLE_API || defined LIBO_INTERNAL_ONLY
++    /**
++     * Get number of part that the document contains.
++     *
++     * Part refers to either individual sheets in a Calc, or slides in Impress,
++     * and has no relevance for Writer.
++     */
++    int getParts()
++    {
++        return mpDoc->pClass->getParts(mpDoc);
++    }
++
++    /**
++     * Get the logical rectangle of each part in the document.
++     *
++     * A part refers to an individual page in Writer and has no relevant for
++     * Calc or Impress.
++     *
++     * @return a rectangle list, using the same format as
++     * LOK_CALLBACK_TEXT_SELECTION.
++     */
++    char* getPartPageRectangles()
++    {
++        return mpDoc->pClass->getPartPageRectangles(mpDoc);
++    }
++
++    /// Get the current part of the document.
++    int getPart()
++    {
++        return mpDoc->pClass->getPart(mpDoc);
++    }
++
++    /// Set the current part of the document.
++    void setPart(int nPart)
++    {
++        mpDoc->pClass->setPart(mpDoc, nPart);
++    }
++
++    /// Get the current part's name.
++    char* getPartName(int nPart)
++    {
++        return mpDoc->pClass->getPartName(mpDoc, nPart);
++    }
++
++    /// Get the current part's hash.
++    char* getPartHash(int nPart)
++    {
++        return mpDoc->pClass->getPartHash(mpDoc, nPart);
++    }
++
++    void setPartMode(int nMode)
++    {
++        mpDoc->pClass->setPartMode(mpDoc, nMode);
++    }
++
++    int getEditMode()
++    {
++        return mpDoc->pClass->getEditMode(mpDoc);
++    }
++
++    /**
++     * Renders a subset of the document to a pre-allocated buffer.
++     *
++     * Note that the buffer size and the tile size implicitly supports
++     * rendering at different zoom levels, as the number of rendered pixels and
++     * the rendered rectangle of the document are independent.
++     *
++     * @param pBuffer pointer to the buffer, its size is determined by nCanvasWidth and nCanvasHeight.
++     * @param nCanvasWidth number of pixels in a row of pBuffer.
++     * @param nCanvasHeight number of pixels in a column of pBuffer.
++     * @param nTilePosX logical X position of the top left corner of the rendered rectangle, in TWIPs.
++     * @param nTilePosY logical Y position of the top left corner of the rendered rectangle, in TWIPs.
++     * @param nTileWidth logical width of the rendered rectangle, in TWIPs.
++     * @param nTileHeight logical height of the rendered rectangle, in TWIPs.
++     */
++    void paintTile(unsigned char* pBuffer,
++                          const int nCanvasWidth,
++                          const int nCanvasHeight,
++                          const int nTilePosX,
++                          const int nTilePosY,
++                          const int nTileWidth,
++                          const int nTileHeight)
++    {
++        return mpDoc->pClass->paintTile(mpDoc, pBuffer, nCanvasWidth, nCanvasHeight,
++                                nTilePosX, nTilePosY, nTileWidth, nTileHeight);
++    }
++
++    /**
++     * Renders a window (dialog, popup, etc.) with give id
++     *
++     * @param nWindowId
++     * @param pBuffer Buffer with enough memory allocated to render any dialog
++     * @param x x-coordinate from where the dialog should start painting
++     * @param y y-coordinate from where the dialog should start painting
++     * @param width The width of the dialog image to be painted
++     * @param height The height of the dialog image to be painted
++     * @param dpiscale The dpi scale value used by the client.  Please note
++     *                 that the x, y, width, height are supposed to be the
++     *                 values with dpiscale applied (ie. dialog covering
++     *                 100x100 "normal" pixels with dpiscale '2' will have
++     *                 200x200 width x height), so that it is easy to compute
++     *                 the buffer sizes etc.
++     */
++    void paintWindow(unsigned nWindowId,
++                     unsigned char* pBuffer,
++                     const int x,
++                     const int y,
++                     const int width,
++                     const int height,
++                     const double dpiscale = 1.0,
++                     const int viewId = -1)
++    {
++        return mpDoc->pClass->paintWindowForView(mpDoc, nWindowId, pBuffer, x, y,
++                                                 width, height, dpiscale, viewId);
++    }
++
++    /**
++     * Posts a command to the window (dialog, popup, etc.) with given id
++     *
++     * @param nWindowid
++     */
++    void postWindow(unsigned nWindowId, int nAction, const char* pData = nullptr)
++    {
++        return mpDoc->pClass->postWindow(mpDoc, nWindowId, nAction, pData);
++    }
++
++    /**
++     * Gets the tile mode: the pixel format used for the pBuffer of paintTile().
++     *
++     * @return an element of the LibreOfficeKitTileMode enum.
++     */
++    int getTileMode()
++    {
++        return mpDoc->pClass->getTileMode(mpDoc);
++    }
++
++    /// Get the document sizes in TWIPs.
++    void getDocumentSize(long* pWidth, long* pHeight)
++    {
++        mpDoc->pClass->getDocumentSize(mpDoc, pWidth, pHeight);
++    }
++
++    /// Get the data area (in Calc last row and column).
++    void getDataArea(long nPart, long* pCol, long* pRow)
++    {
++        mpDoc->pClass->getDataArea(mpDoc, nPart, pCol, pRow);
++    }
++
++    /**
++     * Initialize document for rendering.
++     *
++     * Sets the rendering and document parameters to default values that are
++     * needed to render the document correctly using tiled rendering. This
++     * method has to be called right after documentLoad() in case any of the
++     * tiled rendering methods are to be used later.
++     *
++     * Example argument string for text documents:
++     *
++     * {
++     *     ".uno:HideWhitespace":
++     *     {
++     *         "type": "boolean",
++     *         "value": "true"
++     *     }
++     * }
++     *
++     * @param pArguments arguments of the rendering
++     */
++    void initializeForRendering(const char* pArguments = NULL)
++    {
++        mpDoc->pClass->initializeForRendering(mpDoc, pArguments);
++    }
++
++    /**
++     * Registers a callback. LOK will invoke this function when it wants to
++     * inform the client about events.
++     *
++     * @param pCallback the callback to invoke
++     * @param pData the user data, will be passed to the callback on invocation
++     */
++    void registerCallback(LibreOfficeKitCallback pCallback, void* pData)
++    {
++        mpDoc->pClass->registerCallback(mpDoc, pCallback, pData);
++    }
++
++    /**
++     * Posts a keyboard event to the focused frame.
++     *
++     * @param nType Event type, like press or release.
++     * @param nCharCode contains the Unicode character generated by this event or 0
++     * @param nKeyCode contains the integer code representing the key of the event (non-zero for control keys)
++     */
++    void postKeyEvent(int nType, int nCharCode, int nKeyCode)
++    {
++        mpDoc->pClass->postKeyEvent(mpDoc, nType, nCharCode, nKeyCode);
++    }
++
++    /**
++     * Posts a keyboard event to the dialog
++     *
++     * @param nWindowId
++     * @param nType Event type, like press or release.
++     * @param nCharCode contains the Unicode character generated by this event or 0
++     * @param nKeyCode contains the integer code representing the key of the event (non-zero for control keys)
++     */
++    void postWindowKeyEvent(unsigned nWindowId, int nType, int nCharCode, int nKeyCode)
++    {
++        mpDoc->pClass->postWindowKeyEvent(mpDoc, nWindowId, nType, nCharCode, nKeyCode);
++    }
++
++    /**
++     * Posts a mouse event to the document.
++     *
++     * @param nType Event type, like down, move or up.
++     * @param nX horizontal position in document coordinates
++     * @param nY vertical position in document coordinates
++     * @param nCount number of clicks: 1 for single click, 2 for double click
++     * @param nButtons: which mouse buttons: 1 for left, 2 for middle, 4 right
++     * @param nModifier: which keyboard modifier: (see include/vcl/vclenum.hxx for possible values)
++     */
++    void postMouseEvent(int nType, int nX, int nY, int nCount, int nButtons, int nModifier)
++    {
++        mpDoc->pClass->postMouseEvent(mpDoc, nType, nX, nY, nCount, nButtons, nModifier);
++    }
++
++    /**
++     * Posts a mouse event to the window with given id.
++     *
++     * @param nWindowId
++     * @param nType Event type, like down, move or up.
++     * @param nX horizontal position in document coordinates
++     * @param nY vertical position in document coordinates
++     * @param nCount number of clicks: 1 for single click, 2 for double click
++     * @param nButtons: which mouse buttons: 1 for left, 2 for middle, 4 right
++     * @param nModifier: which keyboard modifier: (see include/vcl/vclenum.hxx for possible values)
++     */
++    void postWindowMouseEvent(unsigned nWindowId, int nType, int nX, int nY, int nCount, int nButtons, int nModifier)
++    {
++        mpDoc->pClass->postWindowMouseEvent(mpDoc, nWindowId, nType, nX, nY, nCount, nButtons, nModifier);
++    }
++
++    /**
++     * Posts a dialog event for the window with given id
++     *
++     * @param nWindowId id of the window to notify
++     * @param pArguments arguments of the event.
++     */
++    void sendDialogEvent(unsigned long long int nWindowId, const char* pArguments = NULL)
++    {
++        mpDoc->pClass->sendDialogEvent(mpDoc, nWindowId, pArguments);
++    }
++
++    /**
++     * Posts a UNO command to the document.
++     *
++     * Example argument string:
++     *
++     * {
++     *     "SearchItem.SearchString":
++     *     {
++     *         "type": "string",
++     *         "value": "foobar"
++     *     },
++     *     "SearchItem.Backward":
++     *     {
++     *         "type": "boolean",
++     *         "value": "false"
++     *     }
++     * }
++     *
++     * @param pCommand uno command to be posted to the document, like ".uno:Bold"
++     * @param pArguments arguments of the uno command.
++     */
++    void postUnoCommand(const char* pCommand, const char* pArguments = NULL, bool bNotifyWhenFinished = false)
++    {
++        mpDoc->pClass->postUnoCommand(mpDoc, pCommand, pArguments, bNotifyWhenFinished);
++    }
++
++    /**
++     * Sets the start or end of a text selection.
++     *
++     * @param nType @see LibreOfficeKitSetTextSelectionType
++     * @param nX horizontal position in document coordinates
++     * @param nY vertical position in document coordinates
++     */
++    void setTextSelection(int nType, int nX, int nY)
++    {
++        mpDoc->pClass->setTextSelection(mpDoc, nType, nX, nY);
++    }
++
++    /**
++     * Gets the currently selected text.
++     *
++     * @param pMimeType suggests the return format, for example text/plain;charset=utf-8.
++     * @param pUsedMimeType output parameter to inform about the determined format (suggested one or plain text).
++     */
++    char* getTextSelection(const char* pMimeType, char** pUsedMimeType = NULL)
++    {
++        return mpDoc->pClass->getTextSelection(mpDoc, pMimeType, pUsedMimeType);
++    }
++
++    /**
++     * Gets the type of the selected content.
++     *
++     * In most cases it is more efficient to use getSelectionTypeAndText().
++     *
++     * @return an element of the LibreOfficeKitSelectionType enum.
++     */
++    int getSelectionType()
++    {
++        return mpDoc->pClass->getSelectionType(mpDoc);
++    }
++
++    /**
++     * Gets the type of the selected content and possibly its text.
++     *
++     * This function is a more efficient combination of getSelectionType() and getTextSelection().
++     * It returns the same as getSelectionType(), and additionally if the return value is
++     * LOK_SELTYPE_TEXT then it also returns the same as getTextSelection(), otherwise
++     * pText and pUsedMimeType are unchanged.
++     *
++     * @param pMimeType suggests the return format, for example text/plain;charset=utf-8.
++     * @param pText the currently selected text
++     * @param pUsedMimeType output parameter to inform about the determined format (suggested one or plain text).
++     * @return an element of the LibreOfficeKitSelectionType enum.
++     * @since LibreOffice 7.4
++     */
++    int getSelectionTypeAndText(const char* pMimeType, char** pText, char** pUsedMimeType = NULL)
++    {
++        if (LIBREOFFICEKIT_DOCUMENT_HAS(mpDoc, getSelectionTypeAndText))
++            return mpDoc->pClass->getSelectionTypeAndText(mpDoc, pMimeType, pText, pUsedMimeType);
++        int type = mpDoc->pClass->getSelectionType(mpDoc);
++        if(type == LOK_SELTYPE_TEXT && pText)
++            *pText = mpDoc->pClass->getTextSelection(mpDoc, pMimeType, pUsedMimeType);
++        return type;
++    }
++
++    /**
++     * Gets the content on the clipboard for the current view as a series of binary streams.
++     *
++     * NB. returns a complete set of possible selection types if nullptr is passed for pMimeTypes.
++     *
++     * @param pMimeTypes passes in a nullptr terminated list of mime types to fetch
++     * @param pOutCount     returns the size of the other @pOut arrays
++     * @param pOutMimeTypes returns an array of mime types
++     * @param pOutSizes     returns the size of each pOutStream
++     * @param pOutStreams   the content of each mime-type, of length in @pOutSizes
++     *
++     * @returns: true on success, false on error.
++     */
++    bool getClipboard(const char **pMimeTypes,
++                      size_t      *pOutCount,
++                      char      ***pOutMimeTypes,
++                      size_t     **pOutSizes,
++                      char      ***pOutStreams)
++    {
++        return mpDoc->pClass->getClipboard(mpDoc, pMimeTypes, pOutCount, pOutMimeTypes, pOutSizes, pOutStreams);
++    }
++
++    /**
++     * Populates the clipboard for this view with multiple types of content.
++     *
++     * @param nInCount the number of types to paste
++     * @param pInMimeTypes array of mime type strings
++     * @param pInSizes array of sizes of the data to paste
++     * @param pInStreams array containing the data of the various types
++     *
++     * @return if the supplied data was populated successfully.
++     */
++    bool setClipboard(const size_t  nInCount,
++                      const char  **pInMimeTypes,
++                      const size_t *pInSizes,
++                      const char  **pInStreams)
++    {
++        return mpDoc->pClass->setClipboard(mpDoc, nInCount, pInMimeTypes, pInSizes, pInStreams);
++    }
++
++    /**
++     * Pastes content at the current cursor position.
++     *
++     * @param pMimeType format of pData, for example text/plain;charset=utf-8.
++     * @param pData the actual data to be pasted.
++     * @return if the supplied data was pasted successfully.
++     */
++    bool paste(const char* pMimeType, const char* pData, size_t nSize)
++    {
++        return mpDoc->pClass->paste(mpDoc, pMimeType, pData, nSize);
++    }
++
++    /**
++     * Adjusts the graphic selection.
++     *
++     * @param nType @see LibreOfficeKitSetGraphicSelectionType
++     * @param nX horizontal position in document coordinates
++     * @param nY vertical position in document coordinates
++     */
++    void setGraphicSelection(int nType, int nX, int nY)
++    {
++        mpDoc->pClass->setGraphicSelection(mpDoc, nType, nX, nY);
++    }
++
++    /**
++     * Gets rid of any text or graphic selection.
++     */
++    void resetSelection()
++    {
++        mpDoc->pClass->resetSelection(mpDoc);
++    }
++
++    /**
++     * Returns a json mapping of the possible values for the given command
++     * e.g. {commandName: ".uno:StyleApply", commandValues: {"familyName1" : ["list of style names in the family1"], etc.}}
++     * @param pCommand a UNO command for which the possible values are requested
++     * @return {commandName: unoCmd, commandValues: {possible_values}}
++     */
++    char* getCommandValues(const char* pCommand)
++    {
++        return mpDoc->pClass->getCommandValues(mpDoc, pCommand);
++    }
++
++    /**
++     * Save the client's view so that we can compute the right zoom level
++     * for the mouse events. This only affects CALC.
++     * @param nTilePixelWidth - tile width in pixels
++     * @param nTilePixelHeight - tile height in pixels
++     * @param nTileTwipWidth - tile width in twips
++     * @param nTileTwipHeight - tile height in twips
++     */
++    void setClientZoom(
++            int nTilePixelWidth,
++            int nTilePixelHeight,
++            int nTileTwipWidth,
++            int nTileTwipHeight)
++    {
++        mpDoc->pClass->setClientZoom(mpDoc, nTilePixelWidth, nTilePixelHeight, nTileTwipWidth, nTileTwipHeight);
++    }
++
++    /**
++     * Inform core about the currently visible area of the document on the
++     * client, so that it can perform e.g. page down (which depends on the
++     * visible height) in a sane way.
++     *
++     * @param nX - top left corner horizontal position
++     * @param nY - top left corner vertical position
++     * @param nWidth - area width
++     * @param nHeight - area height
++     */
++    void setClientVisibleArea(int nX, int nY, int nWidth, int nHeight)
++    {
++        mpDoc->pClass->setClientVisibleArea(mpDoc, nX, nY, nWidth, nHeight);
++    }
++
++    /**
++     * Show/Hide a single row/column header outline for Calc documents.
++     *
++     * @param bColumn - if we are dealing with a column or row group
++     * @param nLevel - the level to which the group belongs
++     * @param nIndex - the group entry index
++     * @param bHidden - the new group state (collapsed/expanded)
++     */
++    void setOutlineState(bool bColumn, int nLevel, int nIndex, bool bHidden)
++    {
++        mpDoc->pClass->setOutlineState(mpDoc, bColumn, nLevel, nIndex, bHidden);
++    }
++
++    /**
++     * Create a new view for an existing document with
++     * options similar to documentLoadWithOptions.
++     * By default a loaded document has 1 view.
++     * @return the ID of the new view.
++     */
++    int createView(const char* pOptions = nullptr)
++    {
++        if (LIBREOFFICEKIT_DOCUMENT_HAS(mpDoc, createViewWithOptions))
++            return mpDoc->pClass->createViewWithOptions(mpDoc, pOptions);
++        else
++            return mpDoc->pClass->createView(mpDoc);
++    }
++
++    /**
++     * Destroy a view of an existing document.
++     * @param nId a view ID, returned by createView().
++     */
++    void destroyView(int nId)
++    {
++        mpDoc->pClass->destroyView(mpDoc, nId);
++    }
++
++    /**
++     * Set an existing view of an existing document as current.
++     * @param nId a view ID, returned by createView().
++     */
++    void setView(int nId)
++    {
++        mpDoc->pClass->setView(mpDoc, nId);
++    }
++
++    /**
++     * Get the current view.
++     * @return a view ID, previously returned by createView().
++     */
++    int getView()
++    {
++        return mpDoc->pClass->getView(mpDoc);
++    }
++
++    /**
++     * Get number of views of this document.
++     */
++    int getViewsCount()
++    {
++        return mpDoc->pClass->getViewsCount(mpDoc);
++    }
++
++    /**
++     * Paints a font name or character if provided to be displayed in the font list
++     * @param pFontName the font to be painted
++     */
++    unsigned char* renderFont(const char *pFontName,
++                          const char *pChar,
++                          int *pFontWidth,
++                          int *pFontHeight,
++                          int pOrientation=0)
++    {
++        if (LIBREOFFICEKIT_DOCUMENT_HAS(mpDoc, renderFontOrientation))
++            return mpDoc->pClass->renderFontOrientation(mpDoc, pFontName, pChar, pFontWidth, pFontHeight, pOrientation);
++        else
++            return mpDoc->pClass->renderFont(mpDoc, pFontName, pChar, pFontWidth, pFontHeight);
++    }
++
++    /**
++     * Renders a subset of the document's part to a pre-allocated buffer.
++     *
++     * @param nPart the part number of the document of which the tile is painted.
++     * @see paintTile.
++     */
++    void paintPartTile(unsigned char* pBuffer,
++                              const int nPart,
++                              const int nMode,
++                              const int nCanvasWidth,
++                              const int nCanvasHeight,
++                              const int nTilePosX,
++                              const int nTilePosY,
++                              const int nTileWidth,
++                              const int nTileHeight)
++    {
++        return mpDoc->pClass->paintPartTile(mpDoc, pBuffer, nPart, nMode,
++                                            nCanvasWidth, nCanvasHeight,
++                                            nTilePosX, nTilePosY,
++                                            nTileWidth, nTileHeight);
++    }
++
++    /**
++     * Returns the viewID for each existing view. Since viewIDs are not reused,
++     * viewIDs are not the same as the index of the view in the view array over
++     * time. Use getViewsCount() to know the minimal nSize that's large enough.
++     *
++     * @param pArray the array to write the viewIDs into
++     * @param nSize the size of pArray
++     * @returns true if pArray was large enough and result is written, false
++     * otherwise.
++     */
++    bool getViewIds(int* pArray,
++                           size_t nSize)
++    {
++        return mpDoc->pClass->getViewIds(mpDoc, pArray, nSize);
++    }
++
++    /**
++     * Set the language tag of the window with the specified nId.
++     *
++     * @param nId a view ID, returned by createView().
++     * @param language Bcp47 languageTag, like en-US or so.
++     */
++    void setViewLanguage(int nId, const char* language)
++    {
++        mpDoc->pClass->setViewLanguage(mpDoc, nId, language);
++    }
++
++    /**
++     * Post the text input from external input window, like IME, to given windowId
++     *
++     * @param nWindowId Specify the window id to post the input event to. If
++     * nWindow is 0, the event is posted into the document
++     * @param nType see LibreOfficeKitExtTextInputType
++     * @param pText Text for LOK_EXT_TEXTINPUT
++     */
++    void postWindowExtTextInputEvent(unsigned nWindowId, int nType, const char* pText)
++    {
++        mpDoc->pClass->postWindowExtTextInputEvent(mpDoc, nWindowId, nType, pText);
++    }
++
++#ifdef IOS
++    /**
++     * Renders a subset of the document to a Core Graphics context.
++     *
++     * Note that the buffer size and the tile size implicitly supports
++     * rendering at different zoom levels, as the number of rendered pixels and
++     * the rendered rectangle of the document are independent.
++     *
++     * @param rCGContext the CGContextRef, cast to a void*.
++     * @param nCanvasHeight number of pixels in a column of pBuffer.
++     * @param nTilePosX logical X position of the top left corner of the rendered rectangle, in TWIPs.
++     * @param nTilePosY logical Y position of the top left corner of the rendered rectangle, in TWIPs.
++     * @param nTileWidth logical width of the rendered rectangle, in TWIPs.
++     * @param nTileHeight logical height of the rendered rectangle, in TWIPs.
++     */
++    void paintTileToCGContext(void* rCGContext,
++                              const int nCanvasWidth,
++                              const int nCanvasHeight,
++                              const int nTilePosX,
++                              const int nTilePosY,
++                              const int nTileWidth,
++                              const int nTileHeight)
++    {
++        return mpDoc->pClass->paintTileToCGContext(mpDoc, rCGContext, nCanvasWidth, nCanvasHeight,
++                                                   nTilePosX, nTilePosY, nTileWidth, nTileHeight);
++    }
++#endif // IOS
++
++    /**
++     *  Insert certificate (in binary form) to the certificate store.
++     */
++    bool insertCertificate(const unsigned char* pCertificateBinary,
++                           const int pCertificateBinarySize,
++                           const unsigned char* pPrivateKeyBinary,
++                           const int nPrivateKeyBinarySize)
++    {
++        return mpDoc->pClass->insertCertificate(mpDoc,
++                                                pCertificateBinary, pCertificateBinarySize,
++                                                pPrivateKeyBinary, nPrivateKeyBinarySize);
++    }
++
++    /**
++     *  Add the certificate (in binary form) to the certificate store.
++     *
++     */
++    bool addCertificate(const unsigned char* pCertificateBinary,
++                         const int pCertificateBinarySize)
++    {
++        return mpDoc->pClass->addCertificate(mpDoc,
++                                             pCertificateBinary, pCertificateBinarySize);
++    }
++
++    /**
++     *  Verify signature of the document.
++     *
++     *  Check possible values in include/sfx2/signaturestate.hxx
++     */
++    int getSignatureState()
++    {
++        return mpDoc->pClass->getSignatureState(mpDoc);
++    }
++
++    /**
++     * Gets an image of the selected shapes.
++     * @param pOutput contains the result; use free to deallocate.
++     * @return the size of *pOutput in bytes.
++     */
++    size_t renderShapeSelection(char** pOutput)
++    {
++        return mpDoc->pClass->renderShapeSelection(mpDoc, pOutput);
++    }
++
++    /**
++     * Posts a gesture event to the window with given id.
++     *
++     * @param nWindowId
++     * @param pType Event type, like panStart, panEnd, panUpdate.
++     * @param nX horizontal position in document coordinates
++     * @param nY vertical position in document coordinates
++     * @param nOffset difference value from when the gesture started to current value
++     */
++    void postWindowGestureEvent(unsigned nWindowId,
++                              const char* pType,
++                              int nX, int nY, int nOffset)
++    {
++        return mpDoc->pClass->postWindowGestureEvent(mpDoc, nWindowId, pType, nX, nY, nOffset);
++    }
++
++    /// Set a part's selection mode.
++    /// nSelect is 0 to deselect, 1 to select, and 2 to toggle.
++    void selectPart(int nPart, int nSelect)
++    {
++        mpDoc->pClass->selectPart(mpDoc, nPart, nSelect);
++    }
++
++    /// Moves the selected pages/slides to a new position.
++    /// nPosition is the new position where the selection
++    /// should go. bDuplicate when true will copy instead of move.
++    void moveSelectedParts(int nPosition, bool bDuplicate)
++    {
++        mpDoc->pClass->moveSelectedParts(mpDoc, nPosition, bDuplicate);
++    }
++
++    /**
++     * Resize a window (dialog, popup, etc.) with give id.
++     *
++     * @param nWindowId
++     * @param width The width of the window.
++     * @param height The height of the window.
++     */
++    void resizeWindow(unsigned nWindowId,
++                      const int width,
++                      const int height)
++    {
++        return mpDoc->pClass->resizeWindow(mpDoc, nWindowId, width, height);
++    }
++
++    /**
++     * For deleting many characters all at once
++     *
++     * @param nWindowId Specify the window id to post the input event to. If
++     * nWindow is 0, the event is posted into the document
++     * @param nBefore The characters to be deleted before the cursor position
++     * @param nAfter The characters to be deleted after the cursor position
++     */
++    void removeTextContext(unsigned nWindowId, int nBefore, int nAfter)
++    {
++        mpDoc->pClass->removeTextContext(mpDoc, nWindowId, nBefore, nAfter);
++    }
++
++    /**
++     * Select the Calc function to be pasted into the formula input box
++     *
++     * @param nIndex is the index of the selected function
++     */
++    void completeFunction(const char* pFunctionName)
++    {
++        mpDoc->pClass->completeFunction(mpDoc, pFunctionName);
++    }
++
++    /**
++     * Sets the start or end of a text selection for a dialog.
++     *
++     * @param nWindowId
++     * @param bSwap swap anchor and cursor position of current selection
++     * @param nX horizontal position in document coordinates
++     * @param nY vertical position in document coordinates
++     */
++    void setWindowTextSelection(unsigned nWindowId, bool bSwap, int nX, int nY)
++    {
++        mpDoc->pClass->setWindowTextSelection(mpDoc, nWindowId, bSwap, nX, nY);
++    }
++
++    /**
++     * Posts an event for the form field at the cursor position.
++     *
++     * @param pArguments arguments of the event.
++     */
++    void sendFormFieldEvent(const char* pArguments)
++    {
++        mpDoc->pClass->sendFormFieldEvent(mpDoc, pArguments);
++    }
++
++    void setBlockedCommandList(int nViewId, const char* blockedCommandList)
++    {
++        mpDoc->pClass->setBlockedCommandList(mpDoc, nViewId, blockedCommandList);
++    }
++    /**
++     * Render input search result to a bitmap buffer.
++     *
++     * @param pSearchResult payload containing the search result data
++     * @param pBitmapBuffer contains the bitmap; use free to deallocate.
++     * @param nWidth output bitmap width
++     * @param nHeight output bitmap height
++     * @param nByteSize output bitmap byte size
++     * @return true if successful
++     */
++    bool renderSearchResult(const char* pSearchResult, unsigned char** pBitmapBuffer,
++                            int* pWidth, int* pHeight, size_t* pByteSize)
++    {
++        return mpDoc->pClass->renderSearchResult(mpDoc, pSearchResult, pBitmapBuffer, pWidth, pHeight, pByteSize);
++    }
++
++    /**
++     * Posts an event for the content control at the cursor position.
++     *
++     * @param pArguments arguments of the event.
++     *
++     * Examples:
++     * To select the 3rd list item of the drop-down:
++     * {
++     *     "type": "drop-down",
++     *     "selected": "2"
++     * }
++     *
++     * To change a picture place-holder:
++     * {
++     *     "type": "picture",
++     *     "changed": "file:///path/to/test.png"
++     * }
++     *
++     * To select a date of the current date content control:
++     * {
++     *     "type": "date",
++     *     "selected": "2022-05-29T00:00:00Z"
++     * }
++     */
++    void sendContentControlEvent(const char* pArguments)
++    {
++        mpDoc->pClass->sendContentControlEvent(mpDoc, pArguments);
++    }
++
++    /**
++     * Set the timezone of the window with the specified nId.
++     *
++     * @param nId a view ID, returned by createView().
++     * @param timezone a timezone in the tzfile(5) format (e.g. Pacific/Auckland).
++     */
++    void setViewTimezone(int nId, const char* timezone)
++    {
++        mpDoc->pClass->setViewTimezone(mpDoc, nId, timezone);
++    }
++
++#endif // defined LOK_USE_UNSTABLE_API || defined LIBO_INTERNAL_ONLY
++};
++
++/// The lok::Office class represents one started LibreOfficeKit instance.
++class Office
++{
++private:
++    LibreOfficeKit* mpThis;
++
++public:
++    /// A lok::Office is typically created by the lok_cpp_init() function.
++    Office(LibreOfficeKit* pThis) :
++        mpThis(pThis)
++    {}
++
++    ~Office()
++    {
++        mpThis->pClass->destroy(mpThis);
++    }
++
++    /**
++     * Loads a document from a URL.
++     *
++     * @param pUrl the URL of the document to load
++     * @param pFilterOptions options for the import filter, e.g. SkipImages.
++     *        Another useful FilterOption is "Language=...".  It is consumed
++     *        by the documentLoad() itself, and when provided, LibreOfficeKit
++     *        switches the language accordingly first.
++     * @since pFilterOptions argument added in LibreOffice 5.0
++     */
++    Document* documentLoad(const char* pUrl, const char* pFilterOptions = NULL)
++    {
++        LibreOfficeKitDocument* pDoc = NULL;
++
++        if (LIBREOFFICEKIT_HAS(mpThis, documentLoadWithOptions))
++            pDoc = mpThis->pClass->documentLoadWithOptions(mpThis, pUrl, pFilterOptions);
++        else
++            pDoc = mpThis->pClass->documentLoad(mpThis, pUrl);
++
++        if (pDoc == NULL)
++            return NULL;
++
++        return new Document(pDoc);
++    }
++
++    /// Returns the last error as a string, the returned pointer has to be freed by the caller.
++    char* getError()
++    {
++        return mpThis->pClass->getError(mpThis);
++    }
++
++    /**
++     * Frees the memory pointed to by pFree.
++     *
++     * @since LibreOffice 5.2
++     */
++    void freeError(char* pFree)
++    {
++        mpThis->pClass->freeError(pFree);
++    }
++
++    /**
++     * Registers a callback. LOK will invoke this function when it wants to
++     * inform the client about events.
++     *
++     * @since LibreOffice 6.0
++     * @param pCallback the callback to invoke
++     * @param pData the user data, will be passed to the callback on invocation
++     */
++    void registerCallback(LibreOfficeKitCallback pCallback, void* pData)
++    {
++        mpThis->pClass->registerCallback(mpThis, pCallback, pData);
++    }
++
++    /**
++     * Returns details of filter types.
++     *
++     * Example returned string:
++     *
++     * {
++     *     "writer8": {
++     *         "MediaType": "application/vnd.oasis.opendocument.text"
++     *     },
++     *     "calc8": {
++     *         "MediaType": "application/vnd.oasis.opendocument.spreadsheet"
++     *     }
++     * }
++     *
++     * @since LibreOffice 6.0
++     */
++    char* getFilterTypes()
++    {
++        return mpThis->pClass->getFilterTypes(mpThis);
++    }
++
++    /**
++     * Set bitmask of optional features supported by the client.
++     *
++     * @since LibreOffice 6.0
++     * @see LibreOfficeKitOptionalFeatures
++     */
++    void setOptionalFeatures(unsigned long long features)
++    {
++        return mpThis->pClass->setOptionalFeatures(mpThis, features);
++    }
++
++    /**
++     * Set password required for loading or editing a document.
++     *
++     * Loading the document is blocked until the password is provided.
++     *
++     * @param pURL      the URL of the document, as sent to the callback
++     * @param pPassword the password, nullptr indicates no password
++     *
++     * In response to LOK_CALLBACK_DOCUMENT_PASSWORD, a valid password
++     * will continue loading the document, an invalid password will
++     * result in another LOK_CALLBACK_DOCUMENT_PASSWORD request,
++     * and a NULL password will abort loading the document.
++     *
++     * In response to LOK_CALLBACK_DOCUMENT_PASSWORD_TO_MODIFY, a valid
++     * password will continue loading the document, an invalid password will
++     * result in another LOK_CALLBACK_DOCUMENT_PASSWORD_TO_MODIFY request,
++     * and a NULL password will continue loading the document in read-only
++     * mode.
++     *
++     * @since LibreOffice 6.0
++     */
++    void setDocumentPassword(char const* pURL, char const* pPassword)
++    {
++        mpThis->pClass->setDocumentPassword(mpThis, pURL, pPassword);
++    }
++
++    /**
++     * Get version information of the LOKit process
++     *
++     * @since LibreOffice 6.0
++     * @returns JSON string containing version information in format:
++     * {ProductName: <>, ProductVersion: <>, ProductExtension: <>, BuildId: <>}
++     *
++     * Eg: {"ProductName": "LibreOffice",
++     * "ProductVersion": "5.3",
++     * "ProductExtension": ".0.0.alpha0",
++     * "BuildId": "<full 40 char git hash>"}
++     */
++    char* getVersionInfo()
++    {
++        return mpThis->pClass->getVersionInfo(mpThis);
++    }
++
++    /**
++     * Run a macro.
++     *
++     * Same syntax as on command line is permissible (ie. the macro:// URI forms)
++     *
++     * @since LibreOffice 6.0
++     * @param pURL macro url to run
++     */
++
++    bool runMacro( const char* pURL)
++    {
++        return mpThis->pClass->runMacro( mpThis, pURL );
++    }
++
++    /**
++     * Exports the document and signes its content.
++     */
++    bool signDocument(const char* pURL,
++                       const unsigned char* pCertificateBinary, const int nCertificateBinarySize,
++                       const unsigned char* pPrivateKeyBinary, const int nPrivateKeyBinarySize)
++    {
++        return mpThis->pClass->signDocument(mpThis, pURL,
++                                            pCertificateBinary, nCertificateBinarySize,
++                                            pPrivateKeyBinary, nPrivateKeyBinarySize);
++    }
++
++    /**
++     * Runs the main-loop in the current thread. To trigger this
++     * mode you need to putenv a SAL_LOK_OPTIONS containing 'unipoll'.
++     * The @pPollCallback is called to poll for events from the Kit client
++     * and the @pWakeCallback can be called by internal LibreOfficeKit threads
++     * to wake the caller of 'runLoop' ie. the main thread.
++     *
++     * it is expected that runLoop does not return until Kit exit.
++     *
++     * @pData is a context/closure passed to both methods.
++     */
++    void runLoop(LibreOfficeKitPollCallback pPollCallback,
++                 LibreOfficeKitWakeCallback pWakeCallback,
++                 void* pData)
++    {
++        mpThis->pClass->runLoop(mpThis, pPollCallback, pWakeCallback, pData);
++    }
++
++    /**
++     * Posts a dialog event for the window with given id
++     *
++     * @param nWindowId id of the window to notify
++     * @param pArguments arguments of the event.
++     */
++    void sendDialogEvent(unsigned long long int nWindowId, const char* pArguments = NULL)
++    {
++        mpThis->pClass->sendDialogEvent(mpThis, nWindowId, pArguments);
++    }
++
++    /**
++     * Generic function to toggle and tweak various things in the core LO
++     *
++     * The currently available option names and their allowed values are:
++     *
++     * "profilezonerecording": "start" or "stop"
++     * Start or stop recording profile zone trace data in the process.
++     *
++     * "sallogoverride": "<string>"
++     * Override the SAL_LOG environment variable
++     *
++     * For the syntax of the string see the documentation for "Basic
++     * logging functionality" in LibreOffice internal API
++     * documentation (include/sal/log.hxx). If the logging selector
++     * has been set by this function to a non-empty value, that is used
++     * instead of the environment variable SAL_LOG.
++     *
++     * The parameter is not copied so you should pass a value that
++     * points to memory that will stay valid until you call setOption
++     * with this option name the next time.
++     *
++     * If you pass nullptr or an empty string as value, the
++     * environment variable SAL_LOG is again used as by default. You
++     * can switch back and forth as you like.
++     *
++     * "addfont": "<string>"
++     *
++     * Adds the font at the URL given.
++     *
++     * @param pOption the option name
++     * @param pValue its value
++     */
++    void setOption(const char* pOption, const char* pValue)
++    {
++        mpThis->pClass->setOption(mpThis, pOption, pValue);
++    }
++
++    /**
++     * Debugging tool for triggering a dump of internal state.
++     *
++     * LibreOfficeKit can get into an unhelpful state at run-time when
++     * in heavy use. This provides a critical tool for inspecting
++     * relevant internal state.
++     *
++     * @param pOption future expansion - string options.
++     * @param pState - heap allocated, C string containing the state dump.
++     */
++    void dumpState(const char* pOption, char** pState)
++    {
++        mpThis->pClass->dumpState(mpThis, pOption, pState);
++    }
++
++    char* extractRequest(const char* pFilePath)
++    {
++        return mpThis->pClass->extractRequest(mpThis, pFilePath);
++    }
++
++    /**
++     * 添加stopURP函数，在online项目中使用，解决报错：
++     * kit/ChildSession.cpp:138:34: 错误：‘using element_type = class lok::Office’ {aka ‘class lok::Office’} has no member named ‘stopURP’
++  138 |         _docManager->getLOKit()->stopURP(_URPContext);
++      |
++     * 结束      
++     **/
++    void stopURP(void* sendURPContext) {
++        if (mpThis && mpThis->pClass && mpThis->pClass->stopURP) {
++            mpThis->pClass->stopURP(mpThis, sendURPContext);
++        }
++    }
++    char* extractDocumentStructureRequest(const char* filePath, const char* filter) {
++        if (mpThis && mpThis->pClass && mpThis->pClass->extractDocumentStructureRequest) {
++            return mpThis->pClass->extractDocumentStructureRequest(mpThis, filePath, filter);
++        }
++        return nullptr;
++    }
++};
++
++/// Factory method to create a lok::Office instance.
++inline Office* lok_cpp_init(const char* pInstallPath, const char* pUserProfileUrl = NULL)
++{
++    LibreOfficeKit* pThis = lok_init_2(pInstallPath, pUserProfileUrl);
++    if (pThis == NULL || pThis->pClass->nSize == 0)
++        return NULL;
++    return new ::lok::Office(pThis);
++}
++
++}
++
++/* vim:set shiftwidth=4 softtabstop=4 expandtab: */
+diff --git a/include/LibreOfficeKit/LibreOfficeKitTypes.h b/include/LibreOfficeKit/LibreOfficeKitTypes.h
+index 5f4e3d4d8..edfb5c533 100644
+--- a/include/LibreOfficeKit/LibreOfficeKitTypes.h
++++ b/include/LibreOfficeKit/LibreOfficeKitTypes.h
+@@ -27,6 +27,10 @@ typedef void (*LibreOfficeKitCallback)(int nType, const char* pPayload, void* pD
+ typedef int (*LibreOfficeKitPollCallback)(void* pData, int timeoutUs);
+ typedef void (*LibreOfficeKitWakeCallback)(void* pData);
+ 
++
++/// @see lok::Office::registerAnyInputCallback()
++typedef bool (*LibreOfficeKitAnyInputCallback)(void* pData, int nMostUrgentPriority);
++
+ #ifdef __cplusplus
+ }
+ #endif
+diff --git a/jvmfwk/inc/vendorbase.hxx b/jvmfwk/inc/vendorbase.hxx
+index 4a0190eb0..c0008c5ff 100644
+--- a/jvmfwk/inc/vendorbase.hxx
++++ b/jvmfwk/inc/vendorbase.hxx
+@@ -75,9 +75,11 @@ OpenJDK at least, but probably not true for Lemotes JDK */
+ #define JFW_PLUGIN_ARCH "alpha"
+ #elif defined AARCH64
+ #define JFW_PLUGIN_ARCH "aarch64"
+-#else // SPARC, INTEL, POWERPC, MIPS, MIPS64, ARM, IA64, M68K, HPPA, ALPHA
++#elif defined LOONGARCH64
++#define JFW_PLUGIN_ARCH "loongarch64"
++#else // SPARC, INTEL, POWERPC, MIPS, MIPS64, ARM, IA64, M68K, HPPA, ALPHA, LOONGARCH64
+ #error unknown platform
+-#endif // SPARC, INTEL, POWERPC, MIPS, MIPS64, ARM, IA64, M68K, HPPA, ALPHA
++#endif // SPARC, INTEL, POWERPC, MIPS, MIPS64, ARM, IA64, M68K, HPPA, ALPHA, LOONGARCH64
+ 
+ class MalformedVersionException final : public std::exception
+ {
+diff --git a/solenv/gbuild/platform/LINUX_LOONGARCH64_GCC.mk b/solenv/gbuild/platform/LINUX_LOONGARCH64_GCC.mk
+new file mode 100644
+index 000000000..15cb0bb6f
+--- /dev/null
++++ b/solenv/gbuild/platform/LINUX_LOONGARCH64_GCC.mk
+@@ -0,0 +1,12 @@
++# -*- Mode: makefile-gmake; tab-width: 4; indent-tabs-mode: t; fill-column: 100 -*-
++#
++# This file is part of the LibreOffice project.
++#
++# This Source Code Form is subject to the terms of the Mozilla Public
++# License, v. 2.0. If a copy of the MPL was not distributed with this
++# file, You can obtain one at http://mozilla.org/MPL/2.0/.
++#
++
++include $(GBUILDDIR)/platform/linux.mk
++
++# vim: set noet sw=4 ts=4:
+-- 
+2.41.3
+
diff --git a/docker/from-source/Debian-Loongarch64 b/docker/from-source/Debian-Loongarch64
new file mode 100644
index 0000000..5f84521
--- /dev/null
+++ b/docker/from-source/Debian-Loongarch64
@@ -0,0 +1,45 @@
+# This Source Code Form is subject to the terms of the Mozilla Public
+# License, v. 2.0. If a copy of the MPL was not distributed with this
+# file, You can obtain one at http://mozilla.org/MPL/2.0/.
+
+FROM lcr.loongnix.cn/library/debian:sid
+
+# get the latest fixes
+# install LibreOffice run-time dependencies
+# install adduser, findutils, openssl and cpio that we need later
+# install an editor
+# tdf#117557 - Add CJK Fonts to Collabora Online Docker Image
+RUN apt-get update && \
+    apt-get -y install libpng16-16 fontconfig adduser cpio \
+               findutils nano libcap2-bin openssl inotify-tools \
+               procps libubsan1 openssh-client fonts-wqy-zenhei \
+               fonts-wqy-microhei fonts-droid-fallback fonts-noto-cjk \
+               ca-certificates libnss3
+
+
+# copy freshly built LOKit and Collabora Online
+COPY /instdir /
+
+# copy the shell script which can start Collabora Online (coolwsd)
+COPY /start-collabora-online.sh /
+COPY /start-collabora-online.pl /
+
+# set up Collabora Online (normally done by postinstall script of package)
+# Fix permissions
+RUN setcap cap_fowner,cap_chown,cap_mknod,cap_sys_chroot=ep /usr/bin/coolforkit && \
+    setcap cap_sys_admin=ep /usr/bin/coolmount && \
+    adduser --quiet --system --group --home /opt/cool cool && \
+    rm -rf /opt/cool && \
+    mkdir -p /opt/cool/child-roots && \
+    coolwsd-systemplate-setup /opt/cool/systemplate /opt/lokit >/dev/null 2>&1 && \
+    touch /var/log/coolwsd.log && \
+    chown cool:cool /var/log/coolwsd.log && \
+    chown -R cool:cool /opt/ && \
+    chown -R cool:cool /etc/coolwsd
+
+EXPOSE 9980
+
+# switch to cool user (use numeric user id to be compatible with Kubernetes Pod Security Policies)
+USER 100
+
+CMD ["/start-collabora-online.sh"]
diff --git a/docker/from-source/build.sh b/docker/from-source/build.sh
index 2ff4fcd..55a754e 100755
--- a/docker/from-source/build.sh
+++ b/docker/from-source/build.sh
@@ -23,10 +23,10 @@ sudo echo "works"
 
 # Check env variables
 if [ -z "$DOCKER_HUB_REPO" ]; then
-  DOCKER_HUB_REPO="mydomain/collaboraonline"
+  DOCKER_HUB_REPO="lcr.loongnix.cn/library/collaboraonline"
 fi;
 if [ -z "$DOCKER_HUB_TAG" ]; then
-  DOCKER_HUB_TAG="latest"
+  DOCKER_HUB_TAG="22-05"
 fi;
 echo "Using Docker Hub Repository: '$DOCKER_HUB_REPO' with tag '$DOCKER_HUB_TAG'."
 
@@ -52,7 +52,10 @@ echo "LOKit (core) build target: '$CORE_BUILD_TARGET'"
 SRCDIR=$(realpath `dirname $0`)
 INSTDIR="$SRCDIR/instdir"
 
-if [ -z "$(lsb_release -si)" ]; then
+# 检测系统架构，如果是 loongarch64，则设置 HOST_OS 为 Debian
+if [ "$(uname -m)" = "loongarch64" ]; then
+  HOST_OS="Debian-Loongarch64"
+elif [ -z "$(lsb_release -si)" ]; then
   echo "WARNING: Unable to determine your distribution"
   echo "(Is lsb_release installed?)"
   echo "Using Ubuntu Dockerfile."
@@ -76,9 +79,10 @@ mkdir -p "$INSTDIR"
 ##### build static poco #####
 
 if test ! -f poco/lib/libPocoFoundation.a ; then
-    wget https://github.com/pocoproject/poco/archive/poco-1.11.1-release.tar.gz
-    tar -xzf poco-1.11.1-release.tar.gz
-    cd poco-poco-1.11.1-release/
+#    wget https://github.com/pocoproject/poco/archive/poco-1.11.1-release.tar.gz
+    wget https://github.com/Loongson-Cloud-Community/poco/archive/refs/tags/1.11.1.tar.gz
+    tar -xzf 1.11.1.tar.gz
+    mv poco-1.11.1 poco-poco-1.11.1-release && cd poco-poco-1.11.1-release/
     ./configure --static --no-tests --no-samples --no-sharedlibs --cflags="-fPIC" --omit=Zip,Data,Data/SQLite,Data/ODBC,Data/MySQL,MongoDB,PDF,CppParser,PageCompiler,Redis,Encodings,ActiveRecord --prefix=$BUILDDIR/poco
     make -j $(nproc)
     make install
@@ -90,28 +94,20 @@ fi
 
 # core repo
 if test ! -d core ; then
-  git clone https://git.libreoffice.org/core || exit 1
+  git clone --depth 1 -b $CORE_BRANCH https://git.libreoffice.org/core || exit 1
 fi
 
-( cd core && git fetch --all && git checkout $CORE_BRANCH && ./g pull -r ) || exit 1
-
+( cd core && git reset --hard && git clean -fdx && git apply ../../0001-add-loong64-support.patch && mkdir -p workdir/UnpackedTarball/python3/LO_lib && cp ../../zlib.cpython-3.8.so workdir/UnpackedTarball/python3/LO_lib) || exit 1
+#git apply 0001-Add-loongarch64-support.patch
 
 # online repo
 if test ! -d online ; then
-  git clone "$COLLABORA_ONLINE_REPO" online || exit 1
+#  git clone --depth 1 -b $CORE_BRANCH "$COLLABORA_ONLINE_REPO" online || exit 1
+   git clone --depth 1 -b distro/collabora/co-22-05 https://github.com/CollaboraOnline/online || exit 1
 fi
 
-( cd online && git fetch --all && git checkout -f $COLLABORA_ONLINE_BRANCH && git clean -f -d && git pull -r ) || exit 1
-
-
-# brand repo
-if test ! -d online-branding ; then
-  git clone git@gitlab.collabora.com:productivity/online-branding.git online-branding || echo "Could not clone this proprietary repo"
-fi
+( cd online && git reset --hard && git clean -fdx && git apply ../../0001-add-loong64-support-online.patch) || exit 1
 
-if test -d online-branding ; then
-  ( cd online-branding && git pull -r ) || exit 1
-fi
 
 ##### LOKit (core) #####
 
@@ -121,7 +117,7 @@ if [ "$CORE_BRANCH" == "distro/collabora/co-22.05" ]; then
 else
   ( cd core && ./autogen.sh --with-distro=LibreOfficeOnline ) || exit 1
 fi
-( cd core && make $CORE_BUILD_TARGET ) || exit 1
+( cd core && mkdir -p workdir/UnpackedTarball/python3/LO_lib && cp ../../zlib.cpython-3.8.so workdir/UnpackedTarball/python3/LO_lib && make $CORE_BUILD_TARGET ) || exit 1
 
 # copy stuff
 mkdir -p "$INSTDIR"/opt/
@@ -131,26 +127,19 @@ cp -a core/instdir "$INSTDIR"/opt/lokit
 
 # build
 ( cd online && ./autogen.sh ) || exit 1
-( cd online && ./configure --prefix=/usr --sysconfdir=/etc --localstatedir=/var --enable-silent-rules --with-lokit-path="$BUILDDIR"/core/include --with-lo-path=/opt/lokit --with-poco-includes=$BUILDDIR/poco/include --with-poco-libs=$BUILDDIR/poco/lib $ONLINE_EXTRA_BUILD_OPTIONS) || exit 1
+( cd online && ./configure --disable-werror --prefix=/usr --sysconfdir=/etc --localstatedir=/var --enable-silent-rules --with-lokit-path="$BUILDDIR"/core/include --with-lo-path=/opt/lokit --with-poco-includes=$BUILDDIR/poco/include --with-poco-libs=$BUILDDIR/poco/lib $ONLINE_EXTRA_BUILD_OPTIONS) || exit 1
 ( cd online && make -j $(nproc)) || exit 1
 
 # copy stuff
 ( cd online && DESTDIR="$INSTDIR" make install ) || exit 1
 
-##### online branding #####
-if test -d online-branding ; then
-  cd online-branding
-  ./brand.sh $INSTDIR/opt/lokit $INSTDIR/usr/share/coolwsd/browser/dist 6 # CODE
-  ./brand.sh $INSTDIR/opt/lokit $INSTDIR/usr/share/coolwsd/browser/dist 7 # Nextcloud Office
-  cd ..
-fi
 
 # Create new docker image
-if [ -z "$NO_DOCKER_IMAGE" ]; then
-  cd "$SRCDIR"
-  cp ../from-packages/scripts/start-collabora-online.sh .
-  cp ../from-packages/scripts/start-collabora-online.pl .
-  docker build --no-cache -t $DOCKER_HUB_REPO:$DOCKER_HUB_TAG -f $HOST_OS . || exit 1
-else
-  echo "Skipping docker image build"
-fi;
+#if [ -z "$NO_DOCKER_IMAGE" ]; then
+#  cd "$SRCDIR"
+#  cp ../from-packages/scripts/start-collabora-online.sh .
+#  cp ../from-packages/scripts/start-collabora-online.pl .
+#  docker build --no-cache -t $DOCKER_HUB_REPO:$DOCKER_HUB_TAG -f $HOST_OS . || exit 1
+#else
+#  echo "Skipping docker image build"
+#fi;
diff --git a/docker/from-source/docker-build.sh b/docker/from-source/docker-build.sh
new file mode 100644
index 0000000..45dabdd
--- /dev/null
+++ b/docker/from-source/docker-build.sh
@@ -0,0 +1,40 @@
+
+# Check env variables
+if [ -z "$DOCKER_HUB_REPO" ]; then
+  DOCKER_HUB_REPO="lcr.loongnix.cn/library/collaboraonline"
+fi;
+if [ -z "$DOCKER_HUB_TAG" ]; then
+  DOCKER_HUB_TAG="22-05"
+fi;
+echo "Using Docker Hub Repository: '$DOCKER_HUB_REPO' with tag '$DOCKER_HUB_TAG'."
+
+SRCDIR=$(realpath `dirname $0`)
+INSTDIR="$SRCDIR/instdir"
+# 检测系统架构，如果是 loongarch64，则设置 HOST_OS 为 Debian
+if [ "$(uname -m)" = "loongarch64" ]; then
+  HOST_OS="Debian-Loongarch64"
+elif [ -z "$(lsb_release -si)" ]; then
+  echo "WARNING: Unable to determine your distribution"
+  echo "(Is lsb_release installed?)"
+  echo "Using Ubuntu Dockerfile."
+  HOST_OS="Ubuntu"
+else
+  HOST_OS=$(lsb_release -si)
+fi
+if ! [ -e "$SRCDIR/$HOST_OS" ]; then
+  echo "There is no suitable Dockerfile for your host system: $HOST_OS."
+  echo "Please fix this problem and re-run $0"
+  exit 1
+fi
+BUILDDIR="$SRCDIR/builddir"
+
+# Create new docker image
+if [ -z "$NO_DOCKER_IMAGE" ]; then
+  cd "$SRCDIR"
+  cp ../from-packages/scripts/start-collabora-online.sh .
+  cp ../from-packages/scripts/start-collabora-online.pl .
+  docker build --no-cache -t $DOCKER_HUB_REPO:$DOCKER_HUB_TAG -f $HOST_OS . || exit 1
+else
+  echo "Skipping docker image build"
+fi;
+
diff --git a/docker/from-source/zlib.cpython-3.8.so b/docker/from-source/zlib.cpython-3.8.so
new file mode 100755
index 0000000000000000000000000000000000000000..694ce3cf1b116d674c6d07312a1b97f86158114d
GIT binary patch
literal 166568
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%0D_C0|&NW4+v6W<s36<N*?OFaB<0*3{A
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
P-|Q6ppDJJ|2x|WigBK1|

literal 0
HcmV?d00001

-- 
2.41.3

