# This file is generated by the template.

REGISTRY	?=lcr.loongnix.cn
ORGANIZATION	?=kubernetes
REPOSITORY	?=dashboard
TAG		?=2.7.0
LATEST		?=true

IMAGE=$(REGISTRY)/$(ORGANIZATION)/$(REPOSITORY):$(TAG)
LATEST_IMAGE=$(REGISTRY)/$(ORGANIZATION)/$(REPOSITORY):latest

default: image

src:
	git clone --depth 1 -b v2.7.0 https://github.com/kubernetes/dashboard && cd dashboard && git apply ../0001-add-loong64-support.patch

image: src
	cd dashboard && yarn add git-describe && make docker-build-release

push:
	cd dashboard && make docker-build-release
