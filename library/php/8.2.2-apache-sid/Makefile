# This file is generated by the template.

REGISTRY	?=lcr.loongnix.cn
ORGANIZATION	?=library
REPOSITORY	?=php
TAG		?=8.2.2
LATEST		?=true

IMAGE=$(REGISTRY)/$(ORGANIZATION)/$(REPOSITORY):$(TAG)

default: image

image-alpine-cli:
	docker build 		--build-arg http_proxy=$(http_proxy) 		--build-arg https_proxy=$(https_proxy) 		--build-arg PHP_VERSION=8.2.2 		--build-arg PHP_URL=https://www.php.net/distributions/php-8.2.2.tar.xz 		-t $(IMAGE)-cli-alpine 		-f Dockerfile-cli-alpine 		.
image-sid:
	docker build 		--build-arg http_proxy=$(http_proxy) 		--build-arg https_proxy=$(https_proxy) 		--build-arg PHP_VERSION=8.2.2 		--build-arg PHP_URL=https://www.php.net/distributions/php-8.2.2.tar.xz 	 -t $(IMAGE)-apache-sid 		-f Dockerfile-sid 		.

push: image-sid
	docker push $(IMAGE)-apache-sid 

image: image-sid
	@$(MAKE) image-sid

